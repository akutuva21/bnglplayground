var Aj=Object.defineProperty;var Cj=(e,t,r)=>t in e?Aj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var uy=(e,t,r)=>Cj(e,typeof t!="symbol"?t+"":t,r);function Tj(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function La(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cy={exports:{}},Ec={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OT;function Oj(){if(OT)return Ec;OT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var l in a)l!=="key"&&(i[l]=a[l])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:o,ref:a!==void 0?a:null,props:i}}return Ec.Fragment=t,Ec.jsx=r,Ec.jsxs=r,Ec}var _T;function _j(){return _T||(_T=1,cy.exports=Oj()),cy.exports}var K=_j(),fy={exports:{}},Sc={},dy={exports:{}},hy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MT;function Mj(){return MT||(MT=1,(function(e){function t(I,z){var q=I.length;I.push(z);e:for(;0<q;){var H=q-1>>>1,X=I[H];if(0<a(X,z))I[H]=z,I[q]=X,q=H;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var z=I[0],q=I.pop();if(q!==z){I[0]=q;e:for(var H=0,X=I.length,U=X>>>1;H<U;){var V=2*(H+1)-1,Q=I[V],ee=V+1,te=I[ee];if(0>a(Q,q))ee<X&&0>a(te,Q)?(I[H]=te,I[ee]=q,H=ee):(I[H]=Q,I[V]=q,H=V);else if(ee<X&&0>a(te,q))I[H]=te,I[ee]=q,H=ee;else break e}}return z}function a(I,z){var q=I.sortIndex-z.sortIndex;return q!==0?q:I.id-z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,h=null,v=3,g=!1,m=!1,b=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function O(I){for(var z=r(c);z!==null;){if(z.callback===null)n(c);else if(z.startTime<=I)n(c),z.sortIndex=z.expirationTime,t(u,z);else break;z=r(c)}}function D(I){if(b=!1,O(I),!m)if(r(u)!==null)m=!0,k||(k=!0,L());else{var z=r(c);z!==null&&G(D,z.startTime-I)}}var k=!1,T=-1,_=5,M=-1;function R(){return x?!0:!(e.unstable_now()-M<_)}function P(){if(x=!1,k){var I=e.unstable_now();M=I;var z=!0;try{e:{m=!1,b&&(b=!1,S(T),T=-1),g=!0;var q=v;try{t:{for(O(I),h=r(u);h!==null&&!(h.expirationTime>I&&R());){var H=h.callback;if(typeof H=="function"){h.callback=null,v=h.priorityLevel;var X=H(h.expirationTime<=I);if(I=e.unstable_now(),typeof X=="function"){h.callback=X,O(I),z=!0;break t}h===r(u)&&n(u),O(I)}else n(u);h=r(u)}if(h!==null)z=!0;else{var U=r(c);U!==null&&G(D,U.startTime-I),z=!1}}break e}finally{h=null,v=q,g=!1}z=void 0}}finally{z?L():k=!1}}}var L;if(typeof E=="function")L=function(){E(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,B=N.port2;N.port1.onmessage=P,L=function(){B.postMessage(null)}}else L=function(){w(P,0)};function G(I,z){T=w(function(){I(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(I){switch(v){case 1:case 2:case 3:var z=3;break;default:z=v}var q=v;v=z;try{return I()}finally{v=q}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(I,z){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var q=v;v=I;try{return z()}finally{v=q}},e.unstable_scheduleCallback=function(I,z,q){var H=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?H+q:H):q=H,I){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=q+X,I={id:d++,callback:z,priorityLevel:I,startTime:q,expirationTime:X,sortIndex:-1},q>H?(I.sortIndex=q,t(c,I),r(u)===null&&I===r(c)&&(b?(S(T),T=-1):b=!0,G(D,q-H))):(I.sortIndex=X,t(u,I),m||g||(m=!0,k||(k=!0,L()))),I},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(I){var z=v;return function(){var q=v;v=z;try{return I.apply(this,arguments)}finally{v=q}}}})(hy)),hy}var DT;function Dj(){return DT||(DT=1,dy.exports=Mj()),dy.exports}var vy={exports:{}},tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT;function kj(){if(kT)return tt;kT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),v=Symbol.iterator;function g(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function w(U,V,Q){this.props=U,this.context=V,this.refs=x,this.updater=Q||m}w.prototype.isReactComponent={},w.prototype.setState=function(U,V){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,V,"setState")},w.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function S(){}S.prototype=w.prototype;function E(U,V,Q){this.props=U,this.context=V,this.refs=x,this.updater=Q||m}var O=E.prototype=new S;O.constructor=E,b(O,w.prototype),O.isPureReactComponent=!0;var D=Array.isArray;function k(){}var T={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function M(U,V,Q){var ee=Q.ref;return{$$typeof:e,type:U,key:V,ref:ee!==void 0?ee:null,props:Q}}function R(U,V){return M(U.type,V,U.props)}function P(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function L(U){var V={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Q){return V[Q]})}var N=/\/+/g;function B(U,V){return typeof U=="object"&&U!==null&&U.key!=null?L(""+U.key):V.toString(36)}function G(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(k,k):(U.status="pending",U.then(function(V){U.status==="pending"&&(U.status="fulfilled",U.value=V)},function(V){U.status==="pending"&&(U.status="rejected",U.reason=V)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function I(U,V,Q,ee,te){var ie=typeof U;(ie==="undefined"||ie==="boolean")&&(U=null);var ue=!1;if(U===null)ue=!0;else switch(ie){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(U.$$typeof){case e:case t:ue=!0;break;case d:return ue=U._init,I(ue(U._payload),V,Q,ee,te)}}if(ue)return te=te(U),ue=ee===""?"."+B(U,0):ee,D(te)?(Q="",ue!=null&&(Q=ue.replace(N,"$&/")+"/"),I(te,V,Q,"",function(re){return re})):te!=null&&(P(te)&&(te=R(te,Q+(te.key==null||U&&U.key===te.key?"":(""+te.key).replace(N,"$&/")+"/")+ue)),V.push(te)),1;ue=0;var xe=ee===""?".":ee+":";if(D(U))for(var Z=0;Z<U.length;Z++)ee=U[Z],ie=xe+B(ee,Z),ue+=I(ee,V,Q,ie,te);else if(Z=g(U),typeof Z=="function")for(U=Z.call(U),Z=0;!(ee=U.next()).done;)ee=ee.value,ie=xe+B(ee,Z++),ue+=I(ee,V,Q,ie,te);else if(ie==="object"){if(typeof U.then=="function")return I(G(U),V,Q,ee,te);throw V=String(U),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ue}function z(U,V,Q){if(U==null)return U;var ee=[],te=0;return I(U,ee,"","",function(ie){return V.call(Q,ie,te++)}),ee}function q(U){if(U._status===-1){var V=U._result;V=V(),V.then(function(Q){(U._status===0||U._status===-1)&&(U._status=1,U._result=Q)},function(Q){(U._status===0||U._status===-1)&&(U._status=2,U._result=Q)}),U._status===-1&&(U._status=0,U._result=V)}if(U._status===1)return U._result.default;throw U._result}var H=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},X={map:z,forEach:function(U,V,Q){z(U,function(){V.apply(this,arguments)},Q)},count:function(U){var V=0;return z(U,function(){V++}),V},toArray:function(U){return z(U,function(V){return V})||[]},only:function(U){if(!P(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return tt.Activity=h,tt.Children=X,tt.Component=w,tt.Fragment=r,tt.Profiler=a,tt.PureComponent=E,tt.StrictMode=n,tt.Suspense=u,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,tt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return T.H.useMemoCache(U)}},tt.cache=function(U){return function(){return U.apply(null,arguments)}},tt.cacheSignal=function(){return null},tt.cloneElement=function(U,V,Q){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ee=b({},U.props),te=U.key;if(V!=null)for(ie in V.key!==void 0&&(te=""+V.key),V)!_.call(V,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&V.ref===void 0||(ee[ie]=V[ie]);var ie=arguments.length-2;if(ie===1)ee.children=Q;else if(1<ie){for(var ue=Array(ie),xe=0;xe<ie;xe++)ue[xe]=arguments[xe+2];ee.children=ue}return M(U.type,te,ee)},tt.createContext=function(U){return U={$$typeof:o,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:i,_context:U},U},tt.createElement=function(U,V,Q){var ee,te={},ie=null;if(V!=null)for(ee in V.key!==void 0&&(ie=""+V.key),V)_.call(V,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(te[ee]=V[ee]);var ue=arguments.length-2;if(ue===1)te.children=Q;else if(1<ue){for(var xe=Array(ue),Z=0;Z<ue;Z++)xe[Z]=arguments[Z+2];te.children=xe}if(U&&U.defaultProps)for(ee in ue=U.defaultProps,ue)te[ee]===void 0&&(te[ee]=ue[ee]);return M(U,ie,te)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(U){return{$$typeof:l,render:U}},tt.isValidElement=P,tt.lazy=function(U){return{$$typeof:d,_payload:{_status:-1,_result:U},_init:q}},tt.memo=function(U,V){return{$$typeof:c,type:U,compare:V===void 0?null:V}},tt.startTransition=function(U){var V=T.T,Q={};T.T=Q;try{var ee=U(),te=T.S;te!==null&&te(Q,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(k,H)}catch(ie){H(ie)}finally{V!==null&&Q.types!==null&&(V.types=Q.types),T.T=V}},tt.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},tt.use=function(U){return T.H.use(U)},tt.useActionState=function(U,V,Q){return T.H.useActionState(U,V,Q)},tt.useCallback=function(U,V){return T.H.useCallback(U,V)},tt.useContext=function(U){return T.H.useContext(U)},tt.useDebugValue=function(){},tt.useDeferredValue=function(U,V){return T.H.useDeferredValue(U,V)},tt.useEffect=function(U,V){return T.H.useEffect(U,V)},tt.useEffectEvent=function(U){return T.H.useEffectEvent(U)},tt.useId=function(){return T.H.useId()},tt.useImperativeHandle=function(U,V,Q){return T.H.useImperativeHandle(U,V,Q)},tt.useInsertionEffect=function(U,V){return T.H.useInsertionEffect(U,V)},tt.useLayoutEffect=function(U,V){return T.H.useLayoutEffect(U,V)},tt.useMemo=function(U,V){return T.H.useMemo(U,V)},tt.useOptimistic=function(U,V){return T.H.useOptimistic(U,V)},tt.useReducer=function(U,V,Q){return T.H.useReducer(U,V,Q)},tt.useRef=function(U){return T.H.useRef(U)},tt.useState=function(U){return T.H.useState(U)},tt.useSyncExternalStore=function(U,V,Q){return T.H.useSyncExternalStore(U,V,Q)},tt.useTransition=function(){return T.H.useTransition()},tt.version="19.2.0",tt}var PT;function mu(){return PT||(PT=1,vy.exports=kj()),vy.exports}var py={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT;function Pj(){if(NT)return an;NT=1;var e=mu();function t(u){var c="https://react.dev/errors/"+u;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+u+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(u,c,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:h==null?null:""+h,children:u,containerInfo:c,implementation:d}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,c){if(u==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,an.createPortal=function(u,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return i(u,c,null,d)},an.flushSync=function(u){var c=o.T,d=n.p;try{if(o.T=null,n.p=2,u)return u()}finally{o.T=c,n.p=d,n.d.f()}},an.preconnect=function(u,c){typeof u=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,n.d.C(u,c))},an.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},an.preinit=function(u,c){if(typeof u=="string"&&c&&typeof c.as=="string"){var d=c.as,h=l(d,c.crossOrigin),v=typeof c.integrity=="string"?c.integrity:void 0,g=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?n.d.S(u,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:h,integrity:v,fetchPriority:g}):d==="script"&&n.d.X(u,{crossOrigin:h,integrity:v,fetchPriority:g,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},an.preinitModule=function(u,c){if(typeof u=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=l(c.as,c.crossOrigin);n.d.M(u,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&n.d.M(u)},an.preload=function(u,c){if(typeof u=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,h=l(d,c.crossOrigin);n.d.L(u,d,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},an.preloadModule=function(u,c){if(typeof u=="string")if(c){var d=l(c.as,c.crossOrigin);n.d.m(u,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else n.d.m(u)},an.requestFormReset=function(u){n.d.r(u)},an.unstable_batchedUpdates=function(u,c){return u(c)},an.useFormState=function(u,c,d){return o.H.useFormState(u,c,d)},an.useFormStatus=function(){return o.H.useHostTransitionStatus()},an.version="19.2.0",an}var RT;function SP(){if(RT)return py.exports;RT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),py.exports=Pj(),py.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LT;function Nj(){if(LT)return Sc;LT=1;var e=Dj(),t=mu(),r=SP();function n(s){var f="https://react.dev/errors/"+s;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+s+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function i(s){var f=s,p=s;if(s.alternate)for(;f.return;)f=f.return;else{s=f;do f=s,(f.flags&4098)!==0&&(p=f.return),s=f.return;while(s)}return f.tag===3?p:null}function o(s){if(s.tag===13){var f=s.memoizedState;if(f===null&&(s=s.alternate,s!==null&&(f=s.memoizedState)),f!==null)return f.dehydrated}return null}function l(s){if(s.tag===31){var f=s.memoizedState;if(f===null&&(s=s.alternate,s!==null&&(f=s.memoizedState)),f!==null)return f.dehydrated}return null}function u(s){if(i(s)!==s)throw Error(n(188))}function c(s){var f=s.alternate;if(!f){if(f=i(s),f===null)throw Error(n(188));return f!==s?null:s}for(var p=s,y=f;;){var A=p.return;if(A===null)break;var C=A.alternate;if(C===null){if(y=A.return,y!==null){p=y;continue}break}if(A.child===C.child){for(C=A.child;C;){if(C===p)return u(A),s;if(C===y)return u(A),f;C=C.sibling}throw Error(n(188))}if(p.return!==y.return)p=A,y=C;else{for(var j=!1,Y=A.child;Y;){if(Y===p){j=!0,p=A,y=C;break}if(Y===y){j=!0,y=A,p=C;break}Y=Y.sibling}if(!j){for(Y=C.child;Y;){if(Y===p){j=!0,p=C,y=A;break}if(Y===y){j=!0,y=C,p=A;break}Y=Y.sibling}if(!j)throw Error(n(189))}}if(p.alternate!==y)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?s:f}function d(s){var f=s.tag;if(f===5||f===26||f===27||f===6)return s;for(s=s.child;s!==null;){if(f=d(s),f!==null)return f;s=s.sibling}return null}var h=Object.assign,v=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),E=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var N=Symbol.for("react.client.reference");function B(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===N?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case b:return"Fragment";case w:return"Profiler";case x:return"StrictMode";case D:return"Suspense";case k:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case m:return"Portal";case E:return s.displayName||"Context";case S:return(s._context.displayName||"Context")+".Consumer";case O:var f=s.render;return s=s.displayName,s||(s=f.displayName||f.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case T:return f=s.displayName||null,f!==null?f:B(s.type)||"Memo";case _:f=s._payload,s=s._init;try{return B(s(f))}catch{}}return null}var G=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},H=[],X=-1;function U(s){return{current:s}}function V(s){0>X||(s.current=H[X],H[X]=null,X--)}function Q(s,f){X++,H[X]=s.current,s.current=f}var ee=U(null),te=U(null),ie=U(null),ue=U(null);function xe(s,f){switch(Q(ie,f),Q(te,s),Q(ee,null),f.nodeType){case 9:case 11:s=(s=f.documentElement)&&(s=s.namespaceURI)?WC(s):0;break;default:if(s=f.tagName,f=f.namespaceURI)f=WC(f),s=ZC(f,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}V(ee),Q(ee,s)}function Z(){V(ee),V(te),V(ie)}function re(s){s.memoizedState!==null&&Q(ue,s);var f=ee.current,p=ZC(f,s.type);f!==p&&(Q(te,s),Q(ee,p))}function J(s){te.current===s&&(V(ee),V(te)),ue.current===s&&(V(ue),yc._currentValue=q)}var W,se;function he(s){if(W===void 0)try{throw Error()}catch(p){var f=p.stack.trim().match(/\n( *(at )?)/);W=f&&f[1]||"",se=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+W+s+se}var Ce=!1;function _e(s,f){if(!s||Ce)return"";Ce=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(f){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(ge){var de=ge}Reflect.construct(s,[],Se)}else{try{Se.call()}catch(ge){de=ge}s.call(Se.prototype)}}else{try{throw Error()}catch(ge){de=ge}(Se=s())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(ge){if(ge&&de&&typeof ge.stack=="string")return[ge.stack,de.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=y.DetermineComponentFrameRoot(),j=C[0],Y=C[1];if(j&&Y){var ne=j.split(`
`),fe=Y.split(`
`);for(A=y=0;y<ne.length&&!ne[y].includes("DetermineComponentFrameRoot");)y++;for(;A<fe.length&&!fe[A].includes("DetermineComponentFrameRoot");)A++;if(y===ne.length||A===fe.length)for(y=ne.length-1,A=fe.length-1;1<=y&&0<=A&&ne[y]!==fe[A];)A--;for(;1<=y&&0<=A;y--,A--)if(ne[y]!==fe[A]){if(y!==1||A!==1)do if(y--,A--,0>A||ne[y]!==fe[A]){var ye=`
`+ne[y].replace(" at new "," at ");return s.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",s.displayName)),ye}while(1<=y&&0<=A);break}}}finally{Ce=!1,Error.prepareStackTrace=p}return(p=s?s.displayName||s.name:"")?he(p):""}function Me(s,f){switch(s.tag){case 26:case 27:case 5:return he(s.type);case 16:return he("Lazy");case 13:return s.child!==f&&f!==null?he("Suspense Fallback"):he("Suspense");case 19:return he("SuspenseList");case 0:case 15:return _e(s.type,!1);case 11:return _e(s.type.render,!1);case 1:return _e(s.type,!0);case 31:return he("Activity");default:return""}}function Ie(s){try{var f="",p=null;do f+=Me(s,p),p=s,s=s.return;while(s);return f}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var Ne=Object.prototype.hasOwnProperty,Oe=e.unstable_scheduleCallback,Ue=e.unstable_cancelCallback,qe=e.unstable_shouldYield,Qe=e.unstable_requestPaint,De=e.unstable_now,nt=e.unstable_getCurrentPriorityLevel,lt=e.unstable_ImmediatePriority,pt=e.unstable_UserBlockingPriority,ht=e.unstable_NormalPriority,yt=e.unstable_LowPriority,We=e.unstable_IdlePriority,Re=e.log,be=e.unstable_setDisableYieldValue,$=null,le=null;function pe(s){if(typeof Re=="function"&&be(s),le&&typeof le.setStrictMode=="function")try{le.setStrictMode($,s)}catch{}}var ve=Math.clz32?Math.clz32:Ae,we=Math.log,Pe=Math.LN2;function Ae(s){return s>>>=0,s===0?32:31-(we(s)/Pe|0)|0}var Ge=256,ke=262144,He=4194304;function Je(s){var f=s&42;if(f!==0)return f;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function et(s,f,p){var y=s.pendingLanes;if(y===0)return 0;var A=0,C=s.suspendedLanes,j=s.pingedLanes;s=s.warmLanes;var Y=y&134217727;return Y!==0?(y=Y&~C,y!==0?A=Je(y):(j&=Y,j!==0?A=Je(j):p||(p=Y&~s,p!==0&&(A=Je(p))))):(Y=y&~C,Y!==0?A=Je(Y):j!==0?A=Je(j):p||(p=y&~s,p!==0&&(A=Je(p)))),A===0?0:f!==0&&f!==A&&(f&C)===0&&(C=A&-A,p=f&-f,C>=p||C===32&&(p&4194048)!==0)?f:A}function ze(s,f){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&f)===0}function ot(s,f){switch(s){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function at(){var s=He;return He<<=1,(He&62914560)===0&&(He=4194304),s}function Zt(s){for(var f=[],p=0;31>p;p++)f.push(s);return f}function Mt(s,f){s.pendingLanes|=f,f!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function qr(s,f,p,y,A,C){var j=s.pendingLanes;s.pendingLanes=p,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=p,s.entangledLanes&=p,s.errorRecoveryDisabledLanes&=p,s.shellSuspendCounter=0;var Y=s.entanglements,ne=s.expirationTimes,fe=s.hiddenUpdates;for(p=j&~p;0<p;){var ye=31-ve(p),Se=1<<ye;Y[ye]=0,ne[ye]=-1;var de=fe[ye];if(de!==null)for(fe[ye]=null,ye=0;ye<de.length;ye++){var ge=de[ye];ge!==null&&(ge.lane&=-536870913)}p&=~Se}y!==0&&Qt(s,y,0),C!==0&&A===0&&s.tag!==0&&(s.suspendedLanes|=C&~(j&~f))}function Qt(s,f,p){s.pendingLanes|=f,s.suspendedLanes&=~f;var y=31-ve(f);s.entangledLanes|=f,s.entanglements[y]=s.entanglements[y]|1073741824|p&261930}function ir(s,f){var p=s.entangledLanes|=f;for(s=s.entanglements;p;){var y=31-ve(p),A=1<<y;A&f|s[y]&f&&(s[y]|=f),p&=~A}}function tr(s,f){var p=f&-f;return p=(p&42)!==0?1:or(p),(p&(s.suspendedLanes|f))!==0?0:p}function or(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ea(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Jt(){var s=z.p;return s!==0?s:(s=window.event,s===void 0?32:xT(s.type))}function ta(s,f){var p=z.p;try{return z.p=s,f()}finally{z.p=p}}var kr=Math.random().toString(36).slice(2),Yt="__reactFiber$"+kr,yr="__reactProps$"+kr,xn="__reactContainer$"+kr,Pr="__reactEvents$"+kr,Nr="__reactListeners$"+kr,rn="__reactHandles$"+kr,Yi="__reactResources$"+kr,Rr="__reactMarker$"+kr;function el(s){delete s[Yt],delete s[yr],delete s[Pr],delete s[Nr],delete s[rn]}function $i(s){var f=s[Yt];if(f)return f;for(var p=s.parentNode;p;){if(f=p[xn]||p[Yt]){if(p=f.alternate,f.child!==null||p!==null&&p.child!==null)for(s=aT(s);s!==null;){if(p=s[Yt])return p;s=aT(s)}return f}s=p,p=s.parentNode}return null}function Xi(s){if(s=s[Yt]||s[xn]){var f=s.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return s}return null}function Zo(s){var f=s.tag;if(f===5||f===26||f===27||f===6)return s.stateNode;throw Error(n(33))}function Ki(s){var f=s[Yi];return f||(f=s[Yi]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function cr(s){s[Rr]=!0}var Yf=new Set,$f={};function In(s,f){Ia(s,f),Ia(s+"Capture",f)}function Ia(s,f){for($f[s]=f,s=0;s<f.length;s++)Yf.add(f[s])}var tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nu={},Ru={};function tg(s){return Ne.call(Ru,s)?!0:Ne.call(Nu,s)?!1:tl.test(s)?Ru[s]=!0:(Nu[s]=!0,!1)}function nn(s,f,p){if(tg(f))if(p===null)s.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":s.removeAttribute(f);return;case"boolean":var y=f.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){s.removeAttribute(f);return}}s.setAttribute(f,""+p)}}function Wi(s,f,p){if(p===null)s.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(f);return}s.setAttribute(f,""+p)}}function ra(s,f,p,y){if(y===null)s.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(p);return}s.setAttributeNS(f,p,""+y)}}function Lr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function wn(s){var f=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function rg(s,f,p){var y=Object.getOwnPropertyDescriptor(s.constructor.prototype,f);if(!s.hasOwnProperty(f)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var A=y.get,C=y.set;return Object.defineProperty(s,f,{configurable:!0,get:function(){return A.call(this)},set:function(j){p=""+j,C.call(this,j)}}),Object.defineProperty(s,f,{enumerable:y.enumerable}),{getValue:function(){return p},setValue:function(j){p=""+j},stopTracking:function(){s._valueTracker=null,delete s[f]}}}}function Xf(s){if(!s._valueTracker){var f=wn(s)?"checked":"value";s._valueTracker=rg(s,f,""+s[f])}}function Kf(s){if(!s)return!1;var f=s._valueTracker;if(!f)return!0;var p=f.getValue(),y="";return s&&(y=wn(s)?s.checked?"true":"false":s.value),s=y,s!==p?(f.setValue(s),!0):!1}function Wf(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var y3=/[\n"\\]/g;function na(s){return s.replace(y3,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function ng(s,f,p,y,A,C,j,Y){s.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?s.type=j:s.removeAttribute("type"),f!=null?j==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+Lr(f)):s.value!==""+Lr(f)&&(s.value=""+Lr(f)):j!=="submit"&&j!=="reset"||s.removeAttribute("value"),f!=null?ag(s,j,Lr(f)):p!=null?ag(s,j,Lr(p)):y!=null&&s.removeAttribute("value"),A==null&&C!=null&&(s.defaultChecked=!!C),A!=null&&(s.checked=A&&typeof A!="function"&&typeof A!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?s.name=""+Lr(Y):s.removeAttribute("name")}function HE(s,f,p,y,A,C,j,Y){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.type=C),f!=null||p!=null){if(!(C!=="submit"&&C!=="reset"||f!=null)){Xf(s);return}p=p!=null?""+Lr(p):"",f=f!=null?""+Lr(f):p,Y||f===s.value||(s.value=f),s.defaultValue=f}y=y??A,y=typeof y!="function"&&typeof y!="symbol"&&!!y,s.checked=Y?s.checked:!!y,s.defaultChecked=!!y,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(s.name=j),Xf(s)}function ag(s,f,p){f==="number"&&Wf(s.ownerDocument)===s||s.defaultValue===""+p||(s.defaultValue=""+p)}function rl(s,f,p,y){if(s=s.options,f){f={};for(var A=0;A<p.length;A++)f["$"+p[A]]=!0;for(p=0;p<s.length;p++)A=f.hasOwnProperty("$"+s[p].value),s[p].selected!==A&&(s[p].selected=A),A&&y&&(s[p].defaultSelected=!0)}else{for(p=""+Lr(p),f=null,A=0;A<s.length;A++){if(s[A].value===p){s[A].selected=!0,y&&(s[A].defaultSelected=!0);return}f!==null||s[A].disabled||(f=s[A])}f!==null&&(f.selected=!0)}}function VE(s,f,p){if(f!=null&&(f=""+Lr(f),f!==s.value&&(s.value=f),p==null)){s.defaultValue!==f&&(s.defaultValue=f);return}s.defaultValue=p!=null?""+Lr(p):""}function YE(s,f,p,y){if(f==null){if(y!=null){if(p!=null)throw Error(n(92));if(G(y)){if(1<y.length)throw Error(n(93));y=y[0]}p=y}p==null&&(p=""),f=p}p=Lr(f),s.defaultValue=p,y=s.textContent,y===p&&y!==""&&y!==null&&(s.value=y),Xf(s)}function nl(s,f){if(f){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=f;return}}s.textContent=f}var b3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $E(s,f,p){var y=f.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="":y?s.setProperty(f,p):typeof p!="number"||p===0||b3.has(f)?f==="float"?s.cssFloat=p:s[f]=(""+p).trim():s[f]=p+"px"}function XE(s,f,p){if(f!=null&&typeof f!="object")throw Error(n(62));if(s=s.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||f!=null&&f.hasOwnProperty(y)||(y.indexOf("--")===0?s.setProperty(y,""):y==="float"?s.cssFloat="":s[y]="");for(var A in f)y=f[A],f.hasOwnProperty(A)&&p[A]!==y&&$E(s,A,y)}else for(var C in f)f.hasOwnProperty(C)&&$E(s,C,f[C])}function ig(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),w3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zf(s){return w3.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ti(){}var og=null;function sg(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var al=null,il=null;function KE(s){var f=Xi(s);if(f&&(s=f.stateNode)){var p=s[yr]||null;e:switch(s=f.stateNode,f.type){case"input":if(ng(s,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),f=p.name,p.type==="radio"&&f!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+na(""+f)+'"][type="radio"]'),f=0;f<p.length;f++){var y=p[f];if(y!==s&&y.form===s.form){var A=y[yr]||null;if(!A)throw Error(n(90));ng(y,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(f=0;f<p.length;f++)y=p[f],y.form===s.form&&Kf(y)}break e;case"textarea":VE(s,p.value,p.defaultValue);break e;case"select":f=p.value,f!=null&&rl(s,!!p.multiple,f,!1)}}}var lg=!1;function WE(s,f,p){if(lg)return s(f,p);lg=!0;try{var y=s(f);return y}finally{if(lg=!1,(al!==null||il!==null)&&(zd(),al&&(f=al,s=il,il=al=null,KE(f),s)))for(f=0;f<s.length;f++)KE(s[f])}}function Lu(s,f){var p=s.stateNode;if(p===null)return null;var y=p[yr]||null;if(y===null)return null;p=y[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(s=s.type,y=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!y;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(n(231,f,typeof p));return p}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ug=!1;if(ri)try{var Bu={};Object.defineProperty(Bu,"passive",{get:function(){ug=!0}}),window.addEventListener("test",Bu,Bu),window.removeEventListener("test",Bu,Bu)}catch{ug=!1}var Zi=null,cg=null,Qf=null;function ZE(){if(Qf)return Qf;var s,f=cg,p=f.length,y,A="value"in Zi?Zi.value:Zi.textContent,C=A.length;for(s=0;s<p&&f[s]===A[s];s++);var j=p-s;for(y=1;y<=j&&f[p-y]===A[C-y];y++);return Qf=A.slice(s,1<y?1-y:void 0)}function Jf(s){var f=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&f===13&&(s=13)):s=f,s===10&&(s=13),32<=s||s===13?s:0}function ed(){return!0}function QE(){return!1}function En(s){function f(p,y,A,C,j){this._reactName=p,this._targetInst=A,this.type=y,this.nativeEvent=C,this.target=j,this.currentTarget=null;for(var Y in s)s.hasOwnProperty(Y)&&(p=s[Y],this[Y]=p?p(C):C[Y]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?ed:QE,this.isPropagationStopped=QE,this}return h(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=ed)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=ed)},persist:function(){},isPersistent:ed}),f}var Qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=En(Qo),Iu=h({},Qo,{view:0,detail:0}),E3=En(Iu),fg,dg,zu,rd=h({},Iu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vg,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==zu&&(zu&&s.type==="mousemove"?(fg=s.screenX-zu.screenX,dg=s.screenY-zu.screenY):dg=fg=0,zu=s),fg)},movementY:function(s){return"movementY"in s?s.movementY:dg}}),JE=En(rd),S3=h({},rd,{dataTransfer:0}),A3=En(S3),C3=h({},Iu,{relatedTarget:0}),hg=En(C3),T3=h({},Qo,{animationName:0,elapsedTime:0,pseudoElement:0}),O3=En(T3),_3=h({},Qo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),M3=En(_3),D3=h({},Qo,{data:0}),eS=En(D3),k3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R3(s){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(s):(s=N3[s])?!!f[s]:!1}function vg(){return R3}var L3=h({},Iu,{key:function(s){if(s.key){var f=k3[s.key]||s.key;if(f!=="Unidentified")return f}return s.type==="keypress"?(s=Jf(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?P3[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vg,charCode:function(s){return s.type==="keypress"?Jf(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Jf(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),B3=En(L3),I3=h({},rd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tS=En(I3),z3=h({},Iu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vg}),j3=En(z3),G3=h({},Qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),U3=En(G3),F3=h({},rd,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),q3=En(F3),H3=h({},Qo,{newState:0,oldState:0}),V3=En(H3),Y3=[9,13,27,32],pg=ri&&"CompositionEvent"in window,ju=null;ri&&"documentMode"in document&&(ju=document.documentMode);var $3=ri&&"TextEvent"in window&&!ju,rS=ri&&(!pg||ju&&8<ju&&11>=ju),nS=" ",aS=!1;function iS(s,f){switch(s){case"keyup":return Y3.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oS(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ol=!1;function X3(s,f){switch(s){case"compositionend":return oS(f);case"keypress":return f.which!==32?null:(aS=!0,nS);case"textInput":return s=f.data,s===nS&&aS?null:s;default:return null}}function K3(s,f){if(ol)return s==="compositionend"||!pg&&iS(s,f)?(s=ZE(),Qf=cg=Zi=null,ol=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return rS&&f.locale!=="ko"?null:f.data;default:return null}}var W3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sS(s){var f=s&&s.nodeName&&s.nodeName.toLowerCase();return f==="input"?!!W3[s.type]:f==="textarea"}function lS(s,f,p,y){al?il?il.push(y):il=[y]:al=y,f=Vd(f,"onChange"),0<f.length&&(p=new td("onChange","change",null,p,y),s.push({event:p,listeners:f}))}var Gu=null,Uu=null;function Z3(s){HC(s,0)}function nd(s){var f=Zo(s);if(Kf(f))return s}function uS(s,f){if(s==="change")return f}var cS=!1;if(ri){var gg;if(ri){var mg="oninput"in document;if(!mg){var fS=document.createElement("div");fS.setAttribute("oninput","return;"),mg=typeof fS.oninput=="function"}gg=mg}else gg=!1;cS=gg&&(!document.documentMode||9<document.documentMode)}function dS(){Gu&&(Gu.detachEvent("onpropertychange",hS),Uu=Gu=null)}function hS(s){if(s.propertyName==="value"&&nd(Uu)){var f=[];lS(f,Uu,s,sg(s)),WE(Z3,f)}}function Q3(s,f,p){s==="focusin"?(dS(),Gu=f,Uu=p,Gu.attachEvent("onpropertychange",hS)):s==="focusout"&&dS()}function J3(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return nd(Uu)}function e5(s,f){if(s==="click")return nd(f)}function t5(s,f){if(s==="input"||s==="change")return nd(f)}function r5(s,f){return s===f&&(s!==0||1/s===1/f)||s!==s&&f!==f}var zn=typeof Object.is=="function"?Object.is:r5;function Fu(s,f){if(zn(s,f))return!0;if(typeof s!="object"||s===null||typeof f!="object"||f===null)return!1;var p=Object.keys(s),y=Object.keys(f);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var A=p[y];if(!Ne.call(f,A)||!zn(s[A],f[A]))return!1}return!0}function vS(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function pS(s,f){var p=vS(s);s=0;for(var y;p;){if(p.nodeType===3){if(y=s+p.textContent.length,s<=f&&y>=f)return{node:p,offset:f-s};s=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=vS(p)}}function gS(s,f){return s&&f?s===f?!0:s&&s.nodeType===3?!1:f&&f.nodeType===3?gS(s,f.parentNode):"contains"in s?s.contains(f):s.compareDocumentPosition?!!(s.compareDocumentPosition(f)&16):!1:!1}function mS(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var f=Wf(s.document);f instanceof s.HTMLIFrameElement;){try{var p=typeof f.contentWindow.location.href=="string"}catch{p=!1}if(p)s=f.contentWindow;else break;f=Wf(s.document)}return f}function yg(s){var f=s&&s.nodeName&&s.nodeName.toLowerCase();return f&&(f==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||f==="textarea"||s.contentEditable==="true")}var n5=ri&&"documentMode"in document&&11>=document.documentMode,sl=null,bg=null,qu=null,xg=!1;function yS(s,f,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;xg||sl==null||sl!==Wf(y)||(y=sl,"selectionStart"in y&&yg(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),qu&&Fu(qu,y)||(qu=y,y=Vd(bg,"onSelect"),0<y.length&&(f=new td("onSelect","select",null,f,p),s.push({event:f,listeners:y}),f.target=sl)))}function Jo(s,f){var p={};return p[s.toLowerCase()]=f.toLowerCase(),p["Webkit"+s]="webkit"+f,p["Moz"+s]="moz"+f,p}var ll={animationend:Jo("Animation","AnimationEnd"),animationiteration:Jo("Animation","AnimationIteration"),animationstart:Jo("Animation","AnimationStart"),transitionrun:Jo("Transition","TransitionRun"),transitionstart:Jo("Transition","TransitionStart"),transitioncancel:Jo("Transition","TransitionCancel"),transitionend:Jo("Transition","TransitionEnd")},wg={},bS={};ri&&(bS=document.createElement("div").style,"AnimationEvent"in window||(delete ll.animationend.animation,delete ll.animationiteration.animation,delete ll.animationstart.animation),"TransitionEvent"in window||delete ll.transitionend.transition);function es(s){if(wg[s])return wg[s];if(!ll[s])return s;var f=ll[s],p;for(p in f)if(f.hasOwnProperty(p)&&p in bS)return wg[s]=f[p];return s}var xS=es("animationend"),wS=es("animationiteration"),ES=es("animationstart"),a5=es("transitionrun"),i5=es("transitionstart"),o5=es("transitioncancel"),SS=es("transitionend"),AS=new Map,Eg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eg.push("scrollEnd");function Ta(s,f){AS.set(s,f),In(f,[s])}var ad=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},aa=[],ul=0,Sg=0;function id(){for(var s=ul,f=Sg=ul=0;f<s;){var p=aa[f];aa[f++]=null;var y=aa[f];aa[f++]=null;var A=aa[f];aa[f++]=null;var C=aa[f];if(aa[f++]=null,y!==null&&A!==null){var j=y.pending;j===null?A.next=A:(A.next=j.next,j.next=A),y.pending=A}C!==0&&CS(p,A,C)}}function od(s,f,p,y){aa[ul++]=s,aa[ul++]=f,aa[ul++]=p,aa[ul++]=y,Sg|=y,s.lanes|=y,s=s.alternate,s!==null&&(s.lanes|=y)}function Ag(s,f,p,y){return od(s,f,p,y),sd(s)}function ts(s,f){return od(s,null,null,f),sd(s)}function CS(s,f,p){s.lanes|=p;var y=s.alternate;y!==null&&(y.lanes|=p);for(var A=!1,C=s.return;C!==null;)C.childLanes|=p,y=C.alternate,y!==null&&(y.childLanes|=p),C.tag===22&&(s=C.stateNode,s===null||s._visibility&1||(A=!0)),s=C,C=C.return;return s.tag===3?(C=s.stateNode,A&&f!==null&&(A=31-ve(p),s=C.hiddenUpdates,y=s[A],y===null?s[A]=[f]:y.push(f),f.lane=p|536870912),C):null}function sd(s){if(50<fc)throw fc=0,Nm=null,Error(n(185));for(var f=s.return;f!==null;)s=f,f=s.return;return s.tag===3?s.stateNode:null}var cl={};function s5(s,f,p,y){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(s,f,p,y){return new s5(s,f,p,y)}function Cg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ni(s,f){var p=s.alternate;return p===null?(p=jn(s.tag,f,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=f,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&65011712,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,f=s.dependencies,p.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p.refCleanup=s.refCleanup,p}function TS(s,f){s.flags&=65011714;var p=s.alternate;return p===null?(s.childLanes=0,s.lanes=f,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=p.childLanes,s.lanes=p.lanes,s.child=p.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=p.memoizedProps,s.memoizedState=p.memoizedState,s.updateQueue=p.updateQueue,s.type=p.type,f=p.dependencies,s.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),s}function ld(s,f,p,y,A,C){var j=0;if(y=s,typeof s=="function")Cg(s)&&(j=1);else if(typeof s=="string")j=dj(s,p,ee.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case M:return s=jn(31,p,f,A),s.elementType=M,s.lanes=C,s;case b:return rs(p.children,A,C,f);case x:j=8,A|=24;break;case w:return s=jn(12,p,f,A|2),s.elementType=w,s.lanes=C,s;case D:return s=jn(13,p,f,A),s.elementType=D,s.lanes=C,s;case k:return s=jn(19,p,f,A),s.elementType=k,s.lanes=C,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case E:j=10;break e;case S:j=9;break e;case O:j=11;break e;case T:j=14;break e;case _:j=16,y=null;break e}j=29,p=Error(n(130,s===null?"null":typeof s,"")),y=null}return f=jn(j,p,f,A),f.elementType=s,f.type=y,f.lanes=C,f}function rs(s,f,p,y){return s=jn(7,s,y,f),s.lanes=p,s}function Tg(s,f,p){return s=jn(6,s,null,f),s.lanes=p,s}function OS(s){var f=jn(18,null,null,0);return f.stateNode=s,f}function Og(s,f,p){return f=jn(4,s.children!==null?s.children:[],s.key,f),f.lanes=p,f.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},f}var _S=new WeakMap;function ia(s,f){if(typeof s=="object"&&s!==null){var p=_S.get(s);return p!==void 0?p:(f={value:s,source:f,stack:Ie(f)},_S.set(s,f),f)}return{value:s,source:f,stack:Ie(f)}}var fl=[],dl=0,ud=null,Hu=0,oa=[],sa=0,Qi=null,za=1,ja="";function ai(s,f){fl[dl++]=Hu,fl[dl++]=ud,ud=s,Hu=f}function MS(s,f,p){oa[sa++]=za,oa[sa++]=ja,oa[sa++]=Qi,Qi=s;var y=za;s=ja;var A=32-ve(y)-1;y&=~(1<<A),p+=1;var C=32-ve(f)+A;if(30<C){var j=A-A%5;C=(y&(1<<j)-1).toString(32),y>>=j,A-=j,za=1<<32-ve(f)+A|p<<A|y,ja=C+s}else za=1<<C|p<<A|y,ja=s}function _g(s){s.return!==null&&(ai(s,1),MS(s,1,0))}function Mg(s){for(;s===ud;)ud=fl[--dl],fl[dl]=null,Hu=fl[--dl],fl[dl]=null;for(;s===Qi;)Qi=oa[--sa],oa[sa]=null,ja=oa[--sa],oa[sa]=null,za=oa[--sa],oa[sa]=null}function DS(s,f){oa[sa++]=za,oa[sa++]=ja,oa[sa++]=Qi,za=f.id,ja=f.overflow,Qi=s}var Hr=null,Ut=null,vt=!1,Ji=null,la=!1,Dg=Error(n(519));function eo(s){var f=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vu(ia(f,s)),Dg}function kS(s){var f=s.stateNode,p=s.type,y=s.memoizedProps;switch(f[Yt]=s,f[yr]=y,p){case"dialog":ct("cancel",f),ct("close",f);break;case"iframe":case"object":case"embed":ct("load",f);break;case"video":case"audio":for(p=0;p<hc.length;p++)ct(hc[p],f);break;case"source":ct("error",f);break;case"img":case"image":case"link":ct("error",f),ct("load",f);break;case"details":ct("toggle",f);break;case"input":ct("invalid",f),HE(f,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":ct("invalid",f);break;case"textarea":ct("invalid",f),YE(f,y.value,y.defaultValue,y.children)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||f.textContent===""+p||y.suppressHydrationWarning===!0||XC(f.textContent,p)?(y.popover!=null&&(ct("beforetoggle",f),ct("toggle",f)),y.onScroll!=null&&ct("scroll",f),y.onScrollEnd!=null&&ct("scrollend",f),y.onClick!=null&&(f.onclick=ti),f=!0):f=!1,f||eo(s,!0)}function PS(s){for(Hr=s.return;Hr;)switch(Hr.tag){case 5:case 31:case 13:la=!1;return;case 27:case 3:la=!0;return;default:Hr=Hr.return}}function hl(s){if(s!==Hr)return!1;if(!vt)return PS(s),vt=!0,!1;var f=s.tag,p;if((p=f!==3&&f!==27)&&((p=f===5)&&(p=s.type,p=!(p!=="form"&&p!=="button")||Xm(s.type,s.memoizedProps)),p=!p),p&&Ut&&eo(s),PS(s),f===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Ut=nT(s)}else if(f===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Ut=nT(s)}else f===27?(f=Ut,po(s.type)?(s=Jm,Jm=null,Ut=s):Ut=f):Ut=Hr?ca(s.stateNode.nextSibling):null;return!0}function ns(){Ut=Hr=null,vt=!1}function kg(){var s=Ji;return s!==null&&(Tn===null?Tn=s:Tn.push.apply(Tn,s),Ji=null),s}function Vu(s){Ji===null?Ji=[s]:Ji.push(s)}var Pg=U(null),as=null,ii=null;function to(s,f,p){Q(Pg,f._currentValue),f._currentValue=p}function oi(s){s._currentValue=Pg.current,V(Pg)}function Ng(s,f,p){for(;s!==null;){var y=s.alternate;if((s.childLanes&f)!==f?(s.childLanes|=f,y!==null&&(y.childLanes|=f)):y!==null&&(y.childLanes&f)!==f&&(y.childLanes|=f),s===p)break;s=s.return}}function Rg(s,f,p,y){var A=s.child;for(A!==null&&(A.return=s);A!==null;){var C=A.dependencies;if(C!==null){var j=A.child;C=C.firstContext;e:for(;C!==null;){var Y=C;C=A;for(var ne=0;ne<f.length;ne++)if(Y.context===f[ne]){C.lanes|=p,Y=C.alternate,Y!==null&&(Y.lanes|=p),Ng(C.return,p,s),y||(j=null);break e}C=Y.next}}else if(A.tag===18){if(j=A.return,j===null)throw Error(n(341));j.lanes|=p,C=j.alternate,C!==null&&(C.lanes|=p),Ng(j,p,s),j=null}else j=A.child;if(j!==null)j.return=A;else for(j=A;j!==null;){if(j===s){j=null;break}if(A=j.sibling,A!==null){A.return=j.return,j=A;break}j=j.return}A=j}}function vl(s,f,p,y){s=null;for(var A=f,C=!1;A!==null;){if(!C){if((A.flags&524288)!==0)C=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var j=A.alternate;if(j===null)throw Error(n(387));if(j=j.memoizedProps,j!==null){var Y=A.type;zn(A.pendingProps.value,j.value)||(s!==null?s.push(Y):s=[Y])}}else if(A===ue.current){if(j=A.alternate,j===null)throw Error(n(387));j.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(s!==null?s.push(yc):s=[yc])}A=A.return}s!==null&&Rg(f,s,p,y),f.flags|=262144}function cd(s){for(s=s.firstContext;s!==null;){if(!zn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function is(s){as=s,ii=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Vr(s){return NS(as,s)}function fd(s,f){return as===null&&is(s),NS(s,f)}function NS(s,f){var p=f._currentValue;if(f={context:f,memoizedValue:p,next:null},ii===null){if(s===null)throw Error(n(308));ii=f,s.dependencies={lanes:0,firstContext:f},s.flags|=524288}else ii=ii.next=f;return p}var l5=typeof AbortController<"u"?AbortController:function(){var s=[],f=this.signal={aborted:!1,addEventListener:function(p,y){s.push(y)}};this.abort=function(){f.aborted=!0,s.forEach(function(p){return p()})}},u5=e.unstable_scheduleCallback,c5=e.unstable_NormalPriority,fr={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lg(){return{controller:new l5,data:new Map,refCount:0}}function Yu(s){s.refCount--,s.refCount===0&&u5(c5,function(){s.controller.abort()})}var $u=null,Bg=0,pl=0,gl=null;function f5(s,f){if($u===null){var p=$u=[];Bg=0,pl=jm(),gl={status:"pending",value:void 0,then:function(y){p.push(y)}}}return Bg++,f.then(RS,RS),f}function RS(){if(--Bg===0&&$u!==null){gl!==null&&(gl.status="fulfilled");var s=$u;$u=null,pl=0,gl=null;for(var f=0;f<s.length;f++)(0,s[f])()}}function d5(s,f){var p=[],y={status:"pending",value:null,reason:null,then:function(A){p.push(A)}};return s.then(function(){y.status="fulfilled",y.value=f;for(var A=0;A<p.length;A++)(0,p[A])(f)},function(A){for(y.status="rejected",y.reason=A,A=0;A<p.length;A++)(0,p[A])(void 0)}),y}var LS=I.S;I.S=function(s,f){yC=De(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&f5(s,f),LS!==null&&LS(s,f)};var os=U(null);function Ig(){var s=os.current;return s!==null?s:Lt.pooledCache}function dd(s,f){f===null?Q(os,os.current):Q(os,f.pool)}function BS(){var s=Ig();return s===null?null:{parent:fr._currentValue,pool:s}}var ml=Error(n(460)),zg=Error(n(474)),hd=Error(n(542)),vd={then:function(){}};function IS(s){return s=s.status,s==="fulfilled"||s==="rejected"}function zS(s,f,p){switch(p=s[p],p===void 0?s.push(f):p!==f&&(f.then(ti,ti),f=p),f.status){case"fulfilled":return f.value;case"rejected":throw s=f.reason,GS(s),s;default:if(typeof f.status=="string")f.then(ti,ti);else{if(s=Lt,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=f,s.status="pending",s.then(function(y){if(f.status==="pending"){var A=f;A.status="fulfilled",A.value=y}},function(y){if(f.status==="pending"){var A=f;A.status="rejected",A.reason=y}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw s=f.reason,GS(s),s}throw ls=f,ml}}function ss(s){try{var f=s._init;return f(s._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(ls=p,ml):p}}var ls=null;function jS(){if(ls===null)throw Error(n(459));var s=ls;return ls=null,s}function GS(s){if(s===ml||s===hd)throw Error(n(483))}var yl=null,Xu=0;function pd(s){var f=Xu;return Xu+=1,yl===null&&(yl=[]),zS(yl,s,f)}function Ku(s,f){f=f.props.ref,s.ref=f!==void 0?f:null}function gd(s,f){throw f.$$typeof===v?Error(n(525)):(s=Object.prototype.toString.call(f),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":s)))}function US(s){function f(oe,ae){if(s){var ce=oe.deletions;ce===null?(oe.deletions=[ae],oe.flags|=16):ce.push(ae)}}function p(oe,ae){if(!s)return null;for(;ae!==null;)f(oe,ae),ae=ae.sibling;return null}function y(oe){for(var ae=new Map;oe!==null;)oe.key!==null?ae.set(oe.key,oe):ae.set(oe.index,oe),oe=oe.sibling;return ae}function A(oe,ae){return oe=ni(oe,ae),oe.index=0,oe.sibling=null,oe}function C(oe,ae,ce){return oe.index=ce,s?(ce=oe.alternate,ce!==null?(ce=ce.index,ce<ae?(oe.flags|=67108866,ae):ce):(oe.flags|=67108866,ae)):(oe.flags|=1048576,ae)}function j(oe){return s&&oe.alternate===null&&(oe.flags|=67108866),oe}function Y(oe,ae,ce,Ee){return ae===null||ae.tag!==6?(ae=Tg(ce,oe.mode,Ee),ae.return=oe,ae):(ae=A(ae,ce),ae.return=oe,ae)}function ne(oe,ae,ce,Ee){var $e=ce.type;return $e===b?ye(oe,ae,ce.props.children,Ee,ce.key):ae!==null&&(ae.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===_&&ss($e)===ae.type)?(ae=A(ae,ce.props),Ku(ae,ce),ae.return=oe,ae):(ae=ld(ce.type,ce.key,ce.props,null,oe.mode,Ee),Ku(ae,ce),ae.return=oe,ae)}function fe(oe,ae,ce,Ee){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==ce.containerInfo||ae.stateNode.implementation!==ce.implementation?(ae=Og(ce,oe.mode,Ee),ae.return=oe,ae):(ae=A(ae,ce.children||[]),ae.return=oe,ae)}function ye(oe,ae,ce,Ee,$e){return ae===null||ae.tag!==7?(ae=rs(ce,oe.mode,Ee,$e),ae.return=oe,ae):(ae=A(ae,ce),ae.return=oe,ae)}function Se(oe,ae,ce){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=Tg(""+ae,oe.mode,ce),ae.return=oe,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case g:return ce=ld(ae.type,ae.key,ae.props,null,oe.mode,ce),Ku(ce,ae),ce.return=oe,ce;case m:return ae=Og(ae,oe.mode,ce),ae.return=oe,ae;case _:return ae=ss(ae),Se(oe,ae,ce)}if(G(ae)||L(ae))return ae=rs(ae,oe.mode,ce,null),ae.return=oe,ae;if(typeof ae.then=="function")return Se(oe,pd(ae),ce);if(ae.$$typeof===E)return Se(oe,fd(oe,ae),ce);gd(oe,ae)}return null}function de(oe,ae,ce,Ee){var $e=ae!==null?ae.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return $e!==null?null:Y(oe,ae,""+ce,Ee);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case g:return ce.key===$e?ne(oe,ae,ce,Ee):null;case m:return ce.key===$e?fe(oe,ae,ce,Ee):null;case _:return ce=ss(ce),de(oe,ae,ce,Ee)}if(G(ce)||L(ce))return $e!==null?null:ye(oe,ae,ce,Ee,null);if(typeof ce.then=="function")return de(oe,ae,pd(ce),Ee);if(ce.$$typeof===E)return de(oe,ae,fd(oe,ce),Ee);gd(oe,ce)}return null}function ge(oe,ae,ce,Ee,$e){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return oe=oe.get(ce)||null,Y(ae,oe,""+Ee,$e);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case g:return oe=oe.get(Ee.key===null?ce:Ee.key)||null,ne(ae,oe,Ee,$e);case m:return oe=oe.get(Ee.key===null?ce:Ee.key)||null,fe(ae,oe,Ee,$e);case _:return Ee=ss(Ee),ge(oe,ae,ce,Ee,$e)}if(G(Ee)||L(Ee))return oe=oe.get(ce)||null,ye(ae,oe,Ee,$e,null);if(typeof Ee.then=="function")return ge(oe,ae,ce,pd(Ee),$e);if(Ee.$$typeof===E)return ge(oe,ae,ce,fd(ae,Ee),$e);gd(ae,Ee)}return null}function je(oe,ae,ce,Ee){for(var $e=null,bt=null,Fe=ae,it=ae=0,dt=null;Fe!==null&&it<ce.length;it++){Fe.index>it?(dt=Fe,Fe=null):dt=Fe.sibling;var xt=de(oe,Fe,ce[it],Ee);if(xt===null){Fe===null&&(Fe=dt);break}s&&Fe&&xt.alternate===null&&f(oe,Fe),ae=C(xt,ae,it),bt===null?$e=xt:bt.sibling=xt,bt=xt,Fe=dt}if(it===ce.length)return p(oe,Fe),vt&&ai(oe,it),$e;if(Fe===null){for(;it<ce.length;it++)Fe=Se(oe,ce[it],Ee),Fe!==null&&(ae=C(Fe,ae,it),bt===null?$e=Fe:bt.sibling=Fe,bt=Fe);return vt&&ai(oe,it),$e}for(Fe=y(Fe);it<ce.length;it++)dt=ge(Fe,oe,it,ce[it],Ee),dt!==null&&(s&&dt.alternate!==null&&Fe.delete(dt.key===null?it:dt.key),ae=C(dt,ae,it),bt===null?$e=dt:bt.sibling=dt,bt=dt);return s&&Fe.forEach(function(xo){return f(oe,xo)}),vt&&ai(oe,it),$e}function Ke(oe,ae,ce,Ee){if(ce==null)throw Error(n(151));for(var $e=null,bt=null,Fe=ae,it=ae=0,dt=null,xt=ce.next();Fe!==null&&!xt.done;it++,xt=ce.next()){Fe.index>it?(dt=Fe,Fe=null):dt=Fe.sibling;var xo=de(oe,Fe,xt.value,Ee);if(xo===null){Fe===null&&(Fe=dt);break}s&&Fe&&xo.alternate===null&&f(oe,Fe),ae=C(xo,ae,it),bt===null?$e=xo:bt.sibling=xo,bt=xo,Fe=dt}if(xt.done)return p(oe,Fe),vt&&ai(oe,it),$e;if(Fe===null){for(;!xt.done;it++,xt=ce.next())xt=Se(oe,xt.value,Ee),xt!==null&&(ae=C(xt,ae,it),bt===null?$e=xt:bt.sibling=xt,bt=xt);return vt&&ai(oe,it),$e}for(Fe=y(Fe);!xt.done;it++,xt=ce.next())xt=ge(Fe,oe,it,xt.value,Ee),xt!==null&&(s&&xt.alternate!==null&&Fe.delete(xt.key===null?it:xt.key),ae=C(xt,ae,it),bt===null?$e=xt:bt.sibling=xt,bt=xt);return s&&Fe.forEach(function(Sj){return f(oe,Sj)}),vt&&ai(oe,it),$e}function Pt(oe,ae,ce,Ee){if(typeof ce=="object"&&ce!==null&&ce.type===b&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case g:e:{for(var $e=ce.key;ae!==null;){if(ae.key===$e){if($e=ce.type,$e===b){if(ae.tag===7){p(oe,ae.sibling),Ee=A(ae,ce.props.children),Ee.return=oe,oe=Ee;break e}}else if(ae.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===_&&ss($e)===ae.type){p(oe,ae.sibling),Ee=A(ae,ce.props),Ku(Ee,ce),Ee.return=oe,oe=Ee;break e}p(oe,ae);break}else f(oe,ae);ae=ae.sibling}ce.type===b?(Ee=rs(ce.props.children,oe.mode,Ee,ce.key),Ee.return=oe,oe=Ee):(Ee=ld(ce.type,ce.key,ce.props,null,oe.mode,Ee),Ku(Ee,ce),Ee.return=oe,oe=Ee)}return j(oe);case m:e:{for($e=ce.key;ae!==null;){if(ae.key===$e)if(ae.tag===4&&ae.stateNode.containerInfo===ce.containerInfo&&ae.stateNode.implementation===ce.implementation){p(oe,ae.sibling),Ee=A(ae,ce.children||[]),Ee.return=oe,oe=Ee;break e}else{p(oe,ae);break}else f(oe,ae);ae=ae.sibling}Ee=Og(ce,oe.mode,Ee),Ee.return=oe,oe=Ee}return j(oe);case _:return ce=ss(ce),Pt(oe,ae,ce,Ee)}if(G(ce))return je(oe,ae,ce,Ee);if(L(ce)){if($e=L(ce),typeof $e!="function")throw Error(n(150));return ce=$e.call(ce),Ke(oe,ae,ce,Ee)}if(typeof ce.then=="function")return Pt(oe,ae,pd(ce),Ee);if(ce.$$typeof===E)return Pt(oe,ae,fd(oe,ce),Ee);gd(oe,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,ae!==null&&ae.tag===6?(p(oe,ae.sibling),Ee=A(ae,ce),Ee.return=oe,oe=Ee):(p(oe,ae),Ee=Tg(ce,oe.mode,Ee),Ee.return=oe,oe=Ee),j(oe)):p(oe,ae)}return function(oe,ae,ce,Ee){try{Xu=0;var $e=Pt(oe,ae,ce,Ee);return yl=null,$e}catch(Fe){if(Fe===ml||Fe===hd)throw Fe;var bt=jn(29,Fe,null,oe.mode);return bt.lanes=Ee,bt.return=oe,bt}finally{}}}var us=US(!0),FS=US(!1),ro=!1;function jg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gg(s,f){s=s.updateQueue,f.updateQueue===s&&(f.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function no(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ao(s,f,p){var y=s.updateQueue;if(y===null)return null;if(y=y.shared,(St&2)!==0){var A=y.pending;return A===null?f.next=f:(f.next=A.next,A.next=f),y.pending=f,f=sd(s),CS(s,null,p),f}return od(s,y,f,p),sd(s)}function Wu(s,f,p){if(f=f.updateQueue,f!==null&&(f=f.shared,(p&4194048)!==0)){var y=f.lanes;y&=s.pendingLanes,p|=y,f.lanes=p,ir(s,p)}}function Ug(s,f){var p=s.updateQueue,y=s.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var A=null,C=null;if(p=p.firstBaseUpdate,p!==null){do{var j={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};C===null?A=C=j:C=C.next=j,p=p.next}while(p!==null);C===null?A=C=f:C=C.next=f}else A=C=f;p={baseState:y.baseState,firstBaseUpdate:A,lastBaseUpdate:C,shared:y.shared,callbacks:y.callbacks},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=f:s.next=f,p.lastBaseUpdate=f}var Fg=!1;function Zu(){if(Fg){var s=gl;if(s!==null)throw s}}function Qu(s,f,p,y){Fg=!1;var A=s.updateQueue;ro=!1;var C=A.firstBaseUpdate,j=A.lastBaseUpdate,Y=A.shared.pending;if(Y!==null){A.shared.pending=null;var ne=Y,fe=ne.next;ne.next=null,j===null?C=fe:j.next=fe,j=ne;var ye=s.alternate;ye!==null&&(ye=ye.updateQueue,Y=ye.lastBaseUpdate,Y!==j&&(Y===null?ye.firstBaseUpdate=fe:Y.next=fe,ye.lastBaseUpdate=ne))}if(C!==null){var Se=A.baseState;j=0,ye=fe=ne=null,Y=C;do{var de=Y.lane&-536870913,ge=de!==Y.lane;if(ge?(ft&de)===de:(y&de)===de){de!==0&&de===pl&&(Fg=!0),ye!==null&&(ye=ye.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});e:{var je=s,Ke=Y;de=f;var Pt=p;switch(Ke.tag){case 1:if(je=Ke.payload,typeof je=="function"){Se=je.call(Pt,Se,de);break e}Se=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ke.payload,de=typeof je=="function"?je.call(Pt,Se,de):je,de==null)break e;Se=h({},Se,de);break e;case 2:ro=!0}}de=Y.callback,de!==null&&(s.flags|=64,ge&&(s.flags|=8192),ge=A.callbacks,ge===null?A.callbacks=[de]:ge.push(de))}else ge={lane:de,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},ye===null?(fe=ye=ge,ne=Se):ye=ye.next=ge,j|=de;if(Y=Y.next,Y===null){if(Y=A.shared.pending,Y===null)break;ge=Y,Y=ge.next,ge.next=null,A.lastBaseUpdate=ge,A.shared.pending=null}}while(!0);ye===null&&(ne=Se),A.baseState=ne,A.firstBaseUpdate=fe,A.lastBaseUpdate=ye,C===null&&(A.shared.lanes=0),uo|=j,s.lanes=j,s.memoizedState=Se}}function qS(s,f){if(typeof s!="function")throw Error(n(191,s));s.call(f)}function HS(s,f){var p=s.callbacks;if(p!==null)for(s.callbacks=null,s=0;s<p.length;s++)qS(p[s],f)}var bl=U(null),md=U(0);function VS(s,f){s=pi,Q(md,s),Q(bl,f),pi=s|f.baseLanes}function qg(){Q(md,pi),Q(bl,bl.current)}function Hg(){pi=md.current,V(bl),V(md)}var Gn=U(null),ua=null;function io(s){var f=s.alternate;Q(sr,sr.current&1),Q(Gn,s),ua===null&&(f===null||bl.current!==null||f.memoizedState!==null)&&(ua=s)}function Vg(s){Q(sr,sr.current),Q(Gn,s),ua===null&&(ua=s)}function YS(s){s.tag===22?(Q(sr,sr.current),Q(Gn,s),ua===null&&(ua=s)):oo()}function oo(){Q(sr,sr.current),Q(Gn,Gn.current)}function Un(s){V(Gn),ua===s&&(ua=null),V(sr)}var sr=U(0);function yd(s){for(var f=s;f!==null;){if(f.tag===13){var p=f.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||Zm(p)||Qm(p)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var si=0,rt=null,Dt=null,dr=null,bd=!1,xl=!1,cs=!1,xd=0,Ju=0,wl=null,h5=0;function rr(){throw Error(n(321))}function Yg(s,f){if(f===null)return!1;for(var p=0;p<f.length&&p<s.length;p++)if(!zn(s[p],f[p]))return!1;return!0}function $g(s,f,p,y,A,C){return si=C,rt=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,I.H=s===null||s.memoizedState===null?MA:lm,cs=!1,C=p(y,A),cs=!1,xl&&(C=XS(f,p,y,A)),$S(s),C}function $S(s){I.H=rc;var f=Dt!==null&&Dt.next!==null;if(si=0,dr=Dt=rt=null,bd=!1,Ju=0,wl=null,f)throw Error(n(300));s===null||hr||(s=s.dependencies,s!==null&&cd(s)&&(hr=!0))}function XS(s,f,p,y){rt=s;var A=0;do{if(xl&&(wl=null),Ju=0,xl=!1,25<=A)throw Error(n(301));if(A+=1,dr=Dt=null,s.updateQueue!=null){var C=s.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}I.H=DA,C=f(p,y)}while(xl);return C}function v5(){var s=I.H,f=s.useState()[0];return f=typeof f.then=="function"?ec(f):f,s=s.useState()[0],(Dt!==null?Dt.memoizedState:null)!==s&&(rt.flags|=1024),f}function Xg(){var s=xd!==0;return xd=0,s}function Kg(s,f,p){f.updateQueue=s.updateQueue,f.flags&=-2053,s.lanes&=~p}function Wg(s){if(bd){for(s=s.memoizedState;s!==null;){var f=s.queue;f!==null&&(f.pending=null),s=s.next}bd=!1}si=0,dr=Dt=rt=null,xl=!1,Ju=xd=0,wl=null}function dn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?rt.memoizedState=dr=s:dr=dr.next=s,dr}function lr(){if(Dt===null){var s=rt.alternate;s=s!==null?s.memoizedState:null}else s=Dt.next;var f=dr===null?rt.memoizedState:dr.next;if(f!==null)dr=f,Dt=s;else{if(s===null)throw rt.alternate===null?Error(n(467)):Error(n(310));Dt=s,s={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},dr===null?rt.memoizedState=dr=s:dr=dr.next=s}return dr}function wd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ec(s){var f=Ju;return Ju+=1,wl===null&&(wl=[]),s=zS(wl,s,f),f=rt,(dr===null?f.memoizedState:dr.next)===null&&(f=f.alternate,I.H=f===null||f.memoizedState===null?MA:lm),s}function Ed(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ec(s);if(s.$$typeof===E)return Vr(s)}throw Error(n(438,String(s)))}function Zg(s){var f=null,p=rt.updateQueue;if(p!==null&&(f=p.memoCache),f==null){var y=rt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(f={data:y.data.map(function(A){return A.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),p===null&&(p=wd(),rt.updateQueue=p),p.memoCache=f,p=f.data[f.index],p===void 0)for(p=f.data[f.index]=Array(s),y=0;y<s;y++)p[y]=R;return f.index++,p}function li(s,f){return typeof f=="function"?f(s):f}function Sd(s){var f=lr();return Qg(f,Dt,s)}function Qg(s,f,p){var y=s.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=p;var A=s.baseQueue,C=y.pending;if(C!==null){if(A!==null){var j=A.next;A.next=C.next,C.next=j}f.baseQueue=A=C,y.pending=null}if(C=s.baseState,A===null)s.memoizedState=C;else{f=A.next;var Y=j=null,ne=null,fe=f,ye=!1;do{var Se=fe.lane&-536870913;if(Se!==fe.lane?(ft&Se)===Se:(si&Se)===Se){var de=fe.revertLane;if(de===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Se===pl&&(ye=!0);else if((si&de)===de){fe=fe.next,de===pl&&(ye=!0);continue}else Se={lane:0,revertLane:fe.revertLane,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},ne===null?(Y=ne=Se,j=C):ne=ne.next=Se,rt.lanes|=de,uo|=de;Se=fe.action,cs&&p(C,Se),C=fe.hasEagerState?fe.eagerState:p(C,Se)}else de={lane:Se,revertLane:fe.revertLane,gesture:fe.gesture,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},ne===null?(Y=ne=de,j=C):ne=ne.next=de,rt.lanes|=Se,uo|=Se;fe=fe.next}while(fe!==null&&fe!==f);if(ne===null?j=C:ne.next=Y,!zn(C,s.memoizedState)&&(hr=!0,ye&&(p=gl,p!==null)))throw p;s.memoizedState=C,s.baseState=j,s.baseQueue=ne,y.lastRenderedState=C}return A===null&&(y.lanes=0),[s.memoizedState,y.dispatch]}function Jg(s){var f=lr(),p=f.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=s;var y=p.dispatch,A=p.pending,C=f.memoizedState;if(A!==null){p.pending=null;var j=A=A.next;do C=s(C,j.action),j=j.next;while(j!==A);zn(C,f.memoizedState)||(hr=!0),f.memoizedState=C,f.baseQueue===null&&(f.baseState=C),p.lastRenderedState=C}return[C,y]}function KS(s,f,p){var y=rt,A=lr(),C=vt;if(C){if(p===void 0)throw Error(n(407));p=p()}else p=f();var j=!zn((Dt||A).memoizedState,p);if(j&&(A.memoizedState=p,hr=!0),A=A.queue,rm(QS.bind(null,y,A,s),[s]),A.getSnapshot!==f||j||dr!==null&&dr.memoizedState.tag&1){if(y.flags|=2048,El(9,{destroy:void 0},ZS.bind(null,y,A,p,f),null),Lt===null)throw Error(n(349));C||(si&127)!==0||WS(y,f,p)}return p}function WS(s,f,p){s.flags|=16384,s={getSnapshot:f,value:p},f=rt.updateQueue,f===null?(f=wd(),rt.updateQueue=f,f.stores=[s]):(p=f.stores,p===null?f.stores=[s]:p.push(s))}function ZS(s,f,p,y){f.value=p,f.getSnapshot=y,JS(f)&&eA(s)}function QS(s,f,p){return p(function(){JS(f)&&eA(s)})}function JS(s){var f=s.getSnapshot;s=s.value;try{var p=f();return!zn(s,p)}catch{return!0}}function eA(s){var f=ts(s,2);f!==null&&On(f,s,2)}function em(s){var f=dn();if(typeof s=="function"){var p=s;if(s=p(),cs){pe(!0);try{p()}finally{pe(!1)}}}return f.memoizedState=f.baseState=s,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:s},f}function tA(s,f,p,y){return s.baseState=p,Qg(s,Dt,typeof y=="function"?y:li)}function p5(s,f,p,y,A){if(Td(s))throw Error(n(485));if(s=f.action,s!==null){var C={payload:A,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){C.listeners.push(j)}};I.T!==null?p(!0):C.isTransition=!1,y(C),p=f.pending,p===null?(C.next=f.pending=C,rA(f,C)):(C.next=p.next,f.pending=p.next=C)}}function rA(s,f){var p=f.action,y=f.payload,A=s.state;if(f.isTransition){var C=I.T,j={};I.T=j;try{var Y=p(A,y),ne=I.S;ne!==null&&ne(j,Y),nA(s,f,Y)}catch(fe){tm(s,f,fe)}finally{C!==null&&j.types!==null&&(C.types=j.types),I.T=C}}else try{C=p(A,y),nA(s,f,C)}catch(fe){tm(s,f,fe)}}function nA(s,f,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){aA(s,f,y)},function(y){return tm(s,f,y)}):aA(s,f,p)}function aA(s,f,p){f.status="fulfilled",f.value=p,iA(f),s.state=p,f=s.pending,f!==null&&(p=f.next,p===f?s.pending=null:(p=p.next,f.next=p,rA(s,p)))}function tm(s,f,p){var y=s.pending;if(s.pending=null,y!==null){y=y.next;do f.status="rejected",f.reason=p,iA(f),f=f.next;while(f!==y)}s.action=null}function iA(s){s=s.listeners;for(var f=0;f<s.length;f++)(0,s[f])()}function oA(s,f){return f}function sA(s,f){if(vt){var p=Lt.formState;if(p!==null){e:{var y=rt;if(vt){if(Ut){t:{for(var A=Ut,C=la;A.nodeType!==8;){if(!C){A=null;break t}if(A=ca(A.nextSibling),A===null){A=null;break t}}C=A.data,A=C==="F!"||C==="F"?A:null}if(A){Ut=ca(A.nextSibling),y=A.data==="F!";break e}}eo(y)}y=!1}y&&(f=p[0])}}return p=dn(),p.memoizedState=p.baseState=f,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oA,lastRenderedState:f},p.queue=y,p=TA.bind(null,rt,y),y.dispatch=p,y=em(!1),C=sm.bind(null,rt,!1,y.queue),y=dn(),A={state:f,dispatch:null,action:s,pending:null},y.queue=A,p=p5.bind(null,rt,A,C,p),A.dispatch=p,y.memoizedState=s,[f,p,!1]}function lA(s){var f=lr();return uA(f,Dt,s)}function uA(s,f,p){if(f=Qg(s,f,oA)[0],s=Sd(li)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var y=ec(f)}catch(j){throw j===ml?hd:j}else y=f;f=lr();var A=f.queue,C=A.dispatch;return p!==f.memoizedState&&(rt.flags|=2048,El(9,{destroy:void 0},g5.bind(null,A,p),null)),[y,C,s]}function g5(s,f){s.action=f}function cA(s){var f=lr(),p=Dt;if(p!==null)return uA(f,p,s);lr(),f=f.memoizedState,p=lr();var y=p.queue.dispatch;return p.memoizedState=s,[f,y,!1]}function El(s,f,p,y){return s={tag:s,create:p,deps:y,inst:f,next:null},f=rt.updateQueue,f===null&&(f=wd(),rt.updateQueue=f),p=f.lastEffect,p===null?f.lastEffect=s.next=s:(y=p.next,p.next=s,s.next=y,f.lastEffect=s),s}function fA(){return lr().memoizedState}function Ad(s,f,p,y){var A=dn();rt.flags|=s,A.memoizedState=El(1|f,{destroy:void 0},p,y===void 0?null:y)}function Cd(s,f,p,y){var A=lr();y=y===void 0?null:y;var C=A.memoizedState.inst;Dt!==null&&y!==null&&Yg(y,Dt.memoizedState.deps)?A.memoizedState=El(f,C,p,y):(rt.flags|=s,A.memoizedState=El(1|f,C,p,y))}function dA(s,f){Ad(8390656,8,s,f)}function rm(s,f){Cd(2048,8,s,f)}function m5(s){rt.flags|=4;var f=rt.updateQueue;if(f===null)f=wd(),rt.updateQueue=f,f.events=[s];else{var p=f.events;p===null?f.events=[s]:p.push(s)}}function hA(s){var f=lr().memoizedState;return m5({ref:f,nextImpl:s}),function(){if((St&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}function vA(s,f){return Cd(4,2,s,f)}function pA(s,f){return Cd(4,4,s,f)}function gA(s,f){if(typeof f=="function"){s=s();var p=f(s);return function(){typeof p=="function"?p():f(null)}}if(f!=null)return s=s(),f.current=s,function(){f.current=null}}function mA(s,f,p){p=p!=null?p.concat([s]):null,Cd(4,4,gA.bind(null,f,s),p)}function nm(){}function yA(s,f){var p=lr();f=f===void 0?null:f;var y=p.memoizedState;return f!==null&&Yg(f,y[1])?y[0]:(p.memoizedState=[s,f],s)}function bA(s,f){var p=lr();f=f===void 0?null:f;var y=p.memoizedState;if(f!==null&&Yg(f,y[1]))return y[0];if(y=s(),cs){pe(!0);try{s()}finally{pe(!1)}}return p.memoizedState=[y,f],y}function am(s,f,p){return p===void 0||(si&1073741824)!==0&&(ft&261930)===0?s.memoizedState=f:(s.memoizedState=p,s=xC(),rt.lanes|=s,uo|=s,p)}function xA(s,f,p,y){return zn(p,f)?p:bl.current!==null?(s=am(s,p,y),zn(s,f)||(hr=!0),s):(si&42)===0||(si&1073741824)!==0&&(ft&261930)===0?(hr=!0,s.memoizedState=p):(s=xC(),rt.lanes|=s,uo|=s,f)}function wA(s,f,p,y,A){var C=z.p;z.p=C!==0&&8>C?C:8;var j=I.T,Y={};I.T=Y,sm(s,!1,f,p);try{var ne=A(),fe=I.S;if(fe!==null&&fe(Y,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var ye=d5(ne,y);tc(s,f,ye,Hn(s))}else tc(s,f,y,Hn(s))}catch(Se){tc(s,f,{then:function(){},status:"rejected",reason:Se},Hn())}finally{z.p=C,j!==null&&Y.types!==null&&(j.types=Y.types),I.T=j}}function y5(){}function im(s,f,p,y){if(s.tag!==5)throw Error(n(476));var A=EA(s).queue;wA(s,A,f,q,p===null?y5:function(){return SA(s),p(y)})}function EA(s){var f=s.memoizedState;if(f!==null)return f;f={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:q},next:null};var p={};return f.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:p},next:null},s.memoizedState=f,s=s.alternate,s!==null&&(s.memoizedState=f),f}function SA(s){var f=EA(s);f.next===null&&(f=s.alternate.memoizedState),tc(s,f.next.queue,{},Hn())}function om(){return Vr(yc)}function AA(){return lr().memoizedState}function CA(){return lr().memoizedState}function b5(s){for(var f=s.return;f!==null;){switch(f.tag){case 24:case 3:var p=Hn();s=no(p);var y=ao(f,s,p);y!==null&&(On(y,f,p),Wu(y,f,p)),f={cache:Lg()},s.payload=f;return}f=f.return}}function x5(s,f,p){var y=Hn();p={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Td(s)?OA(f,p):(p=Ag(s,f,p,y),p!==null&&(On(p,s,y),_A(p,f,y)))}function TA(s,f,p){var y=Hn();tc(s,f,p,y)}function tc(s,f,p,y){var A={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(Td(s))OA(f,A);else{var C=s.alternate;if(s.lanes===0&&(C===null||C.lanes===0)&&(C=f.lastRenderedReducer,C!==null))try{var j=f.lastRenderedState,Y=C(j,p);if(A.hasEagerState=!0,A.eagerState=Y,zn(Y,j))return od(s,f,A,0),Lt===null&&id(),!1}catch{}finally{}if(p=Ag(s,f,A,y),p!==null)return On(p,s,y),_A(p,f,y),!0}return!1}function sm(s,f,p,y){if(y={lane:2,revertLane:jm(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},Td(s)){if(f)throw Error(n(479))}else f=Ag(s,p,y,2),f!==null&&On(f,s,2)}function Td(s){var f=s.alternate;return s===rt||f!==null&&f===rt}function OA(s,f){xl=bd=!0;var p=s.pending;p===null?f.next=f:(f.next=p.next,p.next=f),s.pending=f}function _A(s,f,p){if((p&4194048)!==0){var y=f.lanes;y&=s.pendingLanes,p|=y,f.lanes=p,ir(s,p)}}var rc={readContext:Vr,use:Ed,useCallback:rr,useContext:rr,useEffect:rr,useImperativeHandle:rr,useLayoutEffect:rr,useInsertionEffect:rr,useMemo:rr,useReducer:rr,useRef:rr,useState:rr,useDebugValue:rr,useDeferredValue:rr,useTransition:rr,useSyncExternalStore:rr,useId:rr,useHostTransitionStatus:rr,useFormState:rr,useActionState:rr,useOptimistic:rr,useMemoCache:rr,useCacheRefresh:rr};rc.useEffectEvent=rr;var MA={readContext:Vr,use:Ed,useCallback:function(s,f){return dn().memoizedState=[s,f===void 0?null:f],s},useContext:Vr,useEffect:dA,useImperativeHandle:function(s,f,p){p=p!=null?p.concat([s]):null,Ad(4194308,4,gA.bind(null,f,s),p)},useLayoutEffect:function(s,f){return Ad(4194308,4,s,f)},useInsertionEffect:function(s,f){Ad(4,2,s,f)},useMemo:function(s,f){var p=dn();f=f===void 0?null:f;var y=s();if(cs){pe(!0);try{s()}finally{pe(!1)}}return p.memoizedState=[y,f],y},useReducer:function(s,f,p){var y=dn();if(p!==void 0){var A=p(f);if(cs){pe(!0);try{p(f)}finally{pe(!1)}}}else A=f;return y.memoizedState=y.baseState=A,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:A},y.queue=s,s=s.dispatch=x5.bind(null,rt,s),[y.memoizedState,s]},useRef:function(s){var f=dn();return s={current:s},f.memoizedState=s},useState:function(s){s=em(s);var f=s.queue,p=TA.bind(null,rt,f);return f.dispatch=p,[s.memoizedState,p]},useDebugValue:nm,useDeferredValue:function(s,f){var p=dn();return am(p,s,f)},useTransition:function(){var s=em(!1);return s=wA.bind(null,rt,s.queue,!0,!1),dn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,f,p){var y=rt,A=dn();if(vt){if(p===void 0)throw Error(n(407));p=p()}else{if(p=f(),Lt===null)throw Error(n(349));(ft&127)!==0||WS(y,f,p)}A.memoizedState=p;var C={value:p,getSnapshot:f};return A.queue=C,dA(QS.bind(null,y,C,s),[s]),y.flags|=2048,El(9,{destroy:void 0},ZS.bind(null,y,C,p,f),null),p},useId:function(){var s=dn(),f=Lt.identifierPrefix;if(vt){var p=ja,y=za;p=(y&~(1<<32-ve(y)-1)).toString(32)+p,f="_"+f+"R_"+p,p=xd++,0<p&&(f+="H"+p.toString(32)),f+="_"}else p=h5++,f="_"+f+"r_"+p.toString(32)+"_";return s.memoizedState=f},useHostTransitionStatus:om,useFormState:sA,useActionState:sA,useOptimistic:function(s){var f=dn();f.memoizedState=f.baseState=s;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=p,f=sm.bind(null,rt,!0,p),p.dispatch=f,[s,f]},useMemoCache:Zg,useCacheRefresh:function(){return dn().memoizedState=b5.bind(null,rt)},useEffectEvent:function(s){var f=dn(),p={impl:s};return f.memoizedState=p,function(){if((St&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},lm={readContext:Vr,use:Ed,useCallback:yA,useContext:Vr,useEffect:rm,useImperativeHandle:mA,useInsertionEffect:vA,useLayoutEffect:pA,useMemo:bA,useReducer:Sd,useRef:fA,useState:function(){return Sd(li)},useDebugValue:nm,useDeferredValue:function(s,f){var p=lr();return xA(p,Dt.memoizedState,s,f)},useTransition:function(){var s=Sd(li)[0],f=lr().memoizedState;return[typeof s=="boolean"?s:ec(s),f]},useSyncExternalStore:KS,useId:AA,useHostTransitionStatus:om,useFormState:lA,useActionState:lA,useOptimistic:function(s,f){var p=lr();return tA(p,Dt,s,f)},useMemoCache:Zg,useCacheRefresh:CA};lm.useEffectEvent=hA;var DA={readContext:Vr,use:Ed,useCallback:yA,useContext:Vr,useEffect:rm,useImperativeHandle:mA,useInsertionEffect:vA,useLayoutEffect:pA,useMemo:bA,useReducer:Jg,useRef:fA,useState:function(){return Jg(li)},useDebugValue:nm,useDeferredValue:function(s,f){var p=lr();return Dt===null?am(p,s,f):xA(p,Dt.memoizedState,s,f)},useTransition:function(){var s=Jg(li)[0],f=lr().memoizedState;return[typeof s=="boolean"?s:ec(s),f]},useSyncExternalStore:KS,useId:AA,useHostTransitionStatus:om,useFormState:cA,useActionState:cA,useOptimistic:function(s,f){var p=lr();return Dt!==null?tA(p,Dt,s,f):(p.baseState=s,[s,p.queue.dispatch])},useMemoCache:Zg,useCacheRefresh:CA};DA.useEffectEvent=hA;function um(s,f,p,y){f=s.memoizedState,p=p(y,f),p=p==null?f:h({},f,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var cm={enqueueSetState:function(s,f,p){s=s._reactInternals;var y=Hn(),A=no(y);A.payload=f,p!=null&&(A.callback=p),f=ao(s,A,y),f!==null&&(On(f,s,y),Wu(f,s,y))},enqueueReplaceState:function(s,f,p){s=s._reactInternals;var y=Hn(),A=no(y);A.tag=1,A.payload=f,p!=null&&(A.callback=p),f=ao(s,A,y),f!==null&&(On(f,s,y),Wu(f,s,y))},enqueueForceUpdate:function(s,f){s=s._reactInternals;var p=Hn(),y=no(p);y.tag=2,f!=null&&(y.callback=f),f=ao(s,y,p),f!==null&&(On(f,s,p),Wu(f,s,p))}};function kA(s,f,p,y,A,C,j){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(y,C,j):f.prototype&&f.prototype.isPureReactComponent?!Fu(p,y)||!Fu(A,C):!0}function PA(s,f,p,y){s=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(p,y),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(p,y),f.state!==s&&cm.enqueueReplaceState(f,f.state,null)}function fs(s,f){var p=f;if("ref"in f){p={};for(var y in f)y!=="ref"&&(p[y]=f[y])}if(s=s.defaultProps){p===f&&(p=h({},p));for(var A in s)p[A]===void 0&&(p[A]=s[A])}return p}function NA(s){ad(s)}function RA(s){console.error(s)}function LA(s){ad(s)}function Od(s,f){try{var p=s.onUncaughtError;p(f.value,{componentStack:f.stack})}catch(y){setTimeout(function(){throw y})}}function BA(s,f,p){try{var y=s.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function fm(s,f,p){return p=no(p),p.tag=3,p.payload={element:null},p.callback=function(){Od(s,f)},p}function IA(s){return s=no(s),s.tag=3,s}function zA(s,f,p,y){var A=p.type.getDerivedStateFromError;if(typeof A=="function"){var C=y.value;s.payload=function(){return A(C)},s.callback=function(){BA(f,p,y)}}var j=p.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(s.callback=function(){BA(f,p,y),typeof A!="function"&&(co===null?co=new Set([this]):co.add(this));var Y=y.stack;this.componentDidCatch(y.value,{componentStack:Y!==null?Y:""})})}function w5(s,f,p,y,A){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(f=p.alternate,f!==null&&vl(f,p,A,!0),p=Gn.current,p!==null){switch(p.tag){case 31:case 13:return ua===null?jd():p.alternate===null&&nr===0&&(nr=3),p.flags&=-257,p.flags|=65536,p.lanes=A,y===vd?p.flags|=16384:(f=p.updateQueue,f===null?p.updateQueue=new Set([y]):f.add(y),Bm(s,y,A)),!1;case 22:return p.flags|=65536,y===vd?p.flags|=16384:(f=p.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=f):(p=f.retryQueue,p===null?f.retryQueue=new Set([y]):p.add(y)),Bm(s,y,A)),!1}throw Error(n(435,p.tag))}return Bm(s,y,A),jd(),!1}if(vt)return f=Gn.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=A,y!==Dg&&(s=Error(n(422),{cause:y}),Vu(ia(s,p)))):(y!==Dg&&(f=Error(n(423),{cause:y}),Vu(ia(f,p))),s=s.current.alternate,s.flags|=65536,A&=-A,s.lanes|=A,y=ia(y,p),A=fm(s.stateNode,y,A),Ug(s,A),nr!==4&&(nr=2)),!1;var C=Error(n(520),{cause:y});if(C=ia(C,p),cc===null?cc=[C]:cc.push(C),nr!==4&&(nr=2),f===null)return!0;y=ia(y,p),p=f;do{switch(p.tag){case 3:return p.flags|=65536,s=A&-A,p.lanes|=s,s=fm(p.stateNode,y,s),Ug(p,s),!1;case 1:if(f=p.type,C=p.stateNode,(p.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(co===null||!co.has(C))))return p.flags|=65536,A&=-A,p.lanes|=A,A=IA(A),zA(A,s,p,y),Ug(p,A),!1}p=p.return}while(p!==null);return!1}var dm=Error(n(461)),hr=!1;function Yr(s,f,p,y){f.child=s===null?FS(f,null,p,y):us(f,s.child,p,y)}function jA(s,f,p,y,A){p=p.render;var C=f.ref;if("ref"in y){var j={};for(var Y in y)Y!=="ref"&&(j[Y]=y[Y])}else j=y;return is(f),y=$g(s,f,p,j,C,A),Y=Xg(),s!==null&&!hr?(Kg(s,f,A),ui(s,f,A)):(vt&&Y&&_g(f),f.flags|=1,Yr(s,f,y,A),f.child)}function GA(s,f,p,y,A){if(s===null){var C=p.type;return typeof C=="function"&&!Cg(C)&&C.defaultProps===void 0&&p.compare===null?(f.tag=15,f.type=C,UA(s,f,C,y,A)):(s=ld(p.type,null,y,f,f.mode,A),s.ref=f.ref,s.return=f,f.child=s)}if(C=s.child,!xm(s,A)){var j=C.memoizedProps;if(p=p.compare,p=p!==null?p:Fu,p(j,y)&&s.ref===f.ref)return ui(s,f,A)}return f.flags|=1,s=ni(C,y),s.ref=f.ref,s.return=f,f.child=s}function UA(s,f,p,y,A){if(s!==null){var C=s.memoizedProps;if(Fu(C,y)&&s.ref===f.ref)if(hr=!1,f.pendingProps=y=C,xm(s,A))(s.flags&131072)!==0&&(hr=!0);else return f.lanes=s.lanes,ui(s,f,A)}return hm(s,f,p,y,A)}function FA(s,f,p,y){var A=y.children,C=s!==null?s.memoizedState:null;if(s===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((f.flags&128)!==0){if(C=C!==null?C.baseLanes|p:p,s!==null){for(y=f.child=s.child,A=0;y!==null;)A=A|y.lanes|y.childLanes,y=y.sibling;y=A&~C}else y=0,f.child=null;return qA(s,f,C,p,y)}if((p&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},s!==null&&dd(f,C!==null?C.cachePool:null),C!==null?VS(f,C):qg(),YS(f);else return y=f.lanes=536870912,qA(s,f,C!==null?C.baseLanes|p:p,p,y)}else C!==null?(dd(f,C.cachePool),VS(f,C),oo(),f.memoizedState=null):(s!==null&&dd(f,null),qg(),oo());return Yr(s,f,A,p),f.child}function nc(s,f){return s!==null&&s.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function qA(s,f,p,y,A){var C=Ig();return C=C===null?null:{parent:fr._currentValue,pool:C},f.memoizedState={baseLanes:p,cachePool:C},s!==null&&dd(f,null),qg(),YS(f),s!==null&&vl(s,f,y,!0),f.childLanes=A,null}function _d(s,f){return f=Dd({mode:f.mode,children:f.children},s.mode),f.ref=s.ref,s.child=f,f.return=s,f}function HA(s,f,p){return us(f,s.child,null,p),s=_d(f,f.pendingProps),s.flags|=2,Un(f),f.memoizedState=null,s}function E5(s,f,p){var y=f.pendingProps,A=(f.flags&128)!==0;if(f.flags&=-129,s===null){if(vt){if(y.mode==="hidden")return s=_d(f,y),f.lanes=536870912,nc(null,s);if(Vg(f),(s=Ut)?(s=rT(s,la),s=s!==null&&s.data==="&"?s:null,s!==null&&(f.memoizedState={dehydrated:s,treeContext:Qi!==null?{id:za,overflow:ja}:null,retryLane:536870912,hydrationErrors:null},p=OS(s),p.return=f,f.child=p,Hr=f,Ut=null)):s=null,s===null)throw eo(f);return f.lanes=536870912,null}return _d(f,y)}var C=s.memoizedState;if(C!==null){var j=C.dehydrated;if(Vg(f),A)if(f.flags&256)f.flags&=-257,f=HA(s,f,p);else if(f.memoizedState!==null)f.child=s.child,f.flags|=128,f=null;else throw Error(n(558));else if(hr||vl(s,f,p,!1),A=(p&s.childLanes)!==0,hr||A){if(y=Lt,y!==null&&(j=tr(y,p),j!==0&&j!==C.retryLane))throw C.retryLane=j,ts(s,j),On(y,s,j),dm;jd(),f=HA(s,f,p)}else s=C.treeContext,Ut=ca(j.nextSibling),Hr=f,vt=!0,Ji=null,la=!1,s!==null&&DS(f,s),f=_d(f,y),f.flags|=4096;return f}return s=ni(s.child,{mode:y.mode,children:y.children}),s.ref=f.ref,f.child=s,s.return=f,s}function Md(s,f){var p=f.ref;if(p===null)s!==null&&s.ref!==null&&(f.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(s===null||s.ref!==p)&&(f.flags|=4194816)}}function hm(s,f,p,y,A){return is(f),p=$g(s,f,p,y,void 0,A),y=Xg(),s!==null&&!hr?(Kg(s,f,A),ui(s,f,A)):(vt&&y&&_g(f),f.flags|=1,Yr(s,f,p,A),f.child)}function VA(s,f,p,y,A,C){return is(f),f.updateQueue=null,p=XS(f,y,p,A),$S(s),y=Xg(),s!==null&&!hr?(Kg(s,f,C),ui(s,f,C)):(vt&&y&&_g(f),f.flags|=1,Yr(s,f,p,C),f.child)}function YA(s,f,p,y,A){if(is(f),f.stateNode===null){var C=cl,j=p.contextType;typeof j=="object"&&j!==null&&(C=Vr(j)),C=new p(y,C),f.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=cm,f.stateNode=C,C._reactInternals=f,C=f.stateNode,C.props=y,C.state=f.memoizedState,C.refs={},jg(f),j=p.contextType,C.context=typeof j=="object"&&j!==null?Vr(j):cl,C.state=f.memoizedState,j=p.getDerivedStateFromProps,typeof j=="function"&&(um(f,p,j,y),C.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(j=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),j!==C.state&&cm.enqueueReplaceState(C,C.state,null),Qu(f,y,C,A),Zu(),C.state=f.memoizedState),typeof C.componentDidMount=="function"&&(f.flags|=4194308),y=!0}else if(s===null){C=f.stateNode;var Y=f.memoizedProps,ne=fs(p,Y);C.props=ne;var fe=C.context,ye=p.contextType;j=cl,typeof ye=="object"&&ye!==null&&(j=Vr(ye));var Se=p.getDerivedStateFromProps;ye=typeof Se=="function"||typeof C.getSnapshotBeforeUpdate=="function",Y=f.pendingProps!==Y,ye||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(Y||fe!==j)&&PA(f,C,y,j),ro=!1;var de=f.memoizedState;C.state=de,Qu(f,y,C,A),Zu(),fe=f.memoizedState,Y||de!==fe||ro?(typeof Se=="function"&&(um(f,p,Se,y),fe=f.memoizedState),(ne=ro||kA(f,p,ne,y,de,fe,j))?(ye||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(f.flags|=4194308)):(typeof C.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=y,f.memoizedState=fe),C.props=y,C.state=fe,C.context=j,y=ne):(typeof C.componentDidMount=="function"&&(f.flags|=4194308),y=!1)}else{C=f.stateNode,Gg(s,f),j=f.memoizedProps,ye=fs(p,j),C.props=ye,Se=f.pendingProps,de=C.context,fe=p.contextType,ne=cl,typeof fe=="object"&&fe!==null&&(ne=Vr(fe)),Y=p.getDerivedStateFromProps,(fe=typeof Y=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(j!==Se||de!==ne)&&PA(f,C,y,ne),ro=!1,de=f.memoizedState,C.state=de,Qu(f,y,C,A),Zu();var ge=f.memoizedState;j!==Se||de!==ge||ro||s!==null&&s.dependencies!==null&&cd(s.dependencies)?(typeof Y=="function"&&(um(f,p,Y,y),ge=f.memoizedState),(ye=ro||kA(f,p,ye,y,de,ge,ne)||s!==null&&s.dependencies!==null&&cd(s.dependencies))?(fe||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(y,ge,ne),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(y,ge,ne)),typeof C.componentDidUpdate=="function"&&(f.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof C.componentDidUpdate!="function"||j===s.memoizedProps&&de===s.memoizedState||(f.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&de===s.memoizedState||(f.flags|=1024),f.memoizedProps=y,f.memoizedState=ge),C.props=y,C.state=ge,C.context=ne,y=ye):(typeof C.componentDidUpdate!="function"||j===s.memoizedProps&&de===s.memoizedState||(f.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&de===s.memoizedState||(f.flags|=1024),y=!1)}return C=y,Md(s,f),y=(f.flags&128)!==0,C||y?(C=f.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:C.render(),f.flags|=1,s!==null&&y?(f.child=us(f,s.child,null,A),f.child=us(f,null,p,A)):Yr(s,f,p,A),f.memoizedState=C.state,s=f.child):s=ui(s,f,A),s}function $A(s,f,p,y){return ns(),f.flags|=256,Yr(s,f,p,y),f.child}var vm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pm(s){return{baseLanes:s,cachePool:BS()}}function gm(s,f,p){return s=s!==null?s.childLanes&~p:0,f&&(s|=qn),s}function XA(s,f,p){var y=f.pendingProps,A=!1,C=(f.flags&128)!==0,j;if((j=C)||(j=s!==null&&s.memoizedState===null?!1:(sr.current&2)!==0),j&&(A=!0,f.flags&=-129),j=(f.flags&32)!==0,f.flags&=-33,s===null){if(vt){if(A?io(f):oo(),(s=Ut)?(s=rT(s,la),s=s!==null&&s.data!=="&"?s:null,s!==null&&(f.memoizedState={dehydrated:s,treeContext:Qi!==null?{id:za,overflow:ja}:null,retryLane:536870912,hydrationErrors:null},p=OS(s),p.return=f,f.child=p,Hr=f,Ut=null)):s=null,s===null)throw eo(f);return Qm(s)?f.lanes=32:f.lanes=536870912,null}var Y=y.children;return y=y.fallback,A?(oo(),A=f.mode,Y=Dd({mode:"hidden",children:Y},A),y=rs(y,A,p,null),Y.return=f,y.return=f,Y.sibling=y,f.child=Y,y=f.child,y.memoizedState=pm(p),y.childLanes=gm(s,j,p),f.memoizedState=vm,nc(null,y)):(io(f),mm(f,Y))}var ne=s.memoizedState;if(ne!==null&&(Y=ne.dehydrated,Y!==null)){if(C)f.flags&256?(io(f),f.flags&=-257,f=ym(s,f,p)):f.memoizedState!==null?(oo(),f.child=s.child,f.flags|=128,f=null):(oo(),Y=y.fallback,A=f.mode,y=Dd({mode:"visible",children:y.children},A),Y=rs(Y,A,p,null),Y.flags|=2,y.return=f,Y.return=f,y.sibling=Y,f.child=y,us(f,s.child,null,p),y=f.child,y.memoizedState=pm(p),y.childLanes=gm(s,j,p),f.memoizedState=vm,f=nc(null,y));else if(io(f),Qm(Y)){if(j=Y.nextSibling&&Y.nextSibling.dataset,j)var fe=j.dgst;j=fe,y=Error(n(419)),y.stack="",y.digest=j,Vu({value:y,source:null,stack:null}),f=ym(s,f,p)}else if(hr||vl(s,f,p,!1),j=(p&s.childLanes)!==0,hr||j){if(j=Lt,j!==null&&(y=tr(j,p),y!==0&&y!==ne.retryLane))throw ne.retryLane=y,ts(s,y),On(j,s,y),dm;Zm(Y)||jd(),f=ym(s,f,p)}else Zm(Y)?(f.flags|=192,f.child=s.child,f=null):(s=ne.treeContext,Ut=ca(Y.nextSibling),Hr=f,vt=!0,Ji=null,la=!1,s!==null&&DS(f,s),f=mm(f,y.children),f.flags|=4096);return f}return A?(oo(),Y=y.fallback,A=f.mode,ne=s.child,fe=ne.sibling,y=ni(ne,{mode:"hidden",children:y.children}),y.subtreeFlags=ne.subtreeFlags&65011712,fe!==null?Y=ni(fe,Y):(Y=rs(Y,A,p,null),Y.flags|=2),Y.return=f,y.return=f,y.sibling=Y,f.child=y,nc(null,y),y=f.child,Y=s.child.memoizedState,Y===null?Y=pm(p):(A=Y.cachePool,A!==null?(ne=fr._currentValue,A=A.parent!==ne?{parent:ne,pool:ne}:A):A=BS(),Y={baseLanes:Y.baseLanes|p,cachePool:A}),y.memoizedState=Y,y.childLanes=gm(s,j,p),f.memoizedState=vm,nc(s.child,y)):(io(f),p=s.child,s=p.sibling,p=ni(p,{mode:"visible",children:y.children}),p.return=f,p.sibling=null,s!==null&&(j=f.deletions,j===null?(f.deletions=[s],f.flags|=16):j.push(s)),f.child=p,f.memoizedState=null,p)}function mm(s,f){return f=Dd({mode:"visible",children:f},s.mode),f.return=s,s.child=f}function Dd(s,f){return s=jn(22,s,null,f),s.lanes=0,s}function ym(s,f,p){return us(f,s.child,null,p),s=mm(f,f.pendingProps.children),s.flags|=2,f.memoizedState=null,s}function KA(s,f,p){s.lanes|=f;var y=s.alternate;y!==null&&(y.lanes|=f),Ng(s.return,f,p)}function bm(s,f,p,y,A,C){var j=s.memoizedState;j===null?s.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:A,treeForkCount:C}:(j.isBackwards=f,j.rendering=null,j.renderingStartTime=0,j.last=y,j.tail=p,j.tailMode=A,j.treeForkCount=C)}function WA(s,f,p){var y=f.pendingProps,A=y.revealOrder,C=y.tail;y=y.children;var j=sr.current,Y=(j&2)!==0;if(Y?(j=j&1|2,f.flags|=128):j&=1,Q(sr,j),Yr(s,f,y,p),y=vt?Hu:0,!Y&&s!==null&&(s.flags&128)!==0)e:for(s=f.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&KA(s,p,f);else if(s.tag===19)KA(s,p,f);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===f)break e;for(;s.sibling===null;){if(s.return===null||s.return===f)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(A){case"forwards":for(p=f.child,A=null;p!==null;)s=p.alternate,s!==null&&yd(s)===null&&(A=p),p=p.sibling;p=A,p===null?(A=f.child,f.child=null):(A=p.sibling,p.sibling=null),bm(f,!1,A,p,C,y);break;case"backwards":case"unstable_legacy-backwards":for(p=null,A=f.child,f.child=null;A!==null;){if(s=A.alternate,s!==null&&yd(s)===null){f.child=A;break}s=A.sibling,A.sibling=p,p=A,A=s}bm(f,!0,p,null,C,y);break;case"together":bm(f,!1,null,null,void 0,y);break;default:f.memoizedState=null}return f.child}function ui(s,f,p){if(s!==null&&(f.dependencies=s.dependencies),uo|=f.lanes,(p&f.childLanes)===0)if(s!==null){if(vl(s,f,p,!1),(p&f.childLanes)===0)return null}else return null;if(s!==null&&f.child!==s.child)throw Error(n(153));if(f.child!==null){for(s=f.child,p=ni(s,s.pendingProps),f.child=p,p.return=f;s.sibling!==null;)s=s.sibling,p=p.sibling=ni(s,s.pendingProps),p.return=f;p.sibling=null}return f.child}function xm(s,f){return(s.lanes&f)!==0?!0:(s=s.dependencies,!!(s!==null&&cd(s)))}function S5(s,f,p){switch(f.tag){case 3:xe(f,f.stateNode.containerInfo),to(f,fr,s.memoizedState.cache),ns();break;case 27:case 5:re(f);break;case 4:xe(f,f.stateNode.containerInfo);break;case 10:to(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,Vg(f),null;break;case 13:var y=f.memoizedState;if(y!==null)return y.dehydrated!==null?(io(f),f.flags|=128,null):(p&f.child.childLanes)!==0?XA(s,f,p):(io(f),s=ui(s,f,p),s!==null?s.sibling:null);io(f);break;case 19:var A=(s.flags&128)!==0;if(y=(p&f.childLanes)!==0,y||(vl(s,f,p,!1),y=(p&f.childLanes)!==0),A){if(y)return WA(s,f,p);f.flags|=128}if(A=f.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Q(sr,sr.current),y)break;return null;case 22:return f.lanes=0,FA(s,f,p,f.pendingProps);case 24:to(f,fr,s.memoizedState.cache)}return ui(s,f,p)}function ZA(s,f,p){if(s!==null)if(s.memoizedProps!==f.pendingProps)hr=!0;else{if(!xm(s,p)&&(f.flags&128)===0)return hr=!1,S5(s,f,p);hr=(s.flags&131072)!==0}else hr=!1,vt&&(f.flags&1048576)!==0&&MS(f,Hu,f.index);switch(f.lanes=0,f.tag){case 16:e:{var y=f.pendingProps;if(s=ss(f.elementType),f.type=s,typeof s=="function")Cg(s)?(y=fs(s,y),f.tag=1,f=YA(null,f,s,y,p)):(f.tag=0,f=hm(null,f,s,y,p));else{if(s!=null){var A=s.$$typeof;if(A===O){f.tag=11,f=jA(null,f,s,y,p);break e}else if(A===T){f.tag=14,f=GA(null,f,s,y,p);break e}}throw f=B(s)||s,Error(n(306,f,""))}}return f;case 0:return hm(s,f,f.type,f.pendingProps,p);case 1:return y=f.type,A=fs(y,f.pendingProps),YA(s,f,y,A,p);case 3:e:{if(xe(f,f.stateNode.containerInfo),s===null)throw Error(n(387));y=f.pendingProps;var C=f.memoizedState;A=C.element,Gg(s,f),Qu(f,y,null,p);var j=f.memoizedState;if(y=j.cache,to(f,fr,y),y!==C.cache&&Rg(f,[fr],p,!0),Zu(),y=j.element,C.isDehydrated)if(C={element:y,isDehydrated:!1,cache:j.cache},f.updateQueue.baseState=C,f.memoizedState=C,f.flags&256){f=$A(s,f,y,p);break e}else if(y!==A){A=ia(Error(n(424)),f),Vu(A),f=$A(s,f,y,p);break e}else{switch(s=f.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ut=ca(s.firstChild),Hr=f,vt=!0,Ji=null,la=!0,p=FS(f,null,y,p),f.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(ns(),y===A){f=ui(s,f,p);break e}Yr(s,f,y,p)}f=f.child}return f;case 26:return Md(s,f),s===null?(p=lT(f.type,null,f.pendingProps,null))?f.memoizedState=p:vt||(p=f.type,s=f.pendingProps,y=Yd(ie.current).createElement(p),y[Yt]=f,y[yr]=s,$r(y,p,s),cr(y),f.stateNode=y):f.memoizedState=lT(f.type,s.memoizedProps,f.pendingProps,s.memoizedState),null;case 27:return re(f),s===null&&vt&&(y=f.stateNode=iT(f.type,f.pendingProps,ie.current),Hr=f,la=!0,A=Ut,po(f.type)?(Jm=A,Ut=ca(y.firstChild)):Ut=A),Yr(s,f,f.pendingProps.children,p),Md(s,f),s===null&&(f.flags|=4194304),f.child;case 5:return s===null&&vt&&((A=y=Ut)&&(y=J5(y,f.type,f.pendingProps,la),y!==null?(f.stateNode=y,Hr=f,Ut=ca(y.firstChild),la=!1,A=!0):A=!1),A||eo(f)),re(f),A=f.type,C=f.pendingProps,j=s!==null?s.memoizedProps:null,y=C.children,Xm(A,C)?y=null:j!==null&&Xm(A,j)&&(f.flags|=32),f.memoizedState!==null&&(A=$g(s,f,v5,null,null,p),yc._currentValue=A),Md(s,f),Yr(s,f,y,p),f.child;case 6:return s===null&&vt&&((s=p=Ut)&&(p=ej(p,f.pendingProps,la),p!==null?(f.stateNode=p,Hr=f,Ut=null,s=!0):s=!1),s||eo(f)),null;case 13:return XA(s,f,p);case 4:return xe(f,f.stateNode.containerInfo),y=f.pendingProps,s===null?f.child=us(f,null,y,p):Yr(s,f,y,p),f.child;case 11:return jA(s,f,f.type,f.pendingProps,p);case 7:return Yr(s,f,f.pendingProps,p),f.child;case 8:return Yr(s,f,f.pendingProps.children,p),f.child;case 12:return Yr(s,f,f.pendingProps.children,p),f.child;case 10:return y=f.pendingProps,to(f,f.type,y.value),Yr(s,f,y.children,p),f.child;case 9:return A=f.type._context,y=f.pendingProps.children,is(f),A=Vr(A),y=y(A),f.flags|=1,Yr(s,f,y,p),f.child;case 14:return GA(s,f,f.type,f.pendingProps,p);case 15:return UA(s,f,f.type,f.pendingProps,p);case 19:return WA(s,f,p);case 31:return E5(s,f,p);case 22:return FA(s,f,p,f.pendingProps);case 24:return is(f),y=Vr(fr),s===null?(A=Ig(),A===null&&(A=Lt,C=Lg(),A.pooledCache=C,C.refCount++,C!==null&&(A.pooledCacheLanes|=p),A=C),f.memoizedState={parent:y,cache:A},jg(f),to(f,fr,A)):((s.lanes&p)!==0&&(Gg(s,f),Qu(f,null,null,p),Zu()),A=s.memoizedState,C=f.memoizedState,A.parent!==y?(A={parent:y,cache:y},f.memoizedState=A,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=A),to(f,fr,y)):(y=C.cache,to(f,fr,y),y!==A.cache&&Rg(f,[fr],p,!0))),Yr(s,f,f.pendingProps.children,p),f.child;case 29:throw f.pendingProps}throw Error(n(156,f.tag))}function ci(s){s.flags|=4}function wm(s,f,p,y,A){if((f=(s.mode&32)!==0)&&(f=!1),f){if(s.flags|=16777216,(A&335544128)===A)if(s.stateNode.complete)s.flags|=8192;else if(AC())s.flags|=8192;else throw ls=vd,zg}else s.flags&=-16777217}function QA(s,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!hT(f))if(AC())s.flags|=8192;else throw ls=vd,zg}function kd(s,f){f!==null&&(s.flags|=4),s.flags&16384&&(f=s.tag!==22?at():536870912,s.lanes|=f,Tl|=f)}function ac(s,f){if(!vt)switch(s.tailMode){case"hidden":f=s.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?f||s.tail===null?s.tail=null:s.tail.sibling=null:y.sibling=null}}function Ft(s){var f=s.alternate!==null&&s.alternate.child===s.child,p=0,y=0;if(f)for(var A=s.child;A!==null;)p|=A.lanes|A.childLanes,y|=A.subtreeFlags&65011712,y|=A.flags&65011712,A.return=s,A=A.sibling;else for(A=s.child;A!==null;)p|=A.lanes|A.childLanes,y|=A.subtreeFlags,y|=A.flags,A.return=s,A=A.sibling;return s.subtreeFlags|=y,s.childLanes=p,f}function A5(s,f,p){var y=f.pendingProps;switch(Mg(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(f),null;case 1:return Ft(f),null;case 3:return p=f.stateNode,y=null,s!==null&&(y=s.memoizedState.cache),f.memoizedState.cache!==y&&(f.flags|=2048),oi(fr),Z(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(hl(f)?ci(f):s===null||s.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,kg())),Ft(f),null;case 26:var A=f.type,C=f.memoizedState;return s===null?(ci(f),C!==null?(Ft(f),QA(f,C)):(Ft(f),wm(f,A,null,y,p))):C?C!==s.memoizedState?(ci(f),Ft(f),QA(f,C)):(Ft(f),f.flags&=-16777217):(s=s.memoizedProps,s!==y&&ci(f),Ft(f),wm(f,A,s,y,p)),null;case 27:if(J(f),p=ie.current,A=f.type,s!==null&&f.stateNode!=null)s.memoizedProps!==y&&ci(f);else{if(!y){if(f.stateNode===null)throw Error(n(166));return Ft(f),null}s=ee.current,hl(f)?kS(f):(s=iT(A,y,p),f.stateNode=s,ci(f))}return Ft(f),null;case 5:if(J(f),A=f.type,s!==null&&f.stateNode!=null)s.memoizedProps!==y&&ci(f);else{if(!y){if(f.stateNode===null)throw Error(n(166));return Ft(f),null}if(C=ee.current,hl(f))kS(f);else{var j=Yd(ie.current);switch(C){case 1:C=j.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:C=j.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":C=j.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":C=j.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":C=j.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof y.is=="string"?j.createElement("select",{is:y.is}):j.createElement("select"),y.multiple?C.multiple=!0:y.size&&(C.size=y.size);break;default:C=typeof y.is=="string"?j.createElement(A,{is:y.is}):j.createElement(A)}}C[Yt]=f,C[yr]=y;e:for(j=f.child;j!==null;){if(j.tag===5||j.tag===6)C.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===f)break e;for(;j.sibling===null;){if(j.return===null||j.return===f)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}f.stateNode=C;e:switch($r(C,A,y),A){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&ci(f)}}return Ft(f),wm(f,f.type,s===null?null:s.memoizedProps,f.pendingProps,p),null;case 6:if(s&&f.stateNode!=null)s.memoizedProps!==y&&ci(f);else{if(typeof y!="string"&&f.stateNode===null)throw Error(n(166));if(s=ie.current,hl(f)){if(s=f.stateNode,p=f.memoizedProps,y=null,A=Hr,A!==null)switch(A.tag){case 27:case 5:y=A.memoizedProps}s[Yt]=f,s=!!(s.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||XC(s.nodeValue,p)),s||eo(f,!0)}else s=Yd(s).createTextNode(y),s[Yt]=f,f.stateNode=s}return Ft(f),null;case 31:if(p=f.memoizedState,s===null||s.memoizedState!==null){if(y=hl(f),p!==null){if(s===null){if(!y)throw Error(n(318));if(s=f.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[Yt]=f}else ns(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Ft(f),s=!1}else p=kg(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),s=!0;if(!s)return f.flags&256?(Un(f),f):(Un(f),null);if((f.flags&128)!==0)throw Error(n(558))}return Ft(f),null;case 13:if(y=f.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(A=hl(f),y!==null&&y.dehydrated!==null){if(s===null){if(!A)throw Error(n(318));if(A=f.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[Yt]=f}else ns(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Ft(f),A=!1}else A=kg(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=A),A=!0;if(!A)return f.flags&256?(Un(f),f):(Un(f),null)}return Un(f),(f.flags&128)!==0?(f.lanes=p,f):(p=y!==null,s=s!==null&&s.memoizedState!==null,p&&(y=f.child,A=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(A=y.alternate.memoizedState.cachePool.pool),C=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(C=y.memoizedState.cachePool.pool),C!==A&&(y.flags|=2048)),p!==s&&p&&(f.child.flags|=8192),kd(f,f.updateQueue),Ft(f),null);case 4:return Z(),s===null&&qm(f.stateNode.containerInfo),Ft(f),null;case 10:return oi(f.type),Ft(f),null;case 19:if(V(sr),y=f.memoizedState,y===null)return Ft(f),null;if(A=(f.flags&128)!==0,C=y.rendering,C===null)if(A)ac(y,!1);else{if(nr!==0||s!==null&&(s.flags&128)!==0)for(s=f.child;s!==null;){if(C=yd(s),C!==null){for(f.flags|=128,ac(y,!1),s=C.updateQueue,f.updateQueue=s,kd(f,s),f.subtreeFlags=0,s=p,p=f.child;p!==null;)TS(p,s),p=p.sibling;return Q(sr,sr.current&1|2),vt&&ai(f,y.treeForkCount),f.child}s=s.sibling}y.tail!==null&&De()>Bd&&(f.flags|=128,A=!0,ac(y,!1),f.lanes=4194304)}else{if(!A)if(s=yd(C),s!==null){if(f.flags|=128,A=!0,s=s.updateQueue,f.updateQueue=s,kd(f,s),ac(y,!0),y.tail===null&&y.tailMode==="hidden"&&!C.alternate&&!vt)return Ft(f),null}else 2*De()-y.renderingStartTime>Bd&&p!==536870912&&(f.flags|=128,A=!0,ac(y,!1),f.lanes=4194304);y.isBackwards?(C.sibling=f.child,f.child=C):(s=y.last,s!==null?s.sibling=C:f.child=C,y.last=C)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=De(),s.sibling=null,p=sr.current,Q(sr,A?p&1|2:p&1),vt&&ai(f,y.treeForkCount),s):(Ft(f),null);case 22:case 23:return Un(f),Hg(),y=f.memoizedState!==null,s!==null?s.memoizedState!==null!==y&&(f.flags|=8192):y&&(f.flags|=8192),y?(p&536870912)!==0&&(f.flags&128)===0&&(Ft(f),f.subtreeFlags&6&&(f.flags|=8192)):Ft(f),p=f.updateQueue,p!==null&&kd(f,p.retryQueue),p=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),y=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==p&&(f.flags|=2048),s!==null&&V(os),null;case 24:return p=null,s!==null&&(p=s.memoizedState.cache),f.memoizedState.cache!==p&&(f.flags|=2048),oi(fr),Ft(f),null;case 25:return null;case 30:return null}throw Error(n(156,f.tag))}function C5(s,f){switch(Mg(f),f.tag){case 1:return s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 3:return oi(fr),Z(),s=f.flags,(s&65536)!==0&&(s&128)===0?(f.flags=s&-65537|128,f):null;case 26:case 27:case 5:return J(f),null;case 31:if(f.memoizedState!==null){if(Un(f),f.alternate===null)throw Error(n(340));ns()}return s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 13:if(Un(f),s=f.memoizedState,s!==null&&s.dehydrated!==null){if(f.alternate===null)throw Error(n(340));ns()}return s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 19:return V(sr),null;case 4:return Z(),null;case 10:return oi(f.type),null;case 22:case 23:return Un(f),Hg(),s!==null&&V(os),s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 24:return oi(fr),null;case 25:return null;default:return null}}function JA(s,f){switch(Mg(f),f.tag){case 3:oi(fr),Z();break;case 26:case 27:case 5:J(f);break;case 4:Z();break;case 31:f.memoizedState!==null&&Un(f);break;case 13:Un(f);break;case 19:V(sr);break;case 10:oi(f.type);break;case 22:case 23:Un(f),Hg(),s!==null&&V(os);break;case 24:oi(fr)}}function ic(s,f){try{var p=f.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var A=y.next;p=A;do{if((p.tag&s)===s){y=void 0;var C=p.create,j=p.inst;y=C(),j.destroy=y}p=p.next}while(p!==A)}}catch(Y){Ot(f,f.return,Y)}}function so(s,f,p){try{var y=f.updateQueue,A=y!==null?y.lastEffect:null;if(A!==null){var C=A.next;y=C;do{if((y.tag&s)===s){var j=y.inst,Y=j.destroy;if(Y!==void 0){j.destroy=void 0,A=f;var ne=p,fe=Y;try{fe()}catch(ye){Ot(A,ne,ye)}}}y=y.next}while(y!==C)}}catch(ye){Ot(f,f.return,ye)}}function eC(s){var f=s.updateQueue;if(f!==null){var p=s.stateNode;try{HS(f,p)}catch(y){Ot(s,s.return,y)}}}function tC(s,f,p){p.props=fs(s.type,s.memoizedProps),p.state=s.memoizedState;try{p.componentWillUnmount()}catch(y){Ot(s,f,y)}}function oc(s,f){try{var p=s.ref;if(p!==null){switch(s.tag){case 26:case 27:case 5:var y=s.stateNode;break;case 30:y=s.stateNode;break;default:y=s.stateNode}typeof p=="function"?s.refCleanup=p(y):p.current=y}}catch(A){Ot(s,f,A)}}function Ga(s,f){var p=s.ref,y=s.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(A){Ot(s,f,A)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(A){Ot(s,f,A)}else p.current=null}function rC(s){var f=s.type,p=s.memoizedProps,y=s.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(A){Ot(s,s.return,A)}}function Em(s,f,p){try{var y=s.stateNode;$5(y,s.type,p,f),y[yr]=f}catch(A){Ot(s,s.return,A)}}function nC(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&po(s.type)||s.tag===4}function Sm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||nC(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&po(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Am(s,f,p){var y=s.tag;if(y===5||y===6)s=s.stateNode,f?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(s,f):(f=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,f.appendChild(s),p=p._reactRootContainer,p!=null||f.onclick!==null||(f.onclick=ti));else if(y!==4&&(y===27&&po(s.type)&&(p=s.stateNode,f=null),s=s.child,s!==null))for(Am(s,f,p),s=s.sibling;s!==null;)Am(s,f,p),s=s.sibling}function Pd(s,f,p){var y=s.tag;if(y===5||y===6)s=s.stateNode,f?p.insertBefore(s,f):p.appendChild(s);else if(y!==4&&(y===27&&po(s.type)&&(p=s.stateNode),s=s.child,s!==null))for(Pd(s,f,p),s=s.sibling;s!==null;)Pd(s,f,p),s=s.sibling}function aC(s){var f=s.stateNode,p=s.memoizedProps;try{for(var y=s.type,A=f.attributes;A.length;)f.removeAttributeNode(A[0]);$r(f,y,p),f[Yt]=s,f[yr]=p}catch(C){Ot(s,s.return,C)}}var fi=!1,vr=!1,Cm=!1,iC=typeof WeakSet=="function"?WeakSet:Set,Br=null;function T5(s,f){if(s=s.containerInfo,Ym=Jd,s=mS(s),yg(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var A=y.anchorOffset,C=y.focusNode;y=y.focusOffset;try{p.nodeType,C.nodeType}catch{p=null;break e}var j=0,Y=-1,ne=-1,fe=0,ye=0,Se=s,de=null;t:for(;;){for(var ge;Se!==p||A!==0&&Se.nodeType!==3||(Y=j+A),Se!==C||y!==0&&Se.nodeType!==3||(ne=j+y),Se.nodeType===3&&(j+=Se.nodeValue.length),(ge=Se.firstChild)!==null;)de=Se,Se=ge;for(;;){if(Se===s)break t;if(de===p&&++fe===A&&(Y=j),de===C&&++ye===y&&(ne=j),(ge=Se.nextSibling)!==null)break;Se=de,de=Se.parentNode}Se=ge}p=Y===-1||ne===-1?null:{start:Y,end:ne}}else p=null}p=p||{start:0,end:0}}else p=null;for($m={focusedElem:s,selectionRange:p},Jd=!1,Br=f;Br!==null;)if(f=Br,s=f.child,(f.subtreeFlags&1028)!==0&&s!==null)s.return=f,Br=s;else for(;Br!==null;){switch(f=Br,C=f.alternate,s=f.flags,f.tag){case 0:if((s&4)!==0&&(s=f.updateQueue,s=s!==null?s.events:null,s!==null))for(p=0;p<s.length;p++)A=s[p],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&C!==null){s=void 0,p=f,A=C.memoizedProps,C=C.memoizedState,y=p.stateNode;try{var je=fs(p.type,A);s=y.getSnapshotBeforeUpdate(je,C),y.__reactInternalSnapshotBeforeUpdate=s}catch(Ke){Ot(p,p.return,Ke)}}break;case 3:if((s&1024)!==0){if(s=f.stateNode.containerInfo,p=s.nodeType,p===9)Wm(s);else if(p===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Wm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=f.sibling,s!==null){s.return=f.return,Br=s;break}Br=f.return}}function oC(s,f,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:hi(s,p),y&4&&ic(5,p);break;case 1:if(hi(s,p),y&4)if(s=p.stateNode,f===null)try{s.componentDidMount()}catch(j){Ot(p,p.return,j)}else{var A=fs(p.type,f.memoizedProps);f=f.memoizedState;try{s.componentDidUpdate(A,f,s.__reactInternalSnapshotBeforeUpdate)}catch(j){Ot(p,p.return,j)}}y&64&&eC(p),y&512&&oc(p,p.return);break;case 3:if(hi(s,p),y&64&&(s=p.updateQueue,s!==null)){if(f=null,p.child!==null)switch(p.child.tag){case 27:case 5:f=p.child.stateNode;break;case 1:f=p.child.stateNode}try{HS(s,f)}catch(j){Ot(p,p.return,j)}}break;case 27:f===null&&y&4&&aC(p);case 26:case 5:hi(s,p),f===null&&y&4&&rC(p),y&512&&oc(p,p.return);break;case 12:hi(s,p);break;case 31:hi(s,p),y&4&&uC(s,p);break;case 13:hi(s,p),y&4&&cC(s,p),y&64&&(s=p.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(p=L5.bind(null,p),tj(s,p))));break;case 22:if(y=p.memoizedState!==null||fi,!y){f=f!==null&&f.memoizedState!==null||vr,A=fi;var C=vr;fi=y,(vr=f)&&!C?vi(s,p,(p.subtreeFlags&8772)!==0):hi(s,p),fi=A,vr=C}break;case 30:break;default:hi(s,p)}}function sC(s){var f=s.alternate;f!==null&&(s.alternate=null,sC(f)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(f=s.stateNode,f!==null&&el(f)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var $t=null,Sn=!1;function di(s,f,p){for(p=p.child;p!==null;)lC(s,f,p),p=p.sibling}function lC(s,f,p){if(le&&typeof le.onCommitFiberUnmount=="function")try{le.onCommitFiberUnmount($,p)}catch{}switch(p.tag){case 26:vr||Ga(p,f),di(s,f,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:vr||Ga(p,f);var y=$t,A=Sn;po(p.type)&&($t=p.stateNode,Sn=!1),di(s,f,p),pc(p.stateNode),$t=y,Sn=A;break;case 5:vr||Ga(p,f);case 6:if(y=$t,A=Sn,$t=null,di(s,f,p),$t=y,Sn=A,$t!==null)if(Sn)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(p.stateNode)}catch(C){Ot(p,f,C)}else try{$t.removeChild(p.stateNode)}catch(C){Ot(p,f,C)}break;case 18:$t!==null&&(Sn?(s=$t,eT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,p.stateNode),Rl(s)):eT($t,p.stateNode));break;case 4:y=$t,A=Sn,$t=p.stateNode.containerInfo,Sn=!0,di(s,f,p),$t=y,Sn=A;break;case 0:case 11:case 14:case 15:so(2,p,f),vr||so(4,p,f),di(s,f,p);break;case 1:vr||(Ga(p,f),y=p.stateNode,typeof y.componentWillUnmount=="function"&&tC(p,f,y)),di(s,f,p);break;case 21:di(s,f,p);break;case 22:vr=(y=vr)||p.memoizedState!==null,di(s,f,p),vr=y;break;default:di(s,f,p)}}function uC(s,f){if(f.memoizedState===null&&(s=f.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Rl(s)}catch(p){Ot(f,f.return,p)}}}function cC(s,f){if(f.memoizedState===null&&(s=f.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Rl(s)}catch(p){Ot(f,f.return,p)}}function O5(s){switch(s.tag){case 31:case 13:case 19:var f=s.stateNode;return f===null&&(f=s.stateNode=new iC),f;case 22:return s=s.stateNode,f=s._retryCache,f===null&&(f=s._retryCache=new iC),f;default:throw Error(n(435,s.tag))}}function Nd(s,f){var p=O5(s);f.forEach(function(y){if(!p.has(y)){p.add(y);var A=B5.bind(null,s,y);y.then(A,A)}})}function An(s,f){var p=f.deletions;if(p!==null)for(var y=0;y<p.length;y++){var A=p[y],C=s,j=f,Y=j;e:for(;Y!==null;){switch(Y.tag){case 27:if(po(Y.type)){$t=Y.stateNode,Sn=!1;break e}break;case 5:$t=Y.stateNode,Sn=!1;break e;case 3:case 4:$t=Y.stateNode.containerInfo,Sn=!0;break e}Y=Y.return}if($t===null)throw Error(n(160));lC(C,j,A),$t=null,Sn=!1,C=A.alternate,C!==null&&(C.return=null),A.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)fC(f,s),f=f.sibling}var Oa=null;function fC(s,f){var p=s.alternate,y=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:An(f,s),Cn(s),y&4&&(so(3,s,s.return),ic(3,s),so(5,s,s.return));break;case 1:An(f,s),Cn(s),y&512&&(vr||p===null||Ga(p,p.return)),y&64&&fi&&(s=s.updateQueue,s!==null&&(y=s.callbacks,y!==null&&(p=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var A=Oa;if(An(f,s),Cn(s),y&512&&(vr||p===null||Ga(p,p.return)),y&4){var C=p!==null?p.memoizedState:null;if(y=s.memoizedState,p===null)if(y===null)if(s.stateNode===null){e:{y=s.type,p=s.memoizedProps,A=A.ownerDocument||A;t:switch(y){case"title":C=A.getElementsByTagName("title")[0],(!C||C[Rr]||C[Yt]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=A.createElement(y),A.head.insertBefore(C,A.querySelector("head > title"))),$r(C,y,p),C[Yt]=s,cr(C),y=C;break e;case"link":var j=fT("link","href",A).get(y+(p.href||""));if(j){for(var Y=0;Y<j.length;Y++)if(C=j[Y],C.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&C.getAttribute("rel")===(p.rel==null?null:p.rel)&&C.getAttribute("title")===(p.title==null?null:p.title)&&C.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){j.splice(Y,1);break t}}C=A.createElement(y),$r(C,y,p),A.head.appendChild(C);break;case"meta":if(j=fT("meta","content",A).get(y+(p.content||""))){for(Y=0;Y<j.length;Y++)if(C=j[Y],C.getAttribute("content")===(p.content==null?null:""+p.content)&&C.getAttribute("name")===(p.name==null?null:p.name)&&C.getAttribute("property")===(p.property==null?null:p.property)&&C.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&C.getAttribute("charset")===(p.charSet==null?null:p.charSet)){j.splice(Y,1);break t}}C=A.createElement(y),$r(C,y,p),A.head.appendChild(C);break;default:throw Error(n(468,y))}C[Yt]=s,cr(C),y=C}s.stateNode=y}else dT(A,s.type,s.stateNode);else s.stateNode=cT(A,y,s.memoizedProps);else C!==y?(C===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):C.count--,y===null?dT(A,s.type,s.stateNode):cT(A,y,s.memoizedProps)):y===null&&s.stateNode!==null&&Em(s,s.memoizedProps,p.memoizedProps)}break;case 27:An(f,s),Cn(s),y&512&&(vr||p===null||Ga(p,p.return)),p!==null&&y&4&&Em(s,s.memoizedProps,p.memoizedProps);break;case 5:if(An(f,s),Cn(s),y&512&&(vr||p===null||Ga(p,p.return)),s.flags&32){A=s.stateNode;try{nl(A,"")}catch(je){Ot(s,s.return,je)}}y&4&&s.stateNode!=null&&(A=s.memoizedProps,Em(s,A,p!==null?p.memoizedProps:A)),y&1024&&(Cm=!0);break;case 6:if(An(f,s),Cn(s),y&4){if(s.stateNode===null)throw Error(n(162));y=s.memoizedProps,p=s.stateNode;try{p.nodeValue=y}catch(je){Ot(s,s.return,je)}}break;case 3:if(Kd=null,A=Oa,Oa=$d(f.containerInfo),An(f,s),Oa=A,Cn(s),y&4&&p!==null&&p.memoizedState.isDehydrated)try{Rl(f.containerInfo)}catch(je){Ot(s,s.return,je)}Cm&&(Cm=!1,dC(s));break;case 4:y=Oa,Oa=$d(s.stateNode.containerInfo),An(f,s),Cn(s),Oa=y;break;case 12:An(f,s),Cn(s);break;case 31:An(f,s),Cn(s),y&4&&(y=s.updateQueue,y!==null&&(s.updateQueue=null,Nd(s,y)));break;case 13:An(f,s),Cn(s),s.child.flags&8192&&s.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Ld=De()),y&4&&(y=s.updateQueue,y!==null&&(s.updateQueue=null,Nd(s,y)));break;case 22:A=s.memoizedState!==null;var ne=p!==null&&p.memoizedState!==null,fe=fi,ye=vr;if(fi=fe||A,vr=ye||ne,An(f,s),vr=ye,fi=fe,Cn(s),y&8192)e:for(f=s.stateNode,f._visibility=A?f._visibility&-2:f._visibility|1,A&&(p===null||ne||fi||vr||ds(s)),p=null,f=s;;){if(f.tag===5||f.tag===26){if(p===null){ne=p=f;try{if(C=ne.stateNode,A)j=C.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{Y=ne.stateNode;var Se=ne.memoizedProps.style,de=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;Y.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(je){Ot(ne,ne.return,je)}}}else if(f.tag===6){if(p===null){ne=f;try{ne.stateNode.nodeValue=A?"":ne.memoizedProps}catch(je){Ot(ne,ne.return,je)}}}else if(f.tag===18){if(p===null){ne=f;try{var ge=ne.stateNode;A?tT(ge,!0):tT(ne.stateNode,!1)}catch(je){Ot(ne,ne.return,je)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===s)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}y&4&&(y=s.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,Nd(s,p))));break;case 19:An(f,s),Cn(s),y&4&&(y=s.updateQueue,y!==null&&(s.updateQueue=null,Nd(s,y)));break;case 30:break;case 21:break;default:An(f,s),Cn(s)}}function Cn(s){var f=s.flags;if(f&2){try{for(var p,y=s.return;y!==null;){if(nC(y)){p=y;break}y=y.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var A=p.stateNode,C=Sm(s);Pd(s,C,A);break;case 5:var j=p.stateNode;p.flags&32&&(nl(j,""),p.flags&=-33);var Y=Sm(s);Pd(s,Y,j);break;case 3:case 4:var ne=p.stateNode.containerInfo,fe=Sm(s);Am(s,fe,ne);break;default:throw Error(n(161))}}catch(ye){Ot(s,s.return,ye)}s.flags&=-3}f&4096&&(s.flags&=-4097)}function dC(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var f=s;dC(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),s=s.sibling}}function hi(s,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)oC(s,f.alternate,f),f=f.sibling}function ds(s){for(s=s.child;s!==null;){var f=s;switch(f.tag){case 0:case 11:case 14:case 15:so(4,f,f.return),ds(f);break;case 1:Ga(f,f.return);var p=f.stateNode;typeof p.componentWillUnmount=="function"&&tC(f,f.return,p),ds(f);break;case 27:pc(f.stateNode);case 26:case 5:Ga(f,f.return),ds(f);break;case 22:f.memoizedState===null&&ds(f);break;case 30:ds(f);break;default:ds(f)}s=s.sibling}}function vi(s,f,p){for(p=p&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var y=f.alternate,A=s,C=f,j=C.flags;switch(C.tag){case 0:case 11:case 15:vi(A,C,p),ic(4,C);break;case 1:if(vi(A,C,p),y=C,A=y.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(fe){Ot(y,y.return,fe)}if(y=C,A=y.updateQueue,A!==null){var Y=y.stateNode;try{var ne=A.shared.hiddenCallbacks;if(ne!==null)for(A.shared.hiddenCallbacks=null,A=0;A<ne.length;A++)qS(ne[A],Y)}catch(fe){Ot(y,y.return,fe)}}p&&j&64&&eC(C),oc(C,C.return);break;case 27:aC(C);case 26:case 5:vi(A,C,p),p&&y===null&&j&4&&rC(C),oc(C,C.return);break;case 12:vi(A,C,p);break;case 31:vi(A,C,p),p&&j&4&&uC(A,C);break;case 13:vi(A,C,p),p&&j&4&&cC(A,C);break;case 22:C.memoizedState===null&&vi(A,C,p),oc(C,C.return);break;case 30:break;default:vi(A,C,p)}f=f.sibling}}function Tm(s,f){var p=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),s=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(s=f.memoizedState.cachePool.pool),s!==p&&(s!=null&&s.refCount++,p!=null&&Yu(p))}function Om(s,f){s=null,f.alternate!==null&&(s=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==s&&(f.refCount++,s!=null&&Yu(s))}function _a(s,f,p,y){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)hC(s,f,p,y),f=f.sibling}function hC(s,f,p,y){var A=f.flags;switch(f.tag){case 0:case 11:case 15:_a(s,f,p,y),A&2048&&ic(9,f);break;case 1:_a(s,f,p,y);break;case 3:_a(s,f,p,y),A&2048&&(s=null,f.alternate!==null&&(s=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==s&&(f.refCount++,s!=null&&Yu(s)));break;case 12:if(A&2048){_a(s,f,p,y),s=f.stateNode;try{var C=f.memoizedProps,j=C.id,Y=C.onPostCommit;typeof Y=="function"&&Y(j,f.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ne){Ot(f,f.return,ne)}}else _a(s,f,p,y);break;case 31:_a(s,f,p,y);break;case 13:_a(s,f,p,y);break;case 23:break;case 22:C=f.stateNode,j=f.alternate,f.memoizedState!==null?C._visibility&2?_a(s,f,p,y):sc(s,f):C._visibility&2?_a(s,f,p,y):(C._visibility|=2,Sl(s,f,p,y,(f.subtreeFlags&10256)!==0||!1)),A&2048&&Tm(j,f);break;case 24:_a(s,f,p,y),A&2048&&Om(f.alternate,f);break;default:_a(s,f,p,y)}}function Sl(s,f,p,y,A){for(A=A&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var C=s,j=f,Y=p,ne=y,fe=j.flags;switch(j.tag){case 0:case 11:case 15:Sl(C,j,Y,ne,A),ic(8,j);break;case 23:break;case 22:var ye=j.stateNode;j.memoizedState!==null?ye._visibility&2?Sl(C,j,Y,ne,A):sc(C,j):(ye._visibility|=2,Sl(C,j,Y,ne,A)),A&&fe&2048&&Tm(j.alternate,j);break;case 24:Sl(C,j,Y,ne,A),A&&fe&2048&&Om(j.alternate,j);break;default:Sl(C,j,Y,ne,A)}f=f.sibling}}function sc(s,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var p=s,y=f,A=y.flags;switch(y.tag){case 22:sc(p,y),A&2048&&Tm(y.alternate,y);break;case 24:sc(p,y),A&2048&&Om(y.alternate,y);break;default:sc(p,y)}f=f.sibling}}var lc=8192;function Al(s,f,p){if(s.subtreeFlags&lc)for(s=s.child;s!==null;)vC(s,f,p),s=s.sibling}function vC(s,f,p){switch(s.tag){case 26:Al(s,f,p),s.flags&lc&&s.memoizedState!==null&&hj(p,Oa,s.memoizedState,s.memoizedProps);break;case 5:Al(s,f,p);break;case 3:case 4:var y=Oa;Oa=$d(s.stateNode.containerInfo),Al(s,f,p),Oa=y;break;case 22:s.memoizedState===null&&(y=s.alternate,y!==null&&y.memoizedState!==null?(y=lc,lc=16777216,Al(s,f,p),lc=y):Al(s,f,p));break;default:Al(s,f,p)}}function pC(s){var f=s.alternate;if(f!==null&&(s=f.child,s!==null)){f.child=null;do f=s.sibling,s.sibling=null,s=f;while(s!==null)}}function uc(s){var f=s.deletions;if((s.flags&16)!==0){if(f!==null)for(var p=0;p<f.length;p++){var y=f[p];Br=y,mC(y,s)}pC(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)gC(s),s=s.sibling}function gC(s){switch(s.tag){case 0:case 11:case 15:uc(s),s.flags&2048&&so(9,s,s.return);break;case 3:uc(s);break;case 12:uc(s);break;case 22:var f=s.stateNode;s.memoizedState!==null&&f._visibility&2&&(s.return===null||s.return.tag!==13)?(f._visibility&=-3,Rd(s)):uc(s);break;default:uc(s)}}function Rd(s){var f=s.deletions;if((s.flags&16)!==0){if(f!==null)for(var p=0;p<f.length;p++){var y=f[p];Br=y,mC(y,s)}pC(s)}for(s=s.child;s!==null;){switch(f=s,f.tag){case 0:case 11:case 15:so(8,f,f.return),Rd(f);break;case 22:p=f.stateNode,p._visibility&2&&(p._visibility&=-3,Rd(f));break;default:Rd(f)}s=s.sibling}}function mC(s,f){for(;Br!==null;){var p=Br;switch(p.tag){case 0:case 11:case 15:so(8,p,f);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:Yu(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,Br=y;else e:for(p=s;Br!==null;){y=Br;var A=y.sibling,C=y.return;if(sC(y),y===p){Br=null;break e}if(A!==null){A.return=C,Br=A;break e}Br=C}}}var _5={getCacheForType:function(s){var f=Vr(fr),p=f.data.get(s);return p===void 0&&(p=s(),f.data.set(s,p)),p},cacheSignal:function(){return Vr(fr).controller.signal}},M5=typeof WeakMap=="function"?WeakMap:Map,St=0,Lt=null,ut=null,ft=0,Tt=0,Fn=null,lo=!1,Cl=!1,_m=!1,pi=0,nr=0,uo=0,hs=0,Mm=0,qn=0,Tl=0,cc=null,Tn=null,Dm=!1,Ld=0,yC=0,Bd=1/0,Id=null,co=null,br=0,fo=null,Ol=null,gi=0,km=0,Pm=null,bC=null,fc=0,Nm=null;function Hn(){return(St&2)!==0&&ft!==0?ft&-ft:I.T!==null?jm():Jt()}function xC(){if(qn===0)if((ft&536870912)===0||vt){var s=ke;ke<<=1,(ke&3932160)===0&&(ke=262144),qn=s}else qn=536870912;return s=Gn.current,s!==null&&(s.flags|=32),qn}function On(s,f,p){(s===Lt&&(Tt===2||Tt===9)||s.cancelPendingCommit!==null)&&(_l(s,0),ho(s,ft,qn,!1)),Mt(s,p),((St&2)===0||s!==Lt)&&(s===Lt&&((St&2)===0&&(hs|=p),nr===4&&ho(s,ft,qn,!1)),Ua(s))}function wC(s,f,p){if((St&6)!==0)throw Error(n(327));var y=!p&&(f&127)===0&&(f&s.expiredLanes)===0||ze(s,f),A=y?P5(s,f):Lm(s,f,!0),C=y;do{if(A===0){Cl&&!y&&ho(s,f,0,!1);break}else{if(p=s.current.alternate,C&&!D5(p)){A=Lm(s,f,!1),C=!1;continue}if(A===2){if(C=f,s.errorRecoveryDisabledLanes&C)var j=0;else j=s.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){f=j;e:{var Y=s;A=cc;var ne=Y.current.memoizedState.isDehydrated;if(ne&&(_l(Y,j).flags|=256),j=Lm(Y,j,!1),j!==2){if(_m&&!ne){Y.errorRecoveryDisabledLanes|=C,hs|=C,A=4;break e}C=Tn,Tn=A,C!==null&&(Tn===null?Tn=C:Tn.push.apply(Tn,C))}A=j}if(C=!1,A!==2)continue}}if(A===1){_l(s,0),ho(s,f,0,!0);break}e:{switch(y=s,C=A,C){case 0:case 1:throw Error(n(345));case 4:if((f&4194048)!==f)break;case 6:ho(y,f,qn,!lo);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((f&62914560)===f&&(A=Ld+300-De(),10<A)){if(ho(y,f,qn,!lo),et(y,0,!0)!==0)break e;gi=f,y.timeoutHandle=QC(EC.bind(null,y,p,Tn,Id,Dm,f,qn,hs,Tl,lo,C,"Throttled",-0,0),A);break e}EC(y,p,Tn,Id,Dm,f,qn,hs,Tl,lo,C,null,-0,0)}}break}while(!0);Ua(s)}function EC(s,f,p,y,A,C,j,Y,ne,fe,ye,Se,de,ge){if(s.timeoutHandle=-1,Se=f.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},vC(f,C,Se);var je=(C&62914560)===C?Ld-De():(C&4194048)===C?yC-De():0;if(je=vj(Se,je),je!==null){gi=C,s.cancelPendingCommit=je(DC.bind(null,s,f,C,p,y,A,j,Y,ne,ye,Se,null,de,ge)),ho(s,C,j,!fe);return}}DC(s,f,C,p,y,A,j,Y,ne)}function D5(s){for(var f=s;;){var p=f.tag;if((p===0||p===11||p===15)&&f.flags&16384&&(p=f.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var A=p[y],C=A.getSnapshot;A=A.value;try{if(!zn(C(),A))return!1}catch{return!1}}if(p=f.child,f.subtreeFlags&16384&&p!==null)p.return=f,f=p;else{if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function ho(s,f,p,y){f&=~Mm,f&=~hs,s.suspendedLanes|=f,s.pingedLanes&=~f,y&&(s.warmLanes|=f),y=s.expirationTimes;for(var A=f;0<A;){var C=31-ve(A),j=1<<C;y[C]=-1,A&=~j}p!==0&&Qt(s,p,f)}function zd(){return(St&6)===0?(dc(0),!1):!0}function Rm(){if(ut!==null){if(Tt===0)var s=ut.return;else s=ut,ii=as=null,Wg(s),yl=null,Xu=0,s=ut;for(;s!==null;)JA(s.alternate,s),s=s.return;ut=null}}function _l(s,f){var p=s.timeoutHandle;p!==-1&&(s.timeoutHandle=-1,W5(p)),p=s.cancelPendingCommit,p!==null&&(s.cancelPendingCommit=null,p()),gi=0,Rm(),Lt=s,ut=p=ni(s.current,null),ft=f,Tt=0,Fn=null,lo=!1,Cl=ze(s,f),_m=!1,Tl=qn=Mm=hs=uo=nr=0,Tn=cc=null,Dm=!1,(f&8)!==0&&(f|=f&32);var y=s.entangledLanes;if(y!==0)for(s=s.entanglements,y&=f;0<y;){var A=31-ve(y),C=1<<A;f|=s[A],y&=~C}return pi=f,id(),p}function SC(s,f){rt=null,I.H=rc,f===ml||f===hd?(f=jS(),Tt=3):f===zg?(f=jS(),Tt=4):Tt=f===dm?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Fn=f,ut===null&&(nr=1,Od(s,ia(f,s.current)))}function AC(){var s=Gn.current;return s===null?!0:(ft&4194048)===ft?ua===null:(ft&62914560)===ft||(ft&536870912)!==0?s===ua:!1}function CC(){var s=I.H;return I.H=rc,s===null?rc:s}function TC(){var s=I.A;return I.A=_5,s}function jd(){nr=4,lo||(ft&4194048)!==ft&&Gn.current!==null||(Cl=!0),(uo&134217727)===0&&(hs&134217727)===0||Lt===null||ho(Lt,ft,qn,!1)}function Lm(s,f,p){var y=St;St|=2;var A=CC(),C=TC();(Lt!==s||ft!==f)&&(Id=null,_l(s,f)),f=!1;var j=nr;e:do try{if(Tt!==0&&ut!==null){var Y=ut,ne=Fn;switch(Tt){case 8:Rm(),j=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(f=!0);var fe=Tt;if(Tt=0,Fn=null,Ml(s,Y,ne,fe),p&&Cl){j=0;break e}break;default:fe=Tt,Tt=0,Fn=null,Ml(s,Y,ne,fe)}}k5(),j=nr;break}catch(ye){SC(s,ye)}while(!0);return f&&s.shellSuspendCounter++,ii=as=null,St=y,I.H=A,I.A=C,ut===null&&(Lt=null,ft=0,id()),j}function k5(){for(;ut!==null;)OC(ut)}function P5(s,f){var p=St;St|=2;var y=CC(),A=TC();Lt!==s||ft!==f?(Id=null,Bd=De()+500,_l(s,f)):Cl=ze(s,f);e:do try{if(Tt!==0&&ut!==null){f=ut;var C=Fn;t:switch(Tt){case 1:Tt=0,Fn=null,Ml(s,f,C,1);break;case 2:case 9:if(IS(C)){Tt=0,Fn=null,_C(f);break}f=function(){Tt!==2&&Tt!==9||Lt!==s||(Tt=7),Ua(s)},C.then(f,f);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:IS(C)?(Tt=0,Fn=null,_C(f)):(Tt=0,Fn=null,Ml(s,f,C,7));break;case 5:var j=null;switch(ut.tag){case 26:j=ut.memoizedState;case 5:case 27:var Y=ut;if(j?hT(j):Y.stateNode.complete){Tt=0,Fn=null;var ne=Y.sibling;if(ne!==null)ut=ne;else{var fe=Y.return;fe!==null?(ut=fe,Gd(fe)):ut=null}break t}}Tt=0,Fn=null,Ml(s,f,C,5);break;case 6:Tt=0,Fn=null,Ml(s,f,C,6);break;case 8:Rm(),nr=6;break e;default:throw Error(n(462))}}N5();break}catch(ye){SC(s,ye)}while(!0);return ii=as=null,I.H=y,I.A=A,St=p,ut!==null?0:(Lt=null,ft=0,id(),nr)}function N5(){for(;ut!==null&&!qe();)OC(ut)}function OC(s){var f=ZA(s.alternate,s,pi);s.memoizedProps=s.pendingProps,f===null?Gd(s):ut=f}function _C(s){var f=s,p=f.alternate;switch(f.tag){case 15:case 0:f=VA(p,f,f.pendingProps,f.type,void 0,ft);break;case 11:f=VA(p,f,f.pendingProps,f.type.render,f.ref,ft);break;case 5:Wg(f);default:JA(p,f),f=ut=TS(f,pi),f=ZA(p,f,pi)}s.memoizedProps=s.pendingProps,f===null?Gd(s):ut=f}function Ml(s,f,p,y){ii=as=null,Wg(f),yl=null,Xu=0;var A=f.return;try{if(w5(s,A,f,p,ft)){nr=1,Od(s,ia(p,s.current)),ut=null;return}}catch(C){if(A!==null)throw ut=A,C;nr=1,Od(s,ia(p,s.current)),ut=null;return}f.flags&32768?(vt||y===1?s=!0:Cl||(ft&536870912)!==0?s=!1:(lo=s=!0,(y===2||y===9||y===3||y===6)&&(y=Gn.current,y!==null&&y.tag===13&&(y.flags|=16384))),MC(f,s)):Gd(f)}function Gd(s){var f=s;do{if((f.flags&32768)!==0){MC(f,lo);return}s=f.return;var p=A5(f.alternate,f,pi);if(p!==null){ut=p;return}if(f=f.sibling,f!==null){ut=f;return}ut=f=s}while(f!==null);nr===0&&(nr=5)}function MC(s,f){do{var p=C5(s.alternate,s);if(p!==null){p.flags&=32767,ut=p;return}if(p=s.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!f&&(s=s.sibling,s!==null)){ut=s;return}ut=s=p}while(s!==null);nr=6,ut=null}function DC(s,f,p,y,A,C,j,Y,ne){s.cancelPendingCommit=null;do Ud();while(br!==0);if((St&6)!==0)throw Error(n(327));if(f!==null){if(f===s.current)throw Error(n(177));if(C=f.lanes|f.childLanes,C|=Sg,qr(s,p,C,j,Y,ne),s===Lt&&(ut=Lt=null,ft=0),Ol=f,fo=s,gi=p,km=C,Pm=A,bC=y,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,I5(ht,function(){return LC(),null})):(s.callbackNode=null,s.callbackPriority=0),y=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||y){y=I.T,I.T=null,A=z.p,z.p=2,j=St,St|=4;try{T5(s,f,p)}finally{St=j,z.p=A,I.T=y}}br=1,kC(),PC(),NC()}}function kC(){if(br===1){br=0;var s=fo,f=Ol,p=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||p){p=I.T,I.T=null;var y=z.p;z.p=2;var A=St;St|=4;try{fC(f,s);var C=$m,j=mS(s.containerInfo),Y=C.focusedElem,ne=C.selectionRange;if(j!==Y&&Y&&Y.ownerDocument&&gS(Y.ownerDocument.documentElement,Y)){if(ne!==null&&yg(Y)){var fe=ne.start,ye=ne.end;if(ye===void 0&&(ye=fe),"selectionStart"in Y)Y.selectionStart=fe,Y.selectionEnd=Math.min(ye,Y.value.length);else{var Se=Y.ownerDocument||document,de=Se&&Se.defaultView||window;if(de.getSelection){var ge=de.getSelection(),je=Y.textContent.length,Ke=Math.min(ne.start,je),Pt=ne.end===void 0?Ke:Math.min(ne.end,je);!ge.extend&&Ke>Pt&&(j=Pt,Pt=Ke,Ke=j);var oe=pS(Y,Ke),ae=pS(Y,Pt);if(oe&&ae&&(ge.rangeCount!==1||ge.anchorNode!==oe.node||ge.anchorOffset!==oe.offset||ge.focusNode!==ae.node||ge.focusOffset!==ae.offset)){var ce=Se.createRange();ce.setStart(oe.node,oe.offset),ge.removeAllRanges(),Ke>Pt?(ge.addRange(ce),ge.extend(ae.node,ae.offset)):(ce.setEnd(ae.node,ae.offset),ge.addRange(ce))}}}}for(Se=[],ge=Y;ge=ge.parentNode;)ge.nodeType===1&&Se.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<Se.length;Y++){var Ee=Se[Y];Ee.element.scrollLeft=Ee.left,Ee.element.scrollTop=Ee.top}}Jd=!!Ym,$m=Ym=null}finally{St=A,z.p=y,I.T=p}}s.current=f,br=2}}function PC(){if(br===2){br=0;var s=fo,f=Ol,p=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||p){p=I.T,I.T=null;var y=z.p;z.p=2;var A=St;St|=4;try{oC(s,f.alternate,f)}finally{St=A,z.p=y,I.T=p}}br=3}}function NC(){if(br===4||br===3){br=0,Qe();var s=fo,f=Ol,p=gi,y=bC;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?br=5:(br=0,Ol=fo=null,RC(s,s.pendingLanes));var A=s.pendingLanes;if(A===0&&(co=null),ea(p),f=f.stateNode,le&&typeof le.onCommitFiberRoot=="function")try{le.onCommitFiberRoot($,f,void 0,(f.current.flags&128)===128)}catch{}if(y!==null){f=I.T,A=z.p,z.p=2,I.T=null;try{for(var C=s.onRecoverableError,j=0;j<y.length;j++){var Y=y[j];C(Y.value,{componentStack:Y.stack})}}finally{I.T=f,z.p=A}}(gi&3)!==0&&Ud(),Ua(s),A=s.pendingLanes,(p&261930)!==0&&(A&42)!==0?s===Nm?fc++:(fc=0,Nm=s):fc=0,dc(0)}}function RC(s,f){(s.pooledCacheLanes&=f)===0&&(f=s.pooledCache,f!=null&&(s.pooledCache=null,Yu(f)))}function Ud(){return kC(),PC(),NC(),LC()}function LC(){if(br!==5)return!1;var s=fo,f=km;km=0;var p=ea(gi),y=I.T,A=z.p;try{z.p=32>p?32:p,I.T=null,p=Pm,Pm=null;var C=fo,j=gi;if(br=0,Ol=fo=null,gi=0,(St&6)!==0)throw Error(n(331));var Y=St;if(St|=4,gC(C.current),hC(C,C.current,j,p),St=Y,dc(0,!1),le&&typeof le.onPostCommitFiberRoot=="function")try{le.onPostCommitFiberRoot($,C)}catch{}return!0}finally{z.p=A,I.T=y,RC(s,f)}}function BC(s,f,p){f=ia(p,f),f=fm(s.stateNode,f,2),s=ao(s,f,2),s!==null&&(Mt(s,2),Ua(s))}function Ot(s,f,p){if(s.tag===3)BC(s,s,p);else for(;f!==null;){if(f.tag===3){BC(f,s,p);break}else if(f.tag===1){var y=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(co===null||!co.has(y))){s=ia(p,s),p=IA(2),y=ao(f,p,2),y!==null&&(zA(p,y,f,s),Mt(y,2),Ua(y));break}}f=f.return}}function Bm(s,f,p){var y=s.pingCache;if(y===null){y=s.pingCache=new M5;var A=new Set;y.set(f,A)}else A=y.get(f),A===void 0&&(A=new Set,y.set(f,A));A.has(p)||(_m=!0,A.add(p),s=R5.bind(null,s,f,p),f.then(s,s))}function R5(s,f,p){var y=s.pingCache;y!==null&&y.delete(f),s.pingedLanes|=s.suspendedLanes&p,s.warmLanes&=~p,Lt===s&&(ft&p)===p&&(nr===4||nr===3&&(ft&62914560)===ft&&300>De()-Ld?(St&2)===0&&_l(s,0):Mm|=p,Tl===ft&&(Tl=0)),Ua(s)}function IC(s,f){f===0&&(f=at()),s=ts(s,f),s!==null&&(Mt(s,f),Ua(s))}function L5(s){var f=s.memoizedState,p=0;f!==null&&(p=f.retryLane),IC(s,p)}function B5(s,f){var p=0;switch(s.tag){case 31:case 13:var y=s.stateNode,A=s.memoizedState;A!==null&&(p=A.retryLane);break;case 19:y=s.stateNode;break;case 22:y=s.stateNode._retryCache;break;default:throw Error(n(314))}y!==null&&y.delete(f),IC(s,p)}function I5(s,f){return Oe(s,f)}var Fd=null,Dl=null,Im=!1,qd=!1,zm=!1,vo=0;function Ua(s){s!==Dl&&s.next===null&&(Dl===null?Fd=Dl=s:Dl=Dl.next=s),qd=!0,Im||(Im=!0,j5())}function dc(s,f){if(!zm&&qd){zm=!0;do for(var p=!1,y=Fd;y!==null;){if(s!==0){var A=y.pendingLanes;if(A===0)var C=0;else{var j=y.suspendedLanes,Y=y.pingedLanes;C=(1<<31-ve(42|s)+1)-1,C&=A&~(j&~Y),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(p=!0,UC(y,C))}else C=ft,C=et(y,y===Lt?C:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(C&3)===0||ze(y,C)||(p=!0,UC(y,C));y=y.next}while(p);zm=!1}}function z5(){zC()}function zC(){qd=Im=!1;var s=0;vo!==0&&K5()&&(s=vo);for(var f=De(),p=null,y=Fd;y!==null;){var A=y.next,C=jC(y,f);C===0?(y.next=null,p===null?Fd=A:p.next=A,A===null&&(Dl=p)):(p=y,(s!==0||(C&3)!==0)&&(qd=!0)),y=A}br!==0&&br!==5||dc(s),vo!==0&&(vo=0)}function jC(s,f){for(var p=s.suspendedLanes,y=s.pingedLanes,A=s.expirationTimes,C=s.pendingLanes&-62914561;0<C;){var j=31-ve(C),Y=1<<j,ne=A[j];ne===-1?((Y&p)===0||(Y&y)!==0)&&(A[j]=ot(Y,f)):ne<=f&&(s.expiredLanes|=Y),C&=~Y}if(f=Lt,p=ft,p=et(s,s===f?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),y=s.callbackNode,p===0||s===f&&(Tt===2||Tt===9)||s.cancelPendingCommit!==null)return y!==null&&y!==null&&Ue(y),s.callbackNode=null,s.callbackPriority=0;if((p&3)===0||ze(s,p)){if(f=p&-p,f===s.callbackPriority)return f;switch(y!==null&&Ue(y),ea(p)){case 2:case 8:p=pt;break;case 32:p=ht;break;case 268435456:p=We;break;default:p=ht}return y=GC.bind(null,s),p=Oe(p,y),s.callbackPriority=f,s.callbackNode=p,f}return y!==null&&y!==null&&Ue(y),s.callbackPriority=2,s.callbackNode=null,2}function GC(s,f){if(br!==0&&br!==5)return s.callbackNode=null,s.callbackPriority=0,null;var p=s.callbackNode;if(Ud()&&s.callbackNode!==p)return null;var y=ft;return y=et(s,s===Lt?y:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),y===0?null:(wC(s,y,f),jC(s,De()),s.callbackNode!=null&&s.callbackNode===p?GC.bind(null,s):null)}function UC(s,f){if(Ud())return null;wC(s,f,!0)}function j5(){Z5(function(){(St&6)!==0?Oe(lt,z5):zC()})}function jm(){if(vo===0){var s=pl;s===0&&(s=Ge,Ge<<=1,(Ge&261888)===0&&(Ge=256)),vo=s}return vo}function FC(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Zf(""+s)}function qC(s,f){var p=f.ownerDocument.createElement("input");return p.name=f.name,p.value=f.value,s.id&&p.setAttribute("form",s.id),f.parentNode.insertBefore(p,f),s=new FormData(s),p.parentNode.removeChild(p),s}function G5(s,f,p,y,A){if(f==="submit"&&p&&p.stateNode===A){var C=FC((A[yr]||null).action),j=y.submitter;j&&(f=(f=j[yr]||null)?FC(f.formAction):j.getAttribute("formAction"),f!==null&&(C=f,j=null));var Y=new td("action","action",null,y,A);s.push({event:Y,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(vo!==0){var ne=j?qC(A,j):new FormData(A);im(p,{pending:!0,data:ne,method:A.method,action:C},null,ne)}}else typeof C=="function"&&(Y.preventDefault(),ne=j?qC(A,j):new FormData(A),im(p,{pending:!0,data:ne,method:A.method,action:C},C,ne))},currentTarget:A}]})}}for(var Gm=0;Gm<Eg.length;Gm++){var Um=Eg[Gm],U5=Um.toLowerCase(),F5=Um[0].toUpperCase()+Um.slice(1);Ta(U5,"on"+F5)}Ta(xS,"onAnimationEnd"),Ta(wS,"onAnimationIteration"),Ta(ES,"onAnimationStart"),Ta("dblclick","onDoubleClick"),Ta("focusin","onFocus"),Ta("focusout","onBlur"),Ta(a5,"onTransitionRun"),Ta(i5,"onTransitionStart"),Ta(o5,"onTransitionCancel"),Ta(SS,"onTransitionEnd"),Ia("onMouseEnter",["mouseout","mouseover"]),Ia("onMouseLeave",["mouseout","mouseover"]),Ia("onPointerEnter",["pointerout","pointerover"]),Ia("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hc));function HC(s,f){f=(f&4)!==0;for(var p=0;p<s.length;p++){var y=s[p],A=y.event;y=y.listeners;e:{var C=void 0;if(f)for(var j=y.length-1;0<=j;j--){var Y=y[j],ne=Y.instance,fe=Y.currentTarget;if(Y=Y.listener,ne!==C&&A.isPropagationStopped())break e;C=Y,A.currentTarget=fe;try{C(A)}catch(ye){ad(ye)}A.currentTarget=null,C=ne}else for(j=0;j<y.length;j++){if(Y=y[j],ne=Y.instance,fe=Y.currentTarget,Y=Y.listener,ne!==C&&A.isPropagationStopped())break e;C=Y,A.currentTarget=fe;try{C(A)}catch(ye){ad(ye)}A.currentTarget=null,C=ne}}}}function ct(s,f){var p=f[Pr];p===void 0&&(p=f[Pr]=new Set);var y=s+"__bubble";p.has(y)||(VC(f,s,2,!1),p.add(y))}function Fm(s,f,p){var y=0;f&&(y|=4),VC(p,s,y,f)}var Hd="_reactListening"+Math.random().toString(36).slice(2);function qm(s){if(!s[Hd]){s[Hd]=!0,Yf.forEach(function(p){p!=="selectionchange"&&(q5.has(p)||Fm(p,!1,s),Fm(p,!0,s))});var f=s.nodeType===9?s:s.ownerDocument;f===null||f[Hd]||(f[Hd]=!0,Fm("selectionchange",!1,f))}}function VC(s,f,p,y){switch(xT(f)){case 2:var A=mj;break;case 8:A=yj;break;default:A=ay}p=A.bind(null,f,p,s),A=void 0,!ug||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(A=!0),y?A!==void 0?s.addEventListener(f,p,{capture:!0,passive:A}):s.addEventListener(f,p,!0):A!==void 0?s.addEventListener(f,p,{passive:A}):s.addEventListener(f,p,!1)}function Hm(s,f,p,y,A){var C=y;if((f&1)===0&&(f&2)===0&&y!==null)e:for(;;){if(y===null)return;var j=y.tag;if(j===3||j===4){var Y=y.stateNode.containerInfo;if(Y===A)break;if(j===4)for(j=y.return;j!==null;){var ne=j.tag;if((ne===3||ne===4)&&j.stateNode.containerInfo===A)return;j=j.return}for(;Y!==null;){if(j=$i(Y),j===null)return;if(ne=j.tag,ne===5||ne===6||ne===26||ne===27){y=C=j;continue e}Y=Y.parentNode}}y=y.return}WE(function(){var fe=C,ye=sg(p),Se=[];e:{var de=AS.get(s);if(de!==void 0){var ge=td,je=s;switch(s){case"keypress":if(Jf(p)===0)break e;case"keydown":case"keyup":ge=B3;break;case"focusin":je="focus",ge=hg;break;case"focusout":je="blur",ge=hg;break;case"beforeblur":case"afterblur":ge=hg;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=JE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=A3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=j3;break;case xS:case wS:case ES:ge=O3;break;case SS:ge=U3;break;case"scroll":case"scrollend":ge=E3;break;case"wheel":ge=q3;break;case"copy":case"cut":case"paste":ge=M3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=tS;break;case"toggle":case"beforetoggle":ge=V3}var Ke=(f&4)!==0,Pt=!Ke&&(s==="scroll"||s==="scrollend"),oe=Ke?de!==null?de+"Capture":null:de;Ke=[];for(var ae=fe,ce;ae!==null;){var Ee=ae;if(ce=Ee.stateNode,Ee=Ee.tag,Ee!==5&&Ee!==26&&Ee!==27||ce===null||oe===null||(Ee=Lu(ae,oe),Ee!=null&&Ke.push(vc(ae,Ee,ce))),Pt)break;ae=ae.return}0<Ke.length&&(de=new ge(de,je,null,p,ye),Se.push({event:de,listeners:Ke}))}}if((f&7)===0){e:{if(de=s==="mouseover"||s==="pointerover",ge=s==="mouseout"||s==="pointerout",de&&p!==og&&(je=p.relatedTarget||p.fromElement)&&($i(je)||je[xn]))break e;if((ge||de)&&(de=ye.window===ye?ye:(de=ye.ownerDocument)?de.defaultView||de.parentWindow:window,ge?(je=p.relatedTarget||p.toElement,ge=fe,je=je?$i(je):null,je!==null&&(Pt=i(je),Ke=je.tag,je!==Pt||Ke!==5&&Ke!==27&&Ke!==6)&&(je=null)):(ge=null,je=fe),ge!==je)){if(Ke=JE,Ee="onMouseLeave",oe="onMouseEnter",ae="mouse",(s==="pointerout"||s==="pointerover")&&(Ke=tS,Ee="onPointerLeave",oe="onPointerEnter",ae="pointer"),Pt=ge==null?de:Zo(ge),ce=je==null?de:Zo(je),de=new Ke(Ee,ae+"leave",ge,p,ye),de.target=Pt,de.relatedTarget=ce,Ee=null,$i(ye)===fe&&(Ke=new Ke(oe,ae+"enter",je,p,ye),Ke.target=ce,Ke.relatedTarget=Pt,Ee=Ke),Pt=Ee,ge&&je)t:{for(Ke=H5,oe=ge,ae=je,ce=0,Ee=oe;Ee;Ee=Ke(Ee))ce++;Ee=0;for(var $e=ae;$e;$e=Ke($e))Ee++;for(;0<ce-Ee;)oe=Ke(oe),ce--;for(;0<Ee-ce;)ae=Ke(ae),Ee--;for(;ce--;){if(oe===ae||ae!==null&&oe===ae.alternate){Ke=oe;break t}oe=Ke(oe),ae=Ke(ae)}Ke=null}else Ke=null;ge!==null&&YC(Se,de,ge,Ke,!1),je!==null&&Pt!==null&&YC(Se,Pt,je,Ke,!0)}}e:{if(de=fe?Zo(fe):window,ge=de.nodeName&&de.nodeName.toLowerCase(),ge==="select"||ge==="input"&&de.type==="file")var bt=uS;else if(sS(de))if(cS)bt=t5;else{bt=J3;var Fe=Q3}else ge=de.nodeName,!ge||ge.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?fe&&ig(fe.elementType)&&(bt=uS):bt=e5;if(bt&&(bt=bt(s,fe))){lS(Se,bt,p,ye);break e}Fe&&Fe(s,de,fe),s==="focusout"&&fe&&de.type==="number"&&fe.memoizedProps.value!=null&&ag(de,"number",de.value)}switch(Fe=fe?Zo(fe):window,s){case"focusin":(sS(Fe)||Fe.contentEditable==="true")&&(sl=Fe,bg=fe,qu=null);break;case"focusout":qu=bg=sl=null;break;case"mousedown":xg=!0;break;case"contextmenu":case"mouseup":case"dragend":xg=!1,yS(Se,p,ye);break;case"selectionchange":if(n5)break;case"keydown":case"keyup":yS(Se,p,ye)}var it;if(pg)e:{switch(s){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else ol?iS(s,p)&&(dt="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(dt="onCompositionStart");dt&&(rS&&p.locale!=="ko"&&(ol||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&ol&&(it=ZE()):(Zi=ye,cg="value"in Zi?Zi.value:Zi.textContent,ol=!0)),Fe=Vd(fe,dt),0<Fe.length&&(dt=new eS(dt,s,null,p,ye),Se.push({event:dt,listeners:Fe}),it?dt.data=it:(it=oS(p),it!==null&&(dt.data=it)))),(it=$3?X3(s,p):K3(s,p))&&(dt=Vd(fe,"onBeforeInput"),0<dt.length&&(Fe=new eS("onBeforeInput","beforeinput",null,p,ye),Se.push({event:Fe,listeners:dt}),Fe.data=it)),G5(Se,s,fe,p,ye)}HC(Se,f)})}function vc(s,f,p){return{instance:s,listener:f,currentTarget:p}}function Vd(s,f){for(var p=f+"Capture",y=[];s!==null;){var A=s,C=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||C===null||(A=Lu(s,p),A!=null&&y.unshift(vc(s,A,C)),A=Lu(s,f),A!=null&&y.push(vc(s,A,C))),s.tag===3)return y;s=s.return}return[]}function H5(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function YC(s,f,p,y,A){for(var C=f._reactName,j=[];p!==null&&p!==y;){var Y=p,ne=Y.alternate,fe=Y.stateNode;if(Y=Y.tag,ne!==null&&ne===y)break;Y!==5&&Y!==26&&Y!==27||fe===null||(ne=fe,A?(fe=Lu(p,C),fe!=null&&j.unshift(vc(p,fe,ne))):A||(fe=Lu(p,C),fe!=null&&j.push(vc(p,fe,ne)))),p=p.return}j.length!==0&&s.push({event:f,listeners:j})}var V5=/\r\n?/g,Y5=/\u0000|\uFFFD/g;function $C(s){return(typeof s=="string"?s:""+s).replace(V5,`
`).replace(Y5,"")}function XC(s,f){return f=$C(f),$C(s)===f}function kt(s,f,p,y,A,C){switch(p){case"children":typeof y=="string"?f==="body"||f==="textarea"&&y===""||nl(s,y):(typeof y=="number"||typeof y=="bigint")&&f!=="body"&&nl(s,""+y);break;case"className":Wi(s,"class",y);break;case"tabIndex":Wi(s,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Wi(s,p,y);break;case"style":XE(s,y,C);break;case"data":if(f!=="object"){Wi(s,"data",y);break}case"src":case"href":if(y===""&&(f!=="a"||p!=="href")){s.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){s.removeAttribute(p);break}y=Zf(""+y),s.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){s.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(p==="formAction"?(f!=="input"&&kt(s,f,"name",A.name,A,null),kt(s,f,"formEncType",A.formEncType,A,null),kt(s,f,"formMethod",A.formMethod,A,null),kt(s,f,"formTarget",A.formTarget,A,null)):(kt(s,f,"encType",A.encType,A,null),kt(s,f,"method",A.method,A,null),kt(s,f,"target",A.target,A,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){s.removeAttribute(p);break}y=Zf(""+y),s.setAttribute(p,y);break;case"onClick":y!=null&&(s.onclick=ti);break;case"onScroll":y!=null&&ct("scroll",s);break;case"onScrollEnd":y!=null&&ct("scrollend",s);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(A.children!=null)throw Error(n(60));s.innerHTML=p}}break;case"multiple":s.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":s.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){s.removeAttribute("xlink:href");break}p=Zf(""+y),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(p,""+y):s.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(p,""):s.removeAttribute(p);break;case"capture":case"download":y===!0?s.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(p,y):s.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?s.setAttribute(p,y):s.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?s.removeAttribute(p):s.setAttribute(p,y);break;case"popover":ct("beforetoggle",s),ct("toggle",s),nn(s,"popover",y);break;case"xlinkActuate":ra(s,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":ra(s,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":ra(s,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":ra(s,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":ra(s,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":ra(s,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":ra(s,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":ra(s,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":ra(s,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":nn(s,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=x3.get(p)||p,nn(s,p,y))}}function Vm(s,f,p,y,A,C){switch(p){case"style":XE(s,y,C);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(A.children!=null)throw Error(n(60));s.innerHTML=p}}break;case"children":typeof y=="string"?nl(s,y):(typeof y=="number"||typeof y=="bigint")&&nl(s,""+y);break;case"onScroll":y!=null&&ct("scroll",s);break;case"onScrollEnd":y!=null&&ct("scrollend",s);break;case"onClick":y!=null&&(s.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$f.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(A=p.endsWith("Capture"),f=p.slice(2,A?p.length-7:void 0),C=s[yr]||null,C=C!=null?C[p]:null,typeof C=="function"&&s.removeEventListener(f,C,A),typeof y=="function")){typeof C!="function"&&C!==null&&(p in s?s[p]=null:s.hasAttribute(p)&&s.removeAttribute(p)),s.addEventListener(f,y,A);break e}p in s?s[p]=y:y===!0?s.setAttribute(p,""):nn(s,p,y)}}}function $r(s,f,p){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",s),ct("load",s);var y=!1,A=!1,C;for(C in p)if(p.hasOwnProperty(C)){var j=p[C];if(j!=null)switch(C){case"src":y=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:kt(s,f,C,j,p,null)}}A&&kt(s,f,"srcSet",p.srcSet,p,null),y&&kt(s,f,"src",p.src,p,null);return;case"input":ct("invalid",s);var Y=C=j=A=null,ne=null,fe=null;for(y in p)if(p.hasOwnProperty(y)){var ye=p[y];if(ye!=null)switch(y){case"name":A=ye;break;case"type":j=ye;break;case"checked":ne=ye;break;case"defaultChecked":fe=ye;break;case"value":C=ye;break;case"defaultValue":Y=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(n(137,f));break;default:kt(s,f,y,ye,p,null)}}HE(s,C,Y,ne,fe,j,A,!1);return;case"select":ct("invalid",s),y=j=C=null;for(A in p)if(p.hasOwnProperty(A)&&(Y=p[A],Y!=null))switch(A){case"value":C=Y;break;case"defaultValue":j=Y;break;case"multiple":y=Y;default:kt(s,f,A,Y,p,null)}f=C,p=j,s.multiple=!!y,f!=null?rl(s,!!y,f,!1):p!=null&&rl(s,!!y,p,!0);return;case"textarea":ct("invalid",s),C=A=y=null;for(j in p)if(p.hasOwnProperty(j)&&(Y=p[j],Y!=null))switch(j){case"value":y=Y;break;case"defaultValue":A=Y;break;case"children":C=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(n(91));break;default:kt(s,f,j,Y,p,null)}YE(s,y,A,C);return;case"option":for(ne in p)if(p.hasOwnProperty(ne)&&(y=p[ne],y!=null))switch(ne){case"selected":s.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:kt(s,f,ne,y,p,null)}return;case"dialog":ct("beforetoggle",s),ct("toggle",s),ct("cancel",s),ct("close",s);break;case"iframe":case"object":ct("load",s);break;case"video":case"audio":for(y=0;y<hc.length;y++)ct(hc[y],s);break;case"image":ct("error",s),ct("load",s);break;case"details":ct("toggle",s);break;case"embed":case"source":case"link":ct("error",s),ct("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in p)if(p.hasOwnProperty(fe)&&(y=p[fe],y!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:kt(s,f,fe,y,p,null)}return;default:if(ig(f)){for(ye in p)p.hasOwnProperty(ye)&&(y=p[ye],y!==void 0&&Vm(s,f,ye,y,p,void 0));return}}for(Y in p)p.hasOwnProperty(Y)&&(y=p[Y],y!=null&&kt(s,f,Y,y,p,null))}function $5(s,f,p,y){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,C=null,j=null,Y=null,ne=null,fe=null,ye=null;for(ge in p){var Se=p[ge];if(p.hasOwnProperty(ge)&&Se!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":ne=Se;default:y.hasOwnProperty(ge)||kt(s,f,ge,null,y,Se)}}for(var de in y){var ge=y[de];if(Se=p[de],y.hasOwnProperty(de)&&(ge!=null||Se!=null))switch(de){case"type":C=ge;break;case"name":A=ge;break;case"checked":fe=ge;break;case"defaultChecked":ye=ge;break;case"value":j=ge;break;case"defaultValue":Y=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(n(137,f));break;default:ge!==Se&&kt(s,f,de,ge,y,Se)}}ng(s,j,Y,ne,fe,ye,C,A);return;case"select":ge=j=Y=de=null;for(C in p)if(ne=p[C],p.hasOwnProperty(C)&&ne!=null)switch(C){case"value":break;case"multiple":ge=ne;default:y.hasOwnProperty(C)||kt(s,f,C,null,y,ne)}for(A in y)if(C=y[A],ne=p[A],y.hasOwnProperty(A)&&(C!=null||ne!=null))switch(A){case"value":de=C;break;case"defaultValue":Y=C;break;case"multiple":j=C;default:C!==ne&&kt(s,f,A,C,y,ne)}f=Y,p=j,y=ge,de!=null?rl(s,!!p,de,!1):!!y!=!!p&&(f!=null?rl(s,!!p,f,!0):rl(s,!!p,p?[]:"",!1));return;case"textarea":ge=de=null;for(Y in p)if(A=p[Y],p.hasOwnProperty(Y)&&A!=null&&!y.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:kt(s,f,Y,null,y,A)}for(j in y)if(A=y[j],C=p[j],y.hasOwnProperty(j)&&(A!=null||C!=null))switch(j){case"value":de=A;break;case"defaultValue":ge=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(n(91));break;default:A!==C&&kt(s,f,j,A,y,C)}VE(s,de,ge);return;case"option":for(var je in p)if(de=p[je],p.hasOwnProperty(je)&&de!=null&&!y.hasOwnProperty(je))switch(je){case"selected":s.selected=!1;break;default:kt(s,f,je,null,y,de)}for(ne in y)if(de=y[ne],ge=p[ne],y.hasOwnProperty(ne)&&de!==ge&&(de!=null||ge!=null))switch(ne){case"selected":s.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:kt(s,f,ne,de,y,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in p)de=p[Ke],p.hasOwnProperty(Ke)&&de!=null&&!y.hasOwnProperty(Ke)&&kt(s,f,Ke,null,y,de);for(fe in y)if(de=y[fe],ge=p[fe],y.hasOwnProperty(fe)&&de!==ge&&(de!=null||ge!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(n(137,f));break;default:kt(s,f,fe,de,y,ge)}return;default:if(ig(f)){for(var Pt in p)de=p[Pt],p.hasOwnProperty(Pt)&&de!==void 0&&!y.hasOwnProperty(Pt)&&Vm(s,f,Pt,void 0,y,de);for(ye in y)de=y[ye],ge=p[ye],!y.hasOwnProperty(ye)||de===ge||de===void 0&&ge===void 0||Vm(s,f,ye,de,y,ge);return}}for(var oe in p)de=p[oe],p.hasOwnProperty(oe)&&de!=null&&!y.hasOwnProperty(oe)&&kt(s,f,oe,null,y,de);for(Se in y)de=y[Se],ge=p[Se],!y.hasOwnProperty(Se)||de===ge||de==null&&ge==null||kt(s,f,Se,de,y,ge)}function KC(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function X5(){if(typeof performance.getEntriesByType=="function"){for(var s=0,f=0,p=performance.getEntriesByType("resource"),y=0;y<p.length;y++){var A=p[y],C=A.transferSize,j=A.initiatorType,Y=A.duration;if(C&&Y&&KC(j)){for(j=0,Y=A.responseEnd,y+=1;y<p.length;y++){var ne=p[y],fe=ne.startTime;if(fe>Y)break;var ye=ne.transferSize,Se=ne.initiatorType;ye&&KC(Se)&&(ne=ne.responseEnd,j+=ye*(ne<Y?1:(Y-fe)/(ne-fe)))}if(--y,f+=8*(C+j)/(A.duration/1e3),s++,10<s)break}}if(0<s)return f/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Ym=null,$m=null;function Yd(s){return s.nodeType===9?s:s.ownerDocument}function WC(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ZC(s,f){if(s===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&f==="foreignObject"?0:s}function Xm(s,f){return s==="textarea"||s==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var Km=null;function K5(){var s=window.event;return s&&s.type==="popstate"?s===Km?!1:(Km=s,!0):(Km=null,!1)}var QC=typeof setTimeout=="function"?setTimeout:void 0,W5=typeof clearTimeout=="function"?clearTimeout:void 0,JC=typeof Promise=="function"?Promise:void 0,Z5=typeof queueMicrotask=="function"?queueMicrotask:typeof JC<"u"?function(s){return JC.resolve(null).then(s).catch(Q5)}:QC;function Q5(s){setTimeout(function(){throw s})}function po(s){return s==="head"}function eT(s,f){var p=f,y=0;do{var A=p.nextSibling;if(s.removeChild(p),A&&A.nodeType===8)if(p=A.data,p==="/$"||p==="/&"){if(y===0){s.removeChild(A),Rl(f);return}y--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")y++;else if(p==="html")pc(s.ownerDocument.documentElement);else if(p==="head"){p=s.ownerDocument.head,pc(p);for(var C=p.firstChild;C;){var j=C.nextSibling,Y=C.nodeName;C[Rr]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&C.rel.toLowerCase()==="stylesheet"||p.removeChild(C),C=j}}else p==="body"&&pc(s.ownerDocument.body);p=A}while(p);Rl(f)}function tT(s,f){var p=s;s=0;do{var y=p.nextSibling;if(p.nodeType===1?f?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(f?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),y&&y.nodeType===8)if(p=y.data,p==="/$"){if(s===0)break;s--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||s++;p=y}while(p)}function Wm(s){var f=s.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var p=f;switch(f=f.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":Wm(p),el(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}s.removeChild(p)}}function J5(s,f,p,y){for(;s.nodeType===1;){var A=p;if(s.nodeName.toLowerCase()!==f.toLowerCase()){if(!y&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(y){if(!s[Rr])switch(f){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(C=s.getAttribute("rel"),C==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(C!==A.rel||s.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||s.getAttribute("title")!==(A.title==null?null:A.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(C=s.getAttribute("src"),(C!==(A.src==null?null:A.src)||s.getAttribute("type")!==(A.type==null?null:A.type)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&C&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(f==="input"&&s.type==="hidden"){var C=A.name==null?null:""+A.name;if(A.type==="hidden"&&s.getAttribute("name")===C)return s}else return s;if(s=ca(s.nextSibling),s===null)break}return null}function ej(s,f,p){if(f==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!p||(s=ca(s.nextSibling),s===null))return null;return s}function rT(s,f){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!f||(s=ca(s.nextSibling),s===null))return null;return s}function Zm(s){return s.data==="$?"||s.data==="$~"}function Qm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function tj(s,f){var p=s.ownerDocument;if(s.data==="$~")s._reactRetry=f;else if(s.data!=="$?"||p.readyState!=="loading")f();else{var y=function(){f(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),s._reactRetry=y}}function ca(s){for(;s!=null;s=s.nextSibling){var f=s.nodeType;if(f===1||f===3)break;if(f===8){if(f=s.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return s}var Jm=null;function nT(s){s=s.nextSibling;for(var f=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"||p==="/&"){if(f===0)return ca(s.nextSibling);f--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||f++}s=s.nextSibling}return null}function aT(s){s=s.previousSibling;for(var f=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(f===0)return s;f--}else p!=="/$"&&p!=="/&"||f++}s=s.previousSibling}return null}function iT(s,f,p){switch(f=Yd(p),s){case"html":if(s=f.documentElement,!s)throw Error(n(452));return s;case"head":if(s=f.head,!s)throw Error(n(453));return s;case"body":if(s=f.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function pc(s){for(var f=s.attributes;f.length;)s.removeAttributeNode(f[0]);el(s)}var fa=new Map,oT=new Set;function $d(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var mi=z.d;z.d={f:rj,r:nj,D:aj,C:ij,L:oj,m:sj,X:uj,S:lj,M:cj};function rj(){var s=mi.f(),f=zd();return s||f}function nj(s){var f=Xi(s);f!==null&&f.tag===5&&f.type==="form"?SA(f):mi.r(s)}var kl=typeof document>"u"?null:document;function sT(s,f,p){var y=kl;if(y&&typeof f=="string"&&f){var A=na(f);A='link[rel="'+s+'"][href="'+A+'"]',typeof p=="string"&&(A+='[crossorigin="'+p+'"]'),oT.has(A)||(oT.add(A),s={rel:s,crossOrigin:p,href:f},y.querySelector(A)===null&&(f=y.createElement("link"),$r(f,"link",s),cr(f),y.head.appendChild(f)))}}function aj(s){mi.D(s),sT("dns-prefetch",s,null)}function ij(s,f){mi.C(s,f),sT("preconnect",s,f)}function oj(s,f,p){mi.L(s,f,p);var y=kl;if(y&&s&&f){var A='link[rel="preload"][as="'+na(f)+'"]';f==="image"&&p&&p.imageSrcSet?(A+='[imagesrcset="'+na(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(A+='[imagesizes="'+na(p.imageSizes)+'"]')):A+='[href="'+na(s)+'"]';var C=A;switch(f){case"style":C=Pl(s);break;case"script":C=Nl(s)}fa.has(C)||(s=h({rel:"preload",href:f==="image"&&p&&p.imageSrcSet?void 0:s,as:f},p),fa.set(C,s),y.querySelector(A)!==null||f==="style"&&y.querySelector(gc(C))||f==="script"&&y.querySelector(mc(C))||(f=y.createElement("link"),$r(f,"link",s),cr(f),y.head.appendChild(f)))}}function sj(s,f){mi.m(s,f);var p=kl;if(p&&s){var y=f&&typeof f.as=="string"?f.as:"script",A='link[rel="modulepreload"][as="'+na(y)+'"][href="'+na(s)+'"]',C=A;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Nl(s)}if(!fa.has(C)&&(s=h({rel:"modulepreload",href:s},f),fa.set(C,s),p.querySelector(A)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(mc(C)))return}y=p.createElement("link"),$r(y,"link",s),cr(y),p.head.appendChild(y)}}}function lj(s,f,p){mi.S(s,f,p);var y=kl;if(y&&s){var A=Ki(y).hoistableStyles,C=Pl(s);f=f||"default";var j=A.get(C);if(!j){var Y={loading:0,preload:null};if(j=y.querySelector(gc(C)))Y.loading=5;else{s=h({rel:"stylesheet",href:s,"data-precedence":f},p),(p=fa.get(C))&&ey(s,p);var ne=j=y.createElement("link");cr(ne),$r(ne,"link",s),ne._p=new Promise(function(fe,ye){ne.onload=fe,ne.onerror=ye}),ne.addEventListener("load",function(){Y.loading|=1}),ne.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,Xd(j,f,y)}j={type:"stylesheet",instance:j,count:1,state:Y},A.set(C,j)}}}function uj(s,f){mi.X(s,f);var p=kl;if(p&&s){var y=Ki(p).hoistableScripts,A=Nl(s),C=y.get(A);C||(C=p.querySelector(mc(A)),C||(s=h({src:s,async:!0},f),(f=fa.get(A))&&ty(s,f),C=p.createElement("script"),cr(C),$r(C,"link",s),p.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},y.set(A,C))}}function cj(s,f){mi.M(s,f);var p=kl;if(p&&s){var y=Ki(p).hoistableScripts,A=Nl(s),C=y.get(A);C||(C=p.querySelector(mc(A)),C||(s=h({src:s,async:!0,type:"module"},f),(f=fa.get(A))&&ty(s,f),C=p.createElement("script"),cr(C),$r(C,"link",s),p.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},y.set(A,C))}}function lT(s,f,p,y){var A=(A=ie.current)?$d(A):null;if(!A)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(f=Pl(p.href),p=Ki(A).hoistableStyles,y=p.get(f),y||(y={type:"style",instance:null,count:0,state:null},p.set(f,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){s=Pl(p.href);var C=Ki(A).hoistableStyles,j=C.get(s);if(j||(A=A.ownerDocument||A,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(s,j),(C=A.querySelector(gc(s)))&&!C._p&&(j.instance=C,j.state.loading=5),fa.has(s)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},fa.set(s,p),C||fj(A,s,p,j.state))),f&&y===null)throw Error(n(528,""));return j}if(f&&y!==null)throw Error(n(529,""));return null;case"script":return f=p.async,p=p.src,typeof p=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Nl(p),p=Ki(A).hoistableScripts,y=p.get(f),y||(y={type:"script",instance:null,count:0,state:null},p.set(f,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Pl(s){return'href="'+na(s)+'"'}function gc(s){return'link[rel="stylesheet"]['+s+"]"}function uT(s){return h({},s,{"data-precedence":s.precedence,precedence:null})}function fj(s,f,p,y){s.querySelector('link[rel="preload"][as="style"]['+f+"]")?y.loading=1:(f=s.createElement("link"),y.preload=f,f.addEventListener("load",function(){return y.loading|=1}),f.addEventListener("error",function(){return y.loading|=2}),$r(f,"link",p),cr(f),s.head.appendChild(f))}function Nl(s){return'[src="'+na(s)+'"]'}function mc(s){return"script[async]"+s}function cT(s,f,p){if(f.count++,f.instance===null)switch(f.type){case"style":var y=s.querySelector('style[data-href~="'+na(p.href)+'"]');if(y)return f.instance=y,cr(y),y;var A=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(s.ownerDocument||s).createElement("style"),cr(y),$r(y,"style",A),Xd(y,p.precedence,s),f.instance=y;case"stylesheet":A=Pl(p.href);var C=s.querySelector(gc(A));if(C)return f.state.loading|=4,f.instance=C,cr(C),C;y=uT(p),(A=fa.get(A))&&ey(y,A),C=(s.ownerDocument||s).createElement("link"),cr(C);var j=C;return j._p=new Promise(function(Y,ne){j.onload=Y,j.onerror=ne}),$r(C,"link",y),f.state.loading|=4,Xd(C,p.precedence,s),f.instance=C;case"script":return C=Nl(p.src),(A=s.querySelector(mc(C)))?(f.instance=A,cr(A),A):(y=p,(A=fa.get(C))&&(y=h({},p),ty(y,A)),s=s.ownerDocument||s,A=s.createElement("script"),cr(A),$r(A,"link",y),s.head.appendChild(A),f.instance=A);case"void":return null;default:throw Error(n(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(y=f.instance,f.state.loading|=4,Xd(y,p.precedence,s));return f.instance}function Xd(s,f,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=y.length?y[y.length-1]:null,C=A,j=0;j<y.length;j++){var Y=y[j];if(Y.dataset.precedence===f)C=Y;else if(C!==A)break}C?C.parentNode.insertBefore(s,C.nextSibling):(f=p.nodeType===9?p.head:p,f.insertBefore(s,f.firstChild))}function ey(s,f){s.crossOrigin==null&&(s.crossOrigin=f.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=f.referrerPolicy),s.title==null&&(s.title=f.title)}function ty(s,f){s.crossOrigin==null&&(s.crossOrigin=f.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=f.referrerPolicy),s.integrity==null&&(s.integrity=f.integrity)}var Kd=null;function fT(s,f,p){if(Kd===null){var y=new Map,A=Kd=new Map;A.set(p,y)}else A=Kd,y=A.get(p),y||(y=new Map,A.set(p,y));if(y.has(s))return y;for(y.set(s,null),p=p.getElementsByTagName(s),A=0;A<p.length;A++){var C=p[A];if(!(C[Rr]||C[Yt]||s==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var j=C.getAttribute(f)||"";j=s+j;var Y=y.get(j);Y?Y.push(C):y.set(j,[C])}}return y}function dT(s,f,p){s=s.ownerDocument||s,s.head.insertBefore(p,f==="title"?s.querySelector("head > title"):null)}function dj(s,f,p){if(p===1||f.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return s=f.disabled,typeof f.precedence=="string"&&s==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function hT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function hj(s,f,p,y){if(p.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var A=Pl(y.href),C=f.querySelector(gc(A));if(C){f=C._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(s.count++,s=Wd.bind(s),f.then(s,s)),p.state.loading|=4,p.instance=C,cr(C);return}C=f.ownerDocument||f,y=uT(y),(A=fa.get(A))&&ey(y,A),C=C.createElement("link"),cr(C);var j=C;j._p=new Promise(function(Y,ne){j.onload=Y,j.onerror=ne}),$r(C,"link",y),p.instance=C}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(p,f),(f=p.state.preload)&&(p.state.loading&3)===0&&(s.count++,p=Wd.bind(s),f.addEventListener("load",p),f.addEventListener("error",p))}}var ry=0;function vj(s,f){return s.stylesheets&&s.count===0&&Qd(s,s.stylesheets),0<s.count||0<s.imgCount?function(p){var y=setTimeout(function(){if(s.stylesheets&&Qd(s,s.stylesheets),s.unsuspend){var C=s.unsuspend;s.unsuspend=null,C()}},6e4+f);0<s.imgBytes&&ry===0&&(ry=62500*X5());var A=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Qd(s,s.stylesheets),s.unsuspend)){var C=s.unsuspend;s.unsuspend=null,C()}},(s.imgBytes>ry?50:800)+f);return s.unsuspend=p,function(){s.unsuspend=null,clearTimeout(y),clearTimeout(A)}}:null}function Wd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Zd=null;function Qd(s,f){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Zd=new Map,f.forEach(pj,s),Zd=null,Wd.call(s))}function pj(s,f){if(!(f.state.loading&4)){var p=Zd.get(s);if(p)var y=p.get(null);else{p=new Map,Zd.set(s,p);for(var A=s.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<A.length;C++){var j=A[C];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(p.set(j.dataset.precedence,j),y=j)}y&&p.set(null,y)}A=f.instance,j=A.getAttribute("data-precedence"),C=p.get(j)||y,C===y&&p.set(null,A),p.set(j,A),this.count++,y=Wd.bind(this),A.addEventListener("load",y),A.addEventListener("error",y),C?C.parentNode.insertBefore(A,C.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(A,s.firstChild)),f.state.loading|=4}}var yc={$$typeof:E,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function gj(s,f,p,y,A,C,j,Y,ne){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zt(0),this.hiddenUpdates=Zt(null),this.identifierPrefix=y,this.onUncaughtError=A,this.onCaughtError=C,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function vT(s,f,p,y,A,C,j,Y,ne,fe,ye,Se){return s=new gj(s,f,p,j,ne,fe,ye,Se,Y),f=1,C===!0&&(f|=24),C=jn(3,null,null,f),s.current=C,C.stateNode=s,f=Lg(),f.refCount++,s.pooledCache=f,f.refCount++,C.memoizedState={element:y,isDehydrated:p,cache:f},jg(C),s}function pT(s){return s?(s=cl,s):cl}function gT(s,f,p,y,A,C){A=pT(A),y.context===null?y.context=A:y.pendingContext=A,y=no(f),y.payload={element:p},C=C===void 0?null:C,C!==null&&(y.callback=C),p=ao(s,y,f),p!==null&&(On(p,s,f),Wu(p,s,f))}function mT(s,f){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<f?p:f}}function ny(s,f){mT(s,f),(s=s.alternate)&&mT(s,f)}function yT(s){if(s.tag===13||s.tag===31){var f=ts(s,67108864);f!==null&&On(f,s,67108864),ny(s,67108864)}}function bT(s){if(s.tag===13||s.tag===31){var f=Hn();f=or(f);var p=ts(s,f);p!==null&&On(p,s,f),ny(s,f)}}var Jd=!0;function mj(s,f,p,y){var A=I.T;I.T=null;var C=z.p;try{z.p=2,ay(s,f,p,y)}finally{z.p=C,I.T=A}}function yj(s,f,p,y){var A=I.T;I.T=null;var C=z.p;try{z.p=8,ay(s,f,p,y)}finally{z.p=C,I.T=A}}function ay(s,f,p,y){if(Jd){var A=iy(y);if(A===null)Hm(s,f,y,eh,p),wT(s,y);else if(xj(A,s,f,p,y))y.stopPropagation();else if(wT(s,y),f&4&&-1<bj.indexOf(s)){for(;A!==null;){var C=Xi(A);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var j=Je(C.pendingLanes);if(j!==0){var Y=C;for(Y.pendingLanes|=2,Y.entangledLanes|=2;j;){var ne=1<<31-ve(j);Y.entanglements[1]|=ne,j&=~ne}Ua(C),(St&6)===0&&(Bd=De()+500,dc(0))}}break;case 31:case 13:Y=ts(C,2),Y!==null&&On(Y,C,2),zd(),ny(C,2)}if(C=iy(y),C===null&&Hm(s,f,y,eh,p),C===A)break;A=C}A!==null&&y.stopPropagation()}else Hm(s,f,y,null,p)}}function iy(s){return s=sg(s),oy(s)}var eh=null;function oy(s){if(eh=null,s=$i(s),s!==null){var f=i(s);if(f===null)s=null;else{var p=f.tag;if(p===13){if(s=o(f),s!==null)return s;s=null}else if(p===31){if(s=l(f),s!==null)return s;s=null}else if(p===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;s=null}else f!==s&&(s=null)}}return eh=s,null}function xT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nt()){case lt:return 2;case pt:return 8;case ht:case yt:return 32;case We:return 268435456;default:return 32}default:return 32}}var sy=!1,go=null,mo=null,yo=null,bc=new Map,xc=new Map,bo=[],bj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wT(s,f){switch(s){case"focusin":case"focusout":go=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":yo=null;break;case"pointerover":case"pointerout":bc.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":xc.delete(f.pointerId)}}function wc(s,f,p,y,A,C){return s===null||s.nativeEvent!==C?(s={blockedOn:f,domEventName:p,eventSystemFlags:y,nativeEvent:C,targetContainers:[A]},f!==null&&(f=Xi(f),f!==null&&yT(f)),s):(s.eventSystemFlags|=y,f=s.targetContainers,A!==null&&f.indexOf(A)===-1&&f.push(A),s)}function xj(s,f,p,y,A){switch(f){case"focusin":return go=wc(go,s,f,p,y,A),!0;case"dragenter":return mo=wc(mo,s,f,p,y,A),!0;case"mouseover":return yo=wc(yo,s,f,p,y,A),!0;case"pointerover":var C=A.pointerId;return bc.set(C,wc(bc.get(C)||null,s,f,p,y,A)),!0;case"gotpointercapture":return C=A.pointerId,xc.set(C,wc(xc.get(C)||null,s,f,p,y,A)),!0}return!1}function ET(s){var f=$i(s.target);if(f!==null){var p=i(f);if(p!==null){if(f=p.tag,f===13){if(f=o(p),f!==null){s.blockedOn=f,ta(s.priority,function(){bT(p)});return}}else if(f===31){if(f=l(p),f!==null){s.blockedOn=f,ta(s.priority,function(){bT(p)});return}}else if(f===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function th(s){if(s.blockedOn!==null)return!1;for(var f=s.targetContainers;0<f.length;){var p=iy(s.nativeEvent);if(p===null){p=s.nativeEvent;var y=new p.constructor(p.type,p);og=y,p.target.dispatchEvent(y),og=null}else return f=Xi(p),f!==null&&yT(f),s.blockedOn=p,!1;f.shift()}return!0}function ST(s,f,p){th(s)&&p.delete(f)}function wj(){sy=!1,go!==null&&th(go)&&(go=null),mo!==null&&th(mo)&&(mo=null),yo!==null&&th(yo)&&(yo=null),bc.forEach(ST),xc.forEach(ST)}function rh(s,f){s.blockedOn===f&&(s.blockedOn=null,sy||(sy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wj)))}var nh=null;function AT(s){nh!==s&&(nh=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){nh===s&&(nh=null);for(var f=0;f<s.length;f+=3){var p=s[f],y=s[f+1],A=s[f+2];if(typeof y!="function"){if(oy(y||p)===null)continue;break}var C=Xi(p);C!==null&&(s.splice(f,3),f-=3,im(C,{pending:!0,data:A,method:p.method,action:y},y,A))}}))}function Rl(s){function f(ne){return rh(ne,s)}go!==null&&rh(go,s),mo!==null&&rh(mo,s),yo!==null&&rh(yo,s),bc.forEach(f),xc.forEach(f);for(var p=0;p<bo.length;p++){var y=bo[p];y.blockedOn===s&&(y.blockedOn=null)}for(;0<bo.length&&(p=bo[0],p.blockedOn===null);)ET(p),p.blockedOn===null&&bo.shift();if(p=(s.ownerDocument||s).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var A=p[y],C=p[y+1],j=A[yr]||null;if(typeof C=="function")j||AT(p);else if(j){var Y=null;if(C&&C.hasAttribute("formAction")){if(A=C,j=C[yr]||null)Y=j.formAction;else if(oy(A)!==null)continue}else Y=j.action;typeof Y=="function"?p[y+1]=Y:(p.splice(y,3),y-=3),AT(p)}}}function CT(){function s(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(j){return A=j})},focusReset:"manual",scroll:"manual"})}function f(){A!==null&&(A(),A=null),y||setTimeout(p,20)}function p(){if(!y&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,A=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(p,100),function(){y=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),A!==null&&(A(),A=null)}}}function ly(s){this._internalRoot=s}ah.prototype.render=ly.prototype.render=function(s){var f=this._internalRoot;if(f===null)throw Error(n(409));var p=f.current,y=Hn();gT(p,y,s,f,null,null)},ah.prototype.unmount=ly.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var f=s.containerInfo;gT(s.current,2,null,s,null,null),zd(),f[xn]=null}};function ah(s){this._internalRoot=s}ah.prototype.unstable_scheduleHydration=function(s){if(s){var f=Jt();s={blockedOn:null,target:s,priority:f};for(var p=0;p<bo.length&&f!==0&&f<bo[p].priority;p++);bo.splice(p,0,s),p===0&&ET(s)}};var TT=t.version;if(TT!=="19.2.0")throw Error(n(527,TT,"19.2.0"));z.findDOMNode=function(s){var f=s._reactInternals;if(f===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=c(f),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var Ej={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{$=ih.inject(Ej),le=ih}catch{}}return Sc.createRoot=function(s,f){if(!a(s))throw Error(n(299));var p=!1,y="",A=NA,C=RA,j=LA;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(y=f.identifierPrefix),f.onUncaughtError!==void 0&&(A=f.onUncaughtError),f.onCaughtError!==void 0&&(C=f.onCaughtError),f.onRecoverableError!==void 0&&(j=f.onRecoverableError)),f=vT(s,1,!1,null,null,p,y,null,A,C,j,CT),s[xn]=f.current,qm(s),new ly(f)},Sc.hydrateRoot=function(s,f,p){if(!a(s))throw Error(n(299));var y=!1,A="",C=NA,j=RA,Y=LA,ne=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(A=p.identifierPrefix),p.onUncaughtError!==void 0&&(C=p.onUncaughtError),p.onCaughtError!==void 0&&(j=p.onCaughtError),p.onRecoverableError!==void 0&&(Y=p.onRecoverableError),p.formState!==void 0&&(ne=p.formState)),f=vT(s,1,!0,f,p??null,y,A,ne,C,j,Y,CT),f.context=pT(null),p=f.current,y=Hn(),y=or(y),A=no(y),A.callback=null,ao(p,A,y),p=y,f.current.lanes=p,Mt(f,p),Ua(f),s[xn]=f.current,qm(s),new ah(f)},Sc.version="19.2.0",Sc}var BT;function Rj(){if(BT)return fy.exports;BT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),fy.exports=Nj(),fy.exports}var Lj=Rj();const Bj=La(Lj);var F=mu();const Mi=La(F),Ij=Tj({__proto__:null,default:Mi},[F]),xr=Mi.forwardRef(({className:e,variant:t="primary",...r},n)=>{const o=`inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-900 disabled:opacity-50 disabled:pointer-events-none px-4 py-2 ${{primary:"bg-primary text-white hover:bg-primary-600 focus:ring-primary-500",secondary:"bg-slate-200 text-slate-900 hover:bg-slate-300 dark:bg-slate-700 dark:text-slate-100 dark:hover:bg-slate-600 focus:ring-slate-400 dark:focus:ring-slate-500",ghost:"hover:bg-slate-100 dark:hover:bg-slate-700 focus:ring-slate-400 dark:focus:ring-slate-500 text-slate-800 dark:text-slate-200",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",subtle:"bg-slate-100 text-slate-700 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600"}[t]} ${e}`;return K.jsx("button",{className:o,ref:n,...r})});xr.displayName="Button";const rv=({className:e,children:t,...r})=>{const n=`bg-white dark:bg-slate-800 border border-stone-200 dark:border-slate-700 rounded-lg shadow-sm p-4 transition-shadow hover:shadow-md ${e}`;return K.jsx("div",{className:n,...r,children:t})},AP=({className:e="w-8 h-8"})=>K.jsxs("svg",{className:`animate-spin text-[#21808D] ${e}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[K.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),K.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),zj=e=>K.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[K.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),K.jsx("polyline",{points:"17 8 12 3 7 8"}),K.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),CP=e=>K.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[K.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),TP=({isOpen:e,onClose:t,title:r,children:n,size:a="lg"})=>{if(F.useEffect(()=>{const o=l=>{l.key==="Escape"&&t()};return window.addEventListener("keydown",o),()=>{window.removeEventListener("keydown",o)}},[t]),!e)return null;const i={md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl"};return K.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex justify-center items-center p-4",onClick:t,"aria-modal":"true",role:"dialog",children:K.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full ${i[a]} flex flex-col max-h-[90vh]`,onClick:o=>o.stopPropagation(),children:[K.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-stone-200 dark:border-slate-700",children:[K.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:r}),K.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200","aria-label":"Close modal",children:K.jsx(CP,{className:"w-6 h-6"})})]}),K.jsx("div",{className:"p-6 overflow-y-auto",children:n})]})})},Ya=Mi.forwardRef(({className:e,type:t="text",...r},n)=>K.jsx("input",{type:t,className:`block w-full rounded-md border-stone-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 shadow-sm focus:border-primary-500 dark:focus:border-primary-400 focus:ring-primary-500 dark:focus:ring-primary-400 sm:text-sm ${e}`,ref:n,...r}));Ya.displayName="Input";const OP=e=>K.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[K.jsx("circle",{cx:"11",cy:"11",r:"8"}),K.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),Kl=["#4E79A7","#F28E2B","#E15759","#76B7B2","#59A14F","#EDC948","#B07AA1","#FF9DA7","#9C755F","#BAB0AC"],_P=`
begin model
begin parameters
    p1 0.1
    p2 0.2
end parameters

begin molecule types
    A(b)
    B(a)
end molecule types

begin seed species
    A(b) 100
    B(a) 100
end seed species

begin observables
    Molecules A_free A(b)
    Molecules B_free B(a)
    Molecules AB A(b!1).B(a!1)
end observables

begin reaction rules
    A(b) + B(a) -> A(b!1).B(a!1) p1
    A(b!1).B(a!1) -> A(b) + B(a) p2
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode", t_end=>100, n_steps=>100})
end actions
end model
`,MP=[{id:"dimerization",name:"Simple Dimerization",description:"A basic model where two molecules A and B bind to form a complex AB.",code:_P,tags:["basic","binding"]},{id:"egfr_signaling",name:"EGFR Signaling Pathway",description:"A simplified model of the Epidermal Growth Factor Receptor (EGFR) signaling cascade.",code:`
begin model
begin parameters
    k_bind 1.0
    k_unbind 0.1
    k_phos 1.0
    k_dephos 0.5
end parameters

begin molecule types
    EGF(r)
    EGFR(l,y~U~P)
end molecule types

begin seed species
    EGF(r) 100
    EGFR(l,y~U) 50
end seed species

begin reaction rules
    EGF(r) + EGFR(l) <-> EGF(r!1).EGFR(l!1) k_bind, k_unbind
    EGFR(y~U) -> EGFR(y~P) k_phos
    EGFR(y~P) -> EGFR(y~U) k_dephos
end reaction rules

begin observables
    Molecules EGF_free EGF(r)
    Molecules EGFR_free EGFR(l)
    Molecules Bound_EGFR EGFR(l!+)
    Molecules Phospho_EGFR EGFR(y~P)
end observables

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>50,n_steps=>100})
end actions
end model
    `,tags:["signaling","phosphorylation"]},{id:"michaelis-menten",name:"Michaelis-Menten Kinetics",description:"The classic model of enzyme kinetics.",code:`
begin model
begin parameters
    k1 0.001
    k2 0.0001
    k3 0.1
end parameters

begin molecule types
    E(s)
    S(e)
    P(e)
end molecule types

begin seed species
    E(s) 100
    S(e) 1000
end seed species

begin observables
    Molecules Substrate S()
    Molecules Product P()
    Molecules Enzyme E()
    Molecules Complex E(s!1).S(e!1)
end observables

begin reaction rules
    E(s) + S(e) <-> E(s!1).S(e!1) k1, k2
    E(s!1).S(e!1) -> E(s) + P(e) k3
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>200,n_steps=>200})
end actions
end model
    `,tags:["enzyme kinetics","classic"]},{id:"sir-epidemic",name:"SIR Epidemic Model",description:"Compartment model for disease spread with waning immunity.",code:`
begin model
begin parameters
    beta 0.0005
    gamma 0.1
    delta 0.01
end parameters

begin molecule types
    Human(state~S~I~R)
end molecule types

begin seed species
    Human(state~S) 990
    Human(state~I) 10
end seed species

begin observables
    Molecules Susceptible Human(state~S)
    Molecules Infected Human(state~I)
    Molecules Recovered Human(state~R)
end observables

begin reaction rules
    Human(state~S) + Human(state~I) -> Human(state~I) + Human(state~I) beta
    Human(state~I) -> Human(state~R) gamma
    Human(state~R) -> Human(state~S) delta
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>160,n_steps=>160})
end actions
end model
    `,tags:["epidemiology","population"]},{id:"gene-expression",name:"Gene Expression Toggle",description:"Minimal transcription-translation model with promoter switching.",code:`
begin model
begin parameters
    k_activate 0.002
    k_repress 0.001
    k_transcription 1.0
    k_translation 5.0
    k_mrna_deg 0.2
    k_protein_deg 0.05
end parameters

begin molecule types
    Gene(active~off~on)
    mRNA()
    Protein()
end molecule types

begin seed species
    Gene(active~off) 1
end seed species

begin observables
    Molecules Promoter_on Gene(active~on)
    Molecules Promoter_off Gene(active~off)
    Molecules Transcripts mRNA()
    Molecules Protein Protein()
end observables

begin reaction rules
    Gene(active~off) -> Gene(active~on) k_activate
    Gene(active~on) -> Gene(active~off) k_repress
    Gene(active~on) -> Gene(active~on) + mRNA() k_transcription
    mRNA() -> mRNA() + Protein() k_translation
    mRNA() -> 0 k_mrna_deg
    Protein() -> 0 k_protein_deg
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>200,n_steps=>200})
end actions
end model
    `,tags:["gene regulation","expression"]},{id:"mapk-cascade",name:"MAPK Signaling Cascade",description:"Three-tier kinase cascade with sequential activation.",code:`
begin model
begin parameters
    k_bind 1.0
    k_unbind 0.1
    k_act1 0.5
    k_deact1 0.05
    k_act2 0.4
    k_deact2 0.04
    k_act3 0.3
    k_deact3 0.03
end parameters

begin molecule types
    Ligand(r)
    Receptor(l,state~inactive~active)
    MAPKKK(state~U~P)
    MAPKK(state~U~P)
    MAPK(state~U~P)
end molecule types

begin seed species
    Ligand(r) 100
    Receptor(l,state~inactive) 50
    MAPKKK(state~U) 30
    MAPKK(state~U) 100
    MAPK(state~U) 200
end seed species

begin observables
    Molecules Active_Receptor Receptor(state~active)
    Molecules MAPKKK_P MAPKKK(state~P)
    Molecules MAPKK_P MAPKK(state~P)
    Molecules MAPK_P MAPK(state~P)
end observables

begin reaction rules
    Ligand(r) + Receptor(l,state~inactive) <-> Ligand(r!1).Receptor(l!1,state~inactive) k_bind, k_unbind
    Ligand(r!1).Receptor(l!1,state~inactive) -> Ligand(r!1).Receptor(l!1,state~active) k_act1
    Receptor(state~active) -> Receptor(state~inactive) k_deact1
    Receptor(state~active) + MAPKKK(state~U) -> Receptor(state~active) + MAPKKK(state~P) k_act2
    MAPKKK(state~P) -> MAPKKK(state~U) k_deact2
    MAPKKK(state~P) + MAPKK(state~U) -> MAPKKK(state~P) + MAPKK(state~P) k_act3
    MAPKK(state~P) -> MAPKK(state~U) k_deact3
    MAPKK(state~P) + MAPK(state~U) -> MAPKK(state~P) + MAPK(state~P) k_act3
    MAPK(state~P) -> MAPK(state~U) k_deact3
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>60,n_steps=>120})
end actions
end model
    `,tags:["signaling","cascade"]},{id:"predator-prey",name:"Predator-Prey Dynamics",description:"Lotka-Volterra style interaction with birth and death processes.",code:`
begin model
begin parameters
    k_prey_birth 1.0
    k_predation 0.002
    k_pred_birth 0.001
    k_pred_death 0.5
end parameters

begin molecule types
    Prey()
    Predator()
end molecule types

begin seed species
    Prey() 200
    Predator() 20
end seed species

begin observables
    Molecules Prey_count Prey()
    Molecules Predator_count Predator()
end observables

begin reaction rules
    Prey() -> Prey() + Prey() k_prey_birth
    Predator() + Prey() -> Predator() + Predator() k_pred_birth
    Predator() + Prey() -> Predator() k_predation
    Predator() -> 0 k_pred_death
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>100,n_steps=>200})
end actions
end model
    `,tags:["population","ecology"]},{id:"dual-phosphorylation",name:"Dual-Site Phosphorylation",description:"Sequential kinase and phosphatase control of a two-site substrate.",code:`
begin model
begin parameters
    k_bind 1.0
    k_unbind 0.1
    k_phos 0.5
    k_dephos 0.2
end parameters

begin molecule types
    Kinase(b)
    Phosphatase(b)
    Substrate(y1~U~P,y2~U~P)
end molecule types

begin seed species
    Kinase(b) 50
    Phosphatase(b) 40
    Substrate(y1~U,y2~U) 200
end seed species

begin observables
    Molecules Unphosphorylated Substrate(y1~U,y2~U)
    Molecules SingleP_y1 Substrate(y1~P,y2~U)
    Molecules SingleP_y2 Substrate(y1~U,y2~P)
    Molecules DoubleP Substrate(y1~P,y2~P)
end observables

begin reaction rules
    Kinase(b) + Substrate(y1~U) -> Kinase(b) + Substrate(y1~P) k_phos
    Kinase(b) + Substrate(y2~U) -> Kinase(b) + Substrate(y2~P) k_phos
    Phosphatase(b) + Substrate(y1~P) -> Phosphatase(b) + Substrate(y1~U) k_dephos
    Phosphatase(b) + Substrate(y2~P) -> Phosphatase(b) + Substrate(y2~U) k_dephos
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>80,n_steps=>160})
end actions
end model
    `,tags:["phosphorylation","switch"]},{id:"auto-activation-loop",name:"Auto-Activation Loop",description:"Single gene that positively regulates its own expression.",code:`
begin model
begin parameters
    k_on 0.0005
    k_off 0.0002
    k_prod 1.2
    k_deg 0.05
end parameters

begin molecule types
    Gene(prom~off~on)
    Protein()
end molecule types

begin seed species
    Gene(prom~off) 1
    Protein() 5
end seed species

begin observables
    Molecules Promoter_on Gene(prom~on)
    Molecules Promoter_off Gene(prom~off)
    Molecules Effector Protein()
end observables

begin reaction rules
    Gene(prom~off) + Protein() -> Gene(prom~on) + Protein() k_on
    Gene(prom~on) -> Gene(prom~off) k_off
    Gene(prom~on) -> Gene(prom~on) + Protein() k_prod
    Protein() -> 0 k_deg
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>150,n_steps=>150})
end actions
end model
    `,tags:["gene regulation","feedback"]},{id:"negative-feedback-loop",name:"Negative Feedback Loop",description:"Gene expression damped by its protein product.",code:`
begin model
begin parameters
    k_transcribe 1.0
    k_translate 4.0
    k_bind 0.002
    k_unbind 0.001
    k_deg_m 0.2
    k_deg_p 0.1
end parameters

begin molecule types
    Gene(state~free~bound)
    mRNA()
    Protein()
end molecule types

begin seed species
    Gene(state~free) 1
end seed species

begin observables
    Molecules Free_gene Gene(state~free)
    Molecules Bound_gene Gene(state~bound)
    Molecules Transcript mRNA()
    Molecules Protein Protein()
end observables

begin reaction rules
    Gene(state~free) -> Gene(state~free) + mRNA() k_transcribe
    mRNA() -> mRNA() + Protein() k_translate
    Protein() + Gene(state~free) -> Protein() + Gene(state~bound) k_bind
    Gene(state~bound) -> Gene(state~free) k_unbind
    mRNA() -> 0 k_deg_m
    Protein() -> 0 k_deg_p
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>200,n_steps=>200})
end actions
end model
    `,tags:["gene regulation","feedback"]},{id:"repressilator",name:"Repressilator Oscillator",description:"Three-gene synthetic oscillator with cyclic repression.",code:`
begin model
begin parameters
    k_transcribe 1.0
    k_translate 5.0
    k_repress 0.003
    k_release 0.001
    k_deg_m 0.2
    k_deg_p 0.1
end parameters

begin molecule types
    GeneA(state~free~bound)
    GeneB(state~free~bound)
    GeneC(state~free~bound)
    mRNA_A()
    mRNA_B()
    mRNA_C()
    ProteinA()
    ProteinB()
    ProteinC()
end molecule types

begin seed species
    GeneA(state~free) 1
    GeneB(state~free) 1
    GeneC(state~free) 1
end seed species

begin observables
    Molecules Protein_A ProteinA()
    Molecules Protein_B ProteinB()
    Molecules Protein_C ProteinC()
    Molecules GeneA_bound GeneA(state~bound)
end observables

begin reaction rules
    GeneA(state~free) -> GeneA(state~free) + mRNA_A() k_transcribe
    GeneB(state~free) -> GeneB(state~free) + mRNA_B() k_transcribe
    GeneC(state~free) -> GeneC(state~free) + mRNA_C() k_transcribe
    mRNA_A() -> mRNA_A() + ProteinA() k_translate
    mRNA_B() -> mRNA_B() + ProteinB() k_translate
    mRNA_C() -> mRNA_C() + ProteinC() k_translate
    ProteinC() + GeneA(state~free) -> ProteinC() + GeneA(state~bound) k_repress
    GeneA(state~bound) -> GeneA(state~free) k_release
    ProteinA() + GeneB(state~free) -> ProteinA() + GeneB(state~bound) k_repress
    GeneB(state~bound) -> GeneB(state~free) k_release
    ProteinB() + GeneC(state~free) -> ProteinB() + GeneC(state~bound) k_repress
    GeneC(state~bound) -> GeneC(state~free) k_release
    mRNA_A() -> 0 k_deg_m
    mRNA_B() -> 0 k_deg_m
    mRNA_C() -> 0 k_deg_m
    ProteinA() -> 0 k_deg_p
    ProteinB() -> 0 k_deg_p
    ProteinC() -> 0 k_deg_p
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>300,n_steps=>300})
end actions
end model
    `,tags:["oscillator","synthetic biology"]},{id:"bistable-toggle-switch",name:"Bistable Toggle Switch",description:"Mutual repression between two genes yielding bistability.",code:`
begin model
begin parameters
    k_transcribe 0.8
    k_translate 4.0
    k_bind 0.003
    k_unbind 0.0008
    k_deg_m 0.15
    k_deg_p 0.08
end parameters

begin molecule types
    GeneL(state~free~bound)
    GeneR(state~free~bound)
    mRNA_L()
    mRNA_R()
    ProteinL()
    ProteinR()
end molecule types

begin seed species
    GeneL(state~free) 1
    GeneR(state~free) 1
end seed species

begin observables
    Molecules Protein_L ProteinL()
    Molecules Protein_R ProteinR()
    Molecules GeneL_bound GeneL(state~bound)
    Molecules GeneR_bound GeneR(state~bound)
end observables

begin reaction rules
    GeneL(state~free) -> GeneL(state~free) + mRNA_L() k_transcribe
    GeneR(state~free) -> GeneR(state~free) + mRNA_R() k_transcribe
    mRNA_L() -> mRNA_L() + ProteinL() k_translate
    mRNA_R() -> mRNA_R() + ProteinR() k_translate
    ProteinR() + GeneL(state~free) -> ProteinR() + GeneL(state~bound) k_bind
    ProteinL() + GeneR(state~free) -> ProteinL() + GeneR(state~bound) k_bind
    GeneL(state~bound) -> GeneL(state~free) k_unbind
    GeneR(state~bound) -> GeneR(state~free) k_unbind
    mRNA_L() -> 0 k_deg_m
    mRNA_R() -> 0 k_deg_m
    ProteinL() -> 0 k_deg_p
    ProteinR() -> 0 k_deg_p
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>250,n_steps=>250})
end actions
end model
    `,tags:["bistable","synthetic biology"]},{id:"cooperative-binding",name:"Cooperative Binding",description:"Ligand binding with cooperativity across two sites.",code:`
begin model
begin parameters
    k_on1 0.01
    k_off1 0.005
    k_on2 0.02
    k_off2 0.003
end parameters

begin molecule types
    Ligand()
    Receptor(site1~U~B,site2~U~B)
end molecule types

begin seed species
    Ligand() 200
    Receptor(site1~U,site2~U) 50
end seed species

begin observables
    Molecules Unbound Receptor(site1~U,site2~U)
    Molecules Single_bound_site1 Receptor(site1~B,site2~U)
    Molecules Single_bound_site2 Receptor(site1~U,site2~B)
    Molecules Double_bound Receptor(site1~B,site2~B)
end observables

begin reaction rules
    Ligand() + Receptor(site1~U) -> Ligand() + Receptor(site1~B) k_on1
    Receptor(site1~B) -> Receptor(site1~U) k_off1
    Ligand() + Receptor(site2~U) -> Ligand() + Receptor(site2~B) k_on2
    Receptor(site2~B) -> Receptor(site2~U) k_off2
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>100,n_steps=>200})
end actions
end model
    `,tags:["binding","cooperativity"]},{id:"enzyme-inhibition",name:"Competitive Enzyme Inhibition",description:"Substrate competes with inhibitor for the active site.",code:`
begin model
begin parameters
    k_on 0.002
    k_off 0.0005
    k_cat 0.05
    k_on_i 0.0025
    k_off_i 0.0004
end parameters

begin molecule types
    Enzyme(s)
    Substrate(b)
    Inhibitor(b)
    Product()
end molecule types

begin seed species
    Enzyme(s) 50
    Substrate(b) 300
    Inhibitor(b) 150
end seed species

begin observables
    Molecules Free_enzyme Enzyme(s)
    Molecules Complex Enzyme(s!1).Substrate(b!1)
    Molecules Inhibited Enzyme(s!1).Inhibitor(b!1)
    Molecules Product Product()
end observables

begin reaction rules
    Enzyme(s) + Substrate(b) <-> Enzyme(s!1).Substrate(b!1) k_on, k_off
    Enzyme(s!1).Substrate(b!1) -> Enzyme(s) + Product() k_cat
    Enzyme(s) + Inhibitor(b) <-> Enzyme(s!2).Inhibitor(b!2) k_on_i, k_off_i
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>180,n_steps=>180})
end actions
end model
    `,tags:["enzyme kinetics","inhibition"]},{id:"enzyme-activation",name:"Allosteric Activation",description:"Activator binding enhances catalytic turnover.",code:`
begin model
begin parameters
    k_on 0.002
    k_off 0.0005
    k_cat 0.02
    k_cat_active 0.1
    k_on_act 0.0015
    k_off_act 0.0003
end parameters

begin molecule types
    Enzyme(s,c,a~inactive~active)
    Substrate(b)
    Activator(b)
    Product()
end molecule types

begin seed species
    Enzyme(s,c,a~inactive) 40
    Substrate(b) 200
    Activator(b) 150
end seed species

begin observables
    Molecules Active_enzyme Enzyme(a~active)
    Molecules Inactive_enzyme Enzyme(a~inactive)
    Molecules Product Product()
end observables

begin reaction rules
    Enzyme(c,a~inactive) + Activator(b) <-> Enzyme(c!1,a~active).Activator(b!1) k_on_act, k_off_act
    Enzyme(s,a~inactive) + Substrate(b) <-> Enzyme(s!2,a~inactive).Substrate(b!2) k_on, k_off
    Enzyme(s,a~active) + Substrate(b) <-> Enzyme(s!3,a~active).Substrate(b!3) k_on, k_off
    Enzyme(s!2,a~inactive).Substrate(b!2) -> Enzyme(s,a~inactive) + Product() k_cat
    Enzyme(s!3,a~active).Substrate(b!3) -> Enzyme(s,a~active) + Product() k_cat_active
    Enzyme(c!1,a~active).Activator(b!1) -> Enzyme(c,a~active) + Activator(b) k_off_act
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>150,n_steps=>150})
end actions
end model
    `,tags:["enzyme kinetics","activation"]},{id:"signal-amplification",name:"Signal Amplification Cascade",description:"Ligand binding triggers second messenger production.",code:`
begin model
begin parameters
    k_bind 0.01
    k_unbind 0.002
    k_act 0.5
    k_deact 0.1
    k_prod 5.0
    k_deg 0.5
end parameters

begin molecule types
    Ligand()
    Receptor(state~inactive~active)
    Effector(state~inactive~active)
    Messenger()
end molecule types

begin seed species
    Ligand() 100
    Receptor(state~inactive) 50
    Effector(state~inactive) 30
end seed species

begin observables
    Molecules Active_receptor Receptor(state~active)
    Molecules Active_effector Effector(state~active)
    Molecules Messenger Messenger()
end observables

begin reaction rules
    Ligand() + Receptor(state~inactive) <-> Ligand() + Receptor(state~active) k_bind, k_unbind
    Receptor(state~active) + Effector(state~inactive) -> Receptor(state~active) + Effector(state~active) k_act
    Effector(state~active) -> Effector(state~inactive) k_deact
    Effector(state~active) -> Effector(state~active) + Messenger() k_prod
    Messenger() -> 0 k_deg
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>120,n_steps=>240})
end actions
end model
    `,tags:["signaling","amplification"]},{id:"two-component-system",name:"Two-Component System",description:"Histidine kinase phosphorylates a response regulator.",code:`
begin model
begin parameters
    k_auto 0.3
    k_transfer 0.5
    k_dephos 0.1
    k_synth 0.8
    k_deg 0.05
end parameters

begin molecule types
    Kinase(state~U~P)
    Regulator(state~U~P)
    Target()
end molecule types

begin seed species
    Kinase(state~U) 40
    Regulator(state~U) 80
end seed species

begin observables
    Molecules Kinase_P Kinase(state~P)
    Molecules Reg_P Regulator(state~P)
    Molecules Target Target()
end observables

begin reaction rules
    Kinase(state~U) -> Kinase(state~P) k_auto
    Kinase(state~P) + Regulator(state~U) -> Kinase(state~U) + Regulator(state~P) k_transfer
    Regulator(state~P) -> Regulator(state~U) k_dephos
    Regulator(state~P) -> Regulator(state~P) + Target() k_synth
    Target() -> 0 k_deg
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>120,n_steps=>240})
end actions
end model
    `,tags:["signaling","phosphorelay"]},{id:"brusselator",name:"Brusselator Oscillator",description:"Classical chemical oscillator with autocatalysis.",code:`
begin model
begin parameters
    k1 1.0
    k2 1.5
    k3 1.0
    k4 1.0
end parameters

begin molecule types
    X()
    Y()
    A()
    B()
end molecule types

begin seed species
    X() 1
    Y() 1
    A() 1
    B() 2
end seed species

begin observables
    Molecules Species_X X()
    Molecules Species_Y Y()
end observables

begin reaction rules
    A() -> X() k1
    X() -> X() + X() + Y() k2
    X() + Y() -> Y() + Y() k3
    X() -> 0 k4
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>40,n_steps=>400})
end actions
end model
    `,tags:["oscillator","chemical"]},{id:"glycolysis-branch",name:"Glycolysis Branch Point",description:"Competition between ATP production and biomass channel.",code:`
begin model
begin parameters
    k_gly 2.0
    k_branch 0.8
    k_atp_use 0.5
    k_biomass_use 0.3
end parameters

begin molecule types
    Glucose()
    ATP()
    Biomass()
end molecule types

begin seed species
    Glucose() 100
end seed species

begin observables
    Molecules Glucose_pool Glucose()
    Molecules ATP_pool ATP()
    Molecules Biomass Biomass()
end observables

begin reaction rules
    Glucose() -> ATP() k_gly
    Glucose() -> Biomass() k_branch
    ATP() -> 0 k_atp_use
    Biomass() -> 0 k_biomass_use
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>60,n_steps=>120})
end actions
end model
    `,tags:["metabolism","pathway"]},{id:"calcium-spike",name:"Calcium Spike Signaling",description:"Calcium influx with pump-mediated clearance.",code:`
begin model
begin parameters
    k_influx 0.5
    k_release 0.3
    k_pump 0.4
    k_leak 0.05
end parameters

begin molecule types
    Calcium_cyto()
    Calcium_store()
    Calcium_ext()
end molecule types

begin seed species
    Calcium_cyto() 10
    Calcium_store() 200
    Calcium_ext() 500
end seed species

begin observables
    Molecules Cytosolic Calcium_cyto()
    Molecules Stored Calcium_store()
    Molecules Extracellular Calcium_ext()
end observables

begin reaction rules
    Calcium_store() -> Calcium_cyto() k_release
    Calcium_cyto() -> Calcium_ext() k_pump
    Calcium_ext() -> Calcium_cyto() k_influx
    Calcium_cyto() -> Calcium_store() k_leak
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>80,n_steps=>160})
end actions
end model
    `,tags:["signaling","calcium"]},{id:"apoptosis-cascade",name:"Apoptosis Cascade",description:"Caspase activation with feedback amplification.",code:`
begin model
begin parameters
    k_initiator 0.01
    k_effector 0.05
    k_feedback 0.02
    k_deg 0.01
end parameters

begin molecule types
    Initiator(state~inactive~active)
    Effector(state~inactive~active)
end molecule types

begin seed species
    Initiator(state~inactive) 100
    Effector(state~inactive) 200
end seed species

begin observables
    Molecules Active_initiator Initiator(state~active)
    Molecules Active_effector Effector(state~active)
end observables

begin reaction rules
    Initiator(state~inactive) -> Initiator(state~active) k_initiator
    Initiator(state~active) + Effector(state~inactive) -> Initiator(state~active) + Effector(state~active) k_effector
    Effector(state~active) + Initiator(state~inactive) -> Effector(state~active) + Initiator(state~active) k_feedback
    Effector(state~active) -> Effector(state~inactive) k_deg
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>120,n_steps=>240})
end actions
end model
    `,tags:["cell death","caspase"]},{id:"notch-delta",name:"Notch-Delta Lateral Inhibition",description:"Reciprocal signaling between neighboring cells.",code:`
begin model
begin parameters
    k_bind 0.01
    k_unbind 0.002
    k_signal 0.2
    k_decay 0.05
end parameters

begin molecule types
    CellNotch(state~inactive~active)
    CellDelta(level~low~high)
end molecule types

begin seed species
    CellNotch(state~inactive) 1
    CellDelta(level~low) 1
end seed species

begin observables
    Molecules Active_notch CellNotch(state~active)
    Molecules High_delta CellDelta(level~high)
end observables

begin reaction rules
    CellNotch(state~inactive) + CellDelta(level~high) <-> CellNotch(state~active) + CellDelta(level~high) k_bind, k_unbind
    CellNotch(state~active) -> CellNotch(state~inactive) k_decay
    CellNotch(state~inactive) -> CellNotch(state~inactive) + CellDelta(level~low) k_signal
    CellDelta(level~low) -> CellDelta(level~high) k_signal
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>150,n_steps=>300})
end actions
end model
    `,tags:["development","signaling"]},{id:"quorum-sensing",name:"Quorum Sensing Circuit",description:"Autoinducer-mediated activation of gene expression.",code:`
begin model
begin parameters
    k_synth 0.5
    k_export 0.4
    k_import 0.3
    k_activate 0.2
    k_deg 0.05
end parameters

begin molecule types
    Autoinducer()
    Autoinducer_env()
    Gene(state~off~on)
    Protein()
end molecule types

begin seed species
    Gene(state~off) 1
    Protein() 100
    Autoinducer_env() 1000
end seed species

begin observables
    Molecules Autoinducer_pool Autoinducer()
    Molecules Gene_on Gene(state~on)
    Molecules Protein Protein()
    Molecules Autoinducer_env_pool Autoinducer_env()
end observables

begin reaction rules
    Autoinducer_env() -> Autoinducer() k_synth
    Autoinducer() -> Autoinducer_env() k_deg
    Autoinducer() + Gene(state~off) -> Gene(state~on) + Autoinducer() k_activate
    Gene(state~on) -> Gene(state~on) + Protein() k_export
    Protein() -> 0 k_import
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>120,n_steps=>240})
end actions
end model
    `,tags:["bacteria","signaling"]},{id:"circadian-oscillator",name:"Circadian Oscillator",description:"Delayed negative feedback model for circadian rhythms.",code:`
begin model
begin parameters
    k_synth 0.6
    k_phos 0.3
    k_feedback 0.1
    k_deg 0.05
end parameters

begin molecule types
    mRNA()
    Protein(state~U~P)
end molecule types

begin seed species
    mRNA() 10
    Protein(state~U) 50
end seed species

begin observables
    Molecules Transcript mRNA()
    Molecules Protein_total Protein()
end observables

begin reaction rules
    Protein(state~P) -> Protein(state~U) k_deg
    mRNA() -> mRNA() + Protein(state~U) k_synth
    Protein(state~U) -> Protein(state~P) k_phos
    Protein(state~P) -> 0 k_deg
    Protein(state~P) + mRNA() -> Protein(state~P) k_feedback
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>240,n_steps=>480})
end actions
end model
    `,tags:["circadian","oscillator"]},{id:"wnt-beta-catenin",name:"Wnt/Beta-Catenin Signaling",description:"Simplified model of beta-catenin stabilization after Wnt activation.",code:`
begin model
begin parameters
    k_wnt 0.3
    k_destruction 0.2
    k_translocate 0.1
    k_transcription 0.5
    k_deg 0.05
end parameters

begin molecule types
    Wnt(state~off~on)
    BetaCatenin(loc~cyto~nuc)
    TargetGene()
end molecule types

begin seed species
    Wnt(state~off) 1
    BetaCatenin(loc~cyto) 50
end seed species

begin observables
    Molecules Active_wnt Wnt(state~on)
    Molecules Nuclear_beta BetaCatenin(loc~nuc)
    Molecules Target TargetGene()
end observables

begin reaction rules
    Wnt(state~off) -> Wnt(state~on) k_wnt
    BetaCatenin(loc~cyto) -> 0 k_destruction
    Wnt(state~on) + BetaCatenin(loc~cyto) -> Wnt(state~on) + BetaCatenin(loc~nuc) k_translocate
    BetaCatenin(loc~nuc) -> BetaCatenin(loc~cyto) k_deg
    BetaCatenin(loc~nuc) -> BetaCatenin(loc~nuc) + TargetGene() k_transcription
    TargetGene() -> 0 k_deg
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>160,n_steps=>320})
end actions
end model
    `,tags:["signaling","transcription"]},{id:"tcell-activation",name:"T Cell Activation",description:"T cell receptor engagement leading to cytokine production.",code:`
begin model
begin parameters
    k_bind 0.004
    k_unbind 0.001
    k_signal 0.3
    k_deact 0.05
    k_cyt 0.6
    k_cyt_deg 0.1
end parameters

begin molecule types
    TCR(state~inactive~active)
    Antigen()
    Cytokine()
end molecule types

begin seed species
    TCR(state~inactive) 100
    Antigen() 80
end seed species

begin observables
    Molecules Active_tcr TCR(state~active)
    Molecules Cytokine_pool Cytokine()
end observables

begin reaction rules
    TCR(state~inactive) + Antigen() <-> TCR(state~active) + Antigen() k_bind, k_unbind
    TCR(state~active) -> TCR(state~inactive) k_deact
    TCR(state~active) -> TCR(state~active) + Cytokine() k_cyt
    Cytokine() -> 0 k_cyt_deg
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>120,n_steps=>240})
end actions
end model
    `,tags:["immune","signaling"]},{id:"nfkb-feedback",name:"NF-kB Feedback",description:"NF-B activation with inhibitor-induced negative feedback.",code:`
begin model
begin parameters
    k_activate 0.4
    k_inhibit 0.2
    k_synth 0.6
    k_deg 0.1
    k_export 0.3
end parameters

begin molecule types
    NFkB(loc~cyto~nuc)
    IkB()
end molecule types

begin seed species
    NFkB(loc~cyto) 100
end seed species

begin observables
    Molecules Nuclear NFkB(loc~nuc)
    Molecules Inhibitor IkB()
end observables

begin reaction rules
    NFkB(loc~cyto) -> NFkB(loc~nuc) k_activate
    NFkB(loc~nuc) -> NFkB(loc~cyto) k_export
    NFkB(loc~nuc) -> NFkB(loc~nuc) + IkB() k_synth
    IkB() + NFkB(loc~cyto) -> IkB() k_inhibit
    IkB() -> 0 k_deg
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>150,n_steps=>300})
end actions
end model
    `,tags:["immune","feedback"]},{id:"phosphorelay-chain",name:"Phosphorelay Chain",description:"Multi-step phosphorylation relay transmitting a signal.",code:`
begin model
begin parameters
    k1 0.4
    k2 0.3
    k3 0.2
    k_reset 0.05
end parameters

begin molecule types
    Sensor(state~U~P)
    Relay(state~U~P)
    Output(state~U~P)
end molecule types

begin seed species
    Sensor(state~U) 50
    Relay(state~U) 70
    Output(state~U) 90
end seed species

begin observables
    Molecules Sensor_P Sensor(state~P)
    Molecules Relay_P Relay(state~P)
    Molecules Output_P Output(state~P)
end observables

begin reaction rules
    Sensor(state~U) -> Sensor(state~P) k1
    Sensor(state~P) + Relay(state~U) -> Sensor(state~P) + Relay(state~P) k2
    Relay(state~P) + Output(state~U) -> Relay(state~P) + Output(state~P) k3
    Output(state~P) -> Output(state~U) k_reset
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>100,n_steps=>200})
end actions
end model
    `,tags:["signaling","phosphorelay"]},{id:"p53-mdm2",name:"p53-MDM2 Oscillator",description:"Stress-induced p53 activation with MDM2-mediated degradation.",code:`
begin model
begin parameters
    k_stress 0.4
    k_mdmsynth 0.3
    k_degrade 0.2
    k_mdmdown 0.1
    k_p53deg 0.05
end parameters

begin molecule types
    p53()
    MDM2()
end molecule types

begin seed species
    p53() 20
end seed species

begin observables
    Molecules p53_total p53()
    Molecules MDM2_total MDM2()
end observables

begin reaction rules
    0 -> p53() k_stress
    p53() -> 0 k_p53deg
    p53() -> p53() + MDM2() k_mdmsynth
    MDM2() + p53() -> MDM2() k_degrade
    MDM2() -> 0 k_mdmdown
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>160,n_steps=>320})
end actions
end model
    `,tags:["stress","feedback"]},{id:"stress-response",name:"Stress Response Adaptation",description:"Fast stress sensor inducing slow adaptive enzyme production.",code:`
begin model
begin parameters
    k_sense 0.5
    k_adapt 0.1
    k_recover 0.05
    k_deg 0.02
end parameters

begin molecule types
    Sensor(state~inactive~active)
    Adapter()
    Enzyme()
end molecule types

begin seed species
    Sensor(state~inactive) 50
end seed species

begin observables
    Molecules Active_sensor Sensor(state~active)
    Molecules Adapter Adapter()
    Molecules Enzyme Enzyme()
end observables

begin reaction rules
    Sensor(state~inactive) -> Sensor(state~active) k_sense
    Sensor(state~active) -> Sensor(state~inactive) k_recover
    Sensor(state~active) -> Sensor(state~active) + Adapter() k_adapt
    Adapter() -> Adapter() + Enzyme() k_adapt
    Enzyme() -> 0 k_deg
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>120,n_steps=>240})
end actions
end model
    `,tags:["stress","adaptation"]}],jj=[...new Set(MP.flatMap(e=>e.tags))],Gj=({isOpen:e,onClose:t,onSelect:r})=>{const[n,a]=F.useState(""),[i,o]=F.useState(new Set),l=F.useMemo(()=>MP.filter(c=>{const d=c.name.toLowerCase().includes(n.toLowerCase())||c.description.toLowerCase().includes(n.toLowerCase()),h=i.size===0||[...i].every(v=>c.tags.includes(v));return d&&h}),[n,i]),u=c=>{const d=new Set(i);d.has(c)?d.delete(c):d.add(c),o(d)};return K.jsx(TP,{isOpen:e,onClose:t,title:"Example Model Gallery",size:"3xl",children:K.jsxs("div",{className:"mt-4",children:[K.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:K.jsxs("div",{className:"relative flex-grow",children:[K.jsx(OP,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),K.jsx(Ya,{type:"text",placeholder:"Search examples...",value:n,onChange:c=>a(c.target.value),className:"pl-10"})]})}),K.jsx("div",{className:"flex flex-wrap gap-2 mb-6 border-b border-stone-200 dark:border-slate-700 pb-4",children:jj.map(c=>K.jsx("button",{onClick:()=>u(c),className:`px-3 py-1 text-xs font-medium rounded-full transition-colors ${i.has(c)?"bg-primary text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:c},c))}),K.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[60vh] overflow-y-auto pr-2",children:l.length>0?l.map(c=>K.jsxs(rv,{className:"flex flex-col",children:[K.jsxs("div",{className:"flex-grow",children:[K.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-100",children:c.name}),K.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:c.description}),K.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:c.tags.map(d=>K.jsx("span",{className:"px-2 py-0.5 text-xs bg-primary-100 dark:bg-primary-900/50 text-primary-800 dark:text-primary-300 rounded-full",children:d},d))})]}),K.jsx("button",{onClick:()=>r(c.code),className:"mt-4 w-full text-center px-4 py-2 text-sm font-semibold bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-md transition-colors text-slate-800 dark:text-slate-100",children:"Load Example"})]},c.id)):K.jsx("p",{className:"text-slate-500 dark:text-slate-400 col-span-full text-center",children:"No examples match your criteria."})})]})})},Uj=({name:e,options:t,value:r,onChange:n})=>K.jsx("div",{className:"flex items-center gap-4 py-1",children:t.map(a=>K.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700 dark:text-slate-200 cursor-pointer",children:[K.jsx("input",{type:"radio",name:e,value:a.value,checked:r===a.value,onChange:i=>n(i.target.value),className:"h-4 w-4 text-primary focus:ring-primary-500 border-stone-300 dark:border-slate-600 dark:bg-slate-800"}),K.jsx("span",{children:a.label})]},a.value))});function DP(){const[e,t]=F.useState(()=>localStorage.getItem("theme")||"light"),r=()=>{t(n=>n==="light"?"dark":"light")};return F.useEffect(()=>{const n=window.document.documentElement;n.classList.remove("light","dark"),n.classList.add(e),localStorage.setItem("theme",e)},[e]),[e,r]}let oh=null;function Fj(){return oh||(oh=new Promise((e,t)=>{if(window.monaco){e(window.monaco);return}const r=document.createElement("script");r.src="https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/vs/loader.js",r.async=!0,r.onload=()=>{window.require.config({paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/vs"}}),window.require(["vs/editor/editor.main"],n=>{e(n)},n=>{t(n)})},r.onerror=n=>{t(n)},document.body.appendChild(r)}),oh)}const qj=({value:e,language:t,onChange:r})=>{const n=F.useRef(null),a=F.useRef(null),i=F.useRef(null),[o]=DP(),l=F.useRef(r);return F.useEffect(()=>{l.current=r},[r]),F.useEffect(()=>{let u=!1,c=null;return Fj().then(d=>{u||!n.current||(i.current=d,d.languages.getLanguages().some(({id:h})=>h==="bngl")||(d.languages.register({id:"bngl"}),d.languages.setMonarchTokensProvider("bngl",{keywords:["begin","end","model","parameters","molecule","types","seed","species","observables","functions","reaction","rules","actions","generate_network","simulate","method","t_end","n_steps","ode","ssa","overwrite"],tokenizer:{root:[[/#.*$/,"comment"],[/[a-zA-Z_]\w*/,{cases:{"@keywords":"keyword","@default":"identifier"}}],[/(\w+)\s*\(/,"type.identifier"],[/\d+(\.\d+)?(e[+-]?\d+)?/,"number"],[/->|<->/,"operator"],[/[()\[\]{},.!~+@]/,"delimiter"]]}})),c=d.editor.create(n.current,{value:e,language:t,theme:o==="dark"?"vs-dark":"vs",automaticLayout:!0,minimap:{enabled:!1},wordWrap:"on"}),a.current=c,c.onDidChangeModelContent(()=>{l.current(c.getValue())}))}).catch(d=>{u||console.error("Failed to initialize Monaco Editor:",d)}),()=>{u=!0,c&&c.dispose(),a.current=null}},[]),F.useEffect(()=>{const u=a.current;if(u&&u.getValue()!==e){const c=u.getModel();c?c.setValue(e):u.setValue(e)}},[e]),F.useEffect(()=>{i.current&&a.current&&i.current.editor.setTheme(o==="dark"?"vs-dark":"vs")},[o]),K.jsx("div",{ref:n,className:"w-full h-full border border-stone-300 dark:border-slate-700 rounded-md"})},Hj=({code:e,onCodeChange:t,onParse:r,onSimulate:n,isSimulating:a,modelExists:i})=>{const[o,l]=F.useState(!1),[u,c]=F.useState("ode"),d=Mi.useRef(null),h=g=>{var b;const m=(b=g.target.files)==null?void 0:b[0];if(m){const x=new FileReader;x.onload=w=>{var S;t((S=w.target)==null?void 0:S.result)},x.readAsText(m)}},v=g=>{t(g),l(!1)};return K.jsxs(rv,{className:"flex flex-col h-full",children:[K.jsx("h2",{className:"text-xl font-bold mb-3 text-slate-800 dark:text-slate-100",children:"BNGL Model Editor"}),K.jsx("div",{className:"flex-grow relative",children:K.jsx(qj,{language:"bngl",value:e,onChange:g=>t(g||"")})}),K.jsxs("div",{className:"mt-4 flex flex-wrap gap-2 items-center justify-between",children:[K.jsxs("div",{className:"flex flex-wrap gap-2",children:[K.jsx(xr,{onClick:()=>l(!0),children:"Examples"}),K.jsxs(xr,{variant:"subtle",onClick:()=>{var g;return(g=d.current)==null?void 0:g.click()},children:[K.jsx(zj,{className:"w-4 h-4 mr-2"}),"Load BNGL"]}),K.jsx("input",{type:"file",ref:d,onChange:h,className:"hidden",accept:".bngl"})]}),K.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[K.jsx(xr,{onClick:r,children:"Parse Model"}),K.jsxs("div",{className:"flex items-center gap-3 pl-2 border-l border-stone-300 dark:border-slate-600",children:[K.jsx(Uj,{name:"simulationMethod",value:u,onChange:g=>c(g),options:[{label:"ODE",value:"ode"},{label:"SSA",value:"ssa"}]}),K.jsxs(xr,{onClick:()=>n({method:u,t_end:100,n_steps:100}),disabled:a||!i,variant:"primary",children:[a&&K.jsx(AP,{className:"w-4 h-4 mr-2"}),a?"Simulating...":"Run Simulation"]})]})]})]}),K.jsx(Gj,{isOpen:o,onClose:()=>l(!1),onSelect:v})]})},Lx=F.createContext(null),Vj=({children:e})=>{const[t,r]=F.useState(0);return K.jsx(Lx.Provider,{value:{activeIndex:t,setActiveIndex:r},children:K.jsx("div",{children:e})})},Yj=({children:e})=>{const t=F.useContext(Lx);if(!t)throw new Error("TabList must be used within a Tabs component");return K.jsx("div",{className:"border-b border-stone-200 dark:border-slate-700",children:K.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto","aria-label":"Tabs",children:F.Children.map(e,(r,n)=>Mi.cloneElement(r,{isActive:n===t.activeIndex,onClick:()=>t.setActiveIndex(n)}))})})},vs=({children:e,isActive:t,onClick:r})=>K.jsx("button",{onClick:r,className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm transition-colors ${t?"border-primary text-primary dark:text-primary-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-stone-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"}`,children:e}),$j=({children:e})=>{const t=F.useContext(Lx);if(!t)throw new Error("TabPanels must be used within a Tabs component");return K.jsx("div",{className:"mt-4",children:F.Children.toArray(e)[t.activeIndex]})},ps=({children:e})=>K.jsx("div",{children:e});function kP(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=kP(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Rt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=kP(e))&&(n&&(n+=" "),n+=t);return n}var Xj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Bx(e){if(typeof e!="string")return!1;var t=Xj;return t.includes(e)}var Kj=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function PP(e){if(typeof e!="string")return!1;var t=Kj;return t.includes(e)}function NP(e){return typeof e=="string"&&e.startsWith("data-")}function Wa(e){var t=Object.entries(e).filter(r=>{var[n]=r;return PP(n)||NP(n)});return Object.fromEntries(t)}function ep(e){if(e==null)return null;if(F.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Wa(t)}return typeof e=="object"&&!Array.isArray(e)?Wa(e):null}function Rn(e){var t=Object.entries(e).filter(r=>{var[n]=r;return PP(n)||NP(n)||Bx(n)});return Object.fromEntries(t)}function Wj(e){return e==null?null:F.isValidElement(e)?Rn(e.props):typeof e=="object"&&!Array.isArray(e)?Rn(e):null}var Zj=["children","width","height","viewBox","className","style","title","desc"];function w1(){return w1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w1.apply(null,arguments)}function Qj(e,t){if(e==null)return{};var r,n,a=Jj(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jj(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ix=F.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:l,title:u,desc:c}=e,d=Qj(e,Zj),h=i||{width:n,height:a,x:0,y:0},v=Rt("recharts-surface",o);return F.createElement("svg",w1({},Rn(d),{className:v,width:n,height:a,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),F.createElement("title",null,u),F.createElement("desc",null,c),r)}),e4=["children","className"];function E1(){return E1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E1.apply(null,arguments)}function t4(e,t){if(e==null)return{};var r,n,a=r4(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function r4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ks=F.forwardRef((e,t)=>{var{children:r,className:n}=e,a=t4(e,e4),i=Rt("recharts-layer",n);return F.createElement("g",E1({className:i},Rn(a),{ref:t}),r)}),RP=SP(),LP=F.createContext(null),n4=()=>F.useContext(LP);function jt(e){return function(){return e}}const BP=Math.cos,nv=Math.sin,Ba=Math.sqrt,av=Math.PI,tp=2*av,S1=Math.PI,A1=2*S1,Es=1e-6,a4=A1-Es;function IP(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function i4(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return IP;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class o4{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?IP:i4(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,u=n-t,c=a-r,d=o-t,h=l-r,v=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>Es)if(!(Math.abs(h*u-c*d)>Es)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-o,m=a-l,b=u*u+c*c,x=g*g+m*m,w=Math.sqrt(b),S=Math.sqrt(v),E=i*Math.tan((S1-Math.acos((b+v-x)/(2*w*S)))/2),O=E/S,D=E/w;Math.abs(O-1)>Es&&this._append`L${t+O*d},${r+O*h}`,this._append`A${i},${i},0,0,${+(h*g>d*m)},${this._x1=t+D*u},${this._y1=r+D*c}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),u=n*Math.sin(a),c=t+l,d=r+u,h=1^o,v=o?a-i:i-a;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Es||Math.abs(this._y1-d)>Es)&&this._append`L${c},${d}`,n&&(v<0&&(v=v%A1+A1),v>a4?this._append`A${n},${n},0,1,${h},${t-l},${r-u}A${n},${n},0,1,${h},${this._x1=c},${this._y1=d}`:v>Es&&this._append`A${n},${n},0,${+(v>=S1)},${h},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function zx(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new o4(t)}function jx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zP(e){this._context=e}zP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function rp(e){return new zP(e)}function jP(e){return e[0]}function GP(e){return e[1]}function UP(e,t){var r=jt(!0),n=null,a=rp,i=null,o=zx(l);e=typeof e=="function"?e:e===void 0?jP:jt(e),t=typeof t=="function"?t:t===void 0?GP:jt(t);function l(u){var c,d=(u=jx(u)).length,h,v=!1,g;for(n==null&&(i=a(g=o())),c=0;c<=d;++c)!(c<d&&r(h=u[c],c,u))===v&&((v=!v)?i.lineStart():i.lineEnd()),v&&i.point(+e(h,c,u),+t(h,c,u));if(g)return i=null,g+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:jt(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:jt(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:jt(!!u),l):r},l.curve=function(u){return arguments.length?(a=u,n!=null&&(i=a(n)),l):a},l.context=function(u){return arguments.length?(u==null?n=i=null:i=a(n=u),l):n},l}function sh(e,t,r){var n=null,a=jt(!0),i=null,o=rp,l=null,u=zx(c);e=typeof e=="function"?e:e===void 0?jP:jt(+e),t=typeof t=="function"?t:jt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?GP:jt(+r);function c(h){var v,g,m,b=(h=jx(h)).length,x,w=!1,S,E=new Array(b),O=new Array(b);for(i==null&&(l=o(S=u())),v=0;v<=b;++v){if(!(v<b&&a(x=h[v],v,h))===w)if(w=!w)g=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=v-1;m>=g;--m)l.point(E[m],O[m]);l.lineEnd(),l.areaEnd()}w&&(E[v]=+e(x,v,h),O[v]=+t(x,v,h),l.point(n?+n(x,v,h):E[v],r?+r(x,v,h):O[v]))}if(S)return l=null,S+""||null}function d(){return UP().defined(a).curve(o).context(i)}return c.x=function(h){return arguments.length?(e=typeof h=="function"?h:jt(+h),n=null,c):e},c.x0=function(h){return arguments.length?(e=typeof h=="function"?h:jt(+h),c):e},c.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:jt(+h),c):n},c.y=function(h){return arguments.length?(t=typeof h=="function"?h:jt(+h),r=null,c):t},c.y0=function(h){return arguments.length?(t=typeof h=="function"?h:jt(+h),c):t},c.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:jt(+h),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(h){return arguments.length?(a=typeof h=="function"?h:jt(!!h),c):a},c.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),c):o},c.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),c):i},c}class FP{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function s4(e){return new FP(e,!0)}function l4(e){return new FP(e,!1)}const Gx={draw(e,t){const r=Ba(t/av);e.moveTo(r,0),e.arc(0,0,r,0,tp)}},u4={draw(e,t){const r=Ba(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},qP=Ba(1/3),c4=qP*2,f4={draw(e,t){const r=Ba(t/c4),n=r*qP;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},d4={draw(e,t){const r=Ba(t),n=-r/2;e.rect(n,n,r,r)}},h4=.8908130915292852,HP=nv(av/10)/nv(7*av/10),v4=nv(tp/10)*HP,p4=-BP(tp/10)*HP,g4={draw(e,t){const r=Ba(t*h4),n=v4*r,a=p4*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=tp*i/5,l=BP(o),u=nv(o);e.lineTo(u*r,-l*r),e.lineTo(l*n-u*a,u*n+l*a)}e.closePath()}},gy=Ba(3),m4={draw(e,t){const r=-Ba(t/(gy*3));e.moveTo(0,r*2),e.lineTo(-gy*r,-r),e.lineTo(gy*r,-r),e.closePath()}},da=-.5,ha=Ba(3)/2,C1=1/Ba(12),y4=(C1/2+1)*3,b4={draw(e,t){const r=Ba(t/y4),n=r/2,a=r*C1,i=n,o=r*C1+r,l=-i,u=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,u),e.lineTo(da*n-ha*a,ha*n+da*a),e.lineTo(da*i-ha*o,ha*i+da*o),e.lineTo(da*l-ha*u,ha*l+da*u),e.lineTo(da*n+ha*a,da*a-ha*n),e.lineTo(da*i+ha*o,da*o-ha*i),e.lineTo(da*l+ha*u,da*u-ha*l),e.closePath()}};function x4(e,t){let r=null,n=zx(a);e=typeof e=="function"?e:jt(e||Gx),t=typeof t=="function"?t:jt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:jt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:jt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function iv(){}function ov(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function VP(e){this._context=e}VP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ov(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ov(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function w4(e){return new VP(e)}function YP(e){this._context=e}YP.prototype={areaStart:iv,areaEnd:iv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ov(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function E4(e){return new YP(e)}function $P(e){this._context=e}$P.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ov(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function S4(e){return new $P(e)}function XP(e){this._context=e}XP.prototype={areaStart:iv,areaEnd:iv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function A4(e){return new XP(e)}function IT(e){return e<0?-1:1}function zT(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(IT(i)+IT(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function jT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function my(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function sv(e){this._context=e}sv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:my(this,this._t0,jT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,my(this,jT(this,r=zT(this,e,t)),r);break;default:my(this,this._t0,r=zT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function KP(e){this._context=new WP(e)}(KP.prototype=Object.create(sv.prototype)).point=function(e,t){sv.prototype.point.call(this,t,e)};function WP(e){this._context=e}WP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function C4(e){return new sv(e)}function T4(e){return new KP(e)}function ZP(e){this._context=e}ZP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=GT(e),a=GT(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function GT(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function O4(e){return new ZP(e)}function np(e,t){this._context=e,this._t=t}np.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function _4(e){return new np(e,.5)}function M4(e){return new np(e,0)}function D4(e){return new np(e,1)}function ou(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function T1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function k4(e,t){return e[t]}function P4(e){const t=[];return t.key=e,t}function N4(){var e=jt([]),t=T1,r=ou,n=k4;function a(i){var o=Array.from(e.apply(this,arguments),P4),l,u=o.length,c=-1,d;for(const h of i)for(l=0,++c;l<u;++l)(o[l][c]=[0,+n(h,o[l].key,c,i)]).data=h;for(l=0,d=jx(t(o));l<u;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:jt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:jt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?T1:typeof i=="function"?i:jt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??ou,a):r},a}function R4(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}ou(e,t)}}function L4(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}ou(e,t)}}function B4(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,u=0,c=0;l<o;++l){for(var d=e[t[l]],h=d[n][1]||0,v=d[n-1][1]||0,g=(h-v)/2,m=0;m<l;++m){var b=e[t[m]],x=b[n][1]||0,w=b[n-1][1]||0;g+=x-w}u+=h,c+=g*h}a[n-1][1]+=a[n-1][0]=r,u&&(r-=c/u)}a[n-1][1]+=a[n-1][0]=r,ou(e,t)}}var yy={},by={},UT;function I4(){return UT||(UT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(by)),by}var xy={},FT;function QP(){return FT||(FT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(xy)),xy}var wy={},qT;function Ux(){return qT||(qT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(wy)),wy}var Ey={},Sy={},HT;function z4(){return HT||(HT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Sy)),Sy}var VT;function Fx(){return VT||(VT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z4(),r=Ux();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let l=0,u="",c="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const h=a[l];c?h==="\\"&&l+1<o?(l++,u+=a[l]):h===c?c="":u+=h:d?h==='"'||h==="'"?c=h:h==="]"?(d=!1,i.push(u),u=""):u+=h:h==="["?(d=!0,u&&(i.push(u),u="")):h==="."?u&&(i.push(u),u=""):u+=h,l++}return u&&i.push(u),i}e.toPath=n})(Ey)),Ey}var YT;function qx(){return YT||(YT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I4(),r=QP(),n=Ux(),a=Fx();function i(l,u,c){if(l==null)return c;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return c;const d=l[u];return d===void 0?r.isDeepKey(u)?i(l,a.toPath(u),c):c:d}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const d=l[u];return d===void 0?c:d}default:{if(Array.isArray(u))return o(l,u,c);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return c;const d=l[u];return d===void 0?c:d}}}function o(l,u,c){if(u.length===0)return c;let d=l;for(let h=0;h<u.length;h++){if(d==null||t.isUnsafeProperty(u[h]))return c;d=d[u[h]]}return d===void 0?c:d}e.get=i})(yy)),yy}var Ay,$T;function j4(){return $T||($T=1,Ay=qx().get),Ay}var G4=j4();const ap=La(G4);var ba=e=>e===0?0:e>0?1:-1,Na=e=>typeof e=="number"&&e!=+e,Di=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ze=e=>(typeof e=="number"||e instanceof Number)&&!Na(e),kn=e=>Ze(e)||typeof e=="string",U4=0,Wc=e=>{var t=++U4;return"".concat(e||"").concat(t)},Ro=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ze(t)&&typeof t!="string")return n;var i;if(Di(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Na(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},JP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function wi(e,t,r){return Ze(e)&&Ze(t)?e+r*(t-e):t}function eN(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ap(n,t))===r)}var jr=e=>e===null||typeof e>"u",yf=e=>jr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),F4=["type","size","sizeType"];function O1(){return O1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O1.apply(null,arguments)}function XT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XT(Object(r),!0).forEach(function(n){q4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q4(e,t,r){return(t=H4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H4(e){var t=V4(e,"string");return typeof t=="symbol"?t:t+""}function V4(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y4(e,t){if(e==null)return{};var r,n,a=$4(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tN={symbolCircle:Gx,symbolCross:u4,symbolDiamond:f4,symbolSquare:d4,symbolStar:g4,symbolTriangle:m4,symbolWye:b4},X4=Math.PI/180,K4=e=>{var t="symbol".concat(yf(e));return tN[t]||Gx},W4=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*X4;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Z4=(e,t)=>{tN["symbol".concat(yf(e))]=t},rN=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=Y4(e,F4),i=KT(KT({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var v=K4(o),g=x4().type(v).size(W4(r,n,o)),m=g();if(m!==null)return m},{className:u,cx:c,cy:d}=i,h=Rn(i);return c===+c&&d===+d&&r===+r?F.createElement("path",O1({},h,{className:Rt("recharts-symbols",u),transform:"translate(".concat(c,", ").concat(d,")"),d:l()})):null};rN.registerSymbol=Z4;var Hx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(F.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Bx(a)&&(n[a]=(i=>r[a](r,i)))}),n},Q4=(e,t,r)=>n=>(e(t,r,n),null),nN=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Bx(a)&&typeof i=="function"&&(n||(n={}),n[a]=Q4(i,t,r))}),n};function _1(){return _1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_1.apply(null,arguments)}function WT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(r),!0).forEach(function(n){Vx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vx(e,t,r){return(t=eG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eG(e){var t=tG(e,"string");return typeof t=="symbol"?t:t+""}function tG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var va=32;class Yx extends F.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=va/2,i=va/6,o=va/3,l=t.inactive?n:t.color,u=r??t.type;if(u==="none")return null;if(u==="plainline")return F.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:va,y2:a,className:"recharts-legend-icon"});if(u==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(va,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(u==="rect")return F.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(va/8,"h").concat(va,"v").concat(va*3/4,"h").concat(-va,"z"),className:"recharts-legend-icon"});if(F.isValidElement(t.legendIcon)){var c=J4({},t);return delete c.legendIcon,F.cloneElement(t.legendIcon,c)}return F.createElement(rN,{fill:l,cx:a,cy:a,size:va,sizeType:"diameter",type:u})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:o}=this.props,l={x:0,y:0,width:va,height:va},u={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,h)=>{var v=d.formatter||a,g=Rt({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:d.inactive});if(d.type==="none")return null;var m=d.inactive?i:d.color,b=v?v(d.value,d,h):d.value;return F.createElement("li",_1({className:g,style:u,key:"legend-item-".concat(h)},nN(this.props,d,h)),F.createElement(Ix,{width:r,height:r,viewBox:l,style:c,"aria-label":"".concat(b," legend icon")},this.renderIcon(d,o)),F.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},b))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}Vx(Yx,"displayName","Legend");Vx(Yx,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Cy={},Ty={},ZT;function rG(){return ZT||(ZT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(Ty)),Ty}var Oy={},QT;function aN(){return QT||(QT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Oy)),Oy}var _y={},My={},Dy={},JT;function nG(){return JT||(JT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Dy)),Dy}var e2;function $x(){return e2||(e2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nG();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(My)),My}var ky={},t2;function aG(){return t2||(t2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(ky)),ky}var r2;function iG(){return r2||(r2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$x(),r=aG();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(_y)),_y}var Py={},Ny={},n2;function oG(){return n2||(n2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qx();function r(n){return function(a){return t.get(a,n)}}e.property=r})(Ny)),Ny}var Ry={},Ly={},By={},Iy={},a2;function iN(){return a2||(a2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Iy)),Iy}var zy={},i2;function oN(){return i2||(i2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(zy)),zy}var jy={},o2;function sN(){return o2||(o2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(jy)),jy}var s2;function sG(){return s2||(s2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xx(),r=iN(),n=oN(),a=sN();function i(h,v,g){return typeof g!="function"?t.isMatch(h,v):o(h,v,function m(b,x,w,S,E,O){const D=g(b,x,w,S,E,O);return D!==void 0?!!D:o(b,x,m,O)},new Map)}function o(h,v,g,m){if(v===h)return!0;switch(typeof v){case"object":return l(h,v,g,m);case"function":return Object.keys(v).length>0?o(h,{...v},g,m):a.eq(h,v);default:return r.isObject(h)?typeof v=="string"?v==="":!0:a.eq(h,v)}}function l(h,v,g,m){if(v==null)return!0;if(Array.isArray(v))return c(h,v,g,m);if(v instanceof Map)return u(h,v,g,m);if(v instanceof Set)return d(h,v,g,m);const b=Object.keys(v);if(h==null)return b.length===0;if(b.length===0)return!0;if(m&&m.has(v))return m.get(v)===h;m&&m.set(v,h);try{for(let x=0;x<b.length;x++){const w=b[x];if(!n.isPrimitive(h)&&!(w in h)||v[w]===void 0&&h[w]!==void 0||v[w]===null&&h[w]!==null||!g(h[w],v[w],w,h,v,m))return!1}return!0}finally{m&&m.delete(v)}}function u(h,v,g,m){if(v.size===0)return!0;if(!(h instanceof Map))return!1;for(const[b,x]of v.entries()){const w=h.get(b);if(g(w,x,b,h,v,m)===!1)return!1}return!0}function c(h,v,g,m){if(v.length===0)return!0;if(!Array.isArray(h))return!1;const b=new Set;for(let x=0;x<v.length;x++){const w=v[x];let S=!1;for(let E=0;E<h.length;E++){if(b.has(E))continue;const O=h[E];let D=!1;if(g(O,w,x,h,v,m)&&(D=!0),D){b.add(E),S=!0;break}}if(!S)return!1}return!0}function d(h,v,g,m){return v.size===0?!0:h instanceof Set?c([...h],[...v],g,m):!1}e.isMatchWith=i,e.isSetMatch=d})(By)),By}var l2;function Xx(){return l2||(l2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sG();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Ly)),Ly}var Gy={},Uy={},Fy={},u2;function lG(){return u2||(u2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Fy)),Fy}var qy={},c2;function lN(){return c2||(c2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(qy)),qy}var Hy={},f2;function uN(){return f2||(f2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",c="[object Set]",d="[object Array]",h="[object Function]",v="[object ArrayBuffer]",g="[object Object]",m="[object Error]",b="[object DataView]",x="[object Uint8Array]",w="[object Uint8ClampedArray]",S="[object Uint16Array]",E="[object Uint32Array]",O="[object BigUint64Array]",D="[object Int8Array]",k="[object Int16Array]",T="[object Int32Array]",_="[object BigInt64Array]",M="[object Float32Array]",R="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=v,e.arrayTag=d,e.bigInt64ArrayTag=_,e.bigUint64ArrayTag=O,e.booleanTag=a,e.dataViewTag=b,e.dateTag=l,e.errorTag=m,e.float32ArrayTag=M,e.float64ArrayTag=R,e.functionTag=h,e.int16ArrayTag=k,e.int32ArrayTag=T,e.int8ArrayTag=D,e.mapTag=u,e.numberTag=n,e.objectTag=g,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=S,e.uint32ArrayTag=E,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=w})(Hy)),Hy}var Vy={},d2;function uG(){return d2||(d2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Vy)),Vy}var h2;function cN(){return h2||(h2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lG(),r=lN(),n=uN(),a=oN(),i=uG();function o(d,h){return l(d,void 0,d,new Map,h)}function l(d,h,v,g=new Map,m=void 0){const b=m==null?void 0:m(d,h,v,g);if(b!==void 0)return b;if(a.isPrimitive(d))return d;if(g.has(d))return g.get(d);if(Array.isArray(d)){const x=new Array(d.length);g.set(d,x);for(let w=0;w<d.length;w++)x[w]=l(d[w],w,v,g,m);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;g.set(d,x);for(const[w,S]of d)x.set(w,l(S,w,v,g,m));return x}if(d instanceof Set){const x=new Set;g.set(d,x);for(const w of d)x.add(l(w,void 0,v,g,m));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);g.set(d,x);for(let w=0;w<d.length;w++)x[w]=l(d[w],w,v,g,m);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return g.set(d,x),u(x,d,v,g,m),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return g.set(d,x),u(x,d,v,g,m),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return g.set(d,x),u(x,d,v,g,m),x}if(d instanceof Error){const x=new d.constructor;return g.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,u(x,d,v,g,m),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return g.set(d,x),u(x,d,v,g,m),x}if(d instanceof Number){const x=new Number(d.valueOf());return g.set(d,x),u(x,d,v,g,m),x}if(d instanceof String){const x=new String(d.valueOf());return g.set(d,x),u(x,d,v,g,m),x}if(typeof d=="object"&&c(d)){const x=Object.create(Object.getPrototypeOf(d));return g.set(d,x),u(x,d,v,g,m),x}return d}function u(d,h,v=d,g,m){const b=[...Object.keys(h),...t.getSymbols(h)];for(let x=0;x<b.length;x++){const w=b[x],S=Object.getOwnPropertyDescriptor(d,w);(S==null||S.writable)&&(d[w]=l(h[w],w,v,g,m))}}function c(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=u})(Uy)),Uy}var v2;function cG(){return v2||(v2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cN();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Gy)),Gy}var p2;function fG(){return p2||(p2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xx(),r=cG();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(Ry)),Ry}var Yy={},$y={},Xy={},g2;function dG(){return g2||(g2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cN(),r=uN();function n(a,i){return t.cloneDeepWith(a,(o,l,u,c)=>{const d=i==null?void 0:i(o,l,u,c);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}})}e.cloneDeepWith=n})(Xy)),Xy}var m2;function hG(){return m2||(m2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dG();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})($y)),$y}var Ky={},Wy={},y2;function fN(){return y2||(y2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Wy)),Wy}var Zy={},b2;function vG(){return b2||(b2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lN();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Zy)),Zy}var x2;function pG(){return x2||(x2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QP(),r=fN(),n=vG(),a=Fx();function i(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?u=a.toPath(l):u=[l],u.length===0)return!1;let c=o;for(let d=0;d<u.length;d++){const h=u[d];if((c==null||!Object.hasOwn(c,h))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(h)&&h<c.length))return!1;c=c[h]}return!0}e.has=i})(Ky)),Ky}var w2;function gG(){return w2||(w2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xx(),r=Ux(),n=hG(),a=qx(),i=pG();function o(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return u=n.cloneDeep(u),function(c){const d=a.get(c,l);return d===void 0?i.has(c,l):u===void 0?d===void 0:t.isMatch(d,u)}}e.matchesProperty=o})(Yy)),Yy}var E2;function mG(){return E2||(E2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aN(),r=oG(),n=fG(),a=gG();function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(Py)),Py}var S2;function yG(){return S2||(S2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rG(),r=aN(),n=iG(),a=mG();function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(l)):[]}e.uniqBy=i})(Cy)),Cy}var Qy,A2;function bG(){return A2||(A2=1,Qy=yG().uniqBy),Qy}var xG=bG();const C2=La(xG);function dN(e,t,r){return t===!0?C2(e,r):typeof t=="function"?C2(e,t):e}var Jy={exports:{}},e0={},t0={exports:{}},r0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T2;function wG(){if(T2)return r0;T2=1;var e=mu();function t(h,v){return h===v&&(h!==0||1/h===1/v)||h!==h&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(h,v){var g=v(),m=n({inst:{value:g,getSnapshot:v}}),b=m[0].inst,x=m[1];return i(function(){b.value=g,b.getSnapshot=v,u(b)&&x({inst:b})},[h,g,v]),a(function(){return u(b)&&x({inst:b}),h(function(){u(b)&&x({inst:b})})},[h]),o(g),g}function u(h){var v=h.getSnapshot;h=h.value;try{var g=v();return!r(h,g)}catch{return!0}}function c(h,v){return v()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:l;return r0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,r0}var O2;function EG(){return O2||(O2=1,t0.exports=wG()),t0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _2;function SG(){if(_2)return e0;_2=1;var e=mu(),t=EG();function r(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return e0.useSyncExternalStoreWithSelector=function(c,d,h,v,g){var m=i(null);if(m.current===null){var b={hasValue:!1,value:null};m.current=b}else b=m.current;m=l(function(){function w(k){if(!S){if(S=!0,E=k,k=v(k),g!==void 0&&b.hasValue){var T=b.value;if(g(T,k))return O=T}return O=k}if(T=O,n(E,k))return T;var _=v(k);return g!==void 0&&g(T,_)?(E=k,T):(E=k,O=_)}var S=!1,E,O,D=h===void 0?null:h;return[function(){return w(d())},D===null?void 0:function(){return w(D())}]},[d,h,v,g]);var x=a(c,m[0],m[1]);return o(function(){b.hasValue=!0,b.value=x},[x]),u(x),x},e0}var M2;function AG(){return M2||(M2=1,Jy.exports=SG()),Jy.exports}var CG=AG(),Kx=F.createContext(null),TG=e=>e,Cr=()=>{var e=F.useContext(Kx);return e?e.store.dispatch:TG},zh=()=>{},OG=()=>zh,_G=(e,t)=>e===t;function Ye(e){var t=F.useContext(Kx);return CG.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:OG,t?t.store.getState:zh,t?t.store.getState:zh,t?e:zh,_G)}function MG(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function DG(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function kG(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var D2=e=>Array.isArray(e)?e:[e];function PG(e){const t=Array.isArray(e[0])?e[0]:e;return kG(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function NG(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var RG=class{constructor(e){this.value=e}deref(){return this.value}},LG=typeof WeakRef<"u"?WeakRef:RG,BG=0,k2=1;function lh(){return{s:BG,v:void 0,o:null,p:null}}function hN(e,t={}){let r=lh();const{resultEqualityCheck:n}=t;let a,i=0;function o(){var h;let l=r;const{length:u}=arguments;for(let v=0,g=u;v<g;v++){const m=arguments[v];if(typeof m=="function"||typeof m=="object"&&m!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const x=b.get(m);x===void 0?(l=lh(),b.set(m,l)):l=x}else{let b=l.p;b===null&&(l.p=b=new Map);const x=b.get(m);x===void 0?(l=lh(),b.set(m,l)):l=x}}const c=l;let d;if(l.s===k2)d=l.v;else if(d=e.apply(null,arguments),i++,n){const v=((h=a==null?void 0:a.deref)==null?void 0:h.call(a))??a;v!=null&&n(v,d)&&(d=v,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new LG(d):d}return c.s=k2,c.v=d,d}return o.clearCache=()=>{r=lh(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function IG(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,l,u={},c=a.pop();typeof c=="object"&&(u=c,c=a.pop()),MG(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...r,...u},{memoize:h,memoizeOptions:v=[],argsMemoize:g=hN,argsMemoizeOptions:m=[]}=d,b=D2(v),x=D2(m),w=PG(a),S=h(function(){return i++,c.apply(null,arguments)},...b),E=g(function(){o++;const D=NG(w,arguments);return l=S.apply(null,D),l},...x);return Object.assign(E,{resultFunc:c,memoizedResultFunc:S,dependencies:w,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:h,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var me=IG(hN),zG=Object.assign((e,t=me)=>{DG(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,u)=>(o[r[u]]=l,o),{}))},{withTypes:()=>zG}),n0={},a0={},i0={},P2;function jG(){return P2||(P2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(i0)),i0}var o0={},s0={},N2;function vN(){return N2||(N2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(s0)),s0}var R2;function GG(){return R2||(R2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vN(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(o0)),o0}var L2;function UG(){return L2||(L2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jG(),r=GG(),n=Fx();function a(i,o,l,u){if(i==null)return[];l=u?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(g=>String(g));const c=(g,m)=>{let b=g;for(let x=0;x<m.length&&b!=null;++x)b=b[m[x]];return b},d=(g,m)=>m==null||g==null?m:typeof g=="object"&&"key"in g?Object.hasOwn(m,g.key)?m[g.key]:c(m,g.path):typeof g=="function"?g(m):Array.isArray(g)?c(m,g):typeof m=="object"?m[g]:m,h=o.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return i.map(g=>({original:g,criteria:h.map(m=>d(m,g))})).slice().sort((g,m)=>{for(let b=0;b<h.length;b++){const x=t.compareValues(g.criteria[b],m.criteria[b],l[b]);if(x!==0)return x}return 0}).map(g=>g.original)}e.orderBy=a})(a0)),a0}var l0={},B2;function FG(){return B2||(B2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(l,u)=>{for(let c=0;c<l.length;c++){const d=l[c];Array.isArray(d)&&u<i?o(d,u+1):a.push(d)}};return o(r,0),a}e.flatten=t})(l0)),l0}var u0={},I2;function pN(){return I2||(I2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fN(),r=$x(),n=iN(),a=sN();function i(o,l,u){return n.isObject(u)&&(typeof l=="number"&&r.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?a.eq(u[l],o):!1}e.isIterateeCall=i})(u0)),u0}var z2;function qG(){return z2||(z2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UG(),r=FG(),n=pN();function a(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(n0)),n0}var c0,j2;function HG(){return j2||(j2=1,c0=qG().sortBy),c0}var VG=HG();const ip=La(VG);var gN=e=>e.legend.settings,YG=e=>e.legend.size,$G=e=>e.legend.payload,XG=me([$G,gN],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?ip(n,r):n});function KG(){return Ye(XG)}var uh=1;function mN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=F.useState({height:0,left:0,top:0,width:0}),n=F.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>uh||Math.abs(o.left-t.left)>uh||Math.abs(o.top-t.top)>uh||Math.abs(o.width-t.width)>uh)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Xr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var WG=typeof Symbol=="function"&&Symbol.observable||"@@observable",G2=WG,f0=()=>Math.random().toString(36).substring(7).split("").join("."),ZG={INIT:`@@redux/INIT${f0()}`,REPLACE:`@@redux/REPLACE${f0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${f0()}`},lv=ZG;function Wx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function yN(e,t,r){if(typeof e!="function")throw new Error(Xr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Xr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Xr(1));return r(yN)(e,t)}let n=e,a=t,i=new Map,o=i,l=0,u=!1;function c(){o===i&&(o=new Map,i.forEach((x,w)=>{o.set(w,x)}))}function d(){if(u)throw new Error(Xr(3));return a}function h(x){if(typeof x!="function")throw new Error(Xr(4));if(u)throw new Error(Xr(5));let w=!0;c();const S=l++;return o.set(S,x),function(){if(w){if(u)throw new Error(Xr(6));w=!1,c(),o.delete(S),i=null}}}function v(x){if(!Wx(x))throw new Error(Xr(7));if(typeof x.type>"u")throw new Error(Xr(8));if(typeof x.type!="string")throw new Error(Xr(17));if(u)throw new Error(Xr(9));try{u=!0,a=n(a,x)}finally{u=!1}return(i=o).forEach(S=>{S()}),x}function g(x){if(typeof x!="function")throw new Error(Xr(10));n=x,v({type:lv.REPLACE})}function m(){const x=h;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Xr(11));function S(){const O=w;O.next&&O.next(d())}return S(),{unsubscribe:x(S)}},[G2](){return this}}}return v({type:lv.INIT}),{dispatch:v,subscribe:h,getState:d,replaceReducer:g,[G2]:m}}function QG(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:lv.INIT})>"u")throw new Error(Xr(12));if(typeof r(void 0,{type:lv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xr(13))})}function bN(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{QG(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let u=!1;const c={};for(let d=0;d<n.length;d++){const h=n[d],v=r[h],g=o[h],m=v(g,l);if(typeof m>"u")throw l&&l.type,new Error(Xr(14));c[h]=m,u=u||m!==g}return u=u||n.length!==Object.keys(o).length,u?c:o}}function uv(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function JG(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Xr(15))};const o={getState:a.getState,dispatch:(u,...c)=>i(u,...c)},l=e.map(u=>u(o));return i=uv(...l)(a.dispatch),{...a,dispatch:i}}}function xN(e){return Wx(e)&&"type"in e&&typeof e.type=="string"}var wN=Symbol.for("immer-nothing"),U2=Symbol.for("immer-draftable"),Qn=Symbol.for("immer-state");function Da(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var su=Object.getPrototypeOf;function Is(e){return!!e&&!!e[Qn]}function ki(e){var t;return e?EN(e)||Array.isArray(e)||!!e[U2]||!!((t=e.constructor)!=null&&t[U2])||bf(e)||sp(e):!1}var eU=Object.prototype.constructor.toString();function EN(e){if(!e||typeof e!="object")return!1;const t=su(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===eU}function cv(e,t){op(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function op(e){const t=e[Qn];return t?t.type_:Array.isArray(e)?1:bf(e)?2:sp(e)?3:0}function M1(e,t){return op(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function SN(e,t,r){const n=op(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function tU(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function bf(e){return e instanceof Map}function sp(e){return e instanceof Set}function Ss(e){return e.copy_||e.base_}function D1(e,t){if(bf(e))return new Map(e);if(sp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=EN(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Qn];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(su(e),n)}else{const n=su(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Zx(e,t=!1){return lp(e)||Is(e)||!ki(e)||(op(e)>1&&Object.defineProperties(e,{set:{value:ch},add:{value:ch},clear:{value:ch},delete:{value:ch}}),Object.freeze(e),t&&Object.values(e).forEach(r=>Zx(r,!0))),e}function ch(){Da(2)}function lp(e){return Object.isFrozen(e)}var rU={};function zs(e){const t=rU[e];return t||Da(0,e),t}var Zc;function AN(){return Zc}function nU(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function F2(e,t){t&&(zs("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function k1(e){P1(e),e.drafts_.forEach(aU),e.drafts_=null}function P1(e){e===Zc&&(Zc=e.parent_)}function q2(e){return Zc=nU(Zc,e)}function aU(e){const t=e[Qn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function H2(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Qn].modified_&&(k1(t),Da(4)),ki(e)&&(e=fv(t,e),t.parent_||dv(t,e)),t.patches_&&zs("Patches").generateReplacementPatches_(r[Qn].base_,e,t.patches_,t.inversePatches_)):e=fv(t,r,[]),k1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wN?e:void 0}function fv(e,t,r){if(lp(t))return t;const n=t[Qn];if(!n)return cv(t,(a,i)=>V2(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return dv(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,o=!1;n.type_===3&&(i=new Set(a),a.clear(),o=!0),cv(i,(l,u)=>V2(e,n,a,l,u,r,o)),dv(e,a,!1),r&&e.patches_&&zs("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function V2(e,t,r,n,a,i,o){if(Is(a)){const l=i&&t&&t.type_!==3&&!M1(t.assigned_,n)?i.concat(n):void 0,u=fv(e,a,l);if(SN(r,n,u),Is(u))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(ki(a)&&!lp(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;fv(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(bf(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&dv(e,a)}}function dv(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Zx(t,r)}function iU(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:AN(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Qx;r&&(a=[n],i=Qc);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,l}var Qx={get(e,t){if(t===Qn)return e;const r=Ss(e);if(!M1(r,t))return oU(e,r,t);const n=r[t];return e.finalized_||!ki(n)?n:n===d0(e.base_,t)?(h0(e),e.copy_[t]=R1(n,e)):n},has(e,t){return t in Ss(e)},ownKeys(e){return Reflect.ownKeys(Ss(e))},set(e,t,r){const n=CN(Ss(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=d0(Ss(e),t),i=a==null?void 0:a[Qn];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(tU(r,a)&&(r!==void 0||M1(e.base_,t)))return!0;h0(e),N1(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return d0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,h0(e),N1(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ss(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Da(11)},getPrototypeOf(e){return su(e.base_)},setPrototypeOf(){Da(12)}},Qc={};cv(Qx,(e,t)=>{Qc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Qc.deleteProperty=function(e,t){return Qc.set.call(this,e,t,void 0)};Qc.set=function(e,t,r){return Qx.set.call(this,e[0],t,r,e[0])};function d0(e,t){const r=e[Qn];return(r?Ss(r):e)[t]}function oU(e,t,r){var a;const n=CN(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function CN(e,t){if(!(t in e))return;let r=su(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=su(r)}}function N1(e){e.modified_||(e.modified_=!0,e.parent_&&N1(e.parent_))}function h0(e){e.copy_||(e.copy_=D1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var sU=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(u=i,...c){return o.produce(u,d=>r.call(this,d,...c))}}typeof r!="function"&&Da(6),n!==void 0&&typeof n!="function"&&Da(7);let a;if(ki(t)){const i=q2(this),o=R1(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?k1(i):P1(i)}return F2(i,n),H2(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===wN&&(a=void 0),this.autoFreeze_&&Zx(a,!0),n){const i=[],o=[];zs("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else Da(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ki(e)||Da(8),Is(e)&&(e=Oi(e));const t=q2(this),r=R1(e,void 0);return r[Qn].isManual_=!0,P1(t),r}finishDraft(e,t){const r=e&&e[Qn];(!r||!r.isManual_)&&Da(9);const{scope_:n}=r;return F2(n,t),H2(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=zs("Patches").applyPatches_;return Is(e)?n(e,t):this.produce(e,a=>n(a,t))}};function R1(e,t){const r=bf(e)?zs("MapSet").proxyMap_(e,t):sp(e)?zs("MapSet").proxySet_(e,t):iU(e,t);return(t?t.scope_:AN()).drafts_.push(r),r}function Oi(e){return Is(e)||Da(10,e),TN(e)}function TN(e){if(!ki(e)||lp(e))return e;const t=e[Qn];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=D1(e,t.scope_.immer_.useStrictShallowCopy_)}else r=D1(e,!0);return cv(r,(n,a)=>{SN(r,n,TN(a))}),t&&(t.finalized_=!1),r}var lU=new sU,ON=lU.produce;function _N(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var uU=_N(),cU=_N,fU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?uv:uv.apply(null,arguments)};function Ea(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Wn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>xN(n)&&n.type===e,r}var MN=class Uc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Uc.prototype)}static get[Symbol.species](){return Uc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Uc(...t[0].concat(this)):new Uc(...t.concat(this))}};function Y2(e){return ki(e)?ON(e,()=>{}):e}function fh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function dU(e){return typeof e=="boolean"}var hU=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new MN;return r&&(dU(r)?o.push(uU):o.push(cU(r.extraArgument))),o},DN="RTK_autoBatch",vn=()=>e=>({payload:e,meta:{[DN]:!0}}),$2=e=>t=>{setTimeout(t,e)},kN=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$2(10):e.type==="callback"?e.queueNotification:$2(e.timeout),c=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const h=()=>a&&d(),v=n.subscribe(h);return l.add(d),()=>{v(),l.delete(d)}},dispatch(d){var h;try{return a=!((h=d==null?void 0:d.meta)!=null&&h[DN]),i=!a,i&&(o||(o=!0,u(c))),n.dispatch(d)}finally{a=!0}}})},vU=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new MN(e);return n&&a.push(kN(typeof n=="object"?n:void 0)),a};function pU(e){const t=hU(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(Wx(r))l=bN(r);else throw new Error(Wn(1));let u;typeof n=="function"?u=n(t):u=t();let c=uv;a&&(c=fU({trace:!1,...typeof a=="object"&&a}));const d=JG(...u),h=vU(d);let v=typeof o=="function"?o(h):h();const g=c(...v);return yN(l,i,g)}function PN(e){const t={},r=[];let n;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(Wn(28));if(l in t)throw new Error(Wn(29));return t[l]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function gU(e){return typeof e=="function"}function mU(e,t){let[r,n,a]=PN(t),i;if(gU(e))i=()=>Y2(e());else{const l=Y2(e);i=()=>l}function o(l=i(),u){let c=[r[u.type],...n.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[a]),c.reduce((d,h)=>{if(h)if(Is(d)){const g=h(d,u);return g===void 0?d:g}else{if(ki(d))return ON(d,v=>h(v,u));{const v=h(d,u);if(v===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return d},l)}return o.getInitialState=i,o}var yU="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",bU=(e=21)=>{let t="",r=e;for(;r--;)t+=yU[Math.random()*64|0];return t},xU=Symbol.for("rtk-slice-createasyncthunk");function wU(e,t){return`${e}/${t}`}function EU({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[xU];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(Wn(11));const l=(typeof a.reducers=="function"?a.reducers(AU()):a.reducers)||{},u=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(O,D){const k=typeof O=="string"?O:O.type;if(!k)throw new Error(Wn(12));if(k in c.sliceCaseReducersByType)throw new Error(Wn(13));return c.sliceCaseReducersByType[k]=D,d},addMatcher(O,D){return c.sliceMatchers.push({matcher:O,reducer:D}),d},exposeAction(O,D){return c.actionCreators[O]=D,d},exposeCaseReducer(O,D){return c.sliceCaseReducersByName[O]=D,d}};u.forEach(O=>{const D=l[O],k={reducerName:O,type:wU(i,O),createNotation:typeof a.reducers=="function"};TU(D)?_U(k,D,d,t):CU(k,D,d)});function h(){const[O={},D=[],k=void 0]=typeof a.extraReducers=="function"?PN(a.extraReducers):[a.extraReducers],T={...O,...c.sliceCaseReducersByType};return mU(a.initialState,_=>{for(let M in T)_.addCase(M,T[M]);for(let M of c.sliceMatchers)_.addMatcher(M.matcher,M.reducer);for(let M of D)_.addMatcher(M.matcher,M.reducer);k&&_.addDefaultCase(k)})}const v=O=>O,g=new Map,m=new WeakMap;let b;function x(O,D){return b||(b=h()),b(O,D)}function w(){return b||(b=h()),b.getInitialState()}function S(O,D=!1){function k(_){let M=_[O];return typeof M>"u"&&D&&(M=fh(m,k,w)),M}function T(_=v){const M=fh(g,D,()=>new WeakMap);return fh(M,_,()=>{const R={};for(const[P,L]of Object.entries(a.selectors??{}))R[P]=SU(L,_,()=>fh(m,_,w),D);return R})}return{reducerPath:O,getSelectors:T,get selectors(){return T(k)},selectSlice:k}}const E={name:i,reducer:x,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:w,...S(o),injectInto(O,{reducerPath:D,...k}={}){const T=D??o;return O.inject({reducerPath:T,reducer:x},k),{...E,...S(T,!0)}}};return E}}function SU(e,t,r,n){function a(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var Jn=EU();function AU(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function CU({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!OU(n))throw new Error(Wn(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Ea(e,o):Ea(e))}function TU(e){return e._reducerDefinitionType==="asyncThunk"}function OU(e){return e._reducerDefinitionType==="reducerWithPrepare"}function _U({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Wn(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:u,settled:c,options:d}=r,h=a(e,i,d);n.exposeAction(t,h),o&&n.addCase(h.fulfilled,o),l&&n.addCase(h.pending,l),u&&n.addCase(h.rejected,u),c&&n.addMatcher(h.settled,c),n.exposeCaseReducer(t,{fulfilled:o||dh,pending:l||dh,rejected:u||dh,settled:c||dh})}function dh(){}var MU="task",NN="listener",RN="completed",Jx="cancelled",DU=`task-${Jx}`,kU=`task-${RN}`,L1=`${NN}-${Jx}`,PU=`${NN}-${RN}`,up=class{constructor(e){uy(this,"name","TaskAbortError");uy(this,"message");this.code=e,this.message=`${MU} ${Jx} (reason: ${e})`}},ew=(e,t)=>{if(typeof e!="function")throw new TypeError(Wn(32))},hv=()=>{},LN=(e,t=hv)=>(e.catch(t),e),BN=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ns=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Rs=e=>{if(e.aborted){const{reason:t}=e;throw new up(t)}};function IN(e,t){let r=hv;return new Promise((n,a)=>{const i=()=>a(new up(e.reason));if(e.aborted){i();return}r=BN(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=hv})}var NU=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof up?"cancelled":"rejected",error:r}}finally{t==null||t()}},vv=e=>t=>LN(IN(e,t).then(r=>(Rs(e),r))),zN=e=>{const t=vv(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:eu}=Object,X2={},cp="listenerMiddleware",RU=(e,t)=>{const r=n=>BN(e,()=>Ns(n,e.reason));return(n,a)=>{ew(n);const i=new AbortController;r(i);const o=NU(async()=>{Rs(e),Rs(i.signal);const l=await n({pause:vv(i.signal),delay:zN(i.signal),signal:i.signal});return Rs(i.signal),l},()=>Ns(i,kU));return a!=null&&a.autoJoin&&t.push(o.catch(hv)),{result:vv(e)(o),cancel(){Ns(i,DU)}}}},LU=(e,t)=>{const r=async(n,a)=>{Rs(t);let i=()=>{};const l=[new Promise((u,c)=>{let d=e({predicate:n,effect:(h,v)=>{v.unsubscribe(),u([h,v.getState(),v.getOriginalState()])}});i=()=>{d(),c()}})];a!=null&&l.push(new Promise(u=>setTimeout(u,a,null)));try{const u=await IN(t,Promise.race(l));return Rs(t),u}finally{i()}};return(n,a)=>LN(r(n,a))},jN=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Ea(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Wn(21));return ew(i),{predicate:a,type:t,effect:i}},GN=eu(e=>{const{type:t,predicate:r,effect:n}=jN(e);return{id:bU(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Wn(22))}}},{withTypes:()=>GN}),K2=(e,t)=>{const{type:r,effect:n,predicate:a}=jN(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},B1=e=>{e.pending.forEach(t=>{Ns(t,L1)})},BU=(e,t)=>()=>{for(const r of t.keys())B1(r);e.clear()},W2=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},UN=eu(Ea(`${cp}/add`),{withTypes:()=>UN}),IU=Ea(`${cp}/removeAll`),FN=eu(Ea(`${cp}/remove`),{withTypes:()=>FN}),zU=(...e)=>{console.error(`${cp}/error`,...e)},xf=(e={})=>{const t=new Map,r=new Map,n=g=>{const m=r.get(g)??0;r.set(g,m+1)},a=g=>{const m=r.get(g)??1;m===1?r.delete(g):r.set(g,m-1)},{extra:i,onError:o=zU}=e;ew(o);const l=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),m=>{g.unsubscribe(),m!=null&&m.cancelActive&&B1(g)}),u=g=>{const m=K2(t,g)??GN(g);return l(m)};eu(u,{withTypes:()=>u});const c=g=>{const m=K2(t,g);return m&&(m.unsubscribe(),g.cancelActive&&B1(m)),!!m};eu(c,{withTypes:()=>c});const d=async(g,m,b,x)=>{const w=new AbortController,S=LU(u,w.signal),E=[];try{g.pending.add(w),n(g),await Promise.resolve(g.effect(m,eu({},b,{getOriginalState:x,condition:(O,D)=>S(O,D).then(Boolean),take:S,delay:zN(w.signal),pause:vv(w.signal),extra:i,signal:w.signal,fork:RU(w.signal,E),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((O,D,k)=>{O!==w&&(Ns(O,L1),k.delete(O))})},cancel:()=>{Ns(w,L1),g.pending.delete(w)},throwIfCancelled:()=>{Rs(w.signal)}})))}catch(O){O instanceof up||W2(o,O,{raisedBy:"effect"})}finally{await Promise.all(E),Ns(w,PU),a(g),g.pending.delete(w)}},h=BU(t,r);return{middleware:g=>m=>b=>{if(!xN(b))return m(b);if(UN.match(b))return u(b.payload);if(IU.match(b)){h();return}if(FN.match(b))return c(b.payload);let x=g.getState();const w=()=>{if(x===X2)throw new Error(Wn(23));return x};let S;try{if(S=m(b),t.size>0){const E=g.getState(),O=Array.from(t.values());for(const D of O){let k=!1;try{k=D.predicate(b,E,x)}catch(T){k=!1,W2(o,T,{raisedBy:"predicate"})}k&&d(D,b,g,w)}}}finally{x=X2}return S},startListening:u,stopListening:c,clearListeners:h}};function Wn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var jU={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},qN=Jn({name:"chartLayout",initialState:jU,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:GU,setLayout:UU,setChartSize:FU,setScale:qU}=qN.actions,HU=qN.reducer;function Z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z2(Object(r),!0).forEach(function(n){VU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VU(e,t,r){return(t=YU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YU(e){var t=$U(e,"string");return typeof t=="symbol"?t:t+""}function $U(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pv=Math.PI/180,XU=e=>e*180/Math.PI,Wr=(e,t,r,n)=>({x:e+Math.cos(-pv*n)*r,y:t+Math.sin(-pv*n)*r}),KU=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},WU=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},ZU=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=WU({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,u=Math.acos(l);return n>i&&(u=2*Math.PI-u),{radius:o,angle:XU(u),angleInRadian:u}},QU=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},JU=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},eF=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=ZU({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:u,endAngle:c}=QU(t),d=i,h;if(u<=c){for(;d>c;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=c}else{for(;d>u;)d-=360;for(;d<c;)d+=360;h=d>=c&&d<=u}return h?Q2(Q2({},t),{},{radius:a,angle:JU(d,t)}):null};function HN(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function J2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J2(Object(r),!0).forEach(function(n){tF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tF(e,t,r){return(t=rF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rF(e){var t=nF(e,"string");return typeof t=="symbol"?t:t+""}function nF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gn(e,t,r){return jr(e)||jr(t)?r:kn(t)?ap(e,t,r):typeof t=="function"?t(e):r}var aF=(e,t,r,n,a)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<l;u++){var c=u>0?r[u-1].coordinate:r[l-1].coordinate,d=r[u].coordinate,h=u>=l-1?r[0].coordinate:r[u+1].coordinate,v=void 0;if(ba(d-c)!==ba(h-d)){var g=[];if(ba(h-d)===ba(a[1]-a[0])){v=h;var m=d+a[1]-a[0];g[0]=Math.min(m,(m+c)/2),g[1]=Math.max(m,(m+c)/2)}else{v=c;var b=h+a[1]-a[0];g[0]=Math.min(d,(b+d)/2),g[1]=Math.max(d,(b+d)/2)}var x=[Math.min(d,(v+d)/2),Math.max(d,(v+d)/2)];if(e>x[0]&&e<=x[1]||e>=g[0]&&e<=g[1]){({index:o}=r[u]);break}}else{var w=Math.min(c,h),S=Math.max(c,h);if(e>(w+d)/2&&e<=(S+d)/2){({index:o}=r[u]);break}}}else if(t){for(var E=0;E<l;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<l-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===l-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:o}=t[E]);break}}return o},iF=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&Ze(e[i]))return ma(ma({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&Ze(e[o]))return ma(ma({},e),{},{[o]:e[o]+(a||0)})}return e},Fo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",VN=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(r),o},YN=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:c,tickCount:d,ticks:h,niceTicks:v,axisType:g}=e;if(!o)return null;var m=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,b=a==="category"&&o.bandwidth?o.bandwidth()/m:0;if(b=g==="angleAxis"&&i&&i.length>=2?ba(i[0]-i[1])*2*b:b,h||v){var x=(h||v||[]).map((w,S)=>{var E=n?n.indexOf(w):w;return{coordinate:o(E)+b,value:w,offset:b,index:S}});return x.filter(w=>!Na(w.coordinate))}return u&&c?c.map((w,S)=>({coordinate:o(w)+b,value:w,index:S,offset:b})):o.ticks&&d!=null?o.ticks(d).map((w,S)=>({coordinate:o(w)+b,value:w,offset:b,index:S})):o.domain().map((w,S)=>({coordinate:o(w)+b,value:n?n[w]:w,index:S,offset:b}))},eO=1e-4,oF=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-eO,i=Math.max(n[0],n[1])+eO,o=e(t[0]),l=e(t[r-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},sF=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var l=Na(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},lF=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=Na(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},uF={sign:sF,expand:R4,none:ou,silhouette:L4,wiggle:B4,positive:lF},cF=(e,t,r)=>{var n=uF[r],a=N4().keys(t).value((i,o)=>+gn(i,o,0)).order(T1).offset(n);return a(e)};function tO(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!jr(a[t.dataKey])){var l=eN(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var u=gn(a,jr(o)?t.dataKey:o);return jr(u)?null:t.scale(u)}var fF=e=>{var t=e.flat(2).filter(Ze);return[Math.min(...t),Math.max(...t)]},dF=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],hF=(e,t,r)=>{if(e!=null)return dF(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:o}=i,l=o.reduce((u,c)=>{var d=HN(c,t,r),h=fF(d);return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},rO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,I1=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=ip(t,d=>d.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var u=a[o],c=a[o-1];i=Math.min((u.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function aO(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return ma(ma({},t),{},{dataKey:r,payload:n,value:a,name:i})}function $N(e,t){if(e)return String(e);if(typeof t=="string")return t}function vF(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?eF({x:e,y:t},n):null}var pF=(e,t,r,n)=>{var a=t.find(c=>c&&c.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:o}=n;return ma(ma(ma({},n),Wr(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:u}=n;return ma(ma(ma({},n),Wr(n.cx,n.cy,l,u)),{},{angle:u,radius:l})}return{x:0,y:0}},gF=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,zi=e=>e.layout.width,ji=e=>e.layout.height,mF=e=>e.layout.scale,XN=e=>e.layout.margin,fp=me(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),dp=me(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),yF="data-recharts-item-index",bF="data-recharts-item-data-key",wf=60;function iO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(r),!0).forEach(function(n){xF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xF(e,t,r){return(t=wF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wF(e){var t=EF(e,"string");return typeof t=="symbol"?t:t+""}function EF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SF=e=>e.brush.height;function AF(e){var t=dp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:wf;return r+a}return r},0)}function CF(e){var t=dp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:wf;return r+a}return r},0)}function TF(e){var t=fp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function OF(e){var t=fp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Jr=me([zi,ji,XN,SF,AF,CF,TF,OF,gN,YG],(e,t,r,n,a,i,o,l,u,c)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},h={top:(r.top||0)+o,bottom:(r.bottom||0)+l},v=hh(hh({},h),d),g=v.bottom;v.bottom+=n,v=iF(v,u,c);var m=e-v.left-v.right,b=t-v.top-v.bottom;return hh(hh({brushBottom:g},v),{},{width:Math.max(m,0),height:Math.max(b,0)})}),_F=me(Jr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),KN=me(zi,ji,(e,t)=>({x:0,y:0,width:e,height:t})),MF=F.createContext(null),Bn=()=>F.useContext(MF)!=null,hp=e=>e.brush,vp=me([hp,Jr,XN],(e,t,r)=>({height:e.height,x:Ze(e.x)?e.x:t.left,y:Ze(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Ze(e.width)?e.width:t.width})),v0={},p0={},g0={},oO;function DF(){return oO||(oO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,l=null;const u=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},h=()=>{c&&d(),b()};let v=null;const g=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,h()},n)},m=()=>{v!==null&&(clearTimeout(v),v=null)},b=()=>{m(),o=void 0,l=null},x=()=>{d()},w=function(...S){if(a!=null&&a.aborted)return;o=this,l=S;const E=v==null;g(),u&&E&&d()};return w.schedule=g,w.cancel=b,w.flush=x,a==null||a.addEventListener("abort",b,{once:!0}),w}e.debounce=t})(g0)),g0}var sO;function kF(){return sO||(sO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DF();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:u}=i,c=Array(2);o&&(c[0]="leading"),l&&(c[1]="trailing");let d,h=null;const v=t.debounce(function(...b){d=n.apply(this,b),h=null},a,{edges:c}),g=function(...b){return u!=null&&(h===null&&(h=Date.now()),Date.now()-h>=u)?(d=n.apply(this,b),h=Date.now(),v.cancel(),v.schedule(),d):(v.apply(this,b),d)},m=()=>(v.flush(),d);return g.cancel=v.cancel,g.flush=m,g}e.debounce=r})(p0)),p0}var lO;function PF(){return lO||(lO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kF();function r(n,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(v0)),v0}var m0,uO;function NF(){return uO||(uO=1,m0=PF().throttle),m0}var RF=NF();const LF=La(RF);var gv=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},WN=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:o}=r,l=Di(n)?e:Number(n),u=Di(a)?t:Number(a);return i&&i>0&&(l?u=l/i:u&&(l=u*i),o&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},BF={width:0,height:0,overflow:"visible"},IF={width:0,overflowX:"visible"},zF={height:0,overflowY:"visible"},jF={},GF=e=>{var{width:t,height:r}=e,n=Di(t),a=Di(r);return n&&a?BF:n?IF:a?zF:jF};function UF(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function Ln(e){return Number.isFinite(e)}function lu(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function z1(){return z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z1.apply(null,arguments)}function cO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cO(Object(r),!0).forEach(function(n){FF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FF(e,t,r){return(t=qF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qF(e){var t=HF(e,"string");return typeof t=="symbol"?t:t+""}function HF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZN=F.createContext({width:-1,height:-1});function QN(e){var{children:t,width:r,height:n}=e,a=F.useMemo(()=>({width:r,height:n}),[r,n]);return r<=0||n<=0?null:F.createElement(ZN.Provider,{value:a},t)}var tw=()=>F.useContext(ZN),VF=F.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:l,maxHeight:u,children:c,debounce:d=0,id:h,className:v,onResize:g,style:m={}}=e,b=F.useRef(null),x=F.useRef();x.current=g,F.useImperativeHandle(t,()=>b.current);var[w,S]=F.useState({containerWidth:n.width,containerHeight:n.height}),E=F.useCallback((_,M)=>{S(R=>{var P=Math.round(_),L=Math.round(M);return R.containerWidth===P&&R.containerHeight===L?R:{containerWidth:P,containerHeight:L}})},[]);F.useEffect(()=>{var _=L=>{var N,{width:B,height:G}=L[0].contentRect;E(B,G),(N=x.current)===null||N===void 0||N.call(x,B,G)};d>0&&(_=LF(_,d,{trailing:!0,leading:!1}));var M=new ResizeObserver(_),{width:R,height:P}=b.current.getBoundingClientRect();return E(R,P),M.observe(b.current),()=>{M.disconnect()}},[E,d]);var{containerWidth:O,containerHeight:D}=w;gv(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:k,calculatedHeight:T}=WN(O,D,{width:a,height:i,aspect:r,maxHeight:u});return gv(k>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,T,a,i,o,l,r),F.createElement("div",{id:h?"".concat(h):void 0,className:Rt("recharts-responsive-container",v),style:fO(fO({},m),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:u}),ref:b},F.createElement("div",{style:GF({width:a,height:i})},F.createElement(QN,{width:k,height:T},c)))}),YF=F.forwardRef((e,t)=>{var r=tw();if(lu(r.width)&&lu(r.height))return e.children;var{width:n,height:a}=UF({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=WN(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Ze(i)&&Ze(o)?F.createElement(QN,{width:i,height:o},e.children):F.createElement(VF,z1({},e,{width:n,height:a,ref:t}))}),pp=()=>{var e,t=Bn(),r=Ye(_F),n=Ye(vp),a=(e=Ye(hp))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},$F={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},JN=()=>{var e;return(e=Ye(Jr))!==null&&e!==void 0?e:$F},rw=()=>Ye(zi),nw=()=>Ye(ji),XF=()=>Ye(e=>e.layout.margin),Vt=e=>e.layout.layoutType,aw=()=>Ye(Vt),gp=e=>{var t=Cr(),r=Bn(),{width:n,height:a}=e,i=tw(),o=n,l=a;return i&&(o=i.width>0?i.width:n,l=i.height>0?i.height:a),F.useEffect(()=>{!r&&lu(o)&&lu(l)&&t(FU({width:o,height:l}))},[t,r,o,l]),null},KF={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},eR=Jn({name:"legend",initialState:KF,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:vn()},removeLegendPayload:{reducer(e,t){var r=Oi(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:vn()}}}),{setLegendSize:dO,setLegendSettings:WF,addLegendPayload:ZF,removeLegendPayload:QF}=eR.actions,JF=eR.reducer,eq=["contextPayload"];function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j1.apply(null,arguments)}function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(n){iw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iw(e,t,r){return(t=tq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tq(e){var t=rq(e,"string");return typeof t=="symbol"?t:t+""}function rq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nq(e,t){if(e==null)return{};var r,n,a=aq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function iq(e){return e.value}function oq(e){var{contextPayload:t}=e,r=nq(e,eq),n=dN(t,e.payloadUniqBy,iq),a=uu(uu({},r),{},{payload:n});return F.isValidElement(e.content)?F.cloneElement(e.content,a):typeof e.content=="function"?F.createElement(e.content,a):F.createElement(Yx,a)}function sq(e,t,r,n,a,i){var{layout:o,align:l,verticalAlign:u}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?c={left:((n||0)-i.width)/2}:c=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?d={top:((a||0)-i.height)/2}:d=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),uu(uu({},c),d)}function lq(e){var t=Cr();return F.useEffect(()=>{t(WF(e))},[t,e]),null}function uq(e){var t=Cr();return F.useEffect(()=>(t(dO(e)),()=>{t(dO({width:0,height:0}))}),[t,e]),null}function cq(e){var t=KG(),r=n4(),n=XF(),{width:a,height:i,wrapperStyle:o,portal:l}=e,[u,c]=mN([t]),d=rw(),h=nw();if(d==null||h==null)return null;var v=d-(n.left||0)-(n.right||0),g=mp.getWidthOrHeight(e.layout,i,a,v),m=l?o:uu(uu({position:"absolute",width:(g==null?void 0:g.width)||a||"auto",height:(g==null?void 0:g.height)||i||"auto"},sq(o,e,n,d,h,u)),o),b=l??r;if(b==null)return null;var x=F.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:c},F.createElement(lq,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),F.createElement(uq,{width:u.width,height:u.height}),F.createElement(oq,j1({},e,g,{margin:n,chartWidth:d,chartHeight:h,contextPayload:t})));return RP.createPortal(x,b)}class mp extends F.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&Ze(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return F.createElement(cq,this.props)}}iw(mp,"displayName","Legend");iw(mp,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function G1(){return G1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G1.apply(null,arguments)}function vO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(r),!0).forEach(function(n){fq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fq(e,t,r){return(t=dq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dq(e){var t=hq(e,"string");return typeof t=="symbol"?t:t+""}function hq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vq(e){return Array.isArray(e)&&kn(e[0])&&kn(e[1])?e.join(" ~ "):e}var pq=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:c,label:d,labelFormatter:h,accessibilityLayer:v=!1}=e,g=()=>{if(i&&i.length){var D={padding:0,margin:0},k=(l?ip(i,l):i).map((T,_)=>{if(T.type==="none")return null;var M=T.formatter||o||vq,{value:R,name:P}=T,L=R,N=P;if(M){var B=M(R,P,T,_,i);if(Array.isArray(B))[L,N]=B;else if(B!=null)L=B;else return null}var G=y0({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},n);return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:G},kn(N)?F.createElement("span",{className:"recharts-tooltip-item-name"},N):null,kn(N)?F.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,F.createElement("span",{className:"recharts-tooltip-item-value"},L),F.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:D},k)}return null},m=y0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=y0({margin:0},a),x=!jr(d),w=x?d:"",S=Rt("recharts-default-tooltip",u),E=Rt("recharts-tooltip-label",c);x&&h&&i!==void 0&&i!==null&&(w=h(d,i));var O=v?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",G1({className:S,style:m},O),F.createElement("p",{className:E,style:b},F.isValidElement(w)?w:"".concat(w)),g())},Ac="recharts-tooltip-wrapper",gq={visibility:"hidden"};function mq(e){var{coordinate:t,translateX:r,translateY:n}=e;return Rt(Ac,{["".concat(Ac,"-right")]:Ze(r)&&t&&Ze(t.x)&&r>=t.x,["".concat(Ac,"-left")]:Ze(r)&&t&&Ze(t.x)&&r<t.x,["".concat(Ac,"-bottom")]:Ze(n)&&t&&Ze(t.y)&&n>=t.y,["".concat(Ac,"-top")]:Ze(n)&&t&&Ze(t.y)&&n<t.y})}function pO(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:c}=e;if(i&&Ze(i[n]))return i[n];var d=r[n]-l-(a>0?a:0),h=r[n]+a;if(t[n])return o[n]?d:h;var v=u[n];if(v==null)return 0;if(o[n]){var g=d,m=v;return g<m?Math.max(h,v):Math.max(d,v)}if(c==null)return 0;var b=h+l,x=v+c;return b>x?Math.max(d,v):Math.max(h,v)}function yq(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function bq(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,c,d,h;return o.height>0&&o.width>0&&r?(d=pO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),h=pO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),c=yq({translateX:d,translateY:h,useTranslate3d:l})):c=gq,{cssProperties:c,cssClasses:mq({translateX:d,translateY:h,coordinate:r})}}function gO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(r),!0).forEach(function(n){U1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U1(e,t,r){return(t=xq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xq(e){var t=wq(e,"string");return typeof t=="symbol"?t:t+""}function wq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Eq extends F.PureComponent{constructor(){super(...arguments),U1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),U1(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:u,offset:c,position:d,reverseDirection:h,useTranslate3d:v,viewBox:g,wrapperStyle:m,lastBoundingBox:b,innerRef:x,hasPortalFromProps:w}=this.props,{cssClasses:S,cssProperties:E}=bq({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:c,position:d,reverseDirection:h,tooltipBox:{height:b.height,width:b.width},useTranslate3d:v,viewBox:g}),O=w?{}:vh(vh({transition:u&&t?"transform ".concat(n,"ms ").concat(a):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),D=vh(vh({},O),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},m);return F.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:D,ref:x},i)}}var Sq=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),yu={devToolsEnabled:!1,isSsr:Sq()},tR=()=>Ye(e=>e.rootProps.accessibilityLayer);function F1(){return F1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F1.apply(null,arguments)}function mO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(r),!0).forEach(function(n){Aq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aq(e,t,r){return(t=Cq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cq(e){var t=Tq(e,"string");return typeof t=="symbol"?t:t+""}function Tq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bO={curveBasisClosed:E4,curveBasisOpen:S4,curveBasis:w4,curveBumpX:s4,curveBumpY:l4,curveLinearClosed:A4,curveLinear:rp,curveMonotoneX:C4,curveMonotoneY:T4,curveNatural:O4,curveStep:_4,curveStepAfter:D4,curveStepBefore:M4},ph=e=>Ln(e.x)&&Ln(e.y),Cc=e=>e.x,Tc=e=>e.y,Oq=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(yf(e));return(r==="curveMonotone"||r==="curveBump")&&t?bO["".concat(r).concat(t==="vertical"?"Y":"X")]:bO[r]||rp},_q=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=Oq(t,a),l=i?r.filter(ph):r,u;if(Array.isArray(n)){var c=i?n.filter(h=>ph(h)):n,d=l.map((h,v)=>yO(yO({},h),{},{base:c[v]}));return a==="vertical"?u=sh().y(Tc).x1(Cc).x0(h=>h.base.x):u=sh().x(Cc).y1(Tc).y0(h=>h.base.y),u.defined(ph).curve(o),u(d)}return a==="vertical"&&Ze(n)?u=sh().y(Tc).x1(Cc).x0(n):Ze(n)?u=sh().x(Cc).y1(Tc).y0(n):u=UP().x(Cc).y(Tc),u.defined(ph).curve(o),u(l)},rR=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?_q(e):n;return F.createElement("path",F1({},Wa(e),Hx(e),{className:Rt("recharts-curve",t),d:i===null?void 0:i,ref:a}))},Mq=["x","y","top","left","width","height","className"];function q1(){return q1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q1.apply(null,arguments)}function xO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(r),!0).forEach(function(n){kq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kq(e,t,r){return(t=Pq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pq(e){var t=Nq(e,"string");return typeof t=="symbol"?t:t+""}function Nq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rq(e,t){if(e==null)return{};var r,n,a=Lq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bq=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),Iq=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:l}=e,u=Rq(e,Mq),c=Dq({x:t,y:r,top:n,left:a,width:i,height:o},u);return!Ze(t)||!Ze(r)||!Ze(i)||!Ze(o)||!Ze(n)||!Ze(a)?null:F.createElement("path",q1({},Rn(c),{className:Rt("recharts-cross",l),d:Bq(t,r,i,o,n,a)}))};function zq(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(n){Gq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gq(e,t,r){return(t=Uq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uq(e){var t=Fq(e,"string");return typeof t=="symbol"?t:t+""}function Fq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aa(e,t){var r=jq({},e),n=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}function qq(){}function Hq(e){return e!=null}function EO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(r),!0).forEach(function(n){Vq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vq(e,t,r){return(t=Yq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yq(e){var t=$q(e,"string");return typeof t=="symbol"?t:t+""}function $q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xq=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Kq=(e,t,r)=>e.map(n=>"".concat(Xq(n)," ").concat(t,"ms ").concat(r)).join(","),Wq=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Jc=(e,t)=>Object.keys(t).reduce((r,n)=>SO(SO({},r),{},{[n]:e(n,t[n])}),{});function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(n){Zq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zq(e,t,r){return(t=Qq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qq(e){var t=Jq(e,"string");return typeof t=="symbol"?t:t+""}function Jq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mv=(e,t,r)=>e+(t-e)*r,H1=e=>{var{from:t,to:r}=e;return t!==r},nR=(e,t,r)=>{var n=Jc((a,i)=>{if(H1(i)){var[o,l]=e(i.from,i.to,i.velocity);return Kr(Kr({},i),{},{from:o,velocity:l})}return i},t);return r<1?Jc((a,i)=>H1(i)?Kr(Kr({},i),{},{velocity:mv(i.velocity,n[a].velocity,r),from:mv(i.from,n[a].from,r)}):i,t):nR(e,n,r-1)};function e6(e,t,r,n,a,i){var o,l=n.reduce((v,g)=>Kr(Kr({},v),{},{[g]:{from:e[g],velocity:0,to:t[g]}}),{}),u=()=>Jc((v,g)=>g.from,l),c=()=>!Object.values(l).filter(H1).length,d=null,h=v=>{o||(o=v);var g=v-o,m=g/r.dt;l=nR(r,l,m),a(Kr(Kr(Kr({},e),t),u())),o=v,c()||(d=i.setTimeout(h))};return()=>(d=i.setTimeout(h),()=>{d()})}function t6(e,t,r,n,a,i,o){var l=null,u=a.reduce((h,v)=>Kr(Kr({},h),{},{[v]:[e[v],t[v]]}),{}),c,d=h=>{c||(c=h);var v=(h-c)/n,g=Jc((b,x)=>mv(...x,r(v)),u);if(i(Kr(Kr(Kr({},e),t),g)),v<1)l=o.setTimeout(d);else{var m=Jc((b,x)=>mv(...x,r(1)),u);i(Kr(Kr(Kr({},e),t),m))}};return()=>(l=o.setTimeout(d),()=>{l()})}const r6=(e,t,r,n,a,i)=>{var o=Wq(e,t);return r.isStepper===!0?e6(e,t,r,o,a,i):t6(e,t,r,n,o,a,i)};var yv=1e-4,aR=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],iR=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),CO=(e,t)=>r=>{var n=aR(e,t);return iR(n,r)},n6=(e,t)=>r=>{var n=aR(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return iR(a,r)},TO=function(){for(var t,r,n,a,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var u=o[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([t,n,r,a]=u[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else o.length===4&&([t,n,r,a]=o);var c=CO(t,r),d=CO(n,a),h=n6(t,r),v=m=>m>1?1:m<0?0:m,g=m=>{for(var b=m>1?1:m,x=b,w=0;w<8;++w){var S=c(x)-b,E=h(x);if(Math.abs(S-b)<yv||E<yv)return d(x);x=v(x-S/E)}return d(x)};return g.isStepper=!1,g},a6=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,l,u)=>{var c=-(o-l)*r,d=u*n,h=u+(c-d)*a/1e3,v=u*a/1e3+o;return Math.abs(v-l)<yv&&Math.abs(h)<yv?[l,0]:[v,h]};return i.isStepper=!0,i.dt=a,i},i6=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TO(e);case"spring":return a6();default:if(e.split("(")[0]==="cubic-bezier")return TO(e)}return typeof e=="function"?e:null};function o6(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...c]=l;if(typeof u=="number"){a=e.setTimeout(i.bind(null,c),u);return}i(u),a=e.setTimeout(i.bind(null,c));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class s6{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function l6(){return o6(new s6)}var u6=F.createContext(l6);function c6(e,t){var r=F.useContext(u6);return F.useMemo(()=>t??r(e),[e,t,r])}var f6={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},OO={t:0},b0={t:1};function oR(e){var t=Aa(e,f6),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:u,children:c}=t,d=c6(t.animationId,t.animationManager),[h,v]=F.useState(r?OO:b0),g=F.useRef(null);return F.useEffect(()=>{r||v(b0)},[r]),F.useEffect(()=>{if(!r||!n)return qq;var m=r6(OO,b0,i6(i),a,v,d.getTimeoutController()),b=()=>{g.current=m()};return d.start([u,o,b,a,l]),()=>{d.stop(),g.current&&g.current(),l()}},[r,n,a,i,o,u,l,d]),c(h.t)}function sR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=F.useRef(Wc(t)),n=F.useRef(e);return n.current!==e&&(r.current=Wc(t),n.current=e),r.current}var d6=["radius"],h6=["radius"];function _O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(r),!0).forEach(function(n){v6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v6(e,t,r){return(t=p6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p6(e){var t=g6(e,"string");return typeof t=="symbol"?t:t+""}function g6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bv.apply(null,arguments)}function DO(e,t){if(e==null)return{};var r,n,a=m6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function m6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kO=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,u=n>=0&&r>=0||n<0&&r<0?1:0,c;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],h=0,v=4;h<v;h++)d[h]=a[h]>i?i:a[h];c="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(t)),c+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(t+o*d[1])),c+="L ".concat(e+r,",").concat(t+n-o*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),c+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+n-o*d[3])),c+="Z"}else if(i>0&&a===+a&&a>0){var g=Math.min(i,a);c="M ".concat(e,",").concat(t+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(t,`
            L `).concat(e+r-l*g,",").concat(t,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(t+o*g,`
            L `).concat(e+r,",").concat(t+n-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(t+n,`
            L `).concat(e+l*g,",").concat(t+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(t+n-o*g," Z")}else c="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},y6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lR=e=>{var t=Aa(e,y6),r=F.useRef(null),[n,a]=F.useState(-1);F.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var z=r.current.getTotalLength();z&&a(z)}catch{}},[]);var{x:i,y:o,width:l,height:u,radius:c,className:d}=t,{animationEasing:h,animationDuration:v,animationBegin:g,isAnimationActive:m,isUpdateAnimationActive:b}=t,x=F.useRef(l),w=F.useRef(u),S=F.useRef(i),E=F.useRef(o),O=F.useMemo(()=>({x:i,y:o,width:l,height:u,radius:c}),[i,o,l,u,c]),D=sR(O,"rectangle-");if(i!==+i||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var k=Rt("recharts-rectangle",d);if(!b){var T=Rn(t),{radius:_}=T,M=DO(T,d6);return F.createElement("path",bv({},M,{radius:typeof c=="number"?c:void 0,className:k,d:kO(i,o,l,u,c)}))}var R=x.current,P=w.current,L=S.current,N=E.current,B="0px ".concat(n===-1?1:n,"px"),G="".concat(n,"px 0px"),I=Kq(["strokeDasharray"],v,typeof h=="string"?h:void 0);return F.createElement(oR,{animationId:D,key:D,canBegin:n>0,duration:v,easing:h,isActive:b,begin:g},z=>{var q=wi(R,l,z),H=wi(P,u,z),X=wi(L,i,z),U=wi(N,o,z);r.current&&(x.current=q,w.current=H,S.current=X,E.current=U);var V;m?z>0?V={transition:I,strokeDasharray:G}:V={strokeDasharray:B}:V={strokeDasharray:G};var Q=Rn(t),{radius:ee}=Q,te=DO(Q,h6);return F.createElement("path",bv({},te,{radius:typeof c=="number"?c:void 0,className:k,d:kO(X,U,q,H,c),ref:r,style:MO(MO({},V),t.style)}))})};function uR(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=Wr(t,r,n,a),l=Wr(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function V1(){return V1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V1.apply(null,arguments)}var b6=(e,t)=>{var r=ba(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},gh=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:u}=e,c=l*(o?1:-1)+n,d=Math.asin(l/c)/pv,h=u?a:a+i*d,v=Wr(t,r,c,h),g=Wr(t,r,n,h),m=u?a-i*d:a,b=Wr(t,r,c*Math.cos(d*pv),m);return{center:v,circleTangency:g,lineTangency:b,theta:d}},cR=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,l=b6(i,o),u=i+l,c=Wr(t,r,a,i),d=Wr(t,r,a,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var v=Wr(t,r,n,i),g=Wr(t,r,n,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else h+="L ".concat(t,",").concat(r," Z");return h},x6=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}=e,d=ba(c-u),{circleTangency:h,lineTangency:v,theta:g}=gh({cx:t,cy:r,radius:a,angle:u,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:m,lineTangency:b,theta:x}=gh({cx:t,cy:r,radius:a,angle:c,sign:-d,cornerRadius:i,cornerIsExternal:l}),w=l?Math.abs(u-c):Math.abs(u-c)-g-x;if(w<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):cR({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:u,endAngle:c});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(w>180),",").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var{circleTangency:E,lineTangency:O,theta:D}=gh({cx:t,cy:r,radius:n,angle:u,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:k,lineTangency:T,theta:_}=gh({cx:t,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),M=l?Math.abs(u-c):Math.abs(u-c)-D-_;if(M<0&&i===0)return"".concat(S,"L").concat(t,",").concat(r,"Z");S+="L".concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(M>180),",").concat(+(d>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,"Z")}else S+="L".concat(t,",").concat(r,"Z");return S},w6={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},E6=e=>{var t=Aa(e,w6),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d,className:h}=t;if(i<a||c===d)return null;var v=Rt("recharts-sector",h),g=i-a,m=Ro(o,g,0,!0),b;return m>0&&Math.abs(c-d)<360?b=x6({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):b=cR({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:d}),F.createElement("path",V1({},Rn(t),{className:v,d:b}))};function S6(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:u,innerRadius:c,outerRadius:d,angle:h}=t,v=Wr(l,u,c,h),g=Wr(l,u,d,h);n=v.x,a=v.y,i=g.x,o=g.y}else return uR(t);return[{x:n,y:a},{x:i,y:o}]}var x0={},w0={},E0={},PO;function A6(){return PO||(PO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vN();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(E0)),E0}var NO;function C6(){return NO||(NO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A6();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(w0)),w0}var RO;function T6(){return RO||(RO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pN(),r=C6();function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),u=new Array(l);for(let c=0;c<l;c++)u[c]=a,a+=o;return u}e.range=n})(x0)),x0}var S0,LO;function O6(){return LO||(LO=1,S0=T6().range),S0}var _6=O6();const fR=La(_6);function ko(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function M6(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ow(e){let t,r,n;e.length!==2?(t=ko,r=(l,u)=>ko(e(l),u),n=(l,u)=>e(l)-u):(t=e===ko||e===M6?e:D6,r=e,n=e);function a(l,u,c=0,d=l.length){if(c<d){if(t(u,u)!==0)return d;do{const h=c+d>>>1;r(l[h],u)<0?c=h+1:d=h}while(c<d)}return c}function i(l,u,c=0,d=l.length){if(c<d){if(t(u,u)!==0)return d;do{const h=c+d>>>1;r(l[h],u)<=0?c=h+1:d=h}while(c<d)}return c}function o(l,u,c=0,d=l.length){const h=a(l,u,c,d-1);return h>c&&n(l[h-1],u)>-n(l[h],u)?h-1:h}return{left:a,center:o,right:i}}function D6(){return 0}function dR(e){return e===null?NaN:+e}function*k6(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const P6=ow(ko),Ef=P6.right;ow(dR).center;class BO extends Map{constructor(t,r=L6){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(IO(this,t))}has(t){return super.has(IO(this,t))}set(t,r){return super.set(N6(this,t),r)}delete(t){return super.delete(R6(this,t))}}function IO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function N6({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function R6({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function L6(e){return e!==null&&typeof e=="object"?e.valueOf():e}function B6(e=ko){if(e===ko)return hR;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function hR(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const I6=Math.sqrt(50),z6=Math.sqrt(10),j6=Math.sqrt(2);function xv(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=I6?10:i>=z6?5:i>=j6?2:1;let l,u,c;return a<0?(c=Math.pow(10,-a)/o,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,a)*o,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=r&&r<2?xv(e,t,r*2):[l,u,c]}function Y1(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?xv(t,e,r):xv(e,t,r);if(!(i>=a))return[];const l=i-a+1,u=new Array(l);if(n)if(o<0)for(let c=0;c<l;++c)u[c]=(i-c)/-o;else for(let c=0;c<l;++c)u[c]=(i-c)*o;else if(o<0)for(let c=0;c<l;++c)u[c]=(a+c)/-o;else for(let c=0;c<l;++c)u[c]=(a+c)*o;return u}function $1(e,t,r){return t=+t,e=+e,r=+r,xv(e,t,r)[2]}function X1(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?$1(t,e,r):$1(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function zO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function jO(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function vR(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?hR:B6(a);n>r;){if(n-r>600){const u=n-r+1,c=t-r+1,d=Math.log(u),h=.5*Math.exp(2*d/3),v=.5*Math.sqrt(d*h*(u-h)/u)*(c-u/2<0?-1:1),g=Math.max(r,Math.floor(t-c*h/u+v)),m=Math.min(n,Math.floor(t+(u-c)*h/u+v));vR(e,t,g,m,a)}const i=e[t];let o=r,l=n;for(Oc(e,r,t),a(e[n],i)>0&&Oc(e,r,n);o<l;){for(Oc(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Oc(e,r,l):(++l,Oc(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Oc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function G6(e,t,r){if(e=Float64Array.from(k6(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return jO(e);if(t>=1)return zO(e);var n,a=(n-1)*t,i=Math.floor(a),o=zO(vR(e,i).subarray(0,i+1)),l=jO(e.subarray(i+1));return o+(l-o)*(a-i)}}function U6(e,t,r=dR){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function F6(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ca(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Gi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const K1=Symbol("implicit");function sw(){var e=new BO,t=[],r=[],n=K1;function a(i){let o=e.get(i);if(o===void 0){if(n!==K1)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new BO;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return sw(t,r).unknown(n)},Ca.apply(a,arguments),a}function lw(){var e=sw().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,u=0,c=0,d=.5;delete e.unknown;function h(){var v=t().length,g=a<n,m=g?a:n,b=g?n:a;i=(b-m)/Math.max(1,v-u+c*2),l&&(i=Math.floor(i)),m+=(b-m-i*(v-u))*d,o=i*(1-u),l&&(m=Math.round(m),o=Math.round(o));var x=F6(v).map(function(w){return m+i*w});return r(g?x.reverse():x)}return e.domain=function(v){return arguments.length?(t(v),h()):t()},e.range=function(v){return arguments.length?([n,a]=v,n=+n,a=+a,h()):[n,a]},e.rangeRound=function(v){return[n,a]=v,n=+n,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(v){return arguments.length?(l=!!v,h()):l},e.padding=function(v){return arguments.length?(u=Math.min(1,c=+v),h()):u},e.paddingInner=function(v){return arguments.length?(u=Math.min(1,v),h()):u},e.paddingOuter=function(v){return arguments.length?(c=+v,h()):c},e.align=function(v){return arguments.length?(d=Math.max(0,Math.min(1,v)),h()):d},e.copy=function(){return lw(t(),[n,a]).round(l).paddingInner(u).paddingOuter(c).align(d)},Ca.apply(h(),arguments)}function pR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pR(t())},e}function q6(){return pR(lw.apply(null,arguments).paddingInner(1))}function uw(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function gR(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Sf(){}var ef=.7,wv=1/ef,tu="\\s*([+-]?\\d+)\\s*",tf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ka="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",H6=/^#([0-9a-f]{3,8})$/,V6=new RegExp(`^rgb\\(${tu},${tu},${tu}\\)$`),Y6=new RegExp(`^rgb\\(${Ka},${Ka},${Ka}\\)$`),$6=new RegExp(`^rgba\\(${tu},${tu},${tu},${tf}\\)$`),X6=new RegExp(`^rgba\\(${Ka},${Ka},${Ka},${tf}\\)$`),K6=new RegExp(`^hsl\\(${tf},${Ka},${Ka}\\)$`),W6=new RegExp(`^hsla\\(${tf},${Ka},${Ka},${tf}\\)$`),GO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uw(Sf,rf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:UO,formatHex:UO,formatHex8:Z6,formatHsl:Q6,formatRgb:FO,toString:FO});function UO(){return this.rgb().formatHex()}function Z6(){return this.rgb().formatHex8()}function Q6(){return mR(this).formatHsl()}function FO(){return this.rgb().formatRgb()}function rf(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=H6.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?qO(t):r===3?new Pn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?mh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?mh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=V6.exec(e))?new Pn(t[1],t[2],t[3],1):(t=Y6.exec(e))?new Pn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$6.exec(e))?mh(t[1],t[2],t[3],t[4]):(t=X6.exec(e))?mh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=K6.exec(e))?YO(t[1],t[2]/100,t[3]/100,1):(t=W6.exec(e))?YO(t[1],t[2]/100,t[3]/100,t[4]):GO.hasOwnProperty(e)?qO(GO[e]):e==="transparent"?new Pn(NaN,NaN,NaN,0):null}function qO(e){return new Pn(e>>16&255,e>>8&255,e&255,1)}function mh(e,t,r,n){return n<=0&&(e=t=r=NaN),new Pn(e,t,r,n)}function J6(e){return e instanceof Sf||(e=rf(e)),e?(e=e.rgb(),new Pn(e.r,e.g,e.b,e.opacity)):new Pn}function W1(e,t,r,n){return arguments.length===1?J6(e):new Pn(e,t,r,n??1)}function Pn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}uw(Pn,W1,gR(Sf,{brighter(e){return e=e==null?wv:Math.pow(wv,e),new Pn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ef:Math.pow(ef,e),new Pn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Pn(Ls(this.r),Ls(this.g),Ls(this.b),Ev(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:HO,formatHex:HO,formatHex8:eH,formatRgb:VO,toString:VO}));function HO(){return`#${Ms(this.r)}${Ms(this.g)}${Ms(this.b)}`}function eH(){return`#${Ms(this.r)}${Ms(this.g)}${Ms(this.b)}${Ms((isNaN(this.opacity)?1:this.opacity)*255)}`}function VO(){const e=Ev(this.opacity);return`${e===1?"rgb(":"rgba("}${Ls(this.r)}, ${Ls(this.g)}, ${Ls(this.b)}${e===1?")":`, ${e})`}`}function Ev(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ls(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ms(e){return e=Ls(e),(e<16?"0":"")+e.toString(16)}function YO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ka(e,t,r,n)}function mR(e){if(e instanceof ka)return new ka(e.h,e.s,e.l,e.opacity);if(e instanceof Sf||(e=rf(e)),!e)return new ka;if(e instanceof ka)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,u=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=u<.5?i+a:2-i-a,o*=60):l=u>0&&u<1?0:o,new ka(o,l,u,e.opacity)}function tH(e,t,r,n){return arguments.length===1?mR(e):new ka(e,t,r,n??1)}function ka(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}uw(ka,tH,gR(Sf,{brighter(e){return e=e==null?wv:Math.pow(wv,e),new ka(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ef:Math.pow(ef,e),new ka(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Pn(A0(e>=240?e-240:e+120,a,n),A0(e,a,n),A0(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ka($O(this.h),yh(this.s),yh(this.l),Ev(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ev(this.opacity);return`${e===1?"hsl(":"hsla("}${$O(this.h)}, ${yh(this.s)*100}%, ${yh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $O(e){return e=(e||0)%360,e<0?e+360:e}function yh(e){return Math.max(0,Math.min(1,e||0))}function A0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const cw=e=>()=>e;function rH(e,t){return function(r){return e+r*t}}function nH(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function aH(e){return(e=+e)==1?yR:function(t,r){return r-t?nH(t,r,e):cw(isNaN(t)?r:t)}}function yR(e,t){var r=t-e;return r?rH(e,r):cw(isNaN(e)?t:e)}const XO=(function e(t){var r=aH(t);function n(a,i){var o=r((a=W1(a)).r,(i=W1(i)).r),l=r(a.g,i.g),u=r(a.b,i.b),c=yR(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=u(d),a.opacity=c(d),a+""}}return n.gamma=e,n})(1);function iH(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function oH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function sH(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=bu(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function lH(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Sv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function uH(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=bu(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Z1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,C0=new RegExp(Z1.source,"g");function cH(e){return function(){return e}}function fH(e){return function(t){return e(t)+""}}function dH(e,t){var r=Z1.lastIndex=C0.lastIndex=0,n,a,i,o=-1,l=[],u=[];for(e=e+"",t=t+"";(n=Z1.exec(e))&&(a=C0.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,u.push({i:o,x:Sv(n,a)})),r=C0.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?u[0]?fH(u[0].x):cH(t):(t=u.length,function(c){for(var d=0,h;d<t;++d)l[(h=u[d]).i]=h.x(c);return l.join("")})}function bu(e,t){var r=typeof t,n;return t==null||r==="boolean"?cw(t):(r==="number"?Sv:r==="string"?(n=rf(t))?(t=n,XO):dH:t instanceof rf?XO:t instanceof Date?lH:oH(t)?iH:Array.isArray(t)?sH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?uH:Sv)(e,t)}function fw(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function hH(e,t){t===void 0&&(t=e,e=bu);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function vH(e){return function(){return e}}function Av(e){return+e}var KO=[0,1];function pn(e){return e}function Q1(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:vH(isNaN(t)?NaN:.5)}function pH(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function gH(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=Q1(a,n),i=r(o,i)):(n=Q1(n,a),i=r(i,o)),function(l){return i(n(l))}}function mH(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Q1(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var u=Ef(e,l,1,n)-1;return i[u](a[u](l))}}function Af(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function yp(){var e=KO,t=KO,r=bu,n,a,i,o=pn,l,u,c;function d(){var v=Math.min(e.length,t.length);return o!==pn&&(o=pH(e[0],e[v-1])),l=v>2?mH:gH,u=c=null,h}function h(v){return v==null||isNaN(v=+v)?i:(u||(u=l(e.map(n),t,r)))(n(o(v)))}return h.invert=function(v){return o(a((c||(c=l(t,e.map(n),Sv)))(v)))},h.domain=function(v){return arguments.length?(e=Array.from(v,Av),d()):e.slice()},h.range=function(v){return arguments.length?(t=Array.from(v),d()):t.slice()},h.rangeRound=function(v){return t=Array.from(v),r=fw,d()},h.clamp=function(v){return arguments.length?(o=v?!0:pn,d()):o!==pn},h.interpolate=function(v){return arguments.length?(r=v,d()):r},h.unknown=function(v){return arguments.length?(i=v,h):i},function(v,g){return n=v,a=g,d()}}function dw(){return yp()(pn,pn)}function yH(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Cv(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function cu(e){return e=Cv(Math.abs(e)),e?e[1]:NaN}function bH(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],u=0;a>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),i.push(r.substring(a-=l,a+l)),!((u+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function xH(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var wH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nf(e){if(!(t=wH.exec(e)))throw new Error("invalid format: "+e);var t;return new hw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}nf.prototype=hw.prototype;function hw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}hw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function EH(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var bR;function SH(e,t){var r=Cv(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(bR=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Cv(e,Math.max(0,t+i-1))[0]}function WO(e,t){var r=Cv(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const ZO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:yH,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>WO(e*100,t),r:WO,s:SH,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function QO(e){return e}var JO=Array.prototype.map,e_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function AH(e){var t=e.grouping===void 0||e.thousands===void 0?QO:bH(JO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?QO:xH(JO.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function c(h){h=nf(h);var v=h.fill,g=h.align,m=h.sign,b=h.symbol,x=h.zero,w=h.width,S=h.comma,E=h.precision,O=h.trim,D=h.type;D==="n"?(S=!0,D="g"):ZO[D]||(E===void 0&&(E=12),O=!0,D="g"),(x||v==="0"&&g==="=")&&(x=!0,v="0",g="=");var k=b==="$"?r:b==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",T=b==="$"?n:/[%p]/.test(D)?o:"",_=ZO[D],M=/[defgprs%]/.test(D);E=E===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function R(P){var L=k,N=T,B,G,I;if(D==="c")N=_(P)+N,P="";else{P=+P;var z=P<0||1/P<0;if(P=isNaN(P)?u:_(Math.abs(P),E),O&&(P=EH(P)),z&&+P==0&&m!=="+"&&(z=!1),L=(z?m==="("?m:l:m==="-"||m==="("?"":m)+L,N=(D==="s"?e_[8+bR/3]:"")+N+(z&&m==="("?")":""),M){for(B=-1,G=P.length;++B<G;)if(I=P.charCodeAt(B),48>I||I>57){N=(I===46?a+P.slice(B+1):P.slice(B))+N,P=P.slice(0,B);break}}}S&&!x&&(P=t(P,1/0));var q=L.length+P.length+N.length,H=q<w?new Array(w-q+1).join(v):"";switch(S&&x&&(P=t(H+P,H.length?w-N.length:1/0),H=""),g){case"<":P=L+P+N+H;break;case"=":P=L+H+P+N;break;case"^":P=H.slice(0,q=H.length>>1)+L+P+N+H.slice(q);break;default:P=H+L+P+N;break}return i(P)}return R.toString=function(){return h+""},R}function d(h,v){var g=c((h=nf(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(cu(v)/3)))*3,b=Math.pow(10,-m),x=e_[8+m/3];return function(w){return g(b*w)+x}}return{format:c,formatPrefix:d}}var bh,vw,xR;CH({thousands:",",grouping:[3],currency:["$",""]});function CH(e){return bh=AH(e),vw=bh.format,xR=bh.formatPrefix,bh}function TH(e){return Math.max(0,-cu(Math.abs(e)))}function OH(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cu(t)/3)))*3-cu(Math.abs(e)))}function _H(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cu(t)-cu(e))+1}function wR(e,t,r,n){var a=X1(e,t,r),i;switch(n=nf(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=OH(a,o))&&(n.precision=i),xR(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=_H(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=TH(a))&&(n.precision=i-(n.type==="%")*2);break}}return vw(n)}function qo(e){var t=e.domain;return e.ticks=function(r){var n=t();return Y1(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return wR(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],u,c,d=10;for(l<o&&(c=o,o=l,l=c,c=a,a=i,i=c);d-- >0;){if(c=$1(o,l,r),c===u)return n[a]=o,n[i]=l,t(n);if(c>0)o=Math.floor(o/c)*c,l=Math.ceil(l/c)*c;else if(c<0)o=Math.ceil(o*c)/c,l=Math.floor(l*c)/c;else break;u=c}return e},e}function ER(){var e=dw();return e.copy=function(){return Af(e,ER())},Ca.apply(e,arguments),qo(e)}function SR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Av),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return SR(e).unknown(t)},e=arguments.length?Array.from(e,Av):[0,1],qo(r)}function AR(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function t_(e){return Math.log(e)}function r_(e){return Math.exp(e)}function MH(e){return-Math.log(-e)}function DH(e){return-Math.exp(-e)}function kH(e){return isFinite(e)?+("1e"+e):e<0?0:e}function PH(e){return e===10?kH:e===Math.E?Math.exp:t=>Math.pow(e,t)}function NH(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function n_(e){return(t,r)=>-e(-t,r)}function pw(e){const t=e(t_,r_),r=t.domain;let n=10,a,i;function o(){return a=NH(n),i=PH(n),r()[0]<0?(a=n_(a),i=n_(i),e(MH,DH)):e(t_,r_),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const u=r();let c=u[0],d=u[u.length-1];const h=d<c;h&&([c,d]=[d,c]);let v=a(c),g=a(d),m,b;const x=l==null?10:+l;let w=[];if(!(n%1)&&g-v<x){if(v=Math.floor(v),g=Math.ceil(g),c>0){for(;v<=g;++v)for(m=1;m<n;++m)if(b=v<0?m/i(-v):m*i(v),!(b<c)){if(b>d)break;w.push(b)}}else for(;v<=g;++v)for(m=n-1;m>=1;--m)if(b=v>0?m/i(-v):m*i(v),!(b<c)){if(b>d)break;w.push(b)}w.length*2<x&&(w=Y1(c,d,x))}else w=Y1(v,g,Math.min(g-v,x)).map(i);return h?w.reverse():w},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=nf(u)).precision==null&&(u.trim=!0),u=vw(u)),l===1/0)return u;const c=Math.max(1,n*l/t.ticks().length);return d=>{let h=d/i(Math.round(a(d)));return h*n<n-.5&&(h*=n),h<=c?u(d):""}},t.nice=()=>r(AR(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function CR(){const e=pw(yp()).domain([1,10]);return e.copy=()=>Af(e,CR()).base(e.base()),Ca.apply(e,arguments),e}function a_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function i_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gw(e){var t=1,r=e(a_(t),i_(t));return r.constant=function(n){return arguments.length?e(a_(t=+n),i_(t)):t},qo(r)}function TR(){var e=gw(yp());return e.copy=function(){return Af(e,TR()).constant(e.constant())},Ca.apply(e,arguments)}function o_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function RH(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function LH(e){return e<0?-e*e:e*e}function mw(e){var t=e(pn,pn),r=1;function n(){return r===1?e(pn,pn):r===.5?e(RH,LH):e(o_(r),o_(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},qo(t)}function yw(){var e=mw(yp());return e.copy=function(){return Af(e,yw()).exponent(e.exponent())},Ca.apply(e,arguments),e}function BH(){return yw.apply(null,arguments).exponent(.5)}function s_(e){return Math.sign(e)*e*e}function IH(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function OR(){var e=dw(),t=[0,1],r=!1,n;function a(i){var o=IH(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(s_(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Av)).map(s_)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return OR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ca.apply(a,arguments),qo(a)}function _R(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=U6(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Ef(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ko),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return _R().domain(e).range(t).unknown(n)},Ca.apply(i,arguments)}function MR(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(u){return u!=null&&u<=u?a[Ef(n,u,0,r)]:i}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(r=(a=Array.from(u)).length-1,l()):a.slice()},o.invertExtent=function(u){var c=a.indexOf(u);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(u){return arguments.length&&(i=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return MR().domain([e,t]).range(a).unknown(i)},Ca.apply(qo(o),arguments)}function DR(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Ef(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return DR().domain(e).range(t).unknown(r)},Ca.apply(a,arguments)}const T0=new Date,O0=new Date;function Tr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const u=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return u;let c;do u.push(c=new Date(+i)),t(i,l),e(i);while(c<i&&i<o);return u},a.filter=i=>Tr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(T0.setTime(+i),O0.setTime(+o),e(T0),e(O0),Math.floor(r(T0,O0))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Tv=Tr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Tv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Tr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Tv);Tv.range;const Ai=1e3,xa=Ai*60,Ci=xa*60,Pi=Ci*24,bw=Pi*7,l_=Pi*30,_0=Pi*365,Ds=Tr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ai)},(e,t)=>(t-e)/Ai,e=>e.getUTCSeconds());Ds.range;const xw=Tr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ai)},(e,t)=>{e.setTime(+e+t*xa)},(e,t)=>(t-e)/xa,e=>e.getMinutes());xw.range;const ww=Tr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*xa)},(e,t)=>(t-e)/xa,e=>e.getUTCMinutes());ww.range;const Ew=Tr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ai-e.getMinutes()*xa)},(e,t)=>{e.setTime(+e+t*Ci)},(e,t)=>(t-e)/Ci,e=>e.getHours());Ew.range;const Sw=Tr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ci)},(e,t)=>(t-e)/Ci,e=>e.getUTCHours());Sw.range;const Cf=Tr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xa)/Pi,e=>e.getDate()-1);Cf.range;const bp=Tr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pi,e=>e.getUTCDate()-1);bp.range;const kR=Tr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pi,e=>Math.floor(e/Pi));kR.range;function Ws(e){return Tr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*xa)/bw)}const xp=Ws(0),Ov=Ws(1),zH=Ws(2),jH=Ws(3),fu=Ws(4),GH=Ws(5),UH=Ws(6);xp.range;Ov.range;zH.range;jH.range;fu.range;GH.range;UH.range;function Zs(e){return Tr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/bw)}const wp=Zs(0),_v=Zs(1),FH=Zs(2),qH=Zs(3),du=Zs(4),HH=Zs(5),VH=Zs(6);wp.range;_v.range;FH.range;qH.range;du.range;HH.range;VH.range;const Aw=Tr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Aw.range;const Cw=Tr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Cw.range;const Ni=Tr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ni.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Tr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ni.range;const Ri=Tr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ri.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Tr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ri.range;function PR(e,t,r,n,a,i){const o=[[Ds,1,Ai],[Ds,5,5*Ai],[Ds,15,15*Ai],[Ds,30,30*Ai],[i,1,xa],[i,5,5*xa],[i,15,15*xa],[i,30,30*xa],[a,1,Ci],[a,3,3*Ci],[a,6,6*Ci],[a,12,12*Ci],[n,1,Pi],[n,2,2*Pi],[r,1,bw],[t,1,l_],[t,3,3*l_],[e,1,_0]];function l(c,d,h){const v=d<c;v&&([c,d]=[d,c]);const g=h&&typeof h.range=="function"?h:u(c,d,h),m=g?g.range(c,+d+1):[];return v?m.reverse():m}function u(c,d,h){const v=Math.abs(d-c)/h,g=ow(([,,x])=>x).right(o,v);if(g===o.length)return e.every(X1(c/_0,d/_0,h));if(g===0)return Tv.every(Math.max(X1(c,d,h),1));const[m,b]=o[v/o[g-1][2]<o[g][2]/v?g-1:g];return m.every(b)}return[l,u]}const[YH,$H]=PR(Ri,Cw,wp,kR,Sw,ww),[XH,KH]=PR(Ni,Aw,xp,Cf,Ew,xw);function M0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function D0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function _c(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function WH(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,c=Mc(a),d=Dc(a),h=Mc(i),v=Dc(i),g=Mc(o),m=Dc(o),b=Mc(l),x=Dc(l),w=Mc(u),S=Dc(u),E={a:z,A:q,b:H,B:X,c:null,d:v_,e:v_,f:b8,g:M8,G:k8,H:g8,I:m8,j:y8,L:NR,m:x8,M:w8,p:U,q:V,Q:m_,s:y_,S:E8,u:S8,U:A8,V:C8,w:T8,W:O8,x:null,X:null,y:_8,Y:D8,Z:P8,"%":g_},O={a:Q,A:ee,b:te,B:ie,c:null,d:p_,e:p_,f:B8,g:Y8,G:X8,H:N8,I:R8,j:L8,L:LR,m:I8,M:z8,p:ue,q:xe,Q:m_,s:y_,S:j8,u:G8,U:U8,V:F8,w:q8,W:H8,x:null,X:null,y:V8,Y:$8,Z:K8,"%":g_},D={a:R,A:P,b:L,B:N,c:B,d:d_,e:d_,f:d8,g:f_,G:c_,H:h_,I:h_,j:l8,L:f8,m:s8,M:u8,p:M,q:o8,Q:v8,s:p8,S:c8,u:t8,U:r8,V:n8,w:e8,W:a8,x:G,X:I,y:f_,Y:c_,Z:i8,"%":h8};E.x=k(r,E),E.X=k(n,E),E.c=k(t,E),O.x=k(r,O),O.X=k(n,O),O.c=k(t,O);function k(Z,re){return function(J){var W=[],se=-1,he=0,Ce=Z.length,_e,Me,Ie;for(J instanceof Date||(J=new Date(+J));++se<Ce;)Z.charCodeAt(se)===37&&(W.push(Z.slice(he,se)),(Me=u_[_e=Z.charAt(++se)])!=null?_e=Z.charAt(++se):Me=_e==="e"?" ":"0",(Ie=re[_e])&&(_e=Ie(J,Me)),W.push(_e),he=se+1);return W.push(Z.slice(he,se)),W.join("")}}function T(Z,re){return function(J){var W=_c(1900,void 0,1),se=_(W,Z,J+="",0),he,Ce;if(se!=J.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(re&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(he=D0(_c(W.y,0,1)),Ce=he.getUTCDay(),he=Ce>4||Ce===0?_v.ceil(he):_v(he),he=bp.offset(he,(W.V-1)*7),W.y=he.getUTCFullYear(),W.m=he.getUTCMonth(),W.d=he.getUTCDate()+(W.w+6)%7):(he=M0(_c(W.y,0,1)),Ce=he.getDay(),he=Ce>4||Ce===0?Ov.ceil(he):Ov(he),he=Cf.offset(he,(W.V-1)*7),W.y=he.getFullYear(),W.m=he.getMonth(),W.d=he.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Ce="Z"in W?D0(_c(W.y,0,1)).getUTCDay():M0(_c(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Ce+5)%7:W.w+W.U*7-(Ce+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,D0(W)):M0(W)}}function _(Z,re,J,W){for(var se=0,he=re.length,Ce=J.length,_e,Me;se<he;){if(W>=Ce)return-1;if(_e=re.charCodeAt(se++),_e===37){if(_e=re.charAt(se++),Me=D[_e in u_?re.charAt(se++):_e],!Me||(W=Me(Z,J,W))<0)return-1}else if(_e!=J.charCodeAt(W++))return-1}return W}function M(Z,re,J){var W=c.exec(re.slice(J));return W?(Z.p=d.get(W[0].toLowerCase()),J+W[0].length):-1}function R(Z,re,J){var W=g.exec(re.slice(J));return W?(Z.w=m.get(W[0].toLowerCase()),J+W[0].length):-1}function P(Z,re,J){var W=h.exec(re.slice(J));return W?(Z.w=v.get(W[0].toLowerCase()),J+W[0].length):-1}function L(Z,re,J){var W=w.exec(re.slice(J));return W?(Z.m=S.get(W[0].toLowerCase()),J+W[0].length):-1}function N(Z,re,J){var W=b.exec(re.slice(J));return W?(Z.m=x.get(W[0].toLowerCase()),J+W[0].length):-1}function B(Z,re,J){return _(Z,t,re,J)}function G(Z,re,J){return _(Z,r,re,J)}function I(Z,re,J){return _(Z,n,re,J)}function z(Z){return o[Z.getDay()]}function q(Z){return i[Z.getDay()]}function H(Z){return u[Z.getMonth()]}function X(Z){return l[Z.getMonth()]}function U(Z){return a[+(Z.getHours()>=12)]}function V(Z){return 1+~~(Z.getMonth()/3)}function Q(Z){return o[Z.getUTCDay()]}function ee(Z){return i[Z.getUTCDay()]}function te(Z){return u[Z.getUTCMonth()]}function ie(Z){return l[Z.getUTCMonth()]}function ue(Z){return a[+(Z.getUTCHours()>=12)]}function xe(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var re=k(Z+="",E);return re.toString=function(){return Z},re},parse:function(Z){var re=T(Z+="",!1);return re.toString=function(){return Z},re},utcFormat:function(Z){var re=k(Z+="",O);return re.toString=function(){return Z},re},utcParse:function(Z){var re=T(Z+="",!0);return re.toString=function(){return Z},re}}}var u_={"-":"",_:" ",0:"0"},Ur=/^\s*\d+/,ZH=/^%/,QH=/[\\^$*+?|[\]().{}]/g;function Et(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function JH(e){return e.replace(QH,"\\$&")}function Mc(e){return new RegExp("^(?:"+e.map(JH).join("|")+")","i")}function Dc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function e8(e,t,r){var n=Ur.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function t8(e,t,r){var n=Ur.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function r8(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function n8(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function a8(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function c_(e,t,r){var n=Ur.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function f_(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function i8(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function o8(e,t,r){var n=Ur.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function s8(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function d_(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function l8(e,t,r){var n=Ur.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function h_(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function u8(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function c8(e,t,r){var n=Ur.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function f8(e,t,r){var n=Ur.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function d8(e,t,r){var n=Ur.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function h8(e,t,r){var n=ZH.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function v8(e,t,r){var n=Ur.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function p8(e,t,r){var n=Ur.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function v_(e,t){return Et(e.getDate(),t,2)}function g8(e,t){return Et(e.getHours(),t,2)}function m8(e,t){return Et(e.getHours()%12||12,t,2)}function y8(e,t){return Et(1+Cf.count(Ni(e),e),t,3)}function NR(e,t){return Et(e.getMilliseconds(),t,3)}function b8(e,t){return NR(e,t)+"000"}function x8(e,t){return Et(e.getMonth()+1,t,2)}function w8(e,t){return Et(e.getMinutes(),t,2)}function E8(e,t){return Et(e.getSeconds(),t,2)}function S8(e){var t=e.getDay();return t===0?7:t}function A8(e,t){return Et(xp.count(Ni(e)-1,e),t,2)}function RR(e){var t=e.getDay();return t>=4||t===0?fu(e):fu.ceil(e)}function C8(e,t){return e=RR(e),Et(fu.count(Ni(e),e)+(Ni(e).getDay()===4),t,2)}function T8(e){return e.getDay()}function O8(e,t){return Et(Ov.count(Ni(e)-1,e),t,2)}function _8(e,t){return Et(e.getFullYear()%100,t,2)}function M8(e,t){return e=RR(e),Et(e.getFullYear()%100,t,2)}function D8(e,t){return Et(e.getFullYear()%1e4,t,4)}function k8(e,t){var r=e.getDay();return e=r>=4||r===0?fu(e):fu.ceil(e),Et(e.getFullYear()%1e4,t,4)}function P8(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Et(t/60|0,"0",2)+Et(t%60,"0",2)}function p_(e,t){return Et(e.getUTCDate(),t,2)}function N8(e,t){return Et(e.getUTCHours(),t,2)}function R8(e,t){return Et(e.getUTCHours()%12||12,t,2)}function L8(e,t){return Et(1+bp.count(Ri(e),e),t,3)}function LR(e,t){return Et(e.getUTCMilliseconds(),t,3)}function B8(e,t){return LR(e,t)+"000"}function I8(e,t){return Et(e.getUTCMonth()+1,t,2)}function z8(e,t){return Et(e.getUTCMinutes(),t,2)}function j8(e,t){return Et(e.getUTCSeconds(),t,2)}function G8(e){var t=e.getUTCDay();return t===0?7:t}function U8(e,t){return Et(wp.count(Ri(e)-1,e),t,2)}function BR(e){var t=e.getUTCDay();return t>=4||t===0?du(e):du.ceil(e)}function F8(e,t){return e=BR(e),Et(du.count(Ri(e),e)+(Ri(e).getUTCDay()===4),t,2)}function q8(e){return e.getUTCDay()}function H8(e,t){return Et(_v.count(Ri(e)-1,e),t,2)}function V8(e,t){return Et(e.getUTCFullYear()%100,t,2)}function Y8(e,t){return e=BR(e),Et(e.getUTCFullYear()%100,t,2)}function $8(e,t){return Et(e.getUTCFullYear()%1e4,t,4)}function X8(e,t){var r=e.getUTCDay();return e=r>=4||r===0?du(e):du.ceil(e),Et(e.getUTCFullYear()%1e4,t,4)}function K8(){return"+0000"}function g_(){return"%"}function m_(e){return+e}function y_(e){return Math.floor(+e/1e3)}var Ll,IR,zR;W8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function W8(e){return Ll=WH(e),IR=Ll.format,Ll.parse,zR=Ll.utcFormat,Ll.utcParse,Ll}function Z8(e){return new Date(e)}function Q8(e){return e instanceof Date?+e:+new Date(+e)}function Tw(e,t,r,n,a,i,o,l,u,c){var d=dw(),h=d.invert,v=d.domain,g=c(".%L"),m=c(":%S"),b=c("%I:%M"),x=c("%I %p"),w=c("%a %d"),S=c("%b %d"),E=c("%B"),O=c("%Y");function D(k){return(u(k)<k?g:l(k)<k?m:o(k)<k?b:i(k)<k?x:n(k)<k?a(k)<k?w:S:r(k)<k?E:O)(k)}return d.invert=function(k){return new Date(h(k))},d.domain=function(k){return arguments.length?v(Array.from(k,Q8)):v().map(Z8)},d.ticks=function(k){var T=v();return e(T[0],T[T.length-1],k??10)},d.tickFormat=function(k,T){return T==null?D:c(T)},d.nice=function(k){var T=v();return(!k||typeof k.range!="function")&&(k=t(T[0],T[T.length-1],k??10)),k?v(AR(T,k)):d},d.copy=function(){return Af(d,Tw(e,t,r,n,a,i,o,l,u,c))},d}function J8(){return Ca.apply(Tw(XH,KH,Ni,Aw,xp,Cf,Ew,xw,Ds,IR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function eV(){return Ca.apply(Tw(YH,$H,Ri,Cw,wp,bp,Sw,ww,Ds,zR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ep(){var e=0,t=1,r,n,a,i,o=pn,l=!1,u;function c(h){return h==null||isNaN(h=+h)?u:o(a===0?.5:(h=(i(h)-r)*a,l?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(h){return arguments.length?(l=!!h,c):l},c.interpolator=function(h){return arguments.length?(o=h,c):o};function d(h){return function(v){var g,m;return arguments.length?([g,m]=v,o=h(g,m),c):[o(0),o(1)]}}return c.range=d(bu),c.rangeRound=d(fw),c.unknown=function(h){return arguments.length?(u=h,c):u},function(h){return i=h,r=h(e),n=h(t),a=r===n?0:1/(n-r),c}}function Ho(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function jR(){var e=qo(Ep()(pn));return e.copy=function(){return Ho(e,jR())},Gi.apply(e,arguments)}function GR(){var e=pw(Ep()).domain([1,10]);return e.copy=function(){return Ho(e,GR()).base(e.base())},Gi.apply(e,arguments)}function UR(){var e=gw(Ep());return e.copy=function(){return Ho(e,UR()).constant(e.constant())},Gi.apply(e,arguments)}function Ow(){var e=mw(Ep());return e.copy=function(){return Ho(e,Ow()).exponent(e.exponent())},Gi.apply(e,arguments)}function tV(){return Ow.apply(null,arguments).exponent(.5)}function FR(){var e=[],t=pn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ef(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ko),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>G6(e,i/n))},r.copy=function(){return FR(t).domain(e)},Gi.apply(r,arguments)}function Sp(){var e=0,t=.5,r=1,n=1,a,i,o,l,u,c=pn,d,h=!1,v;function g(b){return isNaN(b=+b)?v:(b=.5+((b=+d(b))-i)*(n*b<n*i?l:u),c(h?Math.max(0,Math.min(1,b)):b))}g.domain=function(b){return arguments.length?([e,t,r]=b,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),u=i===o?0:.5/(o-i),n=i<a?-1:1,g):[e,t,r]},g.clamp=function(b){return arguments.length?(h=!!b,g):h},g.interpolator=function(b){return arguments.length?(c=b,g):c};function m(b){return function(x){var w,S,E;return arguments.length?([w,S,E]=x,c=hH(b,[w,S,E]),g):[c(0),c(.5),c(1)]}}return g.range=m(bu),g.rangeRound=m(fw),g.unknown=function(b){return arguments.length?(v=b,g):v},function(b){return d=b,a=b(e),i=b(t),o=b(r),l=a===i?0:.5/(i-a),u=i===o?0:.5/(o-i),n=i<a?-1:1,g}}function qR(){var e=qo(Sp()(pn));return e.copy=function(){return Ho(e,qR())},Gi.apply(e,arguments)}function HR(){var e=pw(Sp()).domain([.1,1,10]);return e.copy=function(){return Ho(e,HR()).base(e.base())},Gi.apply(e,arguments)}function VR(){var e=gw(Sp());return e.copy=function(){return Ho(e,VR()).constant(e.constant())},Gi.apply(e,arguments)}function _w(){var e=mw(Sp());return e.copy=function(){return Ho(e,_w()).exponent(e.exponent())},Gi.apply(e,arguments)}function rV(){return _w.apply(null,arguments).exponent(.5)}const Fc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lw,scaleDiverging:qR,scaleDivergingLog:HR,scaleDivergingPow:_w,scaleDivergingSqrt:rV,scaleDivergingSymlog:VR,scaleIdentity:SR,scaleImplicit:K1,scaleLinear:ER,scaleLog:CR,scaleOrdinal:sw,scalePoint:q6,scalePow:yw,scaleQuantile:_R,scaleQuantize:MR,scaleRadial:OR,scaleSequential:jR,scaleSequentialLog:GR,scaleSequentialPow:Ow,scaleSequentialQuantile:FR,scaleSequentialSqrt:tV,scaleSequentialSymlog:UR,scaleSqrt:BH,scaleSymlog:TR,scaleThreshold:DR,scaleTime:J8,scaleUtc:eV,tickFormat:wR},Symbol.toStringTag,{value:"Module"}));var Vo=e=>e.chartData,nV=me([Vo],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Mw=(e,t,r,n)=>n?nV(e):Vo(e);function js(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Ln(t)&&Ln(r))return!0}return!1}function b_(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function YR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Ln(r))a=r;else if(typeof r=="function")return;if(Ln(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(js(o))return o}}function aV(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(js(n))return b_(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(Ze(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&rO.test(a)){var u=rO.exec(a);if(u==null||t==null)o=void 0;else{var c=+u[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(Ze(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&nO.test(i)){var d=nO.exec(i);if(d==null||t==null)l=void 0;else{var h=+d[1];l=t[1]+h}}else l=t==null?void 0:t[1];var v=[o,l];if(js(v))return t==null?v:b_(v,t,r)}}}var xu=1e9,iV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kw,Kt=!0,Sa="[DecimalError] ",Bs=Sa+"Invalid argument: ",Dw=Sa+"Exponent out of range: ",wu=Math.floor,As=Math.pow,oV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Kn,zr=1e7,qt=7,$R=9007199254740991,Mv=wu($R/qt),Be={};Be.absoluteValue=Be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Be.comparedTo=Be.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Be.decimalPlaces=Be.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*qt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Be.dividedBy=Be.div=function(e){return _i(this,new this.constructor(e))};Be.dividedToIntegerBy=Be.idiv=function(e){var t=this,r=t.constructor;return Bt(_i(t,new r(e),0,1),r.precision)};Be.equals=Be.eq=function(e){return!this.cmp(e)};Be.exponent=function(){return mr(this)};Be.greaterThan=Be.gt=function(e){return this.cmp(e)>0};Be.greaterThanOrEqualTo=Be.gte=function(e){return this.cmp(e)>=0};Be.isInteger=Be.isint=function(){return this.e>this.d.length-2};Be.isNegative=Be.isneg=function(){return this.s<0};Be.isPositive=Be.ispos=function(){return this.s>0};Be.isZero=function(){return this.s===0};Be.lessThan=Be.lt=function(e){return this.cmp(e)<0};Be.lessThanOrEqualTo=Be.lte=function(e){return this.cmp(e)<1};Be.logarithm=Be.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Kn))throw Error(Sa+"NaN");if(r.s<1)throw Error(Sa+(r.s?"NaN":"-Infinity"));return r.eq(Kn)?new n(0):(Kt=!1,t=_i(af(r,i),af(e,i),i),Kt=!0,Bt(t,a))};Be.minus=Be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?WR(t,e):XR(t,(e.s=-e.s,e))};Be.modulo=Be.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Sa+"NaN");return r.s?(Kt=!1,t=_i(r,e,0,1).times(e),Kt=!0,r.minus(t)):Bt(new n(r),a)};Be.naturalExponential=Be.exp=function(){return KR(this)};Be.naturalLogarithm=Be.ln=function(){return af(this)};Be.negated=Be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Be.plus=Be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?XR(t,e):WR(t,(e.s=-e.s,e))};Be.precision=Be.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Bs+e);if(t=mr(a)+1,n=a.d.length-1,r=n*qt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Be.squareRoot=Be.sqrt=function(){var e,t,r,n,a,i,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Sa+"NaN")}for(e=mr(l),Kt=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=$a(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=wu((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(a.toString()),r=u.precision,a=o=r+3;;)if(i=n,n=i.plus(_i(l,i,o+2)).times(.5),$a(i.d).slice(0,o)===(t=$a(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Bt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Kt=!0,Bt(n,r)};Be.times=Be.mul=function(e){var t,r,n,a,i,o,l,u,c,d=this,h=d.constructor,v=d.d,g=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,r=d.e+e.e,u=v.length,c=g.length,u<c&&(i=v,v=g,g=i,o=u,u=c,c=o),i=[],o=u+c,n=o;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=u+n;a>n;)l=i[a]+g[n]*v[a-n-1]+t,i[a--]=l%zr|0,t=l/zr|0;i[a]=(i[a]+t)%zr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Kt?Bt(e,h.precision):e};Be.toDecimalPlaces=Be.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Za(e,0,xu),t===void 0?t=n.rounding:Za(t,0,8),Bt(r,e+mr(r)+1,t))};Be.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Gs(n,!0):(Za(e,0,xu),t===void 0?t=a.rounding:Za(t,0,8),n=Bt(new a(n),e+1,t),r=Gs(n,!0,e+1)),r};Be.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Gs(a):(Za(e,0,xu),t===void 0?t=i.rounding:Za(t,0,8),n=Bt(new i(a),e+mr(a)+1,t),r=Gs(n.abs(),!1,e+mr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Be.toInteger=Be.toint=function(){var e=this,t=e.constructor;return Bt(new t(e),mr(e)+1,t.rounding)};Be.toNumber=function(){return+this};Be.toPower=Be.pow=function(e){var t,r,n,a,i,o,l=this,u=l.constructor,c=12,d=+(e=new u(e));if(!e.s)return new u(Kn);if(l=new u(l),!l.s){if(e.s<1)throw Error(Sa+"Infinity");return l}if(l.eq(Kn))return l;if(n=u.precision,e.eq(Kn))return Bt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=$R){for(a=new u(Kn),t=Math.ceil(n/qt+4),Kt=!1;r%2&&(a=a.times(l),w_(a.d,t)),r=wu(r/2),r!==0;)l=l.times(l),w_(l.d,t);return Kt=!0,e.s<0?new u(Kn).div(a):Bt(a,n)}}else if(i<0)throw Error(Sa+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Kt=!1,a=e.times(af(l,n+c)),Kt=!0,a=KR(a),a.s=i,a};Be.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=mr(a),n=Gs(a,r<=i.toExpNeg||r>=i.toExpPos)):(Za(e,1,xu),t===void 0?t=i.rounding:Za(t,0,8),a=Bt(new i(a),e,t),r=mr(a),n=Gs(a,e<=r||r<=i.toExpNeg,e)),n};Be.toSignificantDigits=Be.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Za(e,1,xu),t===void 0?t=n.rounding:Za(t,0,8)),Bt(new n(r),e,t)};Be.toString=Be.valueOf=Be.val=Be.toJSON=Be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=mr(e),r=e.constructor;return Gs(e,t<=r.toExpNeg||t>=r.toExpPos)};function XR(e,t){var r,n,a,i,o,l,u,c,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Kt?Bt(t,h):t;if(u=e.d,c=t.d,o=e.e,a=t.e,u=u.slice(),i=o-a,i){for(i<0?(n=u,i=-i,l=c.length):(n=c,a=o,l=u.length),o=Math.ceil(h/qt),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=u.length,i=c.length,l-i<0&&(i=l,n=c,c=u,u=n),r=0;i;)r=(u[--i]=u[i]+c[i]+r)/zr|0,u[i]%=zr;for(r&&(u.unshift(r),++a),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=a,Kt?Bt(t,h):t}function Za(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Bs+e)}function $a(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=qt-n.length,r&&(i+=Ao(r)),i+=n;o=e[t],n=o+"",r=qt-n.length,r&&(i+=Ao(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var _i=(function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%zr|0,o=i/zr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,u;if(i!=o)u=i>o?1:-1;else for(l=u=0;l<i;l++)if(n[l]!=a[l]){u=n[l]>a[l]?1:-1;break}return u}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*zr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,u,c,d,h,v,g,m,b,x,w,S,E,O,D,k,T,_,M=n.constructor,R=n.s==a.s?1:-1,P=n.d,L=a.d;if(!n.s)return new M(n);if(!a.s)throw Error(Sa+"Division by zero");for(u=n.e-a.e,T=L.length,D=P.length,g=new M(R),m=g.d=[],c=0;L[c]==(P[c]||0);)++c;if(L[c]>(P[c]||0)&&--u,i==null?S=i=M.precision:o?S=i+(mr(n)-mr(a))+1:S=i,S<0)return new M(0);if(S=S/qt+2|0,c=0,T==1)for(d=0,L=L[0],S++;(c<D||d)&&S--;c++)E=d*zr+(P[c]||0),m[c]=E/L|0,d=E%L|0;else{for(d=zr/(L[0]+1)|0,d>1&&(L=e(L,d),P=e(P,d),T=L.length,D=P.length),O=T,b=P.slice(0,T),x=b.length;x<T;)b[x++]=0;_=L.slice(),_.unshift(0),k=L[0],L[1]>=zr/2&&++k;do d=0,l=t(L,b,T,x),l<0?(w=b[0],T!=x&&(w=w*zr+(b[1]||0)),d=w/k|0,d>1?(d>=zr&&(d=zr-1),h=e(L,d),v=h.length,x=b.length,l=t(h,b,v,x),l==1&&(d--,r(h,T<v?_:L,v))):(d==0&&(l=d=1),h=L.slice()),v=h.length,v<x&&h.unshift(0),r(b,h,x),l==-1&&(x=b.length,l=t(L,b,T,x),l<1&&(d++,r(b,T<x?_:L,x))),x=b.length):l===0&&(d++,b=[0]),m[c++]=d,l&&b[0]?b[x++]=P[O]||0:(b=[P[O]],x=1);while((O++<D||b[0]!==void 0)&&S--)}return m[0]||m.shift(),g.e=u,Bt(g,o?i+mr(g)+1:i)}})();function KR(e,t){var r,n,a,i,o,l,u=0,c=0,d=e.constructor,h=d.precision;if(mr(e)>16)throw Error(Dw+mr(e));if(!e.s)return new d(Kn);for(Kt=!1,l=h,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(As(2,c))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Kn),d.precision=l;;){if(a=Bt(a.times(e),l),r=r.times(++u),o=i.plus(_i(a,r,l)),$a(o.d).slice(0,l)===$a(i.d).slice(0,l)){for(;c--;)i=Bt(i.times(i),l);return d.precision=h,t==null?(Kt=!0,Bt(i,h)):i}i=o}}function mr(e){for(var t=e.e*qt,r=e.d[0];r>=10;r/=10)t++;return t}function k0(e,t,r){if(t>e.LN10.sd())throw Kt=!0,r&&(e.precision=r),Error(Sa+"LN10 precision limit exceeded");return Bt(new e(e.LN10),t)}function Ao(e){for(var t="";e--;)t+="0";return t}function af(e,t){var r,n,a,i,o,l,u,c,d,h=1,v=10,g=e,m=g.d,b=g.constructor,x=b.precision;if(g.s<1)throw Error(Sa+(g.s?"NaN":"-Infinity"));if(g.eq(Kn))return new b(0);if(t==null?(Kt=!1,c=x):c=t,g.eq(10))return t==null&&(Kt=!0),k0(b,c);if(c+=v,b.precision=c,r=$a(m),n=r.charAt(0),i=mr(g),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=$a(g.d),n=r.charAt(0),h++;i=mr(g),n>1?(g=new b("0."+r),i++):g=new b(n+"."+r.slice(1))}else return u=k0(b,c+2,x).times(i+""),g=af(new b(n+"."+r.slice(1)),c-v).plus(u),b.precision=x,t==null?(Kt=!0,Bt(g,x)):g;for(l=o=g=_i(g.minus(Kn),g.plus(Kn),c),d=Bt(g.times(g),c),a=3;;){if(o=Bt(o.times(d),c),u=l.plus(_i(o,new b(a),c)),$a(u.d).slice(0,c)===$a(l.d).slice(0,c))return l=l.times(2),i!==0&&(l=l.plus(k0(b,c+2,x).times(i+""))),l=_i(l,new b(h),c),b.precision=x,t==null?(Kt=!0,Bt(l,x)):l;l=u,a+=2}}function x_(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=wu(r/qt),e.d=[],n=(r+1)%qt,r<0&&(n+=qt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=qt;n<a;)e.d.push(+t.slice(n,n+=qt));t=t.slice(n),n=qt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Kt&&(e.e>Mv||e.e<-Mv))throw Error(Dw+r)}else e.s=0,e.e=0,e.d=[0];return e}function Bt(e,t,r){var n,a,i,o,l,u,c,d,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=qt,a=t,c=h[d=0];else{if(d=Math.ceil((n+1)/qt),i=h.length,d>=i)return e;for(c=i=h[d],o=1;i>=10;i/=10)o++;n%=qt,a=n-qt+o}if(r!==void 0&&(i=As(10,o-a-1),l=c/i%10|0,u=t<0||h[d+1]!==void 0||c%i,u=r<4?(l||u)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?a>0?c/As(10,o-a):0:h[d-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return u?(i=mr(e),h.length=1,t=t-i-1,h[0]=As(10,(qt-t%qt)%qt),e.e=wu(-t/qt)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=d,i=1,d--):(h.length=d+1,i=As(10,qt-n),h[d]=a>0?(c/As(10,o-a)%As(10,a)|0)*i:0),u)for(;;)if(d==0){(h[0]+=i)==zr&&(h[0]=1,++e.e);break}else{if(h[d]+=i,h[d]!=zr)break;h[d--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(Kt&&(e.e>Mv||e.e<-Mv))throw Error(Dw+mr(e));return e}function WR(e,t){var r,n,a,i,o,l,u,c,d,h,v=e.constructor,g=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),Kt?Bt(t,g):t;if(u=e.d,h=t.d,n=t.e,c=e.e,u=u.slice(),o=c-n,o){for(d=o<0,d?(r=u,o=-o,l=h.length):(r=h,n=c,l=u.length),a=Math.max(Math.ceil(g/qt),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=u.length,l=h.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(u[a]!=h[a]){d=u[a]<h[a];break}o=0}for(d&&(r=u,u=h,h=r,t.s=-t.s),l=u.length,a=h.length-l;a>0;--a)u[l++]=0;for(a=h.length;a>o;){if(u[--a]<h[a]){for(i=a;i&&u[--i]===0;)u[i]=zr-1;--u[i],u[a]+=zr}u[a]-=h[a]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,Kt?Bt(t,g):t):new v(0)}function Gs(e,t,r){var n,a=mr(e),i=$a(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ao(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ao(-a-1)+i,r&&(n=r-o)>0&&(i+=Ao(n))):a>=o?(i+=Ao(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Ao(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Ao(n))),e.s<0?"-"+i:i}function w_(e,t){if(e.length>t)return e.length=t,!0}function ZR(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Bs+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return x_(o,i.toString())}else if(typeof i!="string")throw Error(Bs+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,oV.test(i))x_(o,i);else throw Error(Bs+i)}if(a.prototype=Be,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=ZR,a.config=a.set=sV,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function sV(e){if(!e||typeof e!="object")throw Error(Sa+"Object expected");var t,r,n,a=["precision",1,xu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(wu(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Bs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Bs+r+": "+n);return this}var kw=ZR(iV);Kn=new kw(1);const _t=kw;var lV=e=>e,QR={},JR=e=>e===QR,E_=e=>function t(){return arguments.length===0||arguments.length===1&&JR(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},eL=(e,t)=>e===1?t:E_(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==QR).length;return i>=e?t(...n):eL(e-i,E_(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var c=n.map(d=>JR(d)?l.shift():d);return t(...c,...l)}))}),Ap=e=>eL(e.length,e),J1=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},uV=Ap((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),cV=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return lV;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,u)=>u(l),i(...arguments))}},ex=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),tL=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((o,l)=>{var u;return o===((u=t)===null||u===void 0?void 0:u[l])})||(t=a,r=e(...a)),r}};function rL(e){var t;return e===0?t=1:t=Math.floor(new _t(e).abs().log(10).toNumber())+1,t}function nL(e,t,r){for(var n=new _t(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}Ap((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});Ap((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Ap((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var aL=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},iL=(e,t,r)=>{if(e.lte(0))return new _t(0);var n=rL(e.toNumber()),a=new _t(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new _t(Math.ceil(i.div(o).toNumber())).add(r).mul(o),u=l.mul(a);return t?new _t(u.toNumber()):new _t(Math.ceil(u.toNumber()))},fV=(e,t,r)=>{var n=new _t(1),a=new _t(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new _t(10).pow(rL(e)-1),a=new _t(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new _t(Math.floor(e)))}else e===0?a=new _t(Math.floor((t-1)/2)):r||(a=new _t(Math.floor(e)));var o=Math.floor((t-1)/2),l=cV(uV(u=>a.add(new _t(u-o).mul(n)).toNumber()),J1);return l(0,t)},oL=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new _t(0),tickMin:new _t(0),tickMax:new _t(0)};var o=iL(new _t(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new _t(0):(l=new _t(t).add(r).div(2),l=l.sub(new _t(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),c=Math.ceil(new _t(r).sub(l).div(o).toNumber()),d=u+c+1;return d>n?oL(t,r,n,a,i+1):(d<n&&(c=r>0?c+(n-d):c,u=r>0?u:u+(n-d)),{step:o,tickMin:l.sub(new _t(u).mul(o)),tickMax:l.add(new _t(c).mul(o))})};function dV(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,l]=aL([t,r]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...J1(0,n-1).map(()=>1/0)]:[...J1(0,n-1).map(()=>-1/0),l];return t>r?ex(u):u}if(o===l)return fV(o,n,a);var{step:c,tickMin:d,tickMax:h}=oL(o,l,i,a,0),v=nL(d,h.add(new _t(.1).mul(c)),c);return t>r?ex(v):v}function hV(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=aL([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var l=Math.max(t,2),u=iL(new _t(o).sub(i).div(l-1),a,0),c=[...nL(new _t(i),new _t(o),u),o];return a===!1&&(c=c.map(d=>Math.round(d))),r>n?ex(c):c}var vV=tL(dV),pV=tL(hV),gV=e=>e.rootProps.barCategoryGap,Cp=e=>e.rootProps.stackOffset,Pw=e=>e.options.chartName,Nw=e=>e.rootProps.syncId,sL=e=>e.rootProps.syncMethod,Rw=e=>e.options.eventEmitter,Ei={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},$n={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Tp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},mV={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ei.angleAxisId,includeHidden:!1,name:void 0,reversed:Ei.reversed,scale:Ei.scale,tick:Ei.tick,tickCount:void 0,ticks:void 0,type:Ei.type,unit:void 0},yV={allowDataOverflow:$n.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$n.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$n.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$n.scale,tick:$n.tick,tickCount:$n.tickCount,ticks:void 0,type:$n.type,unit:void 0},bV={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ei.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ei.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ei.scale,tick:Ei.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},xV={allowDataOverflow:$n.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$n.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$n.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$n.scale,tick:$n.tick,tickCount:$n.tickCount,ticks:void 0,type:"category",unit:void 0},Lw=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?bV:mV,Bw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?xV:yV,Op=e=>e.polarOptions,Iw=me([zi,ji,Jr],KU),lL=me([Op,Iw],(e,t)=>{if(e!=null)return Ro(e.innerRadius,t,0)}),uL=me([Op,Iw],(e,t)=>{if(e!=null)return Ro(e.outerRadius,t,t*.8)}),wV=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},cL=me([Op],wV);me([Lw,cL],Tp);var fL=me([Iw,lL,uL],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});me([Bw,fL],Tp);var dL=me([Vt,Op,lL,uL,zi,ji],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:u,endAngle:c}=t;return{cx:Ro(o,a,a/2),cy:Ro(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:c,clockWise:!1}}}),Or=(e,t)=>t,_p=(e,t,r)=>r;function hL(e){return e==null?void 0:e.id}var _r=e=>{var t=Vt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Eu=e=>e.tooltip.settings.axisId,Mr=e=>{var t=_r(e),r=Eu(e);return Tf(e,t,r)},vL=me([Mr],e=>e==null?void 0:e.dataKey);function pL(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(l=>{var u,c=(u=l.data)!==null&&u!==void 0?u:n;if(!(c==null||c.length===0)){var d=hL(l);c.forEach((h,v)=>{var g=i==null||a?v:String(gn(h,i,null)),m=gn(h,l.dataKey,0),b;o.has(g)?b=o.get(g):b={},Object.assign(b,{[d]:m}),o.set(g,b)})}}),Array.from(o.values())}function zw(e){return e.stackId!=null&&e.dataKey!=null}var Mp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Dp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(n){EV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EV(e,t,r){return(t=SV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SV(e){var t=AV(e,"string");return typeof t=="symbol"?t:t+""}function AV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tx=[0,"auto"],Vn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},gL=(e,t)=>e.cartesianAxis.xAxis[t],Ui=(e,t)=>{var r=gL(e,t);return r??Vn},Yn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:tx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:wf},mL=(e,t)=>e.cartesianAxis.yAxis[t],Fi=(e,t)=>{var r=mL(e,t);return r??Yn},CV={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},jw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??CV},yn=(e,t,r)=>{switch(t){case"xAxis":return Ui(e,r);case"yAxis":return Fi(e,r);case"zAxis":return jw(e,r);case"angleAxis":return Lw(e,r);case"radiusAxis":return Bw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},TV=(e,t,r)=>{switch(t){case"xAxis":return Ui(e,r);case"yAxis":return Fi(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Tf=(e,t,r)=>{switch(t){case"xAxis":return Ui(e,r);case"yAxis":return Fi(e,r);case"angleAxis":return Lw(e,r);case"radiusAxis":return Bw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},yL=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function bL(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var xL=e=>e.graphicalItems.cartesianItems,OV=me([Or,_p],bL),wL=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Of=me([xL,yn,OV],wL,{memoizeOptions:{resultEqualityCheck:Dp}}),EL=me([Of],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(zw)),SL=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),_V=me([Of],SL),AL=e=>e.map(t=>t.data).filter(Boolean).flat(1),MV=me([Of],AL,{memoizeOptions:{resultEqualityCheck:Dp}}),CL=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Gw=me([MV,Mw],CL),TL=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:gn(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:gn(a,n)}))):e.map(n=>({value:n})),kp=me([Gw,yn,Of],TL);function OL(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function jh(e){if(kn(e)||e instanceof Date){var t=Number(e);if(Ln(t))return t}}function A_(e){if(Array.isArray(e)){var t=[jh(e[0]),jh(e[1])];return js(t)?t:void 0}var r=jh(e);if(r!=null)return[r,r]}function Su(e){return e.map(jh).filter(Hq)}function DV(e,t,r){return!r||typeof t!="number"||Na(t)?[]:r.length?Su(r.flatMap(n=>{var a=gn(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Ln(i)||!Ln(o)))return[t-i,t+o]})):[]}var kV=me([EL,Mw,Mr],pL),_L=(e,t,r)=>{var n={},a=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[o,l]=i,u=l.map(hL);return[o,{stackedData:cF(e,u,r),graphicalItems:l}]}))},PV=me([kV,EL,Cp],_L),ML=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=hF(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},NV=me([yn],e=>e.allowDataOverflow),Uw=e=>{var t;if(e==null||!("domain"in e))return tx;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Su(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:tx},DL=me([yn],Uw),kL=me([DL,NV],YR),RV=me([PV,Vo,Or,kL],ML,{memoizeOptions:{resultEqualityCheck:Mp}}),Fw=e=>e.errorBars,LV=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>OL(r,n)),kv=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},PL=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(l=>{r.forEach(u=>{var c,d,h=(c=n[u.id])===null||c===void 0?void 0:c.filter(w=>OL(a,w)),v=gn(l,(d=t.dataKey)!==null&&d!==void 0?d:u.dataKey),g=DV(l,v,h);if(g.length>=2){var m=Math.min(...g),b=Math.max(...g);(i==null||m<i)&&(i=m),(o==null||b>o)&&(o=b)}var x=A_(v);x!=null&&(i=i==null?x[0]:Math.min(i,x[0]),o=o==null?x[1]:Math.max(o,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var u=A_(gn(l,t.dataKey));u!=null&&(i=i==null?u[0]:Math.min(i,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),Ln(i)&&Ln(o))return[i,o]},BV=me([Gw,yn,_V,Fw,Or],PL,{memoizeOptions:{resultEqualityCheck:Mp}});function IV(e){var{value:t}=e;if(kn(t)||t instanceof Date)return t}var zV=(e,t,r)=>{var n=e.map(IV).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&JP(n))?fR(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},NL=e=>e.referenceElements.dots,Au=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),jV=me([NL,Or,_p],Au),RL=e=>e.referenceElements.areas,GV=me([RL,Or,_p],Au),LL=e=>e.referenceElements.lines,UV=me([LL,Or,_p],Au),BL=(e,t)=>{var r=Su(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},FV=me(jV,Or,BL),IL=(e,t)=>{var r=Su(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},qV=me([GV,Or],IL),zL=(e,t)=>{var r=Su(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},HV=me(UV,Or,zL),VV=me(FV,HV,qV,(e,t,r)=>kv(e,r,t)),jL=(e,t,r,n,a,i,o,l)=>{if(r!=null)return r;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",c=u?kv(n,i,a):kv(i,a);return aV(t,c,e.allowDataOverflow)},YV=me([yn,DL,kL,RV,BV,VV,Vt,Or],jL,{memoizeOptions:{resultEqualityCheck:Mp}}),$V=[0,1],GL=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:u}=e,c=Fo(t,i);return c&&l==null?fR(0,r.length):u==="category"?zV(n,e,c):a==="expand"?$V:o}},qw=me([yn,Vt,Gw,kp,Cp,Or,YV],GL),UL=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(yf(i));return l in Fc?l:"point"}}},_f=me([yn,Vt,yL,Pw,Or],UL);function XV(e){if(e!=null){if(e in Fc)return Fc[e]();var t="scale".concat(yf(e));if(t in Fc)return Fc[t]()}}function Hw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=XV(t);if(a!=null){var i=a.domain(r).range(n);return oF(i),i}}}var FL=(e,t,r)=>{var n=Uw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&js(e))return vV(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&js(e))return pV(e,t.tickCount,t.allowDecimals)}},Vw=me([qw,Tf,_f],FL),qL=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&js(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},KV=me([yn,qw,Vw,Or],qL),WV=me(kp,yn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Su(e.map(l=>l.value))).sort((l,u)=>l-u);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/a}}),HL=me(WV,Vt,gV,Jr,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Ln(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Ro(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),ZV=(e,t)=>{var r=Ui(e,t);return r==null||typeof r.padding!="string"?0:HL(e,"xAxis",t,r.padding)},QV=(e,t)=>{var r=Fi(e,t);return r==null||typeof r.padding!="string"?0:HL(e,"yAxis",t,r.padding)},JV=me(Ui,ZV,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),eY=me(Fi,QV,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),tY=me([Jr,JV,vp,hp,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),rY=me([Jr,Vt,eY,vp,hp,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Mf=(e,t,r,n)=>{var a;switch(t){case"xAxis":return tY(e,r,n);case"yAxis":return rY(e,r,n);case"zAxis":return(a=jw(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return cL(e);case"radiusAxis":return fL(e,r);default:return}},VL=me([yn,Mf],Tp),Lo=me([yn,_f,KV,VL],Hw);me([Of,Fw,Or],LV);function YL(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Pp=(e,t)=>t,Np=(e,t,r)=>r,nY=me(fp,Pp,Np,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(YL)),aY=me(dp,Pp,Np,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(YL)),$L=(e,t)=>({width:e.width,height:t.height}),iY=(e,t)=>{var r=typeof t.width=="number"?t.width:wf;return{width:r,height:e.height}},oY=me(Jr,Ui,$L),sY=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},lY=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},uY=me(ji,Jr,nY,Pp,Np,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var u=$L(t,l);o==null&&(o=sY(t,n,e));var c=n==="top"&&!a||n==="bottom"&&a;i[l.id]=o-Number(c)*u.height,o+=(c?-1:1)*u.height}),i}),cY=me(zi,Jr,aY,Pp,Np,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var u=iY(t,l);o==null&&(o=lY(t,n,e));var c=n==="left"&&!a||n==="right"&&a;i[l.id]=o-Number(c)*u.width,o+=(c?-1:1)*u.width}),i}),fY=(e,t)=>{var r=Ui(e,t);if(r!=null)return uY(e,r.orientation,r.mirror)},dY=me([Jr,Ui,fY,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),hY=(e,t)=>{var r=Fi(e,t);if(r!=null)return cY(e,r.orientation,r.mirror)},vY=me([Jr,Fi,hY,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),pY=me(Jr,Fi,(e,t)=>{var r=typeof t.width=="number"?t.width:wf;return{width:r,height:e.height}}),XL=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,l=Fo(e,n),u=t.map(c=>c.value);if(o&&l&&i==="category"&&a&&JP(u))return u}},Yw=me([Vt,kp,yn,Or],XL),KL=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=Fo(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},$w=me([Vt,kp,Tf,Or],KL),C_=me([Vt,TV,_f,Lo,Yw,$w,Mf,Vw,Or],(e,t,r,n,a,i,o,l,u)=>{if(t==null)return null;var c=Fo(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:l,range:o,realScaleType:r,scale:n}}),gY=(e,t,r,n,a,i,o,l,u)=>{if(!(t==null||n==null)){var c=Fo(e,u),{type:d,ticks:h,tickCount:v}=t,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=d==="category"&&n.bandwidth?n.bandwidth()/g:0;m=u==="angleAxis"&&i!=null&&i.length>=2?ba(i[0]-i[1])*2*m:m;var b=h||a;if(b){var x=b.map((w,S)=>{var E=o?o.indexOf(w):w;return{index:S,coordinate:n(E)+m,value:w,offset:m}});return x.filter(w=>!Na(w.coordinate))}return c&&l?l.map((w,S)=>({coordinate:n(w)+m,value:w,index:S,offset:m})):n.ticks?n.ticks(v).map(w=>({coordinate:n(w)+m,value:w,offset:m})):n.domain().map((w,S)=>({coordinate:n(w)+m,value:o?o[w]:w,index:S,offset:m}))}},WL=me([Vt,Tf,_f,Lo,Vw,Mf,Yw,$w,Or],gY),mY=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Fo(e,o),{tickCount:u}=t,c=0;return c=o==="angleAxis"&&(n==null?void 0:n.length)>=2?ba(n[0]-n[1])*2*c:c,l&&i?i.map((d,h)=>({coordinate:r(d)+c,value:d,index:h,offset:c})):r.ticks?r.ticks(u).map(d=>({coordinate:r(d)+c,value:d,offset:c})):r.domain().map((d,h)=>({coordinate:r(d)+c,value:a?a[d]:d,index:h,offset:c}))}},ZL=me([Vt,Tf,Lo,Mf,Yw,$w,Or],mY),QL=me(yn,Lo,(e,t)=>{if(!(e==null||t==null))return Dv(Dv({},e),{},{scale:t})}),yY=me([yn,_f,qw,VL],Hw);me((e,t,r)=>jw(e,r),yY,(e,t)=>{if(!(e==null||t==null))return Dv(Dv({},e),{},{scale:t})});var bY=me([Vt,fp,dp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),JL=e=>e.options.defaultTooltipEventType,eB=e=>e.options.validateTooltipEventTypes;function tB(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Xw(e,t){var r=JL(e),n=eB(e);return tB(t,r,n)}function xY(e){return Ye(t=>Xw(t,e))}var rB=(e,t)=>{var r,n=Number(t);if(!(Na(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},wY=e=>e.tooltip.settings,Oo={active:!1,index:null,dataKey:void 0,coordinate:void 0},EY={itemInteraction:{click:Oo,hover:Oo},axisInteraction:{click:Oo,hover:Oo},keyboardInteraction:Oo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},nB=Jn({name:"tooltip",initialState:EY,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:vn()},removeTooltipEntrySettings:{reducer(e,t){var r=Oi(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:vn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:SY,removeTooltipEntrySettings:AY,setTooltipSettingsState:CY,setActiveMouseOverItemIndex:TY,mouseLeaveItem:pae,mouseLeaveChart:aB,setActiveClickItemIndex:gae,setMouseOverAxisIndex:iB,setMouseClickAxisIndex:OY,setSyncInteraction:rx,setKeyboardInteraction:nx}=nB.actions,_Y=nB.reducer;function T_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T_(Object(r),!0).forEach(function(n){MY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MY(e,t,r){return(t=DY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DY(e){var t=kY(e,"string");return typeof t=="symbol"?t:t+""}function kY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PY(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function NY(e){return e.index!=null}var oB=(e,t,r,n)=>{if(t==null)return Oo;var a=PY(e,t,r);if(a==null)return Oo;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(NY(a)){if(i)return xh(xh({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return xh(xh({},Oo),{},{coordinate:a.coordinate})},Kw=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Ln(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},sB=(e,t,r,n,a,i,o,l)=>{if(!(i==null||l==null)){var u=o[0],c=u==null?void 0:l(u.positions,i);if(c!=null)return c;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},lB=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},Df=e=>e.options.tooltipPayloadSearcher,Cu=e=>e.tooltip;function O_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function __(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(r),!0).forEach(function(n){RY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RY(e,t,r){return(t=LY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LY(e){var t=BY(e,"string");return typeof t=="symbol"?t:t+""}function BY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IY(e,t){return e??t}var uB=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:u,dataStartIndex:c,dataEndIndex:d}=r,h=[];return e.reduce((v,g)=>{var m,{dataDefinedOnItem:b,settings:x}=g,w=IY(b,l),S=Array.isArray(w)?HN(w,c,d):w,E=(m=x==null?void 0:x.dataKey)!==null&&m!==void 0?m:n,O=x==null?void 0:x.nameKey,D;if(n&&Array.isArray(S)&&!Array.isArray(S[0])&&o==="axis"?D=eN(S,n,a):D=i(S,t,u,O),Array.isArray(D))D.forEach(T=>{var _=__(__({},x),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});v.push(aO({tooltipEntrySettings:_,dataKey:T.dataKey,payload:T.payload,value:gn(T.payload,T.dataKey),name:T.name}))});else{var k;v.push(aO({tooltipEntrySettings:x,dataKey:E,payload:D,value:gn(D,E),name:(k=gn(D,O))!==null&&k!==void 0?k:x==null?void 0:x.name}))}return v},h)}},Ww=me([Mr,Vt,yL,Pw,_r],UL),zY=me([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),jY=me([_r,Eu],bL),kf=me([zY,Mr,jY],wL,{memoizeOptions:{resultEqualityCheck:Dp}}),GY=me([kf],e=>e.filter(zw)),UY=me([kf],AL,{memoizeOptions:{resultEqualityCheck:Dp}}),Tu=me([UY,Vo],CL),FY=me([GY,Vo,Mr],pL),Zw=me([Tu,Mr,kf],TL),cB=me([Mr],Uw),qY=me([Mr],e=>e.allowDataOverflow),fB=me([cB,qY],YR),HY=me([kf],e=>e.filter(zw)),VY=me([FY,HY,Cp],_L),YY=me([VY,Vo,_r,fB],ML),$Y=me([kf],SL),XY=me([Tu,Mr,$Y,Fw,_r],PL,{memoizeOptions:{resultEqualityCheck:Mp}}),KY=me([NL,_r,Eu],Au),WY=me([KY,_r],BL),ZY=me([RL,_r,Eu],Au),QY=me([ZY,_r],IL),JY=me([LL,_r,Eu],Au),e$=me([JY,_r],zL),t$=me([WY,e$,QY],kv),r$=me([Mr,cB,fB,YY,XY,t$,Vt,_r],jL),dB=me([Mr,Vt,Tu,Zw,Cp,_r,r$],GL),n$=me([dB,Mr,Ww],FL),a$=me([Mr,dB,n$,_r],qL),hB=e=>{var t=_r(e),r=Eu(e),n=!1;return Mf(e,t,r,n)},vB=me([Mr,hB],Tp),pB=me([Mr,Ww,a$,vB],Hw),i$=me([Vt,Zw,Mr,_r],XL),o$=me([Vt,Zw,Mr,_r],KL),s$=(e,t,r,n,a,i,o,l)=>{if(t){var{type:u}=t,c=Fo(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,h=u==="category"&&n.bandwidth?n.bandwidth()/d:0;return h=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?ba(a[0]-a[1])*2*h:h,c&&o?o.map((v,g)=>({coordinate:n(v)+h,value:v,index:g,offset:h})):n.domain().map((v,g)=>({coordinate:n(v)+h,value:i?i[v]:v,index:g,offset:h}))}}},qi=me([Vt,Mr,Ww,pB,hB,i$,o$,_r],s$),Qw=me([JL,eB,wY],(e,t,r)=>tB(r.shared,e,t)),gB=e=>e.tooltip.settings.trigger,Jw=e=>e.tooltip.settings.defaultIndex,Rp=me([Cu,Qw,gB,Jw],oB),of=me([Rp,Tu],Kw),mB=me([qi,of],rB),l$=me([Rp],e=>{if(e)return e.dataKey}),yB=me([Cu,Qw,gB,Jw],lB),u$=me([zi,ji,Vt,Jr,qi,Jw,yB,Df],sB),c$=me([Rp,u$],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),f$=me([Rp],e=>e.active),d$=me([yB,of,Vo,vL,mB,Df,Qw],uB),h$=me([d$],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function M_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M_(Object(r),!0).forEach(function(n){v$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v$(e,t,r){return(t=p$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p$(e){var t=g$(e,"string");return typeof t=="symbol"?t:t+""}function g$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m$=()=>Ye(Mr),y$=()=>{var e=m$(),t=Ye(qi),r=Ye(pB);return I1(D_(D_({},e),{},{scale:r}),t)},b$=()=>Ye(Pw),eE=(e,t)=>t,bB=(e,t,r)=>r,tE=(e,t,r,n)=>n,x$=me(qi,e=>ip(e,t=>t.coordinate)),rE=me([Cu,eE,bB,tE],oB),xB=me([rE,Tu],Kw),w$=(e,t,r)=>{if(t!=null){var n=Cu(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},wB=me([Cu,eE,bB,tE],lB),Pv=me([zi,ji,Vt,Jr,qi,tE,wB,Df],sB),E$=me([rE,Pv],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),EB=me(qi,xB,rB),S$=me([wB,xB,Vo,vL,EB,Df,eE],uB),A$=me([rE],e=>({isActive:e.active,activeIndex:e.index})),C$=(e,t,r,n,a,i,o,l)=>{if(!(!e||!t||!n||!a||!i)){var u=vF(e.chartX,e.chartY,t,r,l);if(u){var c=gF(u,t),d=aF(c,o,i,n,a),h=pF(t,i,d,u);return{activeIndex:String(d),activeCoordinate:h}}}};function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ax.apply(null,arguments)}function k_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(r),!0).forEach(function(n){T$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T$(e,t,r){return(t=O$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O$(e){var t=_$(e,"string");return typeof t=="symbol"?t:t+""}function _$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M$(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:u,chartName:c}=e,d=t,h=r,v=n;if(!l||!d||c!=="ScatterChart"&&u!=="axis")return null;var g,m;if(c==="ScatterChart")g=d,m=Iq;else if(c==="BarChart")g=zq(o,d,a,i),m=lR;else if(o==="radial"){var{cx:b,cy:x,radius:w,startAngle:S,endAngle:E}=uR(d);g={cx:b,cy:x,startAngle:S,endAngle:E,innerRadius:w,outerRadius:w},m=E6}else g={points:S6(o,d,a)},m=rR;var O=typeof l=="object"&&"className"in l?l.className:void 0,D=wh(wh(wh(wh({stroke:"#ccc",pointerEvents:"none"},a),g),ep(l)),{},{payload:h,payloadIndex:v,className:Rt("recharts-tooltip-cursor",O)});return F.isValidElement(l)?F.cloneElement(l,D):F.createElement(m,D)}function D$(e){var t=y$(),r=JN(),n=aw(),a=b$();return F.createElement(M$,ax({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var SB=F.createContext(null),k$=()=>F.useContext(SB),P0={exports:{}},P_;function P$(){return P_||(P_=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function i(u,c,d,h,v){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new a(d,h||u,v),m=r?r+c:c;return u._events[m]?u._events[m].fn?u._events[m]=[u._events[m],g]:u._events[m].push(g):(u._events[m]=g,u._eventsCount++),u}function o(u,c){--u._eventsCount===0?u._events=new n:delete u._events[c]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],d,h;if(this._eventsCount===0)return c;for(h in d=this._events)t.call(d,h)&&c.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},l.prototype.listeners=function(c){var d=r?r+c:c,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var v=0,g=h.length,m=new Array(g);v<g;v++)m[v]=h[v].fn;return m},l.prototype.listenerCount=function(c){var d=r?r+c:c,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(c,d,h,v,g,m){var b=r?r+c:c;if(!this._events[b])return!1;var x=this._events[b],w=arguments.length,S,E;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,h),!0;case 4:return x.fn.call(x.context,d,h,v),!0;case 5:return x.fn.call(x.context,d,h,v,g),!0;case 6:return x.fn.call(x.context,d,h,v,g,m),!0}for(E=1,S=new Array(w-1);E<w;E++)S[E-1]=arguments[E];x.fn.apply(x.context,S)}else{var O=x.length,D;for(E=0;E<O;E++)switch(x[E].once&&this.removeListener(c,x[E].fn,void 0,!0),w){case 1:x[E].fn.call(x[E].context);break;case 2:x[E].fn.call(x[E].context,d);break;case 3:x[E].fn.call(x[E].context,d,h);break;case 4:x[E].fn.call(x[E].context,d,h,v);break;default:if(!S)for(D=1,S=new Array(w-1);D<w;D++)S[D-1]=arguments[D];x[E].fn.apply(x[E].context,S)}}return!0},l.prototype.on=function(c,d,h){return i(this,c,d,h,!1)},l.prototype.once=function(c,d,h){return i(this,c,d,h,!0)},l.prototype.removeListener=function(c,d,h,v){var g=r?r+c:c;if(!this._events[g])return this;if(!d)return o(this,g),this;var m=this._events[g];if(m.fn)m.fn===d&&(!v||m.once)&&(!h||m.context===h)&&o(this,g);else{for(var b=0,x=[],w=m.length;b<w;b++)(m[b].fn!==d||v&&!m[b].once||h&&m[b].context!==h)&&x.push(m[b]);x.length?this._events[g]=x.length===1?x[0]:x:o(this,g)}return this},l.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(P0)),P0.exports}var N$=P$();const R$=La(N$);var sf=new R$,ix="recharts.syncEvent.tooltip",N_="recharts.syncEvent.brush";function L$(e,t){if(t){var r=Number.parseInt(t,10);if(!Na(r))return e==null?void 0:e[r]}}var B$={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},AB=Jn({name:"options",initialState:B$,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),I$=AB.reducer,{createEventEmitter:z$}=AB.actions;function j$(e){return e.tooltip.syncInteraction}var G$={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},CB=Jn({name:"chartData",initialState:G$,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:R_,setDataStartEndIndexes:U$,setComputedData:mae}=CB.actions,F$=CB.reducer,q$=["x","y"];function L_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(r),!0).forEach(function(n){H$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H$(e,t,r){return(t=V$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V$(e){var t=Y$(e,"string");return typeof t=="symbol"?t:t+""}function Y$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $$(e,t){if(e==null)return{};var r,n,a=X$(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function X$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TB=()=>{};function K$(){var e=Ye(Nw),t=Ye(Rw),r=Cr(),n=Ye(sL),a=Ye(qi),i=aw(),o=pp(),l=Ye(u=>u.rootProps.className);F.useEffect(()=>{if(e==null)return TB;var u=(c,d,h)=>{if(t!==h&&e===c){if(n==="index"){var v;if(o&&d!==null&&d!==void 0&&(v=d.payload)!==null&&v!==void 0&&v.coordinate&&d.payload.sourceViewBox){var g=d.payload.coordinate,{x:m,y:b}=g,x=$$(g,q$),{x:w,y:S,width:E,height:O}=d.payload.sourceViewBox,D=Bl(Bl({},x),{},{x:o.x+(E?(m-w)/E:0)*o.width,y:o.y+(O?(b-S)/O:0)*o.height});r(Bl(Bl({},d),{},{payload:Bl(Bl({},d.payload),{},{coordinate:D})}))}else r(d);return}if(a!=null){var k;if(typeof n=="function"){var T={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},_=n(a,T);k=a[_]}else n==="value"&&(k=a.find(I=>String(I.value)===d.payload.label));var{coordinate:M}=d.payload;if(k==null||d.payload.active===!1||M==null||o==null){r(rx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:R,y:P}=M,L=Math.min(R,o.x+o.width),N=Math.min(P,o.y+o.height),B={x:i==="horizontal"?k.coordinate:L,y:i==="horizontal"?N:k.coordinate},G=rx({active:d.payload.active,coordinate:B,dataKey:d.payload.dataKey,index:String(k.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});r(G)}}};return sf.on(ix,u),()=>{sf.off(ix,u)}},[l,r,t,e,n,a,i,o])}function W$(){var e=Ye(Nw),t=Ye(Rw),r=Cr();F.useEffect(()=>{if(e==null)return TB;var n=(a,i,o)=>{t!==o&&e===a&&r(U$(i))};return sf.on(N_,n),()=>{sf.off(N_,n)}},[r,t,e])}function Z$(){var e=Cr();F.useEffect(()=>{e(z$())},[e]),K$(),W$()}function Q$(e,t,r,n,a,i){var o=Ye(g=>w$(g,e,t)),l=Ye(Rw),u=Ye(Nw),c=Ye(sL),d=Ye(j$),h=d==null?void 0:d.active,v=pp();F.useEffect(()=>{if(!h&&u!=null&&l!=null){var g=rx({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:v});sf.emit(ix,u,g,l)}},[h,r,o,a,n,l,u,c,i,v])}function B_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B_(Object(r),!0).forEach(function(n){J$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J$(e,t,r){return(t=e9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e9(e){var t=t9(e,"string");return typeof t=="symbol"?t:t+""}function t9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r9(e){return e.dataKey}function n9(e,t){return F.isValidElement(e)?F.cloneElement(e,t):typeof e=="function"?F.createElement(e,t):F.createElement(pq,t)}var z_=[],a9={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!yu.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function i9(e){var t=Aa(e,a9),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:o,filterNull:l,isAnimationActive:u,offset:c,payloadUniqBy:d,position:h,reverseDirection:v,useTranslate3d:g,wrapperStyle:m,cursor:b,shared:x,trigger:w,defaultIndex:S,portal:E,axisId:O}=t,D=Cr(),k=typeof S=="number"?String(S):S;F.useEffect(()=>{D(CY({shared:x,trigger:w,axisId:O,active:r,defaultIndex:k}))},[D,x,w,O,r,k]);var T=pp(),_=tR(),M=xY(x),{activeIndex:R,isActive:P}=Ye(te=>A$(te,M,w,k)),L=Ye(te=>S$(te,M,w,k)),N=Ye(te=>EB(te,M,w,k)),B=Ye(te=>E$(te,M,w,k)),G=L,I=k$(),z=r??P,[q,H]=mN([G,z]),X=M==="axis"?N:void 0;Q$(M,w,B,X,R,z);var U=E??I;if(U==null)return null;var V=G??z_;z||(V=z_),l&&V.length&&(V=dN(G.filter(te=>te.value!=null&&(te.hide!==!0||t.includeHidden)),d,r9));var Q=V.length>0,ee=F.createElement(Eq,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:u,active:z,coordinate:B,hasPayload:Q,offset:c,position:h,reverseDirection:v,useTranslate3d:g,viewBox:T,wrapperStyle:m,lastBoundingBox:q,innerRef:H,hasPortalFromProps:!!E},n9(o,I_(I_({},t),{},{payload:V,label:X,active:z,coordinate:B,accessibilityLayer:_})));return F.createElement(F.Fragment,null,RP.createPortal(ee,U),z&&F.createElement(D$,{cursor:b,tooltipEventType:M,coordinate:B,payload:G,index:R}))}function o9(e,t,r){return(t=s9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s9(e){var t=l9(e,"string");return typeof t=="symbol"?t:t+""}function l9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class u9{constructor(t){o9(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function j_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j_(Object(r),!0).forEach(function(n){f9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f9(e,t,r){return(t=d9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d9(e){var t=h9(e,"string");return typeof t=="symbol"?t:t+""}function h9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v9={cacheSize:2e3,enableCache:!0},OB=c9({},v9),G_=new u9(OB.cacheSize),p9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},U_="recharts_measurement_span";function g9(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var F_=(e,t)=>{try{var r=document.getElementById(U_);r||(r=document.createElement("span"),r.setAttribute("id",U_),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,p9,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Yc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||yu.isSsr)return{width:0,height:0};if(!OB.enableCache)return F_(t,r);var n=g9(t,r),a=G_.get(n);if(a)return a;var i=F_(t,r);return G_.set(n,i),i},q_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,H_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,m9=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,y9=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_B={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},b9=Object.keys(_B),Wl="NaN";function x9(e,t){return e*_B[t]}class _n{static parse(t){var r,[,n,a]=(r=y9.exec(t))!==null&&r!==void 0?r:[];return new _n(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Na(t)&&(this.unit=""),r!==""&&!m9.test(r)&&(this.num=NaN,this.unit=""),b9.includes(r)&&(this.num=x9(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new _n(NaN,""):new _n(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new _n(NaN,""):new _n(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new _n(NaN,""):new _n(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new _n(NaN,""):new _n(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Na(this.num)}}function MB(e){if(e.includes(Wl))return Wl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=q_.exec(t))!==null&&r!==void 0?r:[],o=_n.parse(n??""),l=_n.parse(i??""),u=a==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return Wl;t=t.replace(q_,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,h,v]=(c=H_.exec(t))!==null&&c!==void 0?c:[],g=_n.parse(d??""),m=_n.parse(v??""),b=h==="+"?g.add(m):g.subtract(m);if(b.isNaN())return Wl;t=t.replace(H_,b.toString())}return t}var V_=/\(([^()]*)\)/;function w9(e){for(var t=e,r;(r=V_.exec(t))!=null;){var[,n]=r;t=t.replace(V_,MB(n))}return t}function E9(e){var t=e.replace(/\s+/g,"");return t=w9(t),t=MB(t),t}function S9(e){try{return E9(e)}catch{return Wl}}function N0(e){var t=S9(e.slice(5,-1));return t===Wl?"":t}var A9=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],C9=["dx","dy","angle","className","breakAll"];function ox(){return ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ox.apply(null,arguments)}function Y_(e,t){if(e==null)return{};var r,n,a=T9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function T9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DB=/[ \f\n\r\t\v\u2028\u2029]+/,kB=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];jr(t)||(r?a=t.toString().split(""):a=t.toString().split(DB));var i=a.map(l=>({word:l,width:Yc(l,n).width})),o=r?0:Yc("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},O9=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:l,breakAll:u}=e,c=Ze(i),d=o,h=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce((L,N)=>{var{word:B,width:G}=N,I=L[L.length-1];if(I&&(n==null||a||I.width+G+r<Number(n)))I.words.push(B),I.width+=G+r;else{var z={words:[B],width:G};L.push(z)}return L},[])},v=h(t),g=R=>R.reduce((P,L)=>P.width>L.width?P:L);if(!c||a)return v;var m=v.length>i||g(v).width>Number(n);if(!m)return v;for(var b="",x=R=>{var P=d.slice(0,R),L=kB({breakAll:u,style:l,children:P+b}).wordsWithComputedWidth,N=h(L),B=N.length>i||g(N).width>Number(n);return[B,N]},w=0,S=d.length-1,E=0,O;w<=S&&E<=d.length-1;){var D=Math.floor((w+S)/2),k=D-1,[T,_]=x(k),[M]=x(D);if(!T&&!M&&(w=D+1),T&&M&&(S=D-1),!T&&M){O=_;break}E++}return O||v},$_=e=>{var t=jr(e)?[]:e.toString().split(DB);return[{words:t}]},_9=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!yu.isSsr){var l,u,c=kB({breakAll:i,children:n,style:a});if(c){var{wordsWithComputedWidth:d,spaceWidth:h}=c;l=d,u=h}else return $_(n);return O9({breakAll:i,children:n,maxLines:o,style:a},l,u,t,r)}return $_(n)},X_="#808080",nE=F.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:u="end",fill:c=X_}=e,d=Y_(e,A9),h=F.useMemo(()=>_9({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:v,dy:g,angle:m,className:b,breakAll:x}=d,w=Y_(d,C9);if(!kn(r)||!kn(n)||h.length===0)return null;var S=r+(Ze(v)?v:0),E=n+(Ze(g)?g:0),O;switch(u){case"start":O=N0("calc(".concat(i,")"));break;case"middle":O=N0("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:O=N0("calc(".concat(h.length-1," * -").concat(a,")"));break}var D=[];if(o){var k=h[0].width,{width:T}=d;D.push("scale(".concat(Ze(T)?T/k:1,")"))}return m&&D.push("rotate(".concat(m,", ").concat(S,", ").concat(E,")")),D.length&&(w.transform=D.join(" ")),F.createElement("text",ox({},Rn(w),{ref:t,x:S,y:E,className:Rt("recharts-text",b),textAnchor:l,fill:c.includes("url")?X_:c}),h.map((_,M)=>{var R=_.words.join(x?"":" ");return F.createElement("tspan",{x:S,dy:M===0?O:a,key:"".concat(R,"-").concat(M)},R)}))});nE.displayName="Text";var M9=["labelRef"];function D9(e,t){if(e==null)return{};var r,n,a=k9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function k9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function K_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(r),!0).forEach(function(n){P9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P9(e,t,r){return(t=N9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N9(e){var t=R9(e,"string");return typeof t=="symbol"?t:t+""}function R9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Si.apply(null,arguments)}var PB=F.createContext(null),NB=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,o=F.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return F.createElement(PB.Provider,{value:o},i)},RB=()=>{var e=F.useContext(PB),t=pp();return e||t},L9=F.createContext(null),B9=()=>{var e=F.useContext(L9),t=Ye(dL);return e||t},I9=e=>{var{value:t,formatter:r}=e,n=jr(e.children)?t:e.children;return typeof r=="function"?r(n):n},aE=e=>e!=null&&typeof e=="function",z9=(e,t)=>{var r=ba(t-e),n=Math.min(Math.abs(t-e),360);return r*n},j9=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:l,cy:u,innerRadius:c,outerRadius:d,startAngle:h,endAngle:v,clockWise:g}=a,m=(c+d)/2,b=z9(h,v),x=b>=0?1:-1,w,S;switch(t){case"insideStart":w=h+x*i,S=g;break;case"insideEnd":w=v-x*i,S=!g;break;case"end":w=v+x*i,S=g;break;default:throw new Error("Unsupported position ".concat(t))}S=b<=0?S:!S;var E=Wr(l,u,m,w),O=Wr(l,u,m,w+(S?1:-1)*359),D="M".concat(E.x,",").concat(E.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(S?0:1,`,
    `).concat(O.x,",").concat(O.y),k=jr(e.id)?Wc("recharts-radial-line-"):e.id;return F.createElement("text",Si({},n,{dominantBaseline:"central",className:Rt("recharts-radial-bar-label",o)}),F.createElement("defs",null,F.createElement("path",{id:k,d:D})),F.createElement("textPath",{xlinkHref:"#".concat(k)},r))},G9=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:u}=e,c=(l+u)/2;if(r==="outside"){var{x:d,y:h}=Wr(n,a,o+t,c);return{x:d,y:h,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(i+o)/2,{x:g,y:m}=Wr(n,a,v,c);return{x:g,y:m,textAnchor:"middle",verticalAnchor:"middle"}},LB=e=>"cx"in e&&Ze(e.cx),U9=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!LB(r)&&(i=r);var{x:o,y:l,width:u,height:c}=t,d=c>=0?1:-1,h=d*n,v=d>0?"end":"start",g=d>0?"start":"end",m=u>=0?1:-1,b=m*n,x=m>0?"end":"start",w=m>0?"start":"end";if(a==="top"){var S={x:o+u/2,y:l-d*n,textAnchor:"middle",verticalAnchor:v};return ur(ur({},S),i?{height:Math.max(l-i.y,0),width:u}:{})}if(a==="bottom"){var E={x:o+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:g};return ur(ur({},E),i?{height:Math.max(i.y+i.height-(l+c),0),width:u}:{})}if(a==="left"){var O={x:o-b,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return ur(ur({},O),i?{width:Math.max(O.x-i.x,0),height:c}:{})}if(a==="right"){var D={x:o+u+b,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return ur(ur({},D),i?{width:Math.max(i.x+i.width-D.x,0),height:c}:{})}var k=i?{width:u,height:c}:{};return a==="insideLeft"?ur({x:o+b,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},k):a==="insideRight"?ur({x:o+u-b,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},k):a==="insideTop"?ur({x:o+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},k):a==="insideBottom"?ur({x:o+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:v},k):a==="insideTopLeft"?ur({x:o+b,y:l+h,textAnchor:w,verticalAnchor:g},k):a==="insideTopRight"?ur({x:o+u-b,y:l+h,textAnchor:x,verticalAnchor:g},k):a==="insideBottomLeft"?ur({x:o+b,y:l+c-h,textAnchor:w,verticalAnchor:v},k):a==="insideBottomRight"?ur({x:o+u-b,y:l+c-h,textAnchor:x,verticalAnchor:v},k):a&&typeof a=="object"&&(Ze(a.x)||Di(a.x))&&(Ze(a.y)||Di(a.y))?ur({x:o+Ro(a.x,u),y:l+Ro(a.y,c),textAnchor:"end",verticalAnchor:"end"},k):ur({x:o+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},k)},F9={offset:5};function Co(e){var t=Aa(e,F9),{viewBox:r,position:n,value:a,children:i,content:o,className:l="",textBreakAll:u,labelRef:c}=t,d=B9(),h=RB(),v=n==="center"?h:d??h,g=r||v;if(!g||jr(a)&&jr(i)&&!F.isValidElement(o)&&typeof o!="function")return null;var m=ur(ur({},t),{},{viewBox:g});if(F.isValidElement(o)){var{labelRef:b}=m,x=D9(m,M9);return F.cloneElement(o,x)}var w;if(typeof o=="function"){if(w=F.createElement(o,m),F.isValidElement(w))return w}else w=I9(t);var S=LB(g),E=Rn(t);if(S&&(n==="insideStart"||n==="insideEnd"||n==="end"))return j9(t,n,w,E,g);var O=S?G9(g,t.offset,t.position):U9(t,g);return F.createElement(nE,Si({ref:c,className:Rt("recharts-label",l)},E,O,{breakAll:u}),w)}Co.displayName="Label";var q9=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?F.createElement(Co,Si({key:"label-implicit"},n)):kn(e)?F.createElement(Co,Si({key:"label-implicit",value:e},n)):F.isValidElement(e)?e.type===Co?F.cloneElement(e,ur({key:"label-implicit"},n)):F.createElement(Co,Si({key:"label-implicit",content:e},n)):aE(e)?F.createElement(Co,Si({key:"label-implicit",content:e},n)):e&&typeof e=="object"?F.createElement(Co,Si({},e,{key:"label-implicit"},n)):null};function BB(e){var{label:t,labelRef:r}=e,n=RB();return q9(t,n,r)||null}var R0={},L0={},W_;function H9(){return W_||(W_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(L0)),L0}var B0={},Z_;function V9(){return Z_||(Z_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(B0)),B0}var Q_;function Y9(){return Q_||(Q_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H9(),r=V9(),n=$x();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(R0)),R0}var I0,J_;function $9(){return J_||(J_=1,I0=Y9().last),I0}var X9=$9();const K9=La(X9);var W9=["valueAccessor"],Z9=["dataKey","clockWise","id","textBreakAll"];function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nv.apply(null,arguments)}function eM(e,t){if(e==null)return{};var r,n,a=Q9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Q9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var J9=e=>Array.isArray(e.value)?K9(e.value):e.value,IB=F.createContext(void 0),eX=IB.Provider,zB=F.createContext(void 0);zB.Provider;function tX(){return F.useContext(IB)}function rX(){return F.useContext(zB)}function Gh(e){var{valueAccessor:t=J9}=e,r=eM(e,W9),{dataKey:n,clockWise:a,id:i,textBreakAll:o}=r,l=eM(r,Z9),u=tX(),c=rX(),d=u||c;return!d||!d.length?null:F.createElement(Ks,{className:"recharts-label-list"},d.map((h,v)=>{var g,m=jr(n)?t(h,v):gn(h&&h.payload,n),b=jr(i)?{}:{id:"".concat(i,"-").concat(v)};return F.createElement(Co,Nv({key:"label-".concat(v)},Rn(h),l,b,{fill:(g=r.fill)!==null&&g!==void 0?g:h.fill,parentViewBox:h.parentViewBox,value:m,textBreakAll:o,viewBox:h.viewBox,index:v}))}))}Gh.displayName="LabelList";function nX(e){var{label:t}=e;return t?t===!0?F.createElement(Gh,{key:"labelList-implicit"}):F.isValidElement(t)||aE(t)?F.createElement(Gh,{key:"labelList-implicit",content:t}):typeof t=="object"?F.createElement(Gh,Nv({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function sx(){return sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sx.apply(null,arguments)}var jB=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Rt("recharts-dot",a);return t===+t&&r===+r&&n===+n?F.createElement("circle",sx({},Wa(e),Hx(e),{className:i,cx:t,cy:r,r:n})):null},aX={radiusAxis:{},angleAxis:{}},GB=Jn({name:"polarAxis",initialState:aX,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:yae,removeRadiusAxis:bae,addAngleAxis:xae,removeAngleAxis:wae}=GB.actions,iX=GB.reducer,UB=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function oX(e){var{fn:t,args:r}=e,n=Cr(),a=Bn();return F.useLayoutEffect(()=>{if(!a){var i=t(r);return n(SY(i)),()=>{n(AY(i))}}},[t,r,n,a]),null}var sX=()=>{};function lX(e){var{legendPayload:t}=e,r=Cr(),n=Bn();return F.useLayoutEffect(()=>n?sX:(r(ZF(t)),()=>{r(QF(t))}),[r,n,t]),null}var z0,uX=()=>{var[e]=F.useState(()=>Wc("uid-"));return e},cX=(z0=Ij.useId)!==null&&z0!==void 0?z0:uX;function fX(e,t){var r=cX();return t||(e?"".concat(e,"-").concat(r):r)}var dX=F.createContext(void 0),hX=e=>{var{id:t,type:r,children:n}=e,a=fX("recharts-".concat(r),t);return F.createElement(dX.Provider,{value:a},n(a))},vX={cartesianItems:[],polarItems:[]},FB=Jn({name:"graphicalItems",initialState:vX,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:vn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Oi(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:vn()},removeCartesianGraphicalItem:{reducer(e,t){var r=Oi(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:vn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:vn()},removePolarGraphicalItem:{reducer(e,t){var r=Oi(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:vn()}}}),{addCartesianGraphicalItem:pX,replaceCartesianGraphicalItem:gX,removeCartesianGraphicalItem:mX,addPolarGraphicalItem:Eae,removePolarGraphicalItem:Sae}=FB.actions,yX=FB.reducer;function bX(e){var t=Cr(),r=F.useRef(null);return F.useLayoutEffect(()=>{r.current===null?t(pX(e)):r.current!==e&&t(gX({prev:r.current,next:e})),r.current=e},[t,e]),F.useLayoutEffect(()=>()=>{r.current&&(t(mX(r.current)),r.current=null)},[t]),null}function tM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tM(Object(r),!0).forEach(function(n){xX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xX(e,t,r){return(t=wX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wX(e){var t=EX(e,"string");return typeof t=="symbol"?t:t+""}function EX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SX={xAxis:{},yAxis:{},zAxis:{}},qB=Jn({name:"cartesianAxis",initialState:SX,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:vn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:vn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:vn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:vn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:vn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:vn()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=rM(rM({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:AX,removeXAxis:CX,addYAxis:TX,removeYAxis:OX,addZAxis:Aae,removeZAxis:Cae,updateYAxisWidth:_X}=qB.actions,MX=qB.reducer,DX=me([Jr],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),kX=me([DX,zi,ji],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),iE=()=>Ye(kX),PX=()=>Ye(h$);function nM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nM(Object(r),!0).forEach(function(n){NX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NX(e,t,r){return(t=RX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RX(e){var t=LX(e,"string");return typeof t=="symbol"?t:t+""}function LX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BX=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var o=aM(aM({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},ep(a)),Hx(a)),l;return F.isValidElement(a)?l=F.cloneElement(a,o):typeof a=="function"?l=a(o):l=F.createElement(jB,o),F.createElement(Ks,{className:"recharts-active-dot"},l)};function IX(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=Ye(of),o=PX();if(t==null||o==null)return null;var l=t.find(u=>o.includes(u.payload));return jr(l)?null:BX({point:l,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var zX={},HB=Jn({name:"errorBars",initialState:zX,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Tae,replaceErrorBar:Oae,removeErrorBar:_ae}=HB.actions,jX=HB.reducer,GX=["children"];function UX(e,t){if(e==null)return{};var r,n,a=FX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function FX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qX={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},HX=F.createContext(qX);function VX(e){var{children:t}=e,r=UX(e,GX);return F.createElement(HX.Provider,{value:r},t)}function VB(e,t){var r,n,a=Ye(c=>Ui(c,e)),i=Ye(c=>Fi(c,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Vn.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Yn.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function YX(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=iE(),{needClipX:i,needClipY:o,needClip:l}=VB(t,r);if(!l)return null;var{x:u,y:c,width:d,height:h}=a;return F.createElement("clipPath",{id:"clipPath-".concat(n)},F.createElement("rect",{x:i?u:u-d/2,y:o?c:c-h/2,width:i?d:d*2,height:o?h:h*2}))}var $X=e=>{var{chartData:t}=e,r=Cr(),n=Bn();return F.useEffect(()=>n?()=>{}:(r(R_(t)),()=>{r(R_(void 0))}),[t,r,n]),null},iM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},YB=Jn({name:"brush",initialState:iM,reducers:{setBrushSettings(e,t){return t.payload==null?iM:t.payload}}}),{setBrushSettings:Mae}=YB.actions,XX=YB.reducer;function oM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Eh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oM(Object(r),!0).forEach(function(n){$B(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $B(e,t,r){return(t=KX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KX(e){var t=WX(e,"string");return typeof t=="symbol"?t:t+""}function WX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZX=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return{x:Math.min(r,a),y:Math.min(n,i),width:Math.abs(a-r),height:Math.abs(i-n)}};class Lp{static create(t){return new Lp(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}$B(Lp,"EPS",1e-4);var QX=e=>{var t=Object.keys(e).reduce((r,n)=>Eh(Eh({},r),{},{[n]:Lp.create(e[n])}),{});return Eh(Eh({},t),{},{apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(i=>{var[o,l]=i;return[o,t[o].apply(l,{bandAware:n,position:a})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function JX(e){return(e%180+180)%180}var e7=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=JX(a),o=i*Math.PI/180,l=Math.atan(n/r),u=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},t7={dots:[],areas:[],lines:[]},XB=Jn({name:"referenceElements",initialState:t7,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Oi(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Oi(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Oi(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Dae,removeDot:kae,addArea:r7,removeArea:n7,addLine:Pae,removeLine:Nae}=XB.actions,a7=XB.reducer,KB=F.createContext(void 0),i7=e=>{var{children:t}=e,[r]=F.useState("".concat(Wc("recharts"),"-clip")),n=iE();if(n==null)return null;var{x:a,y:i,width:o,height:l}=n;return F.createElement(KB.Provider,{value:r},F.createElement("defs",null,F.createElement("clipPath",{id:r},F.createElement("rect",{x:a,y:i,height:l,width:o}))),t)},o7=()=>F.useContext(KB);function sM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sM(Object(r),!0).forEach(function(n){oE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oE(e,t,r){return(t=s7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s7(e){var t=l7(e,"string");return typeof t=="symbol"?t:t+""}function l7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lx.apply(null,arguments)}var u7=(e,t,r,n,a,i,o)=>{var{x1:l,x2:u,y1:c,y2:d}=o;if(a==null||i==null)return null;var h=QX({x:a,y:i}),v={x:e?h.x.apply(l,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:t?h.x.apply(u,{position:"end"}):h.x.rangeMax,y:n?h.y.apply(d,{position:"end"}):h.y.rangeMax};return o.ifOverflow==="discard"&&(!h.isInRange(v)||!h.isInRange(g))?null:ZX(v,g)},c7=(e,t)=>{var r;return F.isValidElement(e)?r=F.cloneElement(e,t):typeof e=="function"?r=e(t):r=F.createElement(lR,lx({},t,{className:"recharts-reference-area-rect"})),r};function f7(e){var t=Cr();return F.useEffect(()=>(t(r7(e)),()=>{t(n7(e))})),null}function d7(e){var{x1:t,x2:r,y1:n,y2:a,className:i,shape:o,xAxisId:l,yAxisId:u}=e,c=o7(),d=Bn(),h=Ye(O=>Lo(O,"xAxis",l,d)),v=Ye(O=>Lo(O,"yAxis",u,d));if(h==null||!v==null)return null;var g=kn(t),m=kn(r),b=kn(n),x=kn(a);if(!g&&!m&&!b&&!x&&!o)return null;var w=u7(g,m,b,x,h,v,e);if(!w&&!o)return null;var S=e.ifOverflow==="hidden",E=S?"url(#".concat(c,")"):void 0;return F.createElement(Ks,{className:Rt("recharts-reference-area",i)},c7(o,lM(lM({clipPath:E},Rn(e)),w)),F.createElement(NB,w,F.createElement(BB,{label:e.label}),e.children))}function h7(e){return F.createElement(F.Fragment,null,F.createElement(f7,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}),F.createElement(d7,e))}class sE extends F.Component{render(){return F.createElement(h7,this.props)}}oE(sE,"displayName","ReferenceArea");oE(sE,"defaultProps",{ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});function hu(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function WB(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function v7(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return e7(n,r)}function p7(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Rv(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function g7(e,t){return WB(e,t+1)}function m7(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:l}=t,u=0,c=1,d=o,h=function(){var m=n==null?void 0:n[u];if(m===void 0)return{v:WB(n,c)};var b=u,x,w=()=>(x===void 0&&(x=r(m,b)),x),S=m.coordinate,E=u===0||Rv(e,S,w,d,l);E||(u=0,d=o,c+=1),E&&(d=S+e*(w()/2+a),u+=c)},v;c<=i.length;)if(v=h(),v)return v.v;return[]}function uM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uM(Object(r),!0).forEach(function(n){y7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y7(e,t,r){return(t=b7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b7(e){var t=x7(e,"string");return typeof t=="symbol"?t:t+""}function x7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w7(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:u}=t,c=function(v){var g=i[v],m,b=()=>(m===void 0&&(m=r(g,v)),m);if(v===o-1){var x=e*(g.coordinate+e*b()/2-u);i[v]=g=sn(sn({},g),{},{tickCoord:x>0?g.coordinate-x*e:g.coordinate})}else i[v]=g=sn(sn({},g),{},{tickCoord:g.coordinate});var w=Rv(e,g.tickCoord,b,l,u);w&&(u=g.tickCoord-e*(b()/2+a),i[v]=sn(sn({},g),{},{isShow:!0}))},d=o-1;d>=0;d--)c(d);return i}function E7(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,{start:u,end:c}=t;if(i){var d=n[l-1],h=r(d,l-1),v=e*(d.coordinate+e*h/2-c);o[l-1]=d=sn(sn({},d),{},{tickCoord:v>0?d.coordinate-v*e:d.coordinate});var g=Rv(e,d.tickCoord,()=>h,u,c);g&&(c=d.tickCoord-e*(h/2+a),o[l-1]=sn(sn({},d),{},{isShow:!0}))}for(var m=i?l-1:l,b=function(S){var E=o[S],O,D=()=>(O===void 0&&(O=r(E,S)),O);if(S===0){var k=e*(E.coordinate-e*D()/2-u);o[S]=E=sn(sn({},E),{},{tickCoord:k<0?E.coordinate-k*e:E.coordinate})}else o[S]=E=sn(sn({},E),{},{tickCoord:E.coordinate});var T=Rv(e,E.tickCoord,D,u,c);T&&(u=E.tickCoord+e*(D()/2+a),o[S]=sn(sn({},E),{},{isShow:!0}))},x=0;x<m;x++)b(x);return o}function lE(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:u,tickFormatter:c,unit:d,angle:h}=e;if(!a||!a.length||!n)return[];if(Ze(u)||yu.isSsr){var v;return(v=g7(a,Ze(u)?u:0))!==null&&v!==void 0?v:[]}var g=[],m=l==="top"||l==="bottom"?"width":"height",b=d&&m==="width"?Yc(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(E,O)=>{var D=typeof c=="function"?c(E.value,O):E.value;return m==="width"?v7(Yc(D,{fontSize:t,letterSpacing:r}),b,h):Yc(D,{fontSize:t,letterSpacing:r})[m]},w=a.length>=2?ba(a[1].coordinate-a[0].coordinate):1,S=p7(i,w,m);return u==="equidistantPreserveStart"?m7(w,S,x,a,o):(u==="preserveStart"||u==="preserveStartEnd"?g=E7(w,S,x,a,o,u==="preserveStartEnd"):g=w7(w,S,x,a,o),g.filter(E=>E.isShow))}var S7=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>o&&(o=h.width)}});var l=r?r.getBoundingClientRect().width:0,u=a+i,c=o+u+l+(r?n:0);return Math.round(c)}return 0},A7=["axisLine","width","height","className","hide","ticks"],C7=["viewBox"],T7=["viewBox"];function ux(e,t){if(e==null)return{};var r,n,a=O7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function O7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Us(){return Us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Us.apply(null,arguments)}function cM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cM(Object(r),!0).forEach(function(n){_7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _7(e,t,r){return(t=M7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M7(e){var t=D7(e,"string");return typeof t=="symbol"?t:t+""}function D7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uE={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function k7(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var c=Er(Er(Er({},u),Wa(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);c=Er(Er({},c),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var h=+(i==="left"&&!o||i==="right"&&o);c=Er(Er({},c),{},{x1:t+h*n,y1:r,x2:t+h*n,y2:r+a})}return F.createElement("line",Us({},c,{className:Rt("recharts-cartesian-axis-line",ap(l,"className"))}))}function P7(e,t,r,n,a,i,o,l,u){var c,d,h,v,g,m,b=l?-1:1,x=e.tickSize||o,w=Ze(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=d=e.coordinate,v=r+ +!l*a,h=v-b*x,m=h-b*u,g=w;break;case"left":h=v=e.coordinate,d=t+ +!l*n,c=d-b*x,g=c-b*u,m=w;break;case"right":h=v=e.coordinate,d=t+ +l*n,c=d+b*x,g=c+b*u,m=w;break;default:c=d=e.coordinate,v=r+ +l*a,h=v+b*x,m=h+b*u,g=w;break}return{line:{x1:c,y1:h,x2:d,y2:v},tick:{x:g,y:m}}}function N7(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function R7(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function L7(e){var{option:t,tickProps:r,value:n}=e,a,i=Rt(r.className,"recharts-cartesian-axis-tick-value");if(F.isValidElement(t))a=F.cloneElement(t,Er(Er({},r),{},{className:i}));else if(typeof t=="function")a=t(Er(Er({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Rt(o,t==null?void 0:t.className)),a=F.createElement(nE,Us({},r,{className:o}),n)}return a}function B7(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:o,padding:l,tickTextProps:u,orientation:c,mirror:d,x:h,y:v,width:g,height:m,tickSize:b,tickMargin:x,fontSize:w,letterSpacing:S,getTicksConfig:E,events:O}=e,D=lE(Er(Er({},E),{},{ticks:t}),w,S),k=N7(c,d),T=R7(c,d),_=Wa(E),M=ep(r),R={};typeof n=="object"&&(R=n);var P=Er(Er({},_),{},{fill:"none"},R),L=D.map((N,B)=>{var{line:G,tick:I}=P7(N,h,v,g,m,c,b,d,x),z=Er(Er(Er(Er({textAnchor:k,verticalAnchor:T},_),{},{stroke:"none",fill:a},M),I),{},{index:B,payload:N,visibleTicksCount:D.length,tickFormatter:i,padding:l},u);return F.createElement(Ks,Us({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},nN(O,N,B)),n&&F.createElement("line",Us({},P,G,{className:Rt("recharts-cartesian-axis-tick-line",ap(n,"className"))})),r&&F.createElement(L7,{option:r,tickProps:z,value:"".concat(typeof i=="function"?i(N.value,B):N.value).concat(o||"")}))});return L.length>0?F.createElement("g",{className:"recharts-cartesian-axis-ticks"},L):null}var I7=F.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:l}=e,u=ux(e,A7),[c,d]=F.useState(""),[h,v]=F.useState(""),g=F.useRef(null);F.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return S7({ticks:g.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var m=F.useCallback(b=>{if(b){var x=b.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=x;var w=x[0];if(w){var S=window.getComputedStyle(w),E=S.fontSize,O=S.letterSpacing;(E!==c||O!==h)&&(d(E),v(O))}}},[c,h]);return o||n!=null&&n<=0||a!=null&&a<=0?null:F.createElement(Ks,{className:Rt("recharts-cartesian-axis",i),ref:m},F.createElement(k7,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Wa(e)}),F.createElement(B7,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:c,letterSpacing:h,getTicksConfig:e,events:u}),F.createElement(NB,{x:e.x,y:e.y,width:e.width,height:e.height},F.createElement(BB,{label:e.label,labelRef:e.labelRef}),e.children))}),z7=F.memo(I7,(e,t)=>{var{viewBox:r}=e,n=ux(e,C7),{viewBox:a}=t,i=ux(t,T7);return hu(r,a)&&hu(n,i)}),cE=F.forwardRef((e,t)=>{var r=Aa(e,uE);return F.createElement(z7,Us({},r,{ref:t}))});cE.displayName="CartesianAxis";var j7=["x1","y1","x2","y2","key"],G7=["offset"],U7=["xAxisId","yAxisId"],F7=["xAxisId","yAxisId"];function fM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fM(Object(r),!0).forEach(function(n){q7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q7(e,t,r){return(t=H7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H7(e){var t=V7(e,"string");return typeof t=="symbol"?t:t+""}function V7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ks(){return ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ks.apply(null,arguments)}function Lv(e,t){if(e==null)return{};var r,n,a=Y7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Y7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $7=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:l}=e;return F.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function ZB(e,t){var r;if(F.isValidElement(e))r=F.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:o,key:l}=t,u=Lv(t,j7),c=Wa(u),{offset:d}=c,h=Lv(c,G7);r=F.createElement("line",ks({},h,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function X7(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Lv(e,U7),u=a.map((c,d)=>{var h=ln(ln({},l),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(d),index:d});return ZB(n,h)});return F.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function K7(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Lv(e,F7),u=a.map((c,d)=>{var h=ln(ln({},l),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(d),index:d});return ZB(n,h)});return F.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function W7(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length)return null;var c=l.map(h=>Math.round(h+a-a)).sort((h,v)=>h-v);a!==c[0]&&c.unshift(0);var d=c.map((h,v)=>{var g=!c[v+1],m=g?a+o-h:c[v+1]-h;if(m<=0)return null;var b=v%t.length;return F.createElement("rect",{key:"react-".concat(v),y:h,x:n,height:m,width:i,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Z7(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:l,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var c=u.map(h=>Math.round(h+a-a)).sort((h,v)=>h-v);a!==c[0]&&c.unshift(0);var d=c.map((h,v)=>{var g=!c[v+1],m=g?a+o-h:c[v+1]-h;if(m<=0)return null;var b=v%r.length;return F.createElement("rect",{key:"react-".concat(v),x:h,y:i,width:m,height:l,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Q7=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return VN(lE(ln(ln(ln({},uE),r),{},{ticks:YN(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},J7=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return VN(lE(ln(ln(ln({},uE),r),{},{ticks:YN(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},eK={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function QB(e){var t=rw(),r=nw(),n=JN(),a=ln(ln({},Aa(e,eK)),{},{x:Ze(e.x)?e.x:n.left,y:Ze(e.y)?e.y:n.top,width:Ze(e.width)?e.width:n.width,height:Ze(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:u,width:c,height:d,syncWithTicks:h,horizontalValues:v,verticalValues:g}=a,m=Bn(),b=Ye(M=>C_(M,"xAxis",i,m)),x=Ye(M=>C_(M,"yAxis",o,m));if(!Ze(c)||c<=0||!Ze(d)||d<=0||!Ze(l)||l!==+l||!Ze(u)||u!==+u)return null;var w=a.verticalCoordinatesGenerator||Q7,S=a.horizontalCoordinatesGenerator||J7,{horizontalPoints:E,verticalPoints:O}=a;if((!E||!E.length)&&typeof S=="function"){var D=v&&v.length,k=S({yAxis:x?ln(ln({},x),{},{ticks:D?v:x.ticks}):void 0,width:t,height:r,offset:n},D?!0:h);gv(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(E=k)}if((!O||!O.length)&&typeof w=="function"){var T=g&&g.length,_=w({xAxis:b?ln(ln({},b),{},{ticks:T?g:b.ticks}):void 0,width:t,height:r,offset:n},T?!0:h);gv(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(O=_)}return F.createElement("g",{className:"recharts-cartesian-grid"},F.createElement($7,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),F.createElement(W7,ks({},a,{horizontalPoints:E})),F.createElement(Z7,ks({},a,{verticalPoints:O})),F.createElement(X7,ks({},a,{offset:n,horizontalPoints:E,xAxis:b,yAxis:x})),F.createElement(K7,ks({},a,{offset:n,verticalPoints:O,xAxis:b,yAxis:x})))}QB.displayName="CartesianGrid";var JB=(e,t,r,n)=>QL(e,"xAxis",t,n),eI=(e,t,r,n)=>ZL(e,"xAxis",t,n),tI=(e,t,r,n)=>QL(e,"yAxis",r,n),rI=(e,t,r,n)=>ZL(e,"yAxis",r,n),tK=me([Vt,JB,tI,eI,rI],(e,t,r,n,a)=>Fo(e,"xAxis")?I1(t,n,!1):I1(r,a,!1)),rK=(e,t,r,n,a)=>a;function nK(e){return e.type==="line"}var aK=me([xL,rK],(e,t)=>e.filter(nK).find(r=>r.id===t)),iK=me([Vt,JB,tI,eI,rI,aK,tK,Mw],(e,t,r,n,a,i,o,l)=>{var{chartData:u,dataStartIndex:c,dataEndIndex:d}=l;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null)){var{dataKey:h,data:v}=i,g;if(v!=null&&v.length>0?g=v:g=u==null?void 0:u.slice(c,d+1),g!=null)return _K({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:h,bandSize:o,displayedData:g})}});function oK(e){var t=ep(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),l=Number(i);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=n),{r:o,strokeWidth:l}}return{r,strokeWidth:n}}var sK=["id"],lK=["type","layout","connectNulls","needClip"],uK=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function dM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dM(Object(r),!0).forEach(function(n){cK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cK(e,t,r){return(t=fK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fK(e){var t=dK(e,"string");return typeof t=="symbol"?t:t+""}function dK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fE(e,t){if(e==null)return{};var r,n,a=hK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Fs(){return Fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fs.apply(null,arguments)}var vK=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:$N(r,t),payload:e}]};function pK(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:l,unit:u}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:$N(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:u}}}var nI=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function gK(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var mK=(e,t,r)=>{var n=r.reduce((h,v)=>h+v);if(!n)return nI(t,e);for(var a=Math.floor(e/n),i=e%n,o=t-e,l=[],u=0,c=0;u<r.length;c+=r[u],++u)if(c+r[u]>i){l=[...r.slice(0,u),i-c];break}var d=l.length%2===0?[0,o]:[o];return[...gK(r,a),...l,...d].map(h=>"".concat(h,"px")).join(", ")};function yK(e,t){var r;if(F.isValidElement(e))r=F.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Rt("recharts-line-dot",typeof e!="boolean"?e.className:"");r=F.createElement(jB,Fs({},t,{className:n}))}return r}function bK(e,t){return e==null?!1:t?!0:e.length===1}function xK(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:o}=n;if(!bK(r,a))return null;var{id:l}=n,u=fE(n,sK),c=UB(a),d=Wa(u),h=Wj(a),v=r.map((m,b)=>{var x=Xn(Xn(Xn({key:"dot-".concat(b),r:3},d),h),{},{index:b,cx:m.x,cy:m.y,dataKey:i,value:m.value,payload:m.payload,points:r});return yK(a,x)}),g={clipPath:o?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return F.createElement(Ks,Fs({className:"recharts-line-dots",key:"dots"},g),v)}function wK(e){var{showLabels:t,children:r,points:n}=e,a=F.useMemo(()=>n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return Xn(Xn({},o),{},{value:i.value,payload:i.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[n]);return F.createElement(eX,{value:t?a:null},r)}function hM(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:o,layout:l,connectNulls:u,needClip:c}=i,d=fE(i,lK),h=Xn(Xn({},Rn(d)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:u,strokeDasharray:a??i.strokeDasharray});return F.createElement(F.Fragment,null,(n==null?void 0:n.length)>1&&F.createElement(rR,Fs({},h,{pathRef:r})),F.createElement(xK,{points:n,clipPathId:t,props:i}))}function EK(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function SK(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:u,animationBegin:c,animationDuration:d,animationEasing:h,animateNewValues:v,width:g,height:m,onAnimationEnd:b,onAnimationStart:x}=r,w=a.current,S=sR(r,"recharts-line-"),[E,O]=F.useState(!1),D=!E,k=F.useCallback(()=>{typeof b=="function"&&b(),O(!1)},[b]),T=F.useCallback(()=>{typeof x=="function"&&x(),O(!0)},[x]),_=EK(n.current),M=i.current;return F.createElement(wK,{points:o,showLabels:D},r.children,F.createElement(oR,{animationId:S,begin:c,duration:d,isActive:u,easing:h,onAnimationEnd:k,onAnimationStart:T,key:S},R=>{var P=wi(M,_+M,R),L=Math.min(P,_),N;if(u)if(l){var B="".concat(l).split(/[,\s]+/gim).map(z=>parseFloat(z));N=mK(L,_,B)}else N=nI(_,L);else N=l==null?void 0:String(l);if(w){var G=w.length/o.length,I=R===1?o:o.map((z,q)=>{var H=Math.floor(q*G);if(w[H]){var X=w[H];return Xn(Xn({},z),{},{x:wi(X.x,z.x,R),y:wi(X.y,z.y,R)})}return v?Xn(Xn({},z),{},{x:wi(g*2,z.x,R),y:wi(m/2,z.y,R)}):Xn(Xn({},z),{},{x:z.x,y:z.y})});return a.current=I,F.createElement(hM,{props:r,points:I,clipPathId:t,pathRef:n,strokeDasharray:N})}return R>0&&_>0&&(a.current=o,i.current=L),F.createElement(hM,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:N})}),F.createElement(nX,{label:r.label}))}function AK(e){var{clipPathId:t,props:r}=e,n=F.useRef(null),a=F.useRef(0),i=F.useRef(null);return F.createElement(SK,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var CK=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:gn(e.payload,t)});class TK extends F.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:o,top:l,left:u,width:c,height:d,id:h,needClip:v}=this.props;if(t)return null;var g=Rt("recharts-line",a),m=h,{r:b,strokeWidth:x}=oK(r),w=UB(r),S=b*2+x;return F.createElement(F.Fragment,null,F.createElement(Ks,{className:g},v&&F.createElement("defs",null,F.createElement(YX,{clipPathId:m,xAxisId:i,yAxisId:o}),!w&&F.createElement("clipPath",{id:"clipPath-dots-".concat(m)},F.createElement("rect",{x:u-S/2,y:l-S/2,width:c+S,height:d+S}))),F.createElement(VX,{xAxisId:i,yAxisId:o,data:n,dataPointFormatter:CK,errorBarOffset:0},F.createElement(AK,{props:this.props,clipPathId:m}))),F.createElement(IX,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var aI={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!yu.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function OK(e){var t=Aa(e,aI),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:u,hide:c,isAnimationActive:d,label:h,legendType:v,xAxisId:g,yAxisId:m,id:b}=t,x=fE(t,uK),{needClip:w}=VB(g,m),S=iE(),E=aw(),O=Bn(),D=Ye(R=>iK(R,g,m,O,b));if(E!=="horizontal"&&E!=="vertical"||D==null||S==null)return null;var{height:k,width:T,x:_,y:M}=S;return F.createElement(TK,Fs({},x,{id:b,connectNulls:l,dot:u,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:c,label:h,legendType:v,xAxisId:g,yAxisId:m,points:D,layout:E,height:k,width:T,left:_,top:M,needClip:w}))}function _K(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:u}=e;return u.map((c,d)=>{var h=gn(c,o);if(t==="horizontal"){var v=tO({axis:r,ticks:a,bandSize:l,entry:c,index:d}),g=jr(h)?null:n.scale(h);return{x:v,y:g,value:h,payload:c}}var m=jr(h)?null:r.scale(h),b=tO({axis:n,ticks:i,bandSize:l,entry:c,index:d});return m==null||b==null?null:{x:m,y:b,value:h,payload:c}}).filter(Boolean)}function MK(e){var t=Aa(e,aI),r=Bn();return F.createElement(hX,{id:t.id,type:"line"},n=>F.createElement(F.Fragment,null,F.createElement(lX,{legendPayload:vK(t)}),F.createElement(oX,{fn:pK,args:t}),F.createElement(bX,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),F.createElement(OK,Fs({},t,{id:n}))))}var iI=F.memo(MK);iI.displayName="Line";var DK=["dangerouslySetInnerHTML","ticks"],kK=["id"],PK=["domain"],NK=["domain"];function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cx.apply(null,arguments)}function Bv(e,t){if(e==null)return{};var r,n,a=RK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function RK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function LK(e){var t=Cr();return F.useLayoutEffect(()=>(t(AX(e)),()=>{t(CX(e))}),[e,t]),null}var BK=e=>{var{xAxisId:t,className:r}=e,n=Ye(KN),a=Bn(),i="xAxis",o=Ye(x=>Lo(x,i,t,a)),l=Ye(x=>WL(x,i,t,a)),u=Ye(x=>oY(x,t)),c=Ye(x=>dY(x,t)),d=Ye(x=>gL(x,t));if(u==null||c==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:v}=e,g=Bv(e,DK),{id:m}=d,b=Bv(d,kK);return F.createElement(cE,cx({},g,b,{scale:o,x:c.x,y:c.y,width:u.width,height:u.height,className:Rt("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l}))},IK={allowDataOverflow:Vn.allowDataOverflow,allowDecimals:Vn.allowDecimals,allowDuplicatedCategory:Vn.allowDuplicatedCategory,height:Vn.height,hide:!1,mirror:Vn.mirror,orientation:Vn.orientation,padding:Vn.padding,reversed:Vn.reversed,scale:Vn.scale,tickCount:Vn.tickCount,type:Vn.type,xAxisId:0},zK=e=>{var t,r,n,a,i,o=Aa(e,IK);return F.createElement(F.Fragment,null,F.createElement(LK,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),F.createElement(BK,o))},jK=(e,t)=>{var{domain:r}=e,n=Bv(e,PK),{domain:a}=t,i=Bv(t,NK);return hu(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:hu({domain:r},{domain:a}):!1},oI=F.memo(zK,jK);oI.displayName="XAxis";var GK=["dangerouslySetInnerHTML","ticks"],UK=["id"],FK=["domain"],qK=["domain"];function fx(){return fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fx.apply(null,arguments)}function Iv(e,t){if(e==null)return{};var r,n,a=HK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function HK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function VK(e){var t=Cr();return F.useLayoutEffect(()=>(t(TX(e)),()=>{t(OX(e))}),[e,t]),null}var YK=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=F.useRef(null),o=F.useRef(null),l=Ye(KN),u=Bn(),c=Cr(),d="yAxis",h=Ye(D=>Lo(D,d,t,u)),v=Ye(D=>pY(D,t)),g=Ye(D=>vY(D,t)),m=Ye(D=>WL(D,d,t,u)),b=Ye(D=>mL(D,t));if(F.useLayoutEffect(()=>{if(!(n!=="auto"||!v||aE(a)||F.isValidElement(a)||b==null)){var D=i.current;if(D){var k=D.getCalculatedWidth();Math.round(v.width)!==Math.round(k)&&c(_X({id:t,width:k}))}}},[m,v,c,a,t,n,b]),v==null||g==null||b==null)return null;var{dangerouslySetInnerHTML:x,ticks:w}=e,S=Iv(e,GK),{id:E}=b,O=Iv(b,UK);return F.createElement(cE,fx({},S,O,{ref:i,labelRef:o,scale:h,x:g.x,y:g.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:v.width,height:v.height,className:Rt("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:m}))},$K={allowDataOverflow:Yn.allowDataOverflow,allowDecimals:Yn.allowDecimals,allowDuplicatedCategory:Yn.allowDuplicatedCategory,hide:!1,mirror:Yn.mirror,orientation:Yn.orientation,padding:Yn.padding,reversed:Yn.reversed,scale:Yn.scale,tickCount:Yn.tickCount,type:Yn.type,width:Yn.width,yAxisId:0},XK=e=>{var t,r,n,a,i,o=Aa(e,$K);return F.createElement(F.Fragment,null,F.createElement(VK,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),F.createElement(YK,o))},KK=(e,t)=>{var{domain:r}=e,n=Iv(e,FK),{domain:a}=t,i=Iv(t,qK);return hu(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:hu({domain:r},{domain:a}):!1},sI=F.memo(XK,KK);sI.displayName="YAxis";var j0={exports:{}},G0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vM;function WK(){if(vM)return G0;vM=1;var e=mu();function t(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,o=e.useMemo,l=e.useDebugValue;return G0.useSyncExternalStoreWithSelector=function(u,c,d,h,v){var g=a(null);if(g.current===null){var m={hasValue:!1,value:null};g.current=m}else m=g.current;g=o(function(){function x(D){if(!w){if(w=!0,S=D,D=h(D),v!==void 0&&m.hasValue){var k=m.value;if(v(k,D))return E=k}return E=D}if(k=E,r(S,D))return k;var T=h(D);return v!==void 0&&v(k,T)?(S=D,k):(S=D,E=T)}var w=!1,S,E,O=d===void 0?null:d;return[function(){return x(c())},O===null?void 0:function(){return x(O())}]},[c,d,h,v]);var b=n(u,g[0],g[1]);return i(function(){m.hasValue=!0,m.value=b},[b]),l(b),b},G0}var pM;function ZK(){return pM||(pM=1,j0.exports=WK()),j0.exports}ZK();function QK(e){e()}function JK(){let e=null,t=null;return{clear(){e=null,t=null},notify(){QK(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var gM={notify(){},get:()=>[]};function eW(e,t){let r,n=gM,a=0,i=!1;function o(b){d();const x=n.subscribe(b);let w=!1;return()=>{w||(w=!0,x(),h())}}function l(){n.notify()}function u(){m.onStateChange&&m.onStateChange()}function c(){return i}function d(){a++,r||(r=e.subscribe(u),n=JK())}function h(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=gM)}function v(){i||(i=!0,d())}function g(){i&&(i=!1,h())}const m={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:c,trySubscribe:v,tryUnsubscribe:g,getListeners:()=>n};return m}var tW=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rW=tW(),nW=()=>typeof navigator<"u"&&navigator.product==="ReactNative",aW=nW(),iW=()=>rW||aW?F.useLayoutEffect:F.useEffect,oW=iW(),U0=Symbol.for("react-redux-context"),F0=typeof globalThis<"u"?globalThis:{};function sW(){if(!F.createContext)return{};const e=F0[U0]??(F0[U0]=new Map);let t=e.get(F.createContext);return t||(t=F.createContext(null),e.set(F.createContext,t)),t}var lW=sW();function uW(e){const{children:t,context:r,serverState:n,store:a}=e,i=F.useMemo(()=>{const u=eW(a);return{store:a,subscription:u,getServerState:n?()=>n:void 0}},[a,n]),o=F.useMemo(()=>a.getState(),[a]);oW(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==a.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,o]);const l=r||lW;return F.createElement(l.Provider,{value:i},t)}var cW=uW,fW=(e,t)=>t,dE=me([fW,Vt,dL,_r,vB,qi,x$,Jr],C$),hE=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},lI=Ea("mouseClick"),uI=xf();uI.startListening({actionCreator:lI,effect:(e,t)=>{var r=e.payload,n=dE(t.getState(),hE(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(OY({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var dx=Ea("mouseMove"),cI=xf();cI.startListening({actionCreator:dx,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=Xw(n,n.tooltip.settings.shared),i=dE(n,hE(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(iB({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(aB()))}});var mM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},fI=Jn({name:"rootProps",initialState:mM,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:mM.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),dW=fI.reducer,{updateOptions:hW}=fI.actions,dI=Jn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Rae}=dI.actions,vW=dI.reducer,hI=Ea("keyDown"),vI=Ea("focus"),vE=xf();vE.startListening({actionCreator:hI,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(Kw(a,Tu(r))),l=qi(r);if(i==="Enter"){var u=Pv(r,"axis","hover",String(a.index));t.dispatch(nx({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:u}));return}var c=bY(r),d=c==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,v=o+h*d;if(!(l==null||v>=l.length||v<0)){var g=Pv(r,"axis","hover",String(v));t.dispatch(nx({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});vE.startListening({actionCreator:vI,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=Pv(r,"axis","hover",String(i));t.dispatch(nx({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var pa=Ea("externalEvent"),pI=xf();pI.startListening({actionCreator:pa,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:c$(r),activeDataKey:l$(r),activeIndex:of(r),activeLabel:mB(r),activeTooltipIndex:of(r),isTooltipActive:f$(r)};e.payload.handler(n,e.payload.reactEvent)}}});var pW=me([Cu],e=>e.tooltipItemPayloads),gW=me([pW,Df,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),gI=Ea("touchMove"),mI=xf();mI.startListening({actionCreator:gI,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=Xw(n,n.tooltip.settings.shared);if(a==="axis"){var i=dE(n,hE({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(iB({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,l=r.touches[0],u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(yF),d=(o=u.getAttribute(bF))!==null&&o!==void 0?o:void 0,h=gW(t.getState(),c,d);t.dispatch(TY({activeDataKey:d,activeIndex:c,activeCoordinate:h}))}}});var mW=bN({brush:XX,cartesianAxis:MX,chartData:F$,errorBars:jX,graphicalItems:yX,layout:HU,legend:JF,options:I$,polarAxis:iX,polarOptions:vW,referenceElements:a7,rootProps:dW,tooltip:_Y}),yW=function(t){return pU({reducer:mW,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([uI.middleware,cI.middleware,vE.middleware,pI.middleware,mI.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(kN({type:"raf"}))},devTools:yu.devToolsEnabled})};function bW(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Bn(),i=F.useRef(null);if(a)return r;i.current==null&&(i.current=yW(t));var o=Kx;return F.createElement(cW,{context:o,store:i.current},r)}function xW(e){var{layout:t,margin:r}=e,n=Cr(),a=Bn();return F.useEffect(()=>{a||(n(UU(t)),n(GU(r)))},[n,a,t,r]),null}function wW(e){var t=Cr();return F.useEffect(()=>{t(hW(e))},[t,e]),null}var EW=["children"];function SW(e,t){if(e==null)return{};var r,n,a=AW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function AW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zv.apply(null,arguments)}var CW={width:"100%",height:"100%",display:"block"},TW=F.forwardRef((e,t)=>{var r=rw(),n=nw(),a=tR();if(!lu(r)||!lu(n))return null;var{children:i,otherAttributes:o,title:l,desc:u}=e,c,d;return typeof o.tabIndex=="number"?c=o.tabIndex:c=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0,F.createElement(Ix,zv({},o,{title:l,desc:u,role:d,tabIndex:c,width:r,height:n,style:CW,ref:t}),i)}),OW=e=>{var{children:t}=e,r=Ye(vp);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return F.createElement(Ix,{width:n,height:a,x:o,y:i},t)},yM=F.forwardRef((e,t)=>{var{children:r}=e,n=SW(e,EW),a=Bn();return a?F.createElement(OW,null,r):F.createElement(TW,zv({ref:t},n),r)});function _W(){var e=Cr(),[t,r]=F.useState(null),n=Ye(mF);return F.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Ln(i)&&i!==n&&e(qU(i))}},[t,e,n]),r}function bM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bM(Object(r),!0).forEach(function(n){DW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DW(e,t,r){return(t=kW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kW(e){var t=PW(e,"string");return typeof t=="symbol"?t:t+""}function PW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qs.apply(null,arguments)}var NW=()=>(Z$(),null);function jv(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var RW=F.forwardRef((e,t)=>{var r,n,a=F.useRef(null),[i,o]=F.useState({containerWidth:jv((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:jv((n=e.style)===null||n===void 0?void 0:n.height)}),l=F.useCallback((c,d)=>{o(h=>{var v=Math.round(c),g=Math.round(d);return h.containerWidth===v&&h.containerHeight===g?h:{containerWidth:v,containerHeight:g}})},[]),u=F.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:d,height:h}=c.getBoundingClientRect();l(d,h);var v=m=>{var{width:b,height:x}=m[0].contentRect;l(b,x)},g=new ResizeObserver(v);g.observe(c),a.current=g}},[t,l]);return F.useEffect(()=>()=>{var c=a.current;c!=null&&c.disconnect()},[l]),F.createElement(F.Fragment,null,F.createElement(gp,{width:i.containerWidth,height:i.containerHeight}),F.createElement("div",qs({ref:u},e)))}),LW=F.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=F.useState({containerWidth:jv(r),containerHeight:jv(n)}),o=F.useCallback((u,c)=>{i(d=>{var h=Math.round(u),v=Math.round(c);return d.containerWidth===h&&d.containerHeight===v?d:{containerWidth:h,containerHeight:v}})},[]),l=F.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:c,height:d}=u.getBoundingClientRect();o(c,d)}},[t,o]);return F.createElement(F.Fragment,null,F.createElement(gp,{width:a.containerWidth,height:a.containerHeight}),F.createElement("div",qs({ref:l},e)))}),BW=F.forwardRef((e,t)=>{var{width:r,height:n}=e;return F.createElement(F.Fragment,null,F.createElement(gp,{width:r,height:n}),F.createElement("div",qs({ref:t},e)))}),IW=F.forwardRef((e,t)=>{var{width:r,height:n}=e;return Di(r)||Di(n)?F.createElement(LW,qs({},e,{ref:t})):F.createElement(BW,qs({},e,{ref:t}))});function zW(e){return e===!0?RW:IW}var jW=F.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:c,onMouseLeave:d,onMouseMove:h,onMouseUp:v,onTouchEnd:g,onTouchMove:m,onTouchStart:b,style:x,width:w,responsive:S,dispatchTouchEvents:E=!0}=e,O=F.useRef(null),D=Cr(),[k,T]=F.useState(null),[_,M]=F.useState(null),R=_W(),P=tw(),L=(P==null?void 0:P.width)>0?P.width:w,N=(P==null?void 0:P.height)>0?P.height:a,B=F.useCallback(Z=>{R(Z),typeof t=="function"&&t(Z),T(Z),M(Z),Z!=null&&(O.current=Z)},[R,t,T,M]),G=F.useCallback(Z=>{D(lI(Z)),D(pa({handler:i,reactEvent:Z}))},[D,i]),I=F.useCallback(Z=>{D(dx(Z)),D(pa({handler:c,reactEvent:Z}))},[D,c]),z=F.useCallback(Z=>{D(aB()),D(pa({handler:d,reactEvent:Z}))},[D,d]),q=F.useCallback(Z=>{D(dx(Z)),D(pa({handler:h,reactEvent:Z}))},[D,h]),H=F.useCallback(()=>{D(vI())},[D]),X=F.useCallback(Z=>{D(hI(Z.key))},[D]),U=F.useCallback(Z=>{D(pa({handler:o,reactEvent:Z}))},[D,o]),V=F.useCallback(Z=>{D(pa({handler:l,reactEvent:Z}))},[D,l]),Q=F.useCallback(Z=>{D(pa({handler:u,reactEvent:Z}))},[D,u]),ee=F.useCallback(Z=>{D(pa({handler:v,reactEvent:Z}))},[D,v]),te=F.useCallback(Z=>{D(pa({handler:b,reactEvent:Z}))},[D,b]),ie=F.useCallback(Z=>{E&&D(gI(Z)),D(pa({handler:m,reactEvent:Z}))},[D,E,m]),ue=F.useCallback(Z=>{D(pa({handler:g,reactEvent:Z}))},[D,g]),xe=zW(S);return F.createElement(SB.Provider,{value:k},F.createElement(LP.Provider,{value:_},F.createElement(xe,{width:L??(x==null?void 0:x.width),height:N??(x==null?void 0:x.height),className:Rt("recharts-wrapper",n),style:MW({position:"relative",cursor:"default",width:L,height:N},x),onClick:G,onContextMenu:U,onDoubleClick:V,onFocus:H,onKeyDown:X,onMouseDown:Q,onMouseEnter:I,onMouseLeave:z,onMouseMove:q,onMouseUp:ee,onTouchEnd:ue,onTouchMove:ie,onTouchStart:te,ref:B},F.createElement(NW,null),r)))}),GW=["width","height","responsive","children","className","style","compact","title","desc"];function UW(e,t){if(e==null)return{};var r,n,a=FW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function FW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qW=F.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:l,compact:u,title:c,desc:d}=e,h=UW(e,GW),v=Wa(h);return u?F.createElement(F.Fragment,null,F.createElement(gp,{width:r,height:n}),F.createElement(yM,{otherAttributes:v,title:c,desc:d},i)):F.createElement(jW,{className:o,style:l,width:r,height:n,responsive:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},F.createElement(yM,{otherAttributes:v,title:c,desc:d,ref:t},F.createElement(i7,null,i)))});function hx(){return hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hx.apply(null,arguments)}var HW={top:5,right:5,bottom:5,left:5},VW={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:HW,reverseStackOrder:!1,syncMethod:"index",responsive:!1},YW=F.forwardRef(function(t,r){var n,a=Aa(t.categoricalChartProps,VW),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:c}=t,d={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return F.createElement(bW,{preloadedState:{options:d},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:i},F.createElement($X,{chartData:c.data}),F.createElement(xW,{layout:a.layout,margin:a.margin}),F.createElement(wW,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),F.createElement(qW,hx({},a,{ref:r})))}),$W=["axis"],XW=F.forwardRef((e,t)=>F.createElement(YW,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:$W,tooltipPayloadSearcher:L$,categoricalChartProps:e,ref:t}));const KW=e=>{const{payload:t,onClick:r}=e;return K.jsx("div",{className:"flex flex-wrap justify-center items-center gap-x-4 gap-y-2 mt-4 px-4",children:t.map((n,a)=>K.jsxs("div",{onClick:()=>r(n),className:`flex items-center cursor-pointer transition-opacity ${n.inactive?"opacity-50":"opacity-100"}`,children:[K.jsx("div",{style:{width:12,height:12,backgroundColor:n.color,marginRight:6,borderRadius:"2px"}}),K.jsx("span",{className:"text-xs text-slate-700 dark:text-slate-300",children:n.value})]},`item-${a}`))})},WW=({results:e,model:t,visibleSpecies:r,onVisibleSpeciesChange:n})=>{const[a,i]=F.useState([]),[o,l]=F.useState(null);if(!e||e.data.length===0)return K.jsx(rv,{className:"h-96 flex items-center justify-center",children:K.jsx("p",{className:"text-slate-500",children:"Run a simulation to see the results."})});const u=b=>{const x=new Set(r),w=b.dataKey||b.value;x.has(w)?x.delete(w):x.add(w),n(x)},c=b=>{b&&b.activeLabel&&l({x1:b.activeLabel,x2:b.activeLabel,y1:b.activeCoordinate.y,y2:b.activeCoordinate.y})},d=b=>{o&&b&&b.activeLabel&&l({...o,x2:b.activeLabel})},h=()=>{if(o){const{x1:b,x2:x}=o;if(typeof b=="number"&&typeof x=="number"&&Math.abs(b-x)>.001){const w={x1:Math.min(b,x),x2:Math.max(b,x),y1:"dataMin",y2:"dataMax"};i([...a,w])}l(null)}},v=()=>{i([])},g=e.headers.filter(b=>b!=="time"),m=a.length>0?a[a.length-1]:void 0;return K.jsxs(rv,{children:[K.jsx(YF,{width:"100%",height:400,children:K.jsxs(XW,{data:e.data,margin:{top:5,right:20,left:10,bottom:5},onMouseDown:c,onMouseMove:d,onMouseUp:h,onDoubleClick:v,children:[K.jsx(QB,{strokeDasharray:"3 3",stroke:"rgba(128, 128, 128, 0.3)"}),K.jsx(oI,{dataKey:"time",label:{value:"Time",position:"insideBottom",offset:-5},type:"number",domain:m?[m.x1,m.x2]:["dataMin","dataMax"],allowDataOverflow:!0}),K.jsx(sI,{label:{value:"Concentration",angle:-90,position:"insideLeft"},domain:m?[m.y1,m.y2]:[0,"dataMax"],allowDataOverflow:!0,tickFormatter:b=>b.toFixed(0)}),K.jsx(i9,{formatter:b=>(typeof b=="number"?b:parseFloat(b)).toFixed(2),labelFormatter:b=>`Time: ${typeof b=="number"?b.toFixed(2):b}`}),K.jsx(mp,{onClick:u,content:K.jsx(KW,{})}),g.map((b,x)=>K.jsx(iI,{type:"monotone",dataKey:b,stroke:Kl[x%Kl.length],strokeWidth:2,dot:!1,hide:!r.has(b)},b)),o&&K.jsx(sE,{x1:o.x1,x2:o.x2,strokeOpacity:.3,fill:"#8884d8",fillOpacity:.2})]})}),K.jsx("div",{className:"text-center text-xs text-slate-500 mt-2",children:"Click and drag to zoom, double-click to reset."})]})};function vx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ZW(e){if(Array.isArray(e))return e}function QW(e){if(Array.isArray(e))return vx(e)}function Yo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bI(n.key),n)}}function $o(e,t,r){return t&&JW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nn(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=pE(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return o=u.done,u},e:function(u){l=!0,i=u},f:function(){try{o||r.return==null||r.return()}finally{if(l)throw i}}}}function yI(e,t,r){return(t=bI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(d){c=!0,a=d}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}function rZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gr(e,t){return ZW(e)||tZ(e,t)||pE(e,t)||rZ()}function Gv(e){return QW(e)||eZ(e)||pE(e)||nZ()}function aZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function bI(e){var t=aZ(e,"string");return typeof t=="symbol"?t:t+""}function Ar(e){"@babel/helpers - typeof";return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ar(e)}function pE(e,t){if(e){if(typeof e=="string")return vx(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vx(e,t):void 0}}var wr=typeof window>"u"?null:window,xM=wr?wr.navigator:null;wr&&wr.document;var iZ=Ar(""),xI=Ar({}),oZ=Ar(function(){}),sZ=typeof HTMLElement>"u"?"undefined":Ar(HTMLElement),Pf=function(t){return t&&t.instanceString&&er(t.instanceString)?t.instanceString():null},Ve=function(t){return t!=null&&Ar(t)==iZ},er=function(t){return t!=null&&Ar(t)===oZ},It=function(t){return!Zn(t)&&(Array.isArray?Array.isArray(t):t!=null&&t instanceof Array)},mt=function(t){return t!=null&&Ar(t)===xI&&!It(t)&&t.constructor===Object},lZ=function(t){return t!=null&&Ar(t)===xI},Te=function(t){return t!=null&&Ar(t)===Ar(1)&&!isNaN(t)},uZ=function(t){return Te(t)&&Math.floor(t)===t},Uv=function(t){if(sZ!=="undefined")return t!=null&&t instanceof HTMLElement},Zn=function(t){return Nf(t)||wI(t)},Nf=function(t){return Pf(t)==="collection"&&t._private.single},wI=function(t){return Pf(t)==="collection"&&!t._private.single},gE=function(t){return Pf(t)==="core"},EI=function(t){return Pf(t)==="stylesheet"},cZ=function(t){return Pf(t)==="event"},Bo=function(t){return t==null?!0:!!(t===""||t.match(/^\s+$/))},fZ=function(t){return typeof HTMLElement>"u"?!1:t instanceof HTMLElement},dZ=function(t){return mt(t)&&Te(t.x1)&&Te(t.x2)&&Te(t.y1)&&Te(t.y2)},hZ=function(t){return lZ(t)&&er(t.then)},vZ=function(){return xM&&xM.userAgent.match(/msie|trident|edge/i)},vu=function(t,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);return i.join("$")});var n=function(){var i=this,o=arguments,l,u=r.apply(i,o),c=n.cache;return(l=c[u])||(l=c[u]=t.apply(i,o)),l};return n.cache={},n},mE=vu(function(e){return e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),Bp=vu(function(e){return e.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),SI=vu(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),wM=function(t){return Bo(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},_o=function(t,r){return t.slice(-1*r.length)===r},Sr="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",pZ="rgb[a]?\\(("+Sr+"[%]?)\\s*,\\s*("+Sr+"[%]?)\\s*,\\s*("+Sr+"[%]?)(?:\\s*,\\s*("+Sr+"))?\\)",gZ="rgb[a]?\\((?:"+Sr+"[%]?)\\s*,\\s*(?:"+Sr+"[%]?)\\s*,\\s*(?:"+Sr+"[%]?)(?:\\s*,\\s*(?:"+Sr+"))?\\)",mZ="hsl[a]?\\(("+Sr+")\\s*,\\s*("+Sr+"[%])\\s*,\\s*("+Sr+"[%])(?:\\s*,\\s*("+Sr+"))?\\)",yZ="hsl[a]?\\((?:"+Sr+")\\s*,\\s*(?:"+Sr+"[%])\\s*,\\s*(?:"+Sr+"[%])(?:\\s*,\\s*(?:"+Sr+"))?\\)",bZ="\\#[0-9a-fA-F]{3}",xZ="\\#[0-9a-fA-F]{6}",AI=function(t,r){return t<r?-1:t>r?1:0},wZ=function(t,r){return-1*AI(t,r)},Xe=Object.assign!=null?Object.assign.bind(Object):function(e){for(var t=arguments,r=1;r<t.length;r++){var n=t[r];if(n!=null)for(var a=Object.keys(n),i=0;i<a.length;i++){var o=a[i];e[o]=n[o]}}return e},EZ=function(t){if(!(!(t.length===4||t.length===7)||t[0]!=="#")){var r=t.length===4,n,a,i,o=16;return r?(n=parseInt(t[1]+t[1],o),a=parseInt(t[2]+t[2],o),i=parseInt(t[3]+t[3],o)):(n=parseInt(t[1]+t[2],o),a=parseInt(t[3]+t[4],o),i=parseInt(t[5]+t[6],o)),[n,a,i]}},SZ=function(t){var r,n,a,i,o,l,u,c;function d(m,b,x){return x<0&&(x+=1),x>1&&(x-=1),x<1/6?m+(b-m)*6*x:x<1/2?b:x<2/3?m+(b-m)*(2/3-x)*6:m}var h=new RegExp("^"+mZ+"$").exec(t);if(h){if(n=parseInt(h[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,a=parseFloat(h[2]),a<0||a>100||(a=a/100,i=parseFloat(h[3]),i<0||i>100)||(i=i/100,o=h[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(a===0)l=u=c=Math.round(i*255);else{var v=i<.5?i*(1+a):i+a-i*a,g=2*i-v;l=Math.round(255*d(g,v,n+1/3)),u=Math.round(255*d(g,v,n)),c=Math.round(255*d(g,v,n-1/3))}r=[l,u,c,o]}return r},AZ=function(t){var r,n=new RegExp("^"+pZ+"$").exec(t);if(n){r=[];for(var a=[],i=1;i<=3;i++){var o=n[i];if(o[o.length-1]==="%"&&(a[i]=!0),o=parseFloat(o),a[i]&&(o=o/100*255),o<0||o>255)return;r.push(Math.floor(o))}var l=a[1]||a[2]||a[3],u=a[1]&&a[2]&&a[3];if(l&&!u)return;var c=n[4];if(c!==void 0){if(c=parseFloat(c),c<0||c>1)return;r.push(c)}}return r},CZ=function(t){return TZ[t.toLowerCase()]},CI=function(t){return(It(t)?t:null)||CZ(t)||EZ(t)||AZ(t)||SZ(t)},TZ={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},TI=function(t){for(var r=t.map,n=t.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(mt(o))throw Error("Tried to set map with object key");i<n.length-1?(r[o]==null&&(r[o]={}),r=r[o]):r[o]=t.value}},OI=function(t){for(var r=t.map,n=t.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(mt(o))throw Error("Tried to get map with object key");if(r=r[o],r==null)return r}return r},Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var q0,EM;function Lf(){if(EM)return q0;EM=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return q0=e,q0}var H0,SM;function OZ(){if(SM)return H0;SM=1;var e=typeof Sh=="object"&&Sh&&Sh.Object===Object&&Sh;return H0=e,H0}var V0,AM;function Ip(){if(AM)return V0;AM=1;var e=OZ(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return V0=r,V0}var Y0,CM;function _Z(){if(CM)return Y0;CM=1;var e=Ip(),t=function(){return e.Date.now()};return Y0=t,Y0}var $0,TM;function MZ(){if(TM)return $0;TM=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return $0=t,$0}var X0,OM;function DZ(){if(OM)return X0;OM=1;var e=MZ(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return X0=r,X0}var K0,_M;function yE(){if(_M)return K0;_M=1;var e=Ip(),t=e.Symbol;return K0=t,K0}var W0,MM;function kZ(){if(MM)return W0;MM=1;var e=yE(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(o){var l=r.call(o,a),u=o[a];try{o[a]=void 0;var c=!0}catch{}var d=n.call(o);return c&&(l?o[a]=u:delete o[a]),d}return W0=i,W0}var Z0,DM;function PZ(){if(DM)return Z0;DM=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Z0=r,Z0}var Q0,kM;function _I(){if(kM)return Q0;kM=1;var e=yE(),t=kZ(),r=PZ(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?a:n:i&&i in Object(l)?t(l):r(l)}return Q0=o,Q0}var J0,PM;function NZ(){if(PM)return J0;PM=1;function e(t){return t!=null&&typeof t=="object"}return J0=e,J0}var eb,NM;function Bf(){if(NM)return eb;NM=1;var e=_I(),t=NZ(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return eb=n,eb}var tb,RM;function RZ(){if(RM)return tb;RM=1;var e=DZ(),t=Lf(),r=Bf(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function u(c){if(typeof c=="number")return c;if(r(c))return n;if(t(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=t(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=e(c);var h=i.test(c);return h||o.test(c)?l(c.slice(2),h?2:8):a.test(c)?n:+c}return tb=u,tb}var rb,LM;function LZ(){if(LM)return rb;LM=1;var e=Lf(),t=_Z(),r=RZ(),n="Expected a function",a=Math.max,i=Math.min;function o(l,u,c){var d,h,v,g,m,b,x=0,w=!1,S=!1,E=!0;if(typeof l!="function")throw new TypeError(n);u=r(u)||0,e(c)&&(w=!!c.leading,S="maxWait"in c,v=S?a(r(c.maxWait)||0,u):v,E="trailing"in c?!!c.trailing:E);function O(N){var B=d,G=h;return d=h=void 0,x=N,g=l.apply(G,B),g}function D(N){return x=N,m=setTimeout(_,u),w?O(N):g}function k(N){var B=N-b,G=N-x,I=u-B;return S?i(I,v-G):I}function T(N){var B=N-b,G=N-x;return b===void 0||B>=u||B<0||S&&G>=v}function _(){var N=t();if(T(N))return M(N);m=setTimeout(_,k(N))}function M(N){return m=void 0,E&&d?O(N):(d=h=void 0,g)}function R(){m!==void 0&&clearTimeout(m),x=0,d=b=h=m=void 0}function P(){return m===void 0?g:M(t())}function L(){var N=t(),B=T(N);if(d=arguments,h=this,b=N,B){if(m===void 0)return D(b);if(S)return clearTimeout(m),m=setTimeout(_,u),O(b)}return m===void 0&&(m=setTimeout(_,u)),g}return L.cancel=R,L.flush=P,L}return rb=o,rb}var BZ=LZ(),If=Rf(BZ),nb=wr?wr.performance:null,MI=nb&&nb.now?function(){return nb.now()}:function(){return Date.now()},IZ=(function(){if(wr){if(wr.requestAnimationFrame)return function(e){wr.requestAnimationFrame(e)};if(wr.mozRequestAnimationFrame)return function(e){wr.mozRequestAnimationFrame(e)};if(wr.webkitRequestAnimationFrame)return function(e){wr.webkitRequestAnimationFrame(e)};if(wr.msRequestAnimationFrame)return function(e){wr.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(MI())},1e3/60)}})(),Fv=function(t){return IZ(t)},Li=MI,Os=9261,DI=65599,Xl=5381,kI=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Os,n=r,a;a=t.next(),!a.done;)n=n*DI+a.value|0;return n},lf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Os;return r*DI+t|0},uf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xl;return(r<<5)+r+t|0},zZ=function(t,r){return t*2097152+r},wo=function(t){return t[0]*2097152+t[1]},Ah=function(t,r){return[lf(t[0],r[0]),uf(t[1],r[1])]},BM=function(t,r){var n={value:0,done:!1},a=0,i=t.length,o={next:function(){return a<i?n.value=t[a++]:n.done=!0,n}};return kI(o,r)},Hs=function(t,r){var n={value:0,done:!1},a=0,i=t.length,o={next:function(){return a<i?n.value=t.charCodeAt(a++):n.done=!0,n}};return kI(o,r)},PI=function(){return jZ(arguments)},jZ=function(t){for(var r,n=0;n<t.length;n++){var a=t[n];n===0?r=Hs(a):r=Hs(a,r)}return r};function GZ(e,t,r,n,a){var i=a*Math.PI/180,o=Math.cos(i)*(e-r)-Math.sin(i)*(t-n)+r,l=Math.sin(i)*(e-r)+Math.cos(i)*(t-n)+n;return{x:o,y:l}}var UZ=function(t,r,n,a,i,o){return{x:(t-n)*i+n,y:(r-a)*o+a}};function FZ(e,t,r){if(r===0)return e;var n=(t.x1+t.x2)/2,a=(t.y1+t.y2)/2,i=t.w/t.h,o=1/i,l=GZ(e.x,e.y,n,a,r),u=UZ(l.x,l.y,n,a,i,o);return{x:u.x,y:u.y}}var IM=!0,qZ=console.warn!=null,HZ=console.trace!=null,bE=Number.MAX_SAFE_INTEGER||9007199254740991,NI=function(){return!0},qv=function(){return!1},zM=function(){return 0},xE=function(){},Wt=function(t){throw new Error(t)},RI=function(t){if(t!==void 0)IM=!!t;else return IM},Ct=function(t){RI()&&(qZ?console.warn(t):(console.log(t),HZ&&console.trace()))},VZ=function(t){return Xe({},t)},Xa=function(t){return t==null?t:It(t)?t.slice():mt(t)?VZ(t):t},YZ=function(t){return t.slice()},LI=function(t,r){for(r=t="";t++<36;r+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-");return r},$Z={},BI=function(){return $Z},en=function(t){var r=Object.keys(t);return function(n){for(var a={},i=0;i<r.length;i++){var o=r[i],l=n==null?void 0:n[o];a[o]=l===void 0?t[o]:l}return a}},Io=function(t,r,n){for(var a=t.length-1;a>=0;a--)t[a]===r&&t.splice(a,1)},wE=function(t){t.splice(0,t.length)},XZ=function(t,r){for(var n=0;n<r.length;n++){var a=r[n];t.push(a)}},Mn=function(t,r,n){return n&&(r=SI(n,r)),t[r]},xi=function(t,r,n,a){n&&(r=SI(n,r)),t[r]=a},KZ=(function(){function e(){Yo(this,e),this._obj={}}return $o(e,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}])})(),Ti=typeof Map<"u"?Map:KZ,WZ="undefined",ZZ=(function(){function e(t){if(Yo(this,e),this._obj=Object.create(null),this.size=0,t!=null){var r;t.instanceString!=null&&t.instanceString()===this.instanceString()?r=t.toArray():r=t;for(var n=0;n<r.length;n++)this.add(r[n])}}return $o(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}])})(),Ou=(typeof Set>"u"?"undefined":Ar(Set))!==WZ?Set:ZZ,zp=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t===void 0||r===void 0||!gE(t)){Wt("An element must have a core reference and parameters set");return}var a=r.group;if(a==null&&(r.data&&r.data.source!=null&&r.data.target!=null?a="edges":a="nodes"),a!=="nodes"&&a!=="edges"){Wt("An element must be of type `nodes` or `edges`; you specified `"+a+"`");return}this.length=1,this[0]=this;var i=this._private={cy:t,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?a==="edges":!!r.pannable,active:!1,classes:new Ou,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),r.renderedPosition){var o=r.renderedPosition,l=t.pan(),u=t.zoom();i.position={x:(o.x-l.x)/u,y:(o.y-l.y)/u}}var c=[];It(r.classes)?c=r.classes:Ve(r.classes)&&(c=r.classes.split(/\s+/));for(var d=0,h=c.length;d<h;d++){var v=c[d];!v||v===""||i.classes.add(v)}this.createEmitter(),(n===void 0||n)&&this.restore();var g=r.style||r.css;g&&(Ct("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(g))},jM=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(n,a,i){var o;mt(n)&&!Zn(n)&&(o=n,n=o.roots||o.root,a=o.visit,i=o.directed),i=arguments.length===2&&!er(a)?a:i,a=er(a)?a:function(){};for(var l=this._private.cy,u=n=Ve(n)?this.filter(n):n,c=[],d=[],h={},v={},g={},m=0,b,x=this.byGroup(),w=x.nodes,S=x.edges,E=0;E<u.length;E++){var O=u[E],D=O.id();O.isNode()&&(c.unshift(O),t.bfs&&(g[D]=!0,d.push(O)),v[D]=0)}for(var k=function(){var N=t.bfs?c.shift():c.pop(),B=N.id();if(t.dfs){if(g[B])return 0;g[B]=!0,d.push(N)}var G=v[B],I=h[B],z=I!=null?I.source():null,q=I!=null?I.target():null,H=I==null?void 0:N.same(z)?q[0]:z[0],X;if(X=a(N,I,H,m++,G),X===!0)return b=N,1;if(X===!1)return 1;for(var U=N.connectedEdges().filter(function(ie){return(!i||ie.source().same(N))&&S.has(ie)}),V=0;V<U.length;V++){var Q=U[V],ee=Q.connectedNodes().filter(function(ie){return!ie.same(N)&&w.has(ie)}),te=ee.id();ee.length!==0&&!g[te]&&(ee=ee[0],c.push(ee),t.bfs&&(g[te]=!0,d.push(ee)),h[te]=Q,v[te]=v[B]+1)}},T;c.length!==0&&(T=k(),!(T!==0&&T===1)););for(var _=l.collection(),M=0;M<d.length;M++){var R=d[M],P=h[R.id()];P!=null&&_.push(P),_.push(R)}return{path:l.collection(_),found:l.collection(b)}}},cf={breadthFirstSearch:jM({bfs:!0}),depthFirstSearch:jM({dfs:!0})};cf.bfs=cf.breadthFirstSearch;cf.dfs=cf.depthFirstSearch;var Uh={exports:{}},QZ=Uh.exports,GM;function JZ(){return GM||(GM=1,(function(e,t){(function(){var r,n,a,i,o,l,u,c,d,h,v,g,m,b,x;a=Math.floor,h=Math.min,n=function(w,S){return w<S?-1:w>S?1:0},d=function(w,S,E,O,D){var k;if(E==null&&(E=0),D==null&&(D=n),E<0)throw new Error("lo must be non-negative");for(O==null&&(O=w.length);E<O;)k=a((E+O)/2),D(S,w[k])<0?O=k:E=k+1;return[].splice.apply(w,[E,E-E].concat(S)),S},l=function(w,S,E){return E==null&&(E=n),w.push(S),b(w,0,w.length-1,E)},o=function(w,S){var E,O;return S==null&&(S=n),E=w.pop(),w.length?(O=w[0],w[0]=E,x(w,0,S)):O=E,O},c=function(w,S,E){var O;return E==null&&(E=n),O=w[0],w[0]=S,x(w,0,E),O},u=function(w,S,E){var O;return E==null&&(E=n),w.length&&E(w[0],S)<0&&(O=[w[0],S],S=O[0],w[0]=O[1],x(w,0,E)),S},i=function(w,S){var E,O,D,k,T,_;for(S==null&&(S=n),k=(function(){_=[];for(var M=0,R=a(w.length/2);0<=R?M<R:M>R;0<=R?M++:M--)_.push(M);return _}).apply(this).reverse(),T=[],O=0,D=k.length;O<D;O++)E=k[O],T.push(x(w,E,S));return T},m=function(w,S,E){var O;if(E==null&&(E=n),O=w.indexOf(S),O!==-1)return b(w,0,O,E),x(w,O,E)},v=function(w,S,E){var O,D,k,T,_;if(E==null&&(E=n),D=w.slice(0,S),!D.length)return D;for(i(D,E),_=w.slice(S),k=0,T=_.length;k<T;k++)O=_[k],u(D,O,E);return D.sort(E).reverse()},g=function(w,S,E){var O,D,k,T,_,M,R,P,L;if(E==null&&(E=n),S*10<=w.length){if(k=w.slice(0,S).sort(E),!k.length)return k;for(D=k[k.length-1],R=w.slice(S),T=0,M=R.length;T<M;T++)O=R[T],E(O,D)<0&&(d(k,O,0,null,E),k.pop(),D=k[k.length-1]);return k}for(i(w,E),L=[],_=0,P=h(S,w.length);0<=P?_<P:_>P;0<=P?++_:--_)L.push(o(w,E));return L},b=function(w,S,E,O){var D,k,T;for(O==null&&(O=n),D=w[E];E>S;){if(T=E-1>>1,k=w[T],O(D,k)<0){w[E]=k,E=T;continue}break}return w[E]=D},x=function(w,S,E){var O,D,k,T,_;for(E==null&&(E=n),D=w.length,_=S,k=w[S],O=2*S+1;O<D;)T=O+1,T<D&&!(E(w[O],w[T])<0)&&(O=T),w[S]=w[O],S=O,O=2*S+1;return w[S]=k,b(w,_,S,E)},r=(function(){w.push=l,w.pop=o,w.replace=c,w.pushpop=u,w.heapify=i,w.updateItem=m,w.nlargest=v,w.nsmallest=g;function w(S){this.cmp=S??n,this.nodes=[]}return w.prototype.push=function(S){return l(this.nodes,S,this.cmp)},w.prototype.pop=function(){return o(this.nodes,this.cmp)},w.prototype.peek=function(){return this.nodes[0]},w.prototype.contains=function(S){return this.nodes.indexOf(S)!==-1},w.prototype.replace=function(S){return c(this.nodes,S,this.cmp)},w.prototype.pushpop=function(S){return u(this.nodes,S,this.cmp)},w.prototype.heapify=function(){return i(this.nodes,this.cmp)},w.prototype.updateItem=function(S){return m(this.nodes,S,this.cmp)},w.prototype.clear=function(){return this.nodes=[]},w.prototype.empty=function(){return this.nodes.length===0},w.prototype.size=function(){return this.nodes.length},w.prototype.clone=function(){var S;return S=new w,S.nodes=this.nodes.slice(0),S},w.prototype.toArray=function(){return this.nodes.slice(0)},w.prototype.insert=w.prototype.push,w.prototype.top=w.prototype.peek,w.prototype.front=w.prototype.peek,w.prototype.has=w.prototype.contains,w.prototype.copy=w.prototype.clone,w})(),(function(w,S){return e.exports=S()})(this,function(){return r})}).call(QZ)})(Uh)),Uh.exports}var ab,UM;function eQ(){return UM||(UM=1,ab=JZ()),ab}var tQ=eQ(),zf=Rf(tQ),rQ=en({root:null,weight:function(t){return 1},directed:!1}),nQ={dijkstra:function(t){if(!mt(t)){var r=arguments;t={root:r[0],weight:r[1],directed:r[2]}}var n=rQ(t),a=n.root,i=n.weight,o=n.directed,l=this,u=i,c=Ve(a)?this.filter(a)[0]:a[0],d={},h={},v={},g=this.byGroup(),m=g.nodes,b=g.edges;b.unmergeBy(function(G){return G.isLoop()});for(var x=function(I){return d[I.id()]},w=function(I,z){d[I.id()]=z,S.updateItem(I)},S=new zf(function(G,I){return x(G)-x(I)}),E=0;E<m.length;E++){var O=m[E];d[O.id()]=O.same(c)?0:1/0,S.push(O)}for(var D=function(I,z){for(var q=(o?I.edgesTo(z):I.edgesWith(z)).intersect(b),H=1/0,X,U=0;U<q.length;U++){var V=q[U],Q=u(V);(Q<H||!X)&&(H=Q,X=V)}return{edge:X,dist:H}};S.size()>0;){var k=S.pop(),T=x(k),_=k.id();if(v[_]=T,T!==1/0)for(var M=k.neighborhood().intersect(m),R=0;R<M.length;R++){var P=M[R],L=P.id(),N=D(k,P),B=T+N.dist;B<x(P)&&(w(P,B),h[L]={node:k,edge:N.edge})}}return{distanceTo:function(I){var z=Ve(I)?m.filter(I)[0]:I[0];return v[z.id()]},pathTo:function(I){var z=Ve(I)?m.filter(I)[0]:I[0],q=[],H=z,X=H.id();if(z.length>0)for(q.unshift(z);h[X];){var U=h[X];q.unshift(U.edge),q.unshift(U.node),H=U.node,X=H.id()}return l.spawn(q)}}}},aQ={kruskal:function(t){t=t||function(E){return 1};for(var r=this.byGroup(),n=r.nodes,a=r.edges,i=n.length,o=new Array(i),l=n,u=function(O){for(var D=0;D<o.length;D++){var k=o[D];if(k.has(O))return D}},c=0;c<i;c++)o[c]=this.spawn(n[c]);for(var d=a.sort(function(E,O){return t(E)-t(O)}),h=0;h<d.length;h++){var v=d[h],g=v.source()[0],m=v.target()[0],b=u(g),x=u(m),w=o[b],S=o[x];b!==x&&(l.merge(v),w.merge(S),o.splice(x,1))}return l}},iQ=en({root:null,goal:null,weight:function(t){return 1},heuristic:function(t){return 0},directed:!1}),oQ={aStar:function(t){var r=this.cy(),n=iQ(t),a=n.root,i=n.goal,o=n.heuristic,l=n.directed,u=n.weight;a=r.collection(a)[0],i=r.collection(i)[0];var c=a.id(),d=i.id(),h={},v={},g={},m=new zf(function(X,U){return v[X.id()]-v[U.id()]}),b=new Ou,x={},w={},S=function(U,V){m.push(U),b.add(V)},E,O,D=function(){E=m.pop(),O=E.id(),b.delete(O)},k=function(U){return b.has(U)};S(a,c),h[c]=0,v[c]=o(a);for(var T=0;m.size()>0;){if(D(),T++,O===d){for(var _=[],M=i,R=d,P=w[R];_.unshift(M),P!=null&&_.unshift(P),M=x[R],M!=null;)R=M.id(),P=w[R];return{found:!0,distance:h[O],path:this.spawn(_),steps:T}}g[O]=!0;for(var L=E._private.edges,N=0;N<L.length;N++){var B=L[N];if(this.hasElementWithId(B.id())&&!(l&&B.data("source")!==O)){var G=B.source(),I=B.target(),z=G.id()!==O?G:I,q=z.id();if(this.hasElementWithId(q)&&!g[q]){var H=h[O]+u(B);if(!k(q)){h[q]=H,v[q]=H+o(z),S(z,q),x[q]=E,w[q]=B;continue}H<h[q]&&(h[q]=H,v[q]=H+o(z),x[q]=E,w[q]=B)}}}}return{found:!1,distance:void 0,path:void 0,steps:T}}},sQ=en({weight:function(t){return 1},directed:!1}),lQ={floydWarshall:function(t){for(var r=this.cy(),n=sQ(t),a=n.weight,i=n.directed,o=a,l=this.byGroup(),u=l.nodes,c=l.edges,d=u.length,h=d*d,v=function(Q){return u.indexOf(Q)},g=function(Q){return u[Q]},m=new Array(h),b=0;b<h;b++){var x=b%d,w=(b-x)/d;w===x?m[b]=0:m[b]=1/0}for(var S=new Array(h),E=new Array(h),O=0;O<c.length;O++){var D=c[O],k=D.source()[0],T=D.target()[0];if(k!==T){var _=v(k),M=v(T),R=_*d+M,P=o(D);if(m[R]>P&&(m[R]=P,S[R]=M,E[R]=D),!i){var L=M*d+_;!i&&m[L]>P&&(m[L]=P,S[L]=_,E[L]=D)}}}for(var N=0;N<d;N++)for(var B=0;B<d;B++)for(var G=B*d+N,I=0;I<d;I++){var z=B*d+I,q=N*d+I;m[G]+m[q]<m[z]&&(m[z]=m[G]+m[q],S[z]=S[G])}var H=function(Q){return(Ve(Q)?r.filter(Q):Q)[0]},X=function(Q){return v(H(Q))},U={distance:function(Q,ee){var te=X(Q),ie=X(ee);return m[te*d+ie]},path:function(Q,ee){var te=X(Q),ie=X(ee),ue=g(te);if(te===ie)return ue.collection();if(S[te*d+ie]==null)return r.collection();var xe=r.collection(),Z=te,re;for(xe.merge(ue);te!==ie;)Z=te,te=S[te*d+ie],re=E[Z*d+te],xe.merge(re),xe.merge(g(te));return xe}};return U}},uQ=en({weight:function(t){return 1},directed:!1,root:null}),cQ={bellmanFord:function(t){var r=this,n=uQ(t),a=n.weight,i=n.directed,o=n.root,l=a,u=this,c=this.cy(),d=this.byGroup(),h=d.edges,v=d.nodes,g=v.length,m=new Ti,b=!1,x=[];o=c.collection(o)[0],h.unmergeBy(function(Me){return Me.isLoop()});for(var w=h.length,S=function(Ie){var Ne=m.get(Ie.id());return Ne||(Ne={},m.set(Ie.id(),Ne)),Ne},E=function(Ie){return(Ve(Ie)?c.$(Ie):Ie)[0]},O=function(Ie){return S(E(Ie)).dist},D=function(Ie){for(var Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,Oe=E(Ie),Ue=[],qe=Oe;;){if(qe==null)return r.spawn();var Qe=S(qe),De=Qe.edge,nt=Qe.pred;if(Ue.unshift(qe[0]),qe.same(Ne)&&Ue.length>0)break;De!=null&&Ue.unshift(De),qe=nt}return u.spawn(Ue)},k=0;k<g;k++){var T=v[k],_=S(T);T.same(o)?_.dist=0:_.dist=1/0,_.pred=null,_.edge=null}for(var M=!1,R=function(Ie,Ne,Oe,Ue,qe,Qe){var De=Ue.dist+Qe;De<qe.dist&&!Oe.same(Ue.edge)&&(qe.dist=De,qe.pred=Ie,qe.edge=Oe,M=!0)},P=1;P<g;P++){M=!1;for(var L=0;L<w;L++){var N=h[L],B=N.source(),G=N.target(),I=l(N),z=S(B),q=S(G);R(B,G,N,z,q,I),i||R(G,B,N,q,z,I)}if(!M)break}if(M)for(var H=[],X=0;X<w;X++){var U=h[X],V=U.source(),Q=U.target(),ee=l(U),te=S(V).dist,ie=S(Q).dist;if(te+ee<ie||!i&&ie+ee<te)if(b||(Ct("Graph contains a negative weight cycle for Bellman-Ford"),b=!0),t.findNegativeWeightCycles!==!1){var ue=[];te+ee<ie&&ue.push(V),!i&&ie+ee<te&&ue.push(Q);for(var xe=ue.length,Z=0;Z<xe;Z++){var re=ue[Z],J=[re];J.push(S(re).edge);for(var W=S(re).pred;J.indexOf(W)===-1;)J.push(W),J.push(S(W).edge),W=S(W).pred;J=J.slice(J.indexOf(W));for(var se=J[0].id(),he=0,Ce=2;Ce<J.length;Ce+=2)J[Ce].id()<se&&(se=J[Ce].id(),he=Ce);J=J.slice(he).concat(J.slice(0,he)),J.push(J[0]);var _e=J.map(function(Me){return Me.id()}).join(",");H.indexOf(_e)===-1&&(x.push(u.spawn(J)),H.push(_e))}}else break}return{distanceTo:O,pathTo:D,hasNegativeWeightCycle:b,negativeWeightCycles:x}}},fQ=Math.sqrt(2),dQ=function(t,r,n){n.length===0&&Wt("Karger-Stein must be run on a connected (sub)graph");for(var a=n[t],i=a[1],o=a[2],l=r[i],u=r[o],c=n,d=c.length-1;d>=0;d--){var h=c[d],v=h[1],g=h[2];(r[v]===l&&r[g]===u||r[v]===u&&r[g]===l)&&c.splice(d,1)}for(var m=0;m<c.length;m++){var b=c[m];b[1]===u?(c[m]=b.slice(),c[m][1]=l):b[2]===u&&(c[m]=b.slice(),c[m][2]=l)}for(var x=0;x<r.length;x++)r[x]===u&&(r[x]=l);return c},ib=function(t,r,n,a){for(;n>a;){var i=Math.floor(Math.random()*r.length);r=dQ(i,t,r),n--}return r},hQ={kargerStein:function(){var t=this,r=this.byGroup(),n=r.nodes,a=r.edges;a.unmergeBy(function(q){return q.isLoop()});var i=n.length,o=a.length,l=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),u=Math.floor(i/fQ);if(i<2){Wt("At least 2 nodes are required for Karger-Stein algorithm");return}for(var c=[],d=0;d<o;d++){var h=a[d];c.push([d,n.indexOf(h.source()),n.indexOf(h.target())])}for(var v=1/0,g=[],m=new Array(i),b=new Array(i),x=new Array(i),w=function(H,X){for(var U=0;U<i;U++)X[U]=H[U]},S=0;S<=l;S++){for(var E=0;E<i;E++)b[E]=E;var O=ib(b,c.slice(),i,u),D=O.slice();w(b,x);var k=ib(b,O,u,2),T=ib(x,D,u,2);k.length<=T.length&&k.length<v?(v=k.length,g=k,w(b,m)):T.length<=k.length&&T.length<v&&(v=T.length,g=T,w(x,m))}for(var _=this.spawn(g.map(function(q){return a[q[0]]})),M=this.spawn(),R=this.spawn(),P=m[0],L=0;L<m.length;L++){var N=m[L],B=n[L];N===P?M.merge(B):R.merge(B)}var G=function(H){var X=t.spawn();return H.forEach(function(U){X.merge(U),U.connectedEdges().forEach(function(V){t.contains(V)&&!_.contains(V)&&X.merge(V)})}),X},I=[G(M),G(R)],z={cut:_,components:I,partition1:M,partition2:R};return z}},ob,vQ=function(t){return{x:t.x,y:t.y}},jp=function(t,r,n){return{x:t.x*r+n.x,y:t.y*r+n.y}},II=function(t,r,n){return{x:(t.x-n.x)/r,y:(t.y-n.y)/r}},Zl=function(t){return{x:t[0],y:t[1]}},pQ=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=1/0,i=r;i<n;i++){var o=t[i];isFinite(o)&&(a=Math.min(o,a))}return a},gQ=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=-1/0,i=r;i<n;i++){var o=t[i];isFinite(o)&&(a=Math.max(o,a))}return a},mQ=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=0,i=0,o=r;o<n;o++){var l=t[o];isFinite(l)&&(a+=l,i++)}return a/i},yQ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;a?t=t.slice(r,n):(n<t.length&&t.splice(n,t.length-n),r>0&&t.splice(0,r));for(var l=0,u=t.length-1;u>=0;u--){var c=t[u];o?isFinite(c)||(t[u]=-1/0,l++):t.splice(u,1)}i&&t.sort(function(v,g){return v-g});var d=t.length,h=Math.floor(d/2);return d%2!==0?t[h+1+l]:(t[h-1+l]+t[h+l])/2},bQ=function(t){return Math.PI*t/180},Ch=function(t,r){return Math.atan2(r,t)-Math.PI/2},EE=Math.log2||function(e){return Math.log(e)/Math.log(2)},SE=function(t){return t>0?1:t<0?-1:0},Vs=function(t,r){return Math.sqrt(Cs(t,r))},Cs=function(t,r){var n=r.x-t.x,a=r.y-t.y;return n*n+a*a},xQ=function(t){for(var r=t.length,n=0,a=0;a<r;a++)n+=t[a];for(var i=0;i<r;i++)t[i]=t[i]/n;return t},Ir=function(t,r,n,a){return(1-a)*(1-a)*t+2*(1-a)*a*r+a*a*n},ru=function(t,r,n,a){return{x:Ir(t.x,r.x,n.x,a),y:Ir(t.y,r.y,n.y,a)}},wQ=function(t,r,n,a){var i={x:r.x-t.x,y:r.y-t.y},o=Vs(t,r),l={x:i.x/o,y:i.y/o};return n=n??0,a=a??n*o,{x:t.x+l.x*a,y:t.y+l.y*a}},ff=function(t,r,n){return Math.max(t,Math.min(n,r))},mn=function(t){if(t==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(t.x1!=null&&t.y1!=null){if(t.x2!=null&&t.y2!=null&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(t.w!=null&&t.h!=null&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},EQ=function(t){return{x1:t.x1,x2:t.x2,w:t.w,y1:t.y1,y2:t.y2,h:t.h}},SQ=function(t){t.x1=1/0,t.y1=1/0,t.x2=-1/0,t.y2=-1/0,t.w=0,t.h=0},AQ=function(t,r){t.x1=Math.min(t.x1,r.x1),t.x2=Math.max(t.x2,r.x2),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,r.y1),t.y2=Math.max(t.y2,r.y2),t.h=t.y2-t.y1},zI=function(t,r,n){t.x1=Math.min(t.x1,r),t.x2=Math.max(t.x2,r),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,n),t.y2=Math.max(t.y2,n),t.h=t.y2-t.y1},Fh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.x1-=r,t.x2+=r,t.y1-=r,t.y2+=r,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},qh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,a,i,o;if(r.length===1)n=a=i=o=r[0];else if(r.length===2)n=i=r[0],o=a=r[1];else if(r.length===4){var l=gr(r,4);n=l[0],a=l[1],i=l[2],o=l[3]}return t.x1-=o,t.x2+=a,t.y1-=n,t.y2+=i,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},FM=function(t,r){t.x1=r.x1,t.y1=r.y1,t.x2=r.x2,t.y2=r.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},AE=function(t,r){return!(t.x1>r.x2||r.x1>t.x2||t.x2<r.x1||r.x2<t.x1||t.y2<r.y1||r.y2<t.y1||t.y1>r.y2||r.y1>t.y2)},Mo=function(t,r,n){return t.x1<=r&&r<=t.x2&&t.y1<=n&&n<=t.y2},qM=function(t,r){return Mo(t,r.x,r.y)},jI=function(t,r){return Mo(t,r.x1,r.y1)&&Mo(t,r.x2,r.y2)},CQ=(ob=Math.hypot)!==null&&ob!==void 0?ob:function(e,t){return Math.sqrt(e*e+t*t)};function TQ(e,t){if(e.length<3)throw new Error("Need at least 3 vertices");var r=function(_,M){return{x:_.x+M.x,y:_.y+M.y}},n=function(_,M){return{x:_.x-M.x,y:_.y-M.y}},a=function(_,M){return{x:_.x*M,y:_.y*M}},i=function(_,M){return _.x*M.y-_.y*M.x},o=function(_){var M=CQ(_.x,_.y);return M===0?{x:0,y:0}:{x:_.x/M,y:_.y/M}},l=function(_){for(var M=0,R=0;R<_.length;R++){var P=_[R],L=_[(R+1)%_.length];M+=P.x*L.y-L.x*P.y}return M/2},u=function(_,M,R,P){var L=n(M,_),N=n(P,R),B=i(L,N);if(Math.abs(B)<1e-9)return r(_,a(L,.5));var G=i(n(R,_),N)/B;return r(_,a(L,G))},c=e.map(function(T){return{x:T.x,y:T.y}});l(c)<0&&c.reverse();for(var d=c.length,h=[],v=0;v<d;v++){var g=c[v],m=c[(v+1)%d],b=n(m,g),x=o({x:b.y,y:-b.x});h.push(x)}for(var w=h.map(function(T,_){var M=r(c[_],a(T,t)),R=r(c[(_+1)%d],a(T,t));return{p1:M,p2:R}}),S=[],E=0;E<d;E++){var O=w[(E-1+d)%d],D=w[E],k=u(O.p1,O.p2,D.p1,D.p2);S.push(k)}return S}function OQ(e,t,r,n,a,i){var o=BQ(e,t,r,n,a),l=TQ(o,i),u=mn();return l.forEach(function(c){return zI(u,c.x,c.y)}),u}var GI=function(t,r,n,a,i,o,l){var u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",c=u==="auto"?zo(i,o):u,d=i/2,h=o/2;c=Math.min(c,d,h);var v=c!==d,g=c!==h,m;if(v){var b=n-d+c-l,x=a-h-l,w=n+d-c+l,S=x;if(m=Do(t,r,n,a,b,x,w,S,!1),m.length>0)return m}if(g){var E=n+d+l,O=a-h+c-l,D=E,k=a+h-c+l;if(m=Do(t,r,n,a,E,O,D,k,!1),m.length>0)return m}if(v){var T=n-d+c-l,_=a+h+l,M=n+d-c+l,R=_;if(m=Do(t,r,n,a,T,_,M,R,!1),m.length>0)return m}if(g){var P=n-d-l,L=a-h+c-l,N=P,B=a+h-c+l;if(m=Do(t,r,n,a,P,L,N,B,!1),m.length>0)return m}var G;{var I=n-d+c,z=a-h+c;if(G=qc(t,r,n,a,I,z,c+l),G.length>0&&G[0]<=I&&G[1]<=z)return[G[0],G[1]]}{var q=n+d-c,H=a-h+c;if(G=qc(t,r,n,a,q,H,c+l),G.length>0&&G[0]>=q&&G[1]<=H)return[G[0],G[1]]}{var X=n+d-c,U=a+h-c;if(G=qc(t,r,n,a,X,U,c+l),G.length>0&&G[0]>=X&&G[1]>=U)return[G[0],G[1]]}{var V=n-d+c,Q=a+h-c;if(G=qc(t,r,n,a,V,Q,c+l),G.length>0&&G[0]<=V&&G[1]>=Q)return[G[0],G[1]]}return[]},_Q=function(t,r,n,a,i,o,l){var u=l,c=Math.min(n,i),d=Math.max(n,i),h=Math.min(a,o),v=Math.max(a,o);return c-u<=t&&t<=d+u&&h-u<=r&&r<=v+u},MQ=function(t,r,n,a,i,o,l,u,c){var d={x1:Math.min(n,l,i)-c,x2:Math.max(n,l,i)+c,y1:Math.min(a,u,o)-c,y2:Math.max(a,u,o)+c};return!(t<d.x1||t>d.x2||r<d.y1||r>d.y2)},DQ=function(t,r,n,a){n-=a;var i=r*r-4*t*n;if(i<0)return[];var o=Math.sqrt(i),l=2*t,u=(-r+o)/l,c=(-r-o)/l;return[u,c]},kQ=function(t,r,n,a,i){var o=1e-5;t===0&&(t=o),r/=t,n/=t,a/=t;var l,u,c,d,h,v,g,m;if(u=(3*n-r*r)/9,c=-(27*a)+r*(9*n-2*(r*r)),c/=54,l=u*u*u+c*c,i[1]=0,g=r/3,l>0){h=c+Math.sqrt(l),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),v=c-Math.sqrt(l),v=v<0?-Math.pow(-v,1/3):Math.pow(v,1/3),i[0]=-g+h+v,g+=(h+v)/2,i[4]=i[2]=-g,g=Math.sqrt(3)*(-v+h)/2,i[3]=g,i[5]=-g;return}if(i[5]=i[3]=0,l===0){m=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3),i[0]=-g+2*m,i[4]=i[2]=-(m+g);return}u=-u,d=u*u*u,d=Math.acos(c/Math.sqrt(d)),m=2*Math.sqrt(u),i[0]=-g+m*Math.cos(d/3),i[2]=-g+m*Math.cos((d+2*Math.PI)/3),i[4]=-g+m*Math.cos((d+4*Math.PI)/3)},PQ=function(t,r,n,a,i,o,l,u){var c=1*n*n-4*n*i+2*n*l+4*i*i-4*i*l+l*l+a*a-4*a*o+2*a*u+4*o*o-4*o*u+u*u,d=9*n*i-3*n*n-3*n*l-6*i*i+3*i*l+9*a*o-3*a*a-3*a*u-6*o*o+3*o*u,h=3*n*n-6*n*i+n*l-n*t+2*i*i+2*i*t-l*t+3*a*a-6*a*o+a*u-a*r+2*o*o+2*o*r-u*r,v=1*n*i-n*n+n*t-i*t+a*o-a*a+a*r-o*r,g=[];kQ(c,d,h,v,g);for(var m=1e-7,b=[],x=0;x<6;x+=2)Math.abs(g[x+1])<m&&g[x]>=0&&g[x]<=1&&b.push(g[x]);b.push(1),b.push(0);for(var w=-1,S,E,O,D=0;D<b.length;D++)S=Math.pow(1-b[D],2)*n+2*(1-b[D])*b[D]*i+b[D]*b[D]*l,E=Math.pow(1-b[D],2)*a+2*(1-b[D])*b[D]*o+b[D]*b[D]*u,O=Math.pow(S-t,2)+Math.pow(E-r,2),w>=0?O<w&&(w=O):w=O;return w},NQ=function(t,r,n,a,i,o){var l=[t-n,r-a],u=[i-n,o-a],c=u[0]*u[0]+u[1]*u[1],d=l[0]*l[0]+l[1]*l[1],h=l[0]*u[0]+l[1]*u[1],v=h*h/c;return h<0?d:v>c?(t-i)*(t-i)+(r-o)*(r-o):d-v},Dn=function(t,r,n){for(var a,i,o,l,u,c=0,d=0;d<n.length/2;d++)if(a=n[d*2],i=n[d*2+1],d+1<n.length/2?(o=n[(d+1)*2],l=n[(d+1)*2+1]):(o=n[(d+1-n.length/2)*2],l=n[(d+1-n.length/2)*2+1]),!(a==t&&o==t))if(a>=t&&t>=o||a<=t&&t<=o)u=(t-a)/(o-a)*(l-i)+i,u>r&&c++;else continue;return c%2!==0},Bi=function(t,r,n,a,i,o,l,u,c){var d=new Array(n.length),h;u[0]!=null?(h=Math.atan(u[1]/u[0]),u[0]<0?h=h+Math.PI/2:h=-h-Math.PI/2):h=u;for(var v=Math.cos(-h),g=Math.sin(-h),m=0;m<d.length/2;m++)d[m*2]=o/2*(n[m*2]*v-n[m*2+1]*g),d[m*2+1]=l/2*(n[m*2+1]*v+n[m*2]*g),d[m*2]+=a,d[m*2+1]+=i;var b;if(c>0){var x=Vv(d,-c);b=Hv(x)}else b=d;return Dn(t,r,b)},RQ=function(t,r,n,a,i,o,l,u){for(var c=new Array(n.length*2),d=0;d<u.length;d++){var h=u[d];c[d*4+0]=h.startX,c[d*4+1]=h.startY,c[d*4+2]=h.stopX,c[d*4+3]=h.stopY;var v=Math.pow(h.cx-t,2)+Math.pow(h.cy-r,2);if(v<=Math.pow(h.radius,2))return!0}return Dn(t,r,c)},Hv=function(t){for(var r=new Array(t.length/2),n,a,i,o,l,u,c,d,h=0;h<t.length/4;h++){n=t[h*4],a=t[h*4+1],i=t[h*4+2],o=t[h*4+3],h<t.length/4-1?(l=t[(h+1)*4],u=t[(h+1)*4+1],c=t[(h+1)*4+2],d=t[(h+1)*4+3]):(l=t[0],u=t[1],c=t[2],d=t[3]);var v=Do(n,a,i,o,l,u,c,d,!0);r[h*2]=v[0],r[h*2+1]=v[1]}return r},Vv=function(t,r){for(var n=new Array(t.length*2),a,i,o,l,u=0;u<t.length/2;u++){a=t[u*2],i=t[u*2+1],u<t.length/2-1?(o=t[(u+1)*2],l=t[(u+1)*2+1]):(o=t[0],l=t[1]);var c=l-i,d=-(o-a),h=Math.sqrt(c*c+d*d),v=c/h,g=d/h;n[u*4]=a+v*r,n[u*4+1]=i+g*r,n[u*4+2]=o+v*r,n[u*4+3]=l+g*r}return n},LQ=function(t,r,n,a,i,o){var l=n-t,u=a-r;l/=i,u/=o;var c=Math.sqrt(l*l+u*u),d=c-1;if(d<0)return[];var h=d/c;return[(n-t)*h+t,(a-r)*h+r]},Ps=function(t,r,n,a,i,o,l){return t-=i,r-=o,t/=n/2+l,r/=a/2+l,t*t+r*r<=1},qc=function(t,r,n,a,i,o,l){var u=[n-t,a-r],c=[t-i,r-o],d=u[0]*u[0]+u[1]*u[1],h=2*(c[0]*u[0]+c[1]*u[1]),v=c[0]*c[0]+c[1]*c[1]-l*l,g=h*h-4*d*v;if(g<0)return[];var m=(-h+Math.sqrt(g))/(2*d),b=(-h-Math.sqrt(g))/(2*d),x=Math.min(m,b),w=Math.max(m,b),S=[];if(x>=0&&x<=1&&S.push(x),w>=0&&w<=1&&S.push(w),S.length===0)return[];var E=S[0]*u[0]+t,O=S[0]*u[1]+r;if(S.length>1){if(S[0]==S[1])return[E,O];var D=S[1]*u[0]+t,k=S[1]*u[1]+r;return[E,O,D,k]}else return[E,O]},sb=function(t,r,n){return r<=t&&t<=n||n<=t&&t<=r?t:t<=r&&r<=n||n<=r&&r<=t?r:n},Do=function(t,r,n,a,i,o,l,u,c){var d=t-i,h=n-t,v=l-i,g=r-o,m=a-r,b=u-o,x=v*g-b*d,w=h*g-m*d,S=b*h-v*m;if(S!==0){var E=x/S,O=w/S,D=.001,k=0-D,T=1+D;return k<=E&&E<=T&&k<=O&&O<=T?[t+E*h,r+E*m]:c?[t+E*h,r+E*m]:[]}else return x===0||w===0?sb(t,n,l)===l?[l,u]:sb(t,n,i)===i?[i,o]:sb(i,l,n)===n?[n,a]:[]:[]},BQ=function(t,r,n,a,i){var o=[],l=a/2,u=i/2,c=r,d=n;o.push({x:c+l*t[0],y:d+u*t[1]});for(var h=1;h<t.length/2;h++)o.push({x:c+l*t[h*2],y:d+u*t[h*2+1]});return o},df=function(t,r,n,a,i,o,l,u){var c=[],d,h=new Array(n.length),v=!0;o==null&&(v=!1);var g;if(v){for(var m=0;m<h.length/2;m++)h[m*2]=n[m*2]*o+a,h[m*2+1]=n[m*2+1]*l+i;if(u>0){var b=Vv(h,-u);g=Hv(b)}else g=h}else g=n;for(var x,w,S,E,O=0;O<g.length/2;O++)x=g[O*2],w=g[O*2+1],O<g.length/2-1?(S=g[(O+1)*2],E=g[(O+1)*2+1]):(S=g[0],E=g[1]),d=Do(t,r,a,i,x,w,S,E),d.length!==0&&c.push(d[0],d[1]);return c},IQ=function(t,r,n,a,i,o,l,u,c){var d=[],h,v=new Array(n.length*2);c.forEach(function(S,E){E===0?(v[v.length-2]=S.startX,v[v.length-1]=S.startY):(v[E*4-2]=S.startX,v[E*4-1]=S.startY),v[E*4]=S.stopX,v[E*4+1]=S.stopY,h=qc(t,r,a,i,S.cx,S.cy,S.radius),h.length!==0&&d.push(h[0],h[1])});for(var g=0;g<v.length/4;g++)h=Do(t,r,a,i,v[g*4],v[g*4+1],v[g*4+2],v[g*4+3],!1),h.length!==0&&d.push(h[0],h[1]);if(d.length>2){for(var m=[d[0],d[1]],b=Math.pow(m[0]-t,2)+Math.pow(m[1]-r,2),x=1;x<d.length/2;x++){var w=Math.pow(d[x*2]-t,2)+Math.pow(d[x*2+1]-r,2);w<=b&&(m[0]=d[x*2],m[1]=d[x*2+1],b=w)}return m}return d},Th=function(t,r,n){var a=[t[0]-r[0],t[1]-r[1]],i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=(i-n)/i;return o<0&&(o=1e-5),[r[0]+o*a[0],r[1]+o*a[1]]},hn=function(t,r){var n=px(t,r);return n=UI(n),n},UI=function(t){for(var r,n,a=t.length/2,i=1/0,o=1/0,l=-1/0,u=-1/0,c=0;c<a;c++)r=t[2*c],n=t[2*c+1],i=Math.min(i,r),l=Math.max(l,r),o=Math.min(o,n),u=Math.max(u,n);for(var d=2/(l-i),h=2/(u-o),v=0;v<a;v++)r=t[2*v]=t[2*v]*d,n=t[2*v+1]=t[2*v+1]*h,i=Math.min(i,r),l=Math.max(l,r),o=Math.min(o,n),u=Math.max(u,n);if(o<-1)for(var g=0;g<a;g++)n=t[2*g+1]=t[2*g+1]+(-1-o);return t},px=function(t,r){var n=1/t*2*Math.PI,a=t%2===0?Math.PI/2+n/2:Math.PI/2;a+=r;for(var i=new Array(t*2),o,l=0;l<t;l++)o=l*n+a,i[2*l]=Math.cos(o),i[2*l+1]=Math.sin(-o);return i},zo=function(t,r){return Math.min(t/4,r/4,8)},FI=function(t,r){return Math.min(t/10,r/10,8)},CE=function(){return 8},zQ=function(t,r,n){return[t-2*r+n,2*(r-t),t]},gx=function(t,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}};function lb(e,t){function r(h){for(var v=[],g=0;g<h.length;g++){var m=h[g],b=h[(g+1)%h.length],x={x:b.x-m.x,y:b.y-m.y},w={x:-x.y,y:x.x},S=Math.sqrt(w.x*w.x+w.y*w.y);v.push({x:w.x/S,y:w.y/S})}return v}function n(h,v){var g=1/0,m=-1/0,b=Nn(h),x;try{for(b.s();!(x=b.n()).done;){var w=x.value,S=w.x*v.x+w.y*v.y;g=Math.min(g,S),m=Math.max(m,S)}}catch(E){b.e(E)}finally{b.f()}return{min:g,max:m}}function a(h,v){return!(h.max<v.min||v.max<h.min)}var i=[].concat(Gv(r(e)),Gv(r(t))),o=Nn(i),l;try{for(o.s();!(l=o.n()).done;){var u=l.value,c=n(e,u),d=n(t,u);if(!a(c,d))return!1}}catch(h){o.e(h)}finally{o.f()}return!0}var jQ=en({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(t){return 1}}),GQ={pageRank:function(t){for(var r=jQ(t),n=r.dampingFactor,a=r.precision,i=r.iterations,o=r.weight,l=this._private.cy,u=this.byGroup(),c=u.nodes,d=u.edges,h=c.length,v=h*h,g=d.length,m=new Array(v),b=new Array(h),x=(1-n)/h,w=0;w<h;w++){for(var S=0;S<h;S++){var E=w*h+S;m[E]=0}b[w]=0}for(var O=0;O<g;O++){var D=d[O],k=D.data("source"),T=D.data("target");if(k!==T){var _=c.indexOfId(k),M=c.indexOfId(T),R=o(D),P=M*h+_;m[P]+=R,b[_]+=R}}for(var L=1/h+x,N=0;N<h;N++)if(b[N]===0)for(var B=0;B<h;B++){var G=B*h+N;m[G]=L}else for(var I=0;I<h;I++){var z=I*h+N;m[z]=m[z]/b[N]+x}for(var q=new Array(h),H=new Array(h),X,U=0;U<h;U++)q[U]=1;for(var V=0;V<i;V++){for(var Q=0;Q<h;Q++)H[Q]=0;for(var ee=0;ee<h;ee++)for(var te=0;te<h;te++){var ie=ee*h+te;H[ee]+=m[ie]*q[te]}xQ(H),X=q,q=H,H=X;for(var ue=0,xe=0;xe<h;xe++){var Z=X[xe]-q[xe];ue+=Z*Z}if(ue<a)break}var re={rank:function(W){return W=l.collection(W)[0],q[c.indexOf(W)]}};return re}},HM=en({root:null,weight:function(t){return 1},directed:!1,alpha:0}),nu={degreeCentralityNormalized:function(t){t=HM(t);var r=this.cy(),n=this.nodes(),a=n.length;if(t.directed){for(var d={},h={},v=0,g=0,m=0;m<a;m++){var b=n[m],x=b.id();t.root=b;var w=this.degreeCentrality(t);v<w.indegree&&(v=w.indegree),g<w.outdegree&&(g=w.outdegree),d[x]=w.indegree,h[x]=w.outdegree}return{indegree:function(E){return v==0?0:(Ve(E)&&(E=r.filter(E)),d[E.id()]/v)},outdegree:function(E){return g===0?0:(Ve(E)&&(E=r.filter(E)),h[E.id()]/g)}}}else{for(var i={},o=0,l=0;l<a;l++){var u=n[l];t.root=u;var c=this.degreeCentrality(t);o<c.degree&&(o=c.degree),i[u.id()]=c.degree}return{degree:function(E){return o===0?0:(Ve(E)&&(E=r.filter(E)),i[E.id()]/o)}}}},degreeCentrality:function(t){t=HM(t);var r=this.cy(),n=this,a=t,i=a.root,o=a.weight,l=a.directed,u=a.alpha;if(i=r.collection(i)[0],l){for(var g=i.connectedEdges(),m=g.filter(function(k){return k.target().same(i)&&n.has(k)}),b=g.filter(function(k){return k.source().same(i)&&n.has(k)}),x=m.length,w=b.length,S=0,E=0,O=0;O<m.length;O++)S+=o(m[O]);for(var D=0;D<b.length;D++)E+=o(b[D]);return{indegree:Math.pow(x,1-u)*Math.pow(S,u),outdegree:Math.pow(w,1-u)*Math.pow(E,u)}}else{for(var c=i.connectedEdges().intersection(n),d=c.length,h=0,v=0;v<c.length;v++)h+=o(c[v]);return{degree:Math.pow(d,1-u)*Math.pow(h,u)}}}};nu.dc=nu.degreeCentrality;nu.dcn=nu.degreeCentralityNormalised=nu.degreeCentralityNormalized;var VM=en({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),au={closenessCentralityNormalized:function(t){for(var r=VM(t),n=r.harmonic,a=r.weight,i=r.directed,o=this.cy(),l={},u=0,c=this.nodes(),d=this.floydWarshall({weight:a,directed:i}),h=0;h<c.length;h++){for(var v=0,g=c[h],m=0;m<c.length;m++)if(h!==m){var b=d.distance(g,c[m]);n?v+=1/b:v+=b}n||(v=1/v),u<v&&(u=v),l[g.id()]=v}return{closeness:function(w){return u==0?0:(Ve(w)?w=o.filter(w)[0].id():w=w.id(),l[w]/u)}}},closenessCentrality:function(t){var r=VM(t),n=r.root,a=r.weight,i=r.directed,o=r.harmonic;n=this.filter(n)[0];for(var l=this.dijkstra({root:n,weight:a,directed:i}),u=0,c=this.nodes(),d=0;d<c.length;d++){var h=c[d];if(!h.same(n)){var v=l.distanceTo(h);o?u+=1/v:u+=v}}return o?u:1/u}};au.cc=au.closenessCentrality;au.ccn=au.closenessCentralityNormalised=au.closenessCentralityNormalized;var UQ=en({weight:null,directed:!1}),mx={betweennessCentrality:function(t){for(var r=UQ(t),n=r.directed,a=r.weight,i=a!=null,o=this.cy(),l=this.nodes(),u={},c={},d=0,h={set:function(E,O){c[E]=O,O>d&&(d=O)},get:function(E){return c[E]}},v=0;v<l.length;v++){var g=l[v],m=g.id();n?u[m]=g.outgoers().nodes():u[m]=g.openNeighborhood().nodes(),h.set(m,0)}for(var b=function(){for(var E=l[x].id(),O=[],D={},k={},T={},_=new zf(function(ee,te){return T[ee]-T[te]}),M=0;M<l.length;M++){var R=l[M].id();D[R]=[],k[R]=0,T[R]=1/0}for(k[E]=1,T[E]=0,_.push(E);!_.empty();){var P=_.pop();if(O.push(P),i)for(var L=0;L<u[P].length;L++){var N=u[P][L],B=o.getElementById(P),G=void 0;B.edgesTo(N).length>0?G=B.edgesTo(N)[0]:G=N.edgesTo(B)[0];var I=a(G);N=N.id(),T[N]>T[P]+I&&(T[N]=T[P]+I,_.nodes.indexOf(N)<0?_.push(N):_.updateItem(N),k[N]=0,D[N]=[]),T[N]==T[P]+I&&(k[N]=k[N]+k[P],D[N].push(P))}else for(var z=0;z<u[P].length;z++){var q=u[P][z].id();T[q]==1/0&&(_.push(q),T[q]=T[P]+1),T[q]==T[P]+1&&(k[q]=k[q]+k[P],D[q].push(P))}}for(var H={},X=0;X<l.length;X++)H[l[X].id()]=0;for(;O.length>0;){for(var U=O.pop(),V=0;V<D[U].length;V++){var Q=D[U][V];H[Q]=H[Q]+k[Q]/k[U]*(1+H[U])}U!=l[x].id()&&h.set(U,h.get(U)+H[U])}},x=0;x<l.length;x++)b();var w={betweenness:function(E){var O=o.collection(E).id();return h.get(O)},betweennessNormalized:function(E){if(d==0)return 0;var O=o.collection(E).id();return h.get(O)/d}};return w.betweennessNormalised=w.betweennessNormalized,w}};mx.bc=mx.betweennessCentrality;var FQ=en({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),qQ=function(t){return FQ(t)},HQ=function(t,r){for(var n=0,a=0;a<r.length;a++)n+=r[a](t);return n},VQ=function(t,r,n){for(var a=0;a<r;a++)t[a*r+a]=n},qI=function(t,r){for(var n,a=0;a<r;a++){n=0;for(var i=0;i<r;i++)n+=t[i*r+a];for(var o=0;o<r;o++)t[o*r+a]=t[o*r+a]/n}},YQ=function(t,r,n){for(var a=new Array(n*n),i=0;i<n;i++){for(var o=0;o<n;o++)a[i*n+o]=0;for(var l=0;l<n;l++)for(var u=0;u<n;u++)a[i*n+u]+=t[i*n+l]*r[l*n+u]}return a},$Q=function(t,r,n){for(var a=t.slice(0),i=1;i<n;i++)t=YQ(t,a,r);return t},XQ=function(t,r,n){for(var a=new Array(r*r),i=0;i<r*r;i++)a[i]=Math.pow(t[i],n);return qI(a,r),a},KQ=function(t,r,n,a){for(var i=0;i<n;i++){var o=Math.round(t[i]*Math.pow(10,a))/Math.pow(10,a),l=Math.round(r[i]*Math.pow(10,a))/Math.pow(10,a);if(o!==l)return!1}return!0},WQ=function(t,r,n,a){for(var i=[],o=0;o<r;o++){for(var l=[],u=0;u<r;u++)Math.round(t[o*r+u]*1e3)/1e3>0&&l.push(n[u]);l.length!==0&&i.push(a.collection(l))}return i},ZQ=function(t,r){for(var n=0;n<t.length;n++)if(!r[n]||t[n].id()!==r[n].id())return!1;return!0},QQ=function(t){for(var r=0;r<t.length;r++)for(var n=0;n<t.length;n++)r!=n&&ZQ(t[r],t[n])&&t.splice(n,1);return t},YM=function(t){for(var r=this.nodes(),n=this.edges(),a=this.cy(),i=qQ(t),o={},l=0;l<r.length;l++)o[r[l].id()]=l;for(var u=r.length,c=u*u,d=new Array(c),h,v=0;v<c;v++)d[v]=0;for(var g=0;g<n.length;g++){var m=n[g],b=o[m.source().id()],x=o[m.target().id()],w=HQ(m,i.attributes);d[b*u+x]+=w,d[x*u+b]+=w}VQ(d,u,i.multFactor),qI(d,u);for(var S=!0,E=0;S&&E<i.maxIterations;)S=!1,h=$Q(d,u,i.expandFactor),d=XQ(h,u,i.inflateFactor),KQ(d,h,c,4)||(S=!0),E++;var O=WQ(d,u,r,a);return O=QQ(O),O},JQ={markovClustering:YM,mcl:YM},eJ=function(t){return t},HI=function(t,r){return Math.abs(r-t)},$M=function(t,r,n){return t+HI(r,n)},XM=function(t,r,n){return t+Math.pow(n-r,2)},tJ=function(t){return Math.sqrt(t)},rJ=function(t,r,n){return Math.max(t,HI(r,n))},kc=function(t,r,n,a,i){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:eJ,l=a,u,c,d=0;d<t;d++)u=r(d),c=n(d),l=i(l,u,c);return o(l)},pu={euclidean:function(t,r,n){return t>=2?kc(t,r,n,0,XM,tJ):kc(t,r,n,0,$M)},squaredEuclidean:function(t,r,n){return kc(t,r,n,0,XM)},manhattan:function(t,r,n){return kc(t,r,n,0,$M)},max:function(t,r,n){return kc(t,r,n,-1/0,rJ)}};pu["squared-euclidean"]=pu.squaredEuclidean;pu.squaredeuclidean=pu.squaredEuclidean;function Gp(e,t,r,n,a,i){var o;return er(e)?o=e:o=pu[e]||pu.euclidean,t===0&&er(e)?o(a,i):o(t,r,n,a,i)}var nJ=en({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),TE=function(t){return nJ(t)},Yv=function(t,r,n,a,i){var o=i!=="kMedoids",l=o?function(h){return n[h]}:function(h){return a[h](n)},u=function(v){return a[v](r)},c=n,d=r;return Gp(t,a.length,l,u,c,d)},ub=function(t,r,n){for(var a=n.length,i=new Array(a),o=new Array(a),l=new Array(r),u=null,c=0;c<a;c++)i[c]=t.min(n[c]).value,o[c]=t.max(n[c]).value;for(var d=0;d<r;d++){u=[];for(var h=0;h<a;h++)u[h]=Math.random()*(o[h]-i[h])+i[h];l[d]=u}return l},VI=function(t,r,n,a,i){for(var o=1/0,l=0,u=0;u<r.length;u++){var c=Yv(n,t,r[u],a,i);c<o&&(o=c,l=u)}return l},YI=function(t,r,n){for(var a=[],i=null,o=0;o<r.length;o++)i=r[o],n[i.id()]===t&&a.push(i);return a},aJ=function(t,r,n){return Math.abs(r-t)<=n},iJ=function(t,r,n){for(var a=0;a<t.length;a++)for(var i=0;i<t[a].length;i++){var o=Math.abs(t[a][i]-r[a][i]);if(o>n)return!1}return!0},oJ=function(t,r,n){for(var a=0;a<n;a++)if(t===r[a])return!0;return!1},KM=function(t,r){var n=new Array(r);if(t.length<50)for(var a=0;a<r;a++){for(var i=t[Math.floor(Math.random()*t.length)];oJ(i,n,a);)i=t[Math.floor(Math.random()*t.length)];n[a]=i}else for(var o=0;o<r;o++)n[o]=t[Math.floor(Math.random()*t.length)];return n},WM=function(t,r,n){for(var a=0,i=0;i<r.length;i++)a+=Yv("manhattan",r[i],t,n,"kMedoids");return a},sJ=function(t){var r=this.cy(),n=this.nodes(),a=null,i=TE(t),o=new Array(i.k),l={},u;i.testMode?typeof i.testCentroids=="number"?(i.testCentroids,u=ub(n,i.k,i.attributes)):Ar(i.testCentroids)==="object"?u=i.testCentroids:u=ub(n,i.k,i.attributes):u=ub(n,i.k,i.attributes);for(var c=!0,d=0;c&&d<i.maxIterations;){for(var h=0;h<n.length;h++)a=n[h],l[a.id()]=VI(a,u,i.distance,i.attributes,"kMeans");c=!1;for(var v=0;v<i.k;v++){var g=YI(v,n,l);if(g.length!==0){for(var m=i.attributes.length,b=u[v],x=new Array(m),w=new Array(m),S=0;S<m;S++){w[S]=0;for(var E=0;E<g.length;E++)a=g[E],w[S]+=i.attributes[S](a);x[S]=w[S]/g.length,aJ(x[S],b[S],i.sensitivityThreshold)||(c=!0)}u[v]=x,o[v]=r.collection(g)}}d++}return o},lJ=function(t){var r=this.cy(),n=this.nodes(),a=null,i=TE(t),o=new Array(i.k),l,u={},c,d=new Array(i.k);i.testMode?typeof i.testCentroids=="number"||(Ar(i.testCentroids)==="object"?l=i.testCentroids:l=KM(n,i.k)):l=KM(n,i.k);for(var h=!0,v=0;h&&v<i.maxIterations;){for(var g=0;g<n.length;g++)a=n[g],u[a.id()]=VI(a,l,i.distance,i.attributes,"kMedoids");h=!1;for(var m=0;m<l.length;m++){var b=YI(m,n,u);if(b.length!==0){d[m]=WM(l[m],b,i.attributes);for(var x=0;x<b.length;x++)c=WM(b[x],b,i.attributes),c<d[m]&&(d[m]=c,l[m]=b[x],h=!0);o[m]=r.collection(b)}}v++}return o},uJ=function(t,r,n,a,i){for(var o,l,u=0;u<r.length;u++)for(var c=0;c<t.length;c++)a[u][c]=Math.pow(n[u][c],i.m);for(var d=0;d<t.length;d++)for(var h=0;h<i.attributes.length;h++){o=0,l=0;for(var v=0;v<r.length;v++)o+=a[v][d]*i.attributes[h](r[v]),l+=a[v][d];t[d][h]=o/l}},cJ=function(t,r,n,a,i){for(var o=0;o<t.length;o++)r[o]=t[o].slice();for(var l,u,c,d=2/(i.m-1),h=0;h<n.length;h++)for(var v=0;v<a.length;v++){l=0;for(var g=0;g<n.length;g++)u=Yv(i.distance,a[v],n[h],i.attributes,"cmeans"),c=Yv(i.distance,a[v],n[g],i.attributes,"cmeans"),l+=Math.pow(u/c,d);t[v][h]=1/l}},fJ=function(t,r,n,a){for(var i=new Array(n.k),o=0;o<i.length;o++)i[o]=[];for(var l,u,c=0;c<r.length;c++){l=-1/0,u=-1;for(var d=0;d<r[0].length;d++)r[c][d]>l&&(l=r[c][d],u=d);i[u].push(t[c])}for(var h=0;h<i.length;h++)i[h]=a.collection(i[h]);return i},ZM=function(t){var r=this.cy(),n=this.nodes(),a=TE(t),i,o,l,u,c;u=new Array(n.length);for(var d=0;d<n.length;d++)u[d]=new Array(a.k);l=new Array(n.length);for(var h=0;h<n.length;h++)l[h]=new Array(a.k);for(var v=0;v<n.length;v++){for(var g=0,m=0;m<a.k;m++)l[v][m]=Math.random(),g+=l[v][m];for(var b=0;b<a.k;b++)l[v][b]=l[v][b]/g}o=new Array(a.k);for(var x=0;x<a.k;x++)o[x]=new Array(a.attributes.length);c=new Array(n.length);for(var w=0;w<n.length;w++)c[w]=new Array(a.k);for(var S=!0,E=0;S&&E<a.maxIterations;)S=!1,uJ(o,n,l,c,a),cJ(l,u,o,n,a),iJ(l,u,a.sensitivityThreshold)||(S=!0),E++;return i=fJ(n,l,a,r),{clusters:i,degreeOfMembership:l}},dJ={kMeans:sJ,kMedoids:lJ,fuzzyCMeans:ZM,fcm:ZM},hJ=en({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),vJ={single:"min",complete:"max"},pJ=function(t){var r=hJ(t),n=vJ[r.linkage];return n!=null&&(r.linkage=n),r},QM=function(t,r,n,a,i){for(var o=0,l=1/0,u,c=i.attributes,d=function(M,R){return Gp(i.distance,c.length,function(P){return c[P](M)},function(P){return c[P](R)},M,R)},h=0;h<t.length;h++){var v=t[h].key,g=n[v][a[v]];g<l&&(o=v,l=g)}if(i.mode==="threshold"&&l>=i.threshold||i.mode==="dendrogram"&&t.length===1)return!1;var m=r[o],b=r[a[o]],x;i.mode==="dendrogram"?x={left:m,right:b,key:m.key}:x={value:m.value.concat(b.value),key:m.key},t[m.index]=x,t.splice(b.index,1),r[m.key]=x;for(var w=0;w<t.length;w++){var S=t[w];m.key===S.key?u=1/0:i.linkage==="min"?(u=n[m.key][S.key],n[m.key][S.key]>n[b.key][S.key]&&(u=n[b.key][S.key])):i.linkage==="max"?(u=n[m.key][S.key],n[m.key][S.key]<n[b.key][S.key]&&(u=n[b.key][S.key])):i.linkage==="mean"?u=(n[m.key][S.key]*m.size+n[b.key][S.key]*b.size)/(m.size+b.size):i.mode==="dendrogram"?u=d(S.value,m.value):u=d(S.value[0],m.value[0]),n[m.key][S.key]=n[S.key][m.key]=u}for(var E=0;E<t.length;E++){var O=t[E].key;if(a[O]===m.key||a[O]===b.key){for(var D=O,k=0;k<t.length;k++){var T=t[k].key;n[O][T]<n[O][D]&&(D=T)}a[O]=D}t[E].index=E}return m.key=b.key=m.index=b.index=null,!0},Ql=function(t,r,n){t&&(t.value?r.push(t.value):(t.left&&Ql(t.left,r),t.right&&Ql(t.right,r)))},yx=function(t,r){if(!t)return"";if(t.left&&t.right){var n=yx(t.left,r),a=yx(t.right,r),i=r.add({group:"nodes",data:{id:n+","+a}});return r.add({group:"edges",data:{source:n,target:i.id()}}),r.add({group:"edges",data:{source:a,target:i.id()}}),i.id()}else if(t.value)return t.value.id()},bx=function(t,r,n){if(!t)return[];var a=[],i=[],o=[];return r===0?(t.left&&Ql(t.left,a),t.right&&Ql(t.right,i),o=a.concat(i),[n.collection(o)]):r===1?t.value?[n.collection(t.value)]:(t.left&&Ql(t.left,a),t.right&&Ql(t.right,i),[n.collection(a),n.collection(i)]):t.value?[n.collection(t.value)]:(t.left&&(a=bx(t.left,r-1,n)),t.right&&(i=bx(t.right,r-1,n)),a.concat(i))},JM=function(t){for(var r=this.cy(),n=this.nodes(),a=pJ(t),i=a.attributes,o=function(E,O){return Gp(a.distance,i.length,function(D){return i[D](E)},function(D){return i[D](O)},E,O)},l=[],u=[],c=[],d=[],h=0;h<n.length;h++){var v={value:a.mode==="dendrogram"?n[h]:[n[h]],key:h,index:h};l[h]=v,d[h]=v,u[h]=[],c[h]=0}for(var g=0;g<l.length;g++)for(var m=0;m<=g;m++){var b=void 0;a.mode==="dendrogram"?b=g===m?1/0:o(l[g].value,l[m].value):b=g===m?1/0:o(l[g].value[0],l[m].value[0]),u[g][m]=b,u[m][g]=b,b<u[g][c[g]]&&(c[g]=m)}for(var x=QM(l,d,u,c,a);x;)x=QM(l,d,u,c,a);var w;return a.mode==="dendrogram"?(w=bx(l[0],a.dendrogramDepth,r),a.addDendrogram&&yx(l[0],r)):(w=new Array(l.length),l.forEach(function(S,E){S.key=S.index=null,w[E]=r.collection(S.value)})),w},gJ={hierarchicalClustering:JM,hca:JM},mJ=en({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),yJ=function(t){var r=t.damping,n=t.preference;.5<=r&&r<1||Wt("Damping must range on [0.5, 1).  Got: ".concat(r));var a=["median","mean","min","max"];return a.some(function(i){return i===n})||Te(n)||Wt("Preference must be one of [".concat(a.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(n)),mJ(t)},bJ=function(t,r,n,a){var i=function(l,u){return a[u](l)};return-Gp(t,a.length,function(o){return i(r,o)},function(o){return i(n,o)},r,n)},xJ=function(t,r){var n=null;return r==="median"?n=yQ(t):r==="mean"?n=mQ(t):r==="min"?n=pQ(t):r==="max"?n=gQ(t):n=r,n},wJ=function(t,r,n){for(var a=[],i=0;i<t;i++)r[i*t+i]+n[i*t+i]>0&&a.push(i);return a},eD=function(t,r,n){for(var a=[],i=0;i<t;i++){for(var o=-1,l=-1/0,u=0;u<n.length;u++){var c=n[u];r[i*t+c]>l&&(o=c,l=r[i*t+c])}o>0&&a.push(o)}for(var d=0;d<n.length;d++)a[n[d]]=n[d];return a},EJ=function(t,r,n){for(var a=eD(t,r,n),i=0;i<n.length;i++){for(var o=[],l=0;l<a.length;l++)a[l]===n[i]&&o.push(l);for(var u=-1,c=-1/0,d=0;d<o.length;d++){for(var h=0,v=0;v<o.length;v++)h+=r[o[v]*t+o[d]];h>c&&(u=d,c=h)}n[i]=o[u]}return a=eD(t,r,n),a},tD=function(t){for(var r=this.cy(),n=this.nodes(),a=yJ(t),i={},o=0;o<n.length;o++)i[n[o].id()]=o;var l,u,c,d,h,v;l=n.length,u=l*l,c=new Array(u);for(var g=0;g<u;g++)c[g]=-1/0;for(var m=0;m<l;m++)for(var b=0;b<l;b++)m!==b&&(c[m*l+b]=bJ(a.distance,n[m],n[b],a.attributes));d=xJ(c,a.preference);for(var x=0;x<l;x++)c[x*l+x]=d;h=new Array(u);for(var w=0;w<u;w++)h[w]=0;v=new Array(u);for(var S=0;S<u;S++)v[S]=0;for(var E=new Array(l),O=new Array(l),D=new Array(l),k=0;k<l;k++)E[k]=0,O[k]=0,D[k]=0;for(var T=new Array(l*a.minIterations),_=0;_<T.length;_++)T[_]=0;var M;for(M=0;M<a.maxIterations;M++){for(var R=0;R<l;R++){for(var P=-1/0,L=-1/0,N=-1,B=0,G=0;G<l;G++)E[G]=h[R*l+G],B=v[R*l+G]+c[R*l+G],B>=P?(L=P,P=B,N=G):B>L&&(L=B);for(var I=0;I<l;I++)h[R*l+I]=(1-a.damping)*(c[R*l+I]-P)+a.damping*E[I];h[R*l+N]=(1-a.damping)*(c[R*l+N]-L)+a.damping*E[N]}for(var z=0;z<l;z++){for(var q=0,H=0;H<l;H++)E[H]=v[H*l+z],O[H]=Math.max(0,h[H*l+z]),q+=O[H];q-=O[z],O[z]=h[z*l+z],q+=O[z];for(var X=0;X<l;X++)v[X*l+z]=(1-a.damping)*Math.min(0,q-O[X])+a.damping*E[X];v[z*l+z]=(1-a.damping)*(q-O[z])+a.damping*E[z]}for(var U=0,V=0;V<l;V++){var Q=v[V*l+V]+h[V*l+V]>0?1:0;T[M%a.minIterations*l+V]=Q,U+=Q}if(U>0&&(M>=a.minIterations-1||M==a.maxIterations-1)){for(var ee=0,te=0;te<l;te++){D[te]=0;for(var ie=0;ie<a.minIterations;ie++)D[te]+=T[ie*l+te];(D[te]===0||D[te]===a.minIterations)&&ee++}if(ee===l)break}}for(var ue=wJ(l,h,v),xe=EJ(l,c,ue),Z={},re=0;re<ue.length;re++)Z[ue[re]]=[];for(var J=0;J<n.length;J++){var W=i[n[J].id()],se=xe[W];se!=null&&Z[se].push(n[J])}for(var he=new Array(ue.length),Ce=0;Ce<ue.length;Ce++)he[Ce]=r.collection(Z[ue[Ce]]);return he},SJ={affinityPropagation:tD,ap:tD},AJ=en({root:void 0,directed:!1}),CJ={hierholzer:function(t){if(!mt(t)){var r=arguments;t={root:r[0],directed:r[1]}}var n=AJ(t),a=n.root,i=n.directed,o=this,l=!1,u,c,d;a&&(d=Ve(a)?this.filter(a)[0].id():a[0].id());var h={},v={};i?o.forEach(function(S){var E=S.id();if(S.isNode()){var O=S.indegree(!0),D=S.outdegree(!0),k=O-D,T=D-O;k==1?u?l=!0:u=E:T==1?c?l=!0:c=E:(T>1||k>1)&&(l=!0),h[E]=[],S.outgoers().forEach(function(_){_.isEdge()&&h[E].push(_.id())})}else v[E]=[void 0,S.target().id()]}):o.forEach(function(S){var E=S.id();if(S.isNode()){var O=S.degree(!0);O%2&&(u?c?l=!0:c=E:u=E),h[E]=[],S.connectedEdges().forEach(function(D){return h[E].push(D.id())})}else v[E]=[S.source().id(),S.target().id()]});var g={found:!1,trail:void 0};if(l)return g;if(c&&u)if(i){if(d&&c!=d)return g;d=c}else{if(d&&c!=d&&u!=d)return g;d||(d=c)}else d||(d=o[0].id());var m=function(E){for(var O=E,D=[E],k,T,_;h[O].length;)k=h[O].shift(),T=v[k][0],_=v[k][1],O!=_?(h[_]=h[_].filter(function(M){return M!=k}),O=_):!i&&O!=T&&(h[T]=h[T].filter(function(M){return M!=k}),O=T),D.unshift(k),D.unshift(O);return D},b=[],x=[];for(x=m(d);x.length!=1;)h[x[0]].length==0?(b.unshift(o.getElementById(x.shift())),b.unshift(o.getElementById(x.shift()))):x=m(x.shift()).concat(x);b.unshift(o.getElementById(x.shift()));for(var w in h)if(h[w].length)return g;return g.found=!0,g.trail=this.spawn(b,!0),g}},Oh=function(){var t=this,r={},n=0,a=0,i=[],o=[],l={},u=function(v,g){for(var m=o.length-1,b=[],x=t.spawn();o[m].x!=v||o[m].y!=g;)b.push(o.pop().edge),m--;b.push(o.pop().edge),b.forEach(function(w){var S=w.connectedNodes().intersection(t);x.merge(w),S.forEach(function(E){var O=E.id(),D=E.connectedEdges().intersection(t);x.merge(E),r[O].cutVertex?x.merge(D.filter(function(k){return k.isLoop()})):x.merge(D)})}),i.push(x)},c=function(v,g,m){v===m&&(a+=1),r[g]={id:n,low:n++,cutVertex:!1};var b=t.getElementById(g).connectedEdges().intersection(t);if(b.size()===0)i.push(t.spawn(t.getElementById(g)));else{var x,w,S,E;b.forEach(function(O){x=O.source().id(),w=O.target().id(),S=x===g?w:x,S!==m&&(E=O.id(),l[E]||(l[E]=!0,o.push({x:g,y:S,edge:O})),S in r?r[g].low=Math.min(r[g].low,r[S].id):(c(v,S,g),r[g].low=Math.min(r[g].low,r[S].low),r[g].id<=r[S].low&&(r[g].cutVertex=!0,u(g,S))))})}};t.forEach(function(h){if(h.isNode()){var v=h.id();v in r||(a=0,c(v,v),r[v].cutVertex=a>1)}});var d=Object.keys(r).filter(function(h){return r[h].cutVertex}).map(function(h){return t.getElementById(h)});return{cut:t.spawn(d),components:i}},TJ={hopcroftTarjanBiconnected:Oh,htbc:Oh,htb:Oh,hopcroftTarjanBiconnectedComponents:Oh},_h=function(){var t=this,r={},n=0,a=[],i=[],o=t.spawn(t),l=function(c){i.push(c),r[c]={index:n,low:n++,explored:!1};var d=t.getElementById(c).connectedEdges().intersection(t);if(d.forEach(function(b){var x=b.target().id();x!==c&&(x in r||l(x),r[x].explored||(r[c].low=Math.min(r[c].low,r[x].low)))}),r[c].index===r[c].low){for(var h=t.spawn();;){var v=i.pop();if(h.merge(t.getElementById(v)),r[v].low=r[c].index,r[v].explored=!0,v===c)break}var g=h.edgesWith(h),m=h.merge(g);a.push(m),o=o.difference(m)}};return t.forEach(function(u){if(u.isNode()){var c=u.id();c in r||l(c)}}),{cut:o,components:a}},OJ={tarjanStronglyConnected:_h,tsc:_h,tscc:_h,tarjanStronglyConnectedComponents:_h},$I={};[cf,nQ,aQ,oQ,lQ,cQ,hQ,GQ,nu,au,mx,JQ,dJ,gJ,SJ,CJ,TJ,OJ].forEach(function(e){Xe($I,e)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var XI=0,KI=1,WI=2,Ra=function(t){if(!(this instanceof Ra))return new Ra(t);this.id="Thenable/1.0.7",this.state=XI,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof t=="function"&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};Ra.prototype={fulfill:function(t){return rD(this,KI,"fulfillValue",t)},reject:function(t){return rD(this,WI,"rejectReason",t)},then:function(t,r){var n=this,a=new Ra;return n.onFulfilled.push(aD(t,a,"fulfill")),n.onRejected.push(aD(r,a,"reject")),ZI(n),a.proxy}};var rD=function(t,r,n,a){return t.state===XI&&(t.state=r,t[n]=a,ZI(t)),t},ZI=function(t){t.state===KI?nD(t,"onFulfilled",t.fulfillValue):t.state===WI&&nD(t,"onRejected",t.rejectReason)},nD=function(t,r,n){if(t[r].length!==0){var a=t[r];t[r]=[];var i=function(){for(var l=0;l<a.length;l++)a[l](n)};typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}},aD=function(t,r,n){return function(a){if(typeof t!="function")r[n].call(r,a);else{var i;try{i=t(a)}catch(o){r.reject(o);return}QI(r,i)}}},QI=function(t,r){if(t===r||t.proxy===r){t.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(Ar(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(i){t.reject(i);return}if(typeof n=="function"){var a=!1;try{n.call(r,function(i){a||(a=!0,i===r?t.reject(new TypeError("circular thenable chain")):QI(t,i))},function(i){a||(a=!0,t.reject(i))})}catch(i){a||t.reject(i)}return}t.fulfill(r)};Ra.all=function(e){return new Ra(function(t,r){for(var n=new Array(e.length),a=0,i=function(u,c){n[u]=c,a++,a===e.length&&t(n)},o=0;o<e.length;o++)(function(l){var u=e[l],c=u!=null&&u.then!=null;if(c)u.then(function(h){i(l,h)},function(h){r(h)});else{var d=u;i(l,d)}})(o)})};Ra.resolve=function(e){return new Ra(function(t,r){t(e)})};Ra.reject=function(e){return new Ra(function(t,r){r(e)})};var _u=typeof Promise<"u"?Promise:Ra,xx=function(t,r,n){var a=gE(t),i=!a,o=this._private=Xe({duration:1e3},r,n);if(o.target=t,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&er(o.complete)&&o.completes.push(o.complete),i){var l=t.position();o.startPosition=o.startPosition||{x:l.x,y:l.y},o.startStyle=o.startStyle||t.cy().style().getAnimationStartStyle(t,o.style)}if(a){var u=t.pan();o.startPan={x:u.x,y:u.y},o.startZoom=t.zoom()}this.length=1,this[0]=this},Ys=xx.prototype;Xe(Ys,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var r,n=t.target._private.animation;t.queue?r=n.queue:r=n.current,r.push(this),Zn(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return t.progress===1&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var r=this._private;return t===void 0?r.progress*r.duration:this.progress(t/r.duration)},progress:function(t){var r=this._private,n=r.playing;return t===void 0?r.progress:(n&&this.pause(),r.progress=t,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var t=this._private,r=t.playing;r&&this.pause(),t.progress=1-t.progress,t.started=!1;var n=function(c,d){var h=t[c];h!=null&&(t[c]=t[d],t[d]=h)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),t.style)for(var a=0;a<t.style.length;a++){var i=t.style[a],o=i.name,l=t.startStyle[o];t.startStyle[o]=i,t.style[a]=l}return r&&this.play(),this},promise:function(t){var r=this._private,n;switch(t){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new _u(function(a,i){n.push(function(){a()})})}});Ys.complete=Ys.completed;Ys.run=Ys.play;Ys.running=Ys.playing;var _J={animated:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return!1;var o=a[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var o=0;o<a.length;o++){var l=a[o];l._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],l=this._private.cy||this,u=!i,c=!u;if(!l.styleEnabled())return this;var d=l.style();r=Xe({},r,n);var h=Object.keys(r).length===0;if(h)return new xx(o[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(c&&(r.style=d.getPropsList(r.style||r.css),r.css=void 0),c&&r.renderedPosition!=null){var v=r.renderedPosition,g=l.pan(),m=l.zoom();r.position=II(v,m,g)}if(u&&r.panBy!=null){var b=r.panBy,x=l.pan();r.pan={x:x.x+b.x,y:x.y+b.y}}var w=r.center||r.centre;if(u&&w!=null){var S=l.getCenterPan(w.eles,r.zoom);S!=null&&(r.pan=S)}if(u&&r.fit!=null){var E=r.fit,O=l.getFitViewport(E.eles||E.boundingBox,E.padding);O!=null&&(r.pan=O.pan,r.zoom=O.zoom)}if(u&&mt(r.zoom)){var D=l.getZoomedViewport(r.zoom);D!=null?(D.zoomed&&(r.zoom=D.zoom),D.panned&&(r.pan=D.pan)):r.zoom=null}return new xx(o[0],r)}},animate:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],l=this._private.cy||this;if(!l.styleEnabled())return this;n&&(r=Xe({},r,n));for(var u=0;u<o.length;u++){var c=o[u],d=c.animated()&&(r.queue===void 0||r.queue),h=c.animation(r,d?{queue:!0}:void 0);h.play()}return this}},stop:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],l=this._private.cy||this;if(!l.styleEnabled())return this;for(var u=0;u<o.length;u++){for(var c=o[u],d=c._private,h=d.animation.current,v=0;v<h.length;v++){var g=h[v],m=g._private;n&&(m.duration=0)}r&&(d.animation.queue=[]),n||(d.animation.current=[])}return l.notify("draw"),this}}},cb,iD;function Up(){if(iD)return cb;iD=1;var e=Array.isArray;return cb=e,cb}var fb,oD;function MJ(){if(oD)return fb;oD=1;var e=Up(),t=Bf(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(e(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return fb=a,fb}var db,sD;function DJ(){if(sD)return db;sD=1;var e=_I(),t=Lf(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!t(l))return!1;var u=e(l);return u==n||u==a||u==r||u==i}return db=o,db}var hb,lD;function kJ(){if(lD)return hb;lD=1;var e=Ip(),t=e["__core-js_shared__"];return hb=t,hb}var vb,uD;function PJ(){if(uD)return vb;uD=1;var e=kJ(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return vb=r,vb}var pb,cD;function NJ(){if(cD)return pb;cD=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return pb=r,pb}var gb,fD;function RJ(){if(fD)return gb;fD=1;var e=DJ(),t=PJ(),r=Lf(),n=NJ(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,u=o.toString,c=l.hasOwnProperty,d=RegExp("^"+u.call(c).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(v){if(!r(v)||t(v))return!1;var g=e(v)?d:i;return g.test(n(v))}return gb=h,gb}var mb,dD;function LJ(){if(dD)return mb;dD=1;function e(t,r){return t==null?void 0:t[r]}return mb=e,mb}var yb,hD;function OE(){if(hD)return yb;hD=1;var e=RJ(),t=LJ();function r(n,a){var i=t(n,a);return e(i)?i:void 0}return yb=r,yb}var bb,vD;function Fp(){if(vD)return bb;vD=1;var e=OE(),t=e(Object,"create");return bb=t,bb}var xb,pD;function BJ(){if(pD)return xb;pD=1;var e=Fp();function t(){this.__data__=e?e(null):{},this.size=0}return xb=t,xb}var wb,gD;function IJ(){if(gD)return wb;gD=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return wb=e,wb}var Eb,mD;function zJ(){if(mD)return Eb;mD=1;var e=Fp(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var o=this.__data__;if(e){var l=o[i];return l===t?void 0:l}return n.call(o,i)?o[i]:void 0}return Eb=a,Eb}var Sb,yD;function jJ(){if(yD)return Sb;yD=1;var e=Fp(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:r.call(i,a)}return Sb=n,Sb}var Ab,bD;function GJ(){if(bD)return Ab;bD=1;var e=Fp(),t="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?t:a,this}return Ab=r,Ab}var Cb,xD;function UJ(){if(xD)return Cb;xD=1;var e=BJ(),t=IJ(),r=zJ(),n=jJ(),a=GJ();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var c=o[l];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Cb=i,Cb}var Tb,wD;function FJ(){if(wD)return Tb;wD=1;function e(){this.__data__=[],this.size=0}return Tb=e,Tb}var Ob,ED;function JI(){if(ED)return Ob;ED=1;function e(t,r){return t===r||t!==t&&r!==r}return Ob=e,Ob}var _b,SD;function qp(){if(SD)return _b;SD=1;var e=JI();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return _b=t,_b}var Mb,AD;function qJ(){if(AD)return Mb;AD=1;var e=qp(),t=Array.prototype,r=t.splice;function n(a){var i=this.__data__,o=e(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return Mb=n,Mb}var Db,CD;function HJ(){if(CD)return Db;CD=1;var e=qp();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return Db=t,Db}var kb,TD;function VJ(){if(TD)return kb;TD=1;var e=qp();function t(r){return e(this.__data__,r)>-1}return kb=t,kb}var Pb,OD;function YJ(){if(OD)return Pb;OD=1;var e=qp();function t(r,n){var a=this.__data__,i=e(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return Pb=t,Pb}var Nb,_D;function $J(){if(_D)return Nb;_D=1;var e=FJ(),t=qJ(),r=HJ(),n=VJ(),a=YJ();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var c=o[l];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Nb=i,Nb}var Rb,MD;function XJ(){if(MD)return Rb;MD=1;var e=OE(),t=Ip(),r=e(t,"Map");return Rb=r,Rb}var Lb,DD;function KJ(){if(DD)return Lb;DD=1;var e=UJ(),t=$J(),r=XJ();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Lb=n,Lb}var Bb,kD;function WJ(){if(kD)return Bb;kD=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Bb=e,Bb}var Ib,PD;function Hp(){if(PD)return Ib;PD=1;var e=WJ();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return Ib=t,Ib}var zb,ND;function ZJ(){if(ND)return zb;ND=1;var e=Hp();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return zb=t,zb}var jb,RD;function QJ(){if(RD)return jb;RD=1;var e=Hp();function t(r){return e(this,r).get(r)}return jb=t,jb}var Gb,LD;function JJ(){if(LD)return Gb;LD=1;var e=Hp();function t(r){return e(this,r).has(r)}return Gb=t,Gb}var Ub,BD;function eee(){if(BD)return Ub;BD=1;var e=Hp();function t(r,n){var a=e(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return Ub=t,Ub}var Fb,ID;function tee(){if(ID)return Fb;ID=1;var e=KJ(),t=ZJ(),r=QJ(),n=JJ(),a=eee();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var c=o[l];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Fb=i,Fb}var qb,zD;function ree(){if(zD)return qb;zD=1;var e=tee(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],u=i.cache;if(u.has(l))return u.get(l);var c=n.apply(this,o);return i.cache=u.set(l,c)||u,c};return i.cache=new(r.Cache||e),i}return r.Cache=e,qb=r,qb}var Hb,jD;function nee(){if(jD)return Hb;jD=1;var e=ree(),t=500;function r(n){var a=e(n,function(o){return i.size===t&&i.clear(),o}),i=a.cache;return a}return Hb=r,Hb}var Vb,GD;function ez(){if(GD)return Vb;GD=1;var e=nee(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(o,l,u,c){i.push(u?c.replace(r,"$1"):l||o)}),i});return Vb=n,Vb}var Yb,UD;function tz(){if(UD)return Yb;UD=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=Array(a);++n<a;)i[n]=r(t[n],n,t);return i}return Yb=e,Yb}var $b,FD;function aee(){if(FD)return $b;FD=1;var e=yE(),t=tz(),r=Up(),n=Bf(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return t(l,o)+"";if(n(l))return i?i.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}return $b=o,$b}var Xb,qD;function rz(){if(qD)return Xb;qD=1;var e=aee();function t(r){return r==null?"":e(r)}return Xb=t,Xb}var Kb,HD;function nz(){if(HD)return Kb;HD=1;var e=Up(),t=MJ(),r=ez(),n=rz();function a(i,o){return e(i)?i:t(i,o)?[i]:r(n(i))}return Kb=a,Kb}var Wb,VD;function _E(){if(VD)return Wb;VD=1;var e=Bf();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Wb=t,Wb}var Zb,YD;function iee(){if(YD)return Zb;YD=1;var e=nz(),t=_E();function r(n,a){a=e(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[t(a[i++])];return i&&i==o?n:void 0}return Zb=r,Zb}var Qb,$D;function oee(){if($D)return Qb;$D=1;var e=iee();function t(r,n,a){var i=r==null?void 0:e(r,n);return i===void 0?a:i}return Qb=t,Qb}var see=oee(),lee=Rf(see),Jb,XD;function uee(){if(XD)return Jb;XD=1;var e=OE(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Jb=t,Jb}var e1,KD;function cee(){if(KD)return e1;KD=1;var e=uee();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return e1=t,e1}var t1,WD;function fee(){if(WD)return t1;WD=1;var e=cee(),t=JI(),r=Object.prototype,n=r.hasOwnProperty;function a(i,o,l){var u=i[o];(!(n.call(i,o)&&t(u,l))||l===void 0&&!(o in i))&&e(i,o,l)}return t1=a,t1}var r1,ZD;function dee(){if(ZD)return r1;ZD=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return r1=r,r1}var n1,QD;function hee(){if(QD)return n1;QD=1;var e=fee(),t=nz(),r=dee(),n=Lf(),a=_E();function i(o,l,u,c){if(!n(o))return o;l=t(l,o);for(var d=-1,h=l.length,v=h-1,g=o;g!=null&&++d<h;){var m=a(l[d]),b=u;if(m==="__proto__"||m==="constructor"||m==="prototype")return o;if(d!=v){var x=g[m];b=c?c(x,m,g):void 0,b===void 0&&(b=n(x)?x:r(l[d+1])?[]:{})}e(g,m,b),g=g[m]}return o}return n1=i,n1}var a1,JD;function vee(){if(JD)return a1;JD=1;var e=hee();function t(r,n,a){return r==null?r:e(r,n,a)}return a1=t,a1}var pee=vee(),gee=Rf(pee),i1,ek;function mee(){if(ek)return i1;ek=1;function e(t,r){var n=-1,a=t.length;for(r||(r=Array(a));++n<a;)r[n]=t[n];return r}return i1=e,i1}var o1,tk;function yee(){if(tk)return o1;tk=1;var e=tz(),t=mee(),r=Up(),n=Bf(),a=ez(),i=_E(),o=rz();function l(u){return r(u)?e(u,i):n(u)?[u]:t(a(o(u)))}return o1=l,o1}var bee=yee(),xee=Rf(bee),wee={data:function(t){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,i){},onSet:function(a){},canSet:function(a){return!0}};return t=Xe({},r,t),function(a,i){var o=t,l=this,u=l.length!==void 0,c=u?l:[l],d=u?l[0]:l;if(Ve(a)){var h=a.indexOf(".")!==-1,v=h&&xee(a);if(o.allowGetting&&i===void 0){var g;return d&&(o.beforeGet(d),v&&d._private[o.field][a]===void 0?g=lee(d._private[o.field],v):g=d._private[o.field][a]),g}else if(o.allowSetting&&i!==void 0){var m=!o.immutableKeys[a];if(m){var b=yI({},a,i);o.beforeSet(l,b);for(var x=0,w=c.length;x<w;x++){var S=c[x];o.canSet(S)&&(v&&d._private[o.field][a]===void 0?gee(S._private[o.field],v,i):S._private[o.field][a]=i)}o.updateStyle&&l.updateStyle(),o.onSet(l),o.settingTriggersEvent&&l[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&mt(a)){var E=a,O,D,k=Object.keys(E);o.beforeSet(l,E);for(var T=0;T<k.length;T++){O=k[T],D=E[O];var _=!o.immutableKeys[O];if(_)for(var M=0;M<c.length;M++){var R=c[M];o.canSet(R)&&(R._private[o.field][O]=D)}}o.updateStyle&&l.updateStyle(),o.onSet(l),o.settingTriggersEvent&&l[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&er(a)){var P=a;l.on(o.bindingEvent,P)}else if(o.allowGetting&&a===void 0){var L;return d&&(o.beforeGet(d),L=d._private[o.field]),L}return l}},removeData:function(t){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return t=Xe({},r,t),function(a){var i=t,o=this,l=o.length!==void 0,u=l?o:[o];if(Ve(a)){for(var c=a.split(/\s+/),d=c.length,h=0;h<d;h++){var v=c[h];if(!Bo(v)){var g=!i.immutableKeys[v];if(g)for(var m=0,b=u.length;m<b;m++)u[m]._private[i.field][v]=void 0}}i.triggerEvent&&o[i.triggerFnName](i.event)}else if(a===void 0){for(var x=0,w=u.length;x<w;x++)for(var S=u[x]._private[i.field],E=Object.keys(S),O=0;O<E.length;O++){var D=E[O],k=!i.immutableKeys[D];k&&(S[D]=void 0)}i.triggerEvent&&o[i.triggerFnName](i.event)}return o}}},Eee={eventAliasesOn:function(t){var r=t;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,a){var i=this,o=Array.prototype.slice.call(arguments,0);return new _u(function(l,u){var c=function(g){i.off.apply(i,h),l(g)},d=o.concat([c]),h=d.concat([]);i.on.apply(i,d)})}}},At={};[_J,wee,Eee].forEach(function(e){Xe(At,e)});var See={animate:At.animate(),animation:At.animation(),animated:At.animated(),clearQueue:At.clearQueue(),delay:At.delay(),delayAnimation:At.delayAnimation(),stop:At.stop()},Hh={classes:function(t){var r=this;if(t===void 0){var n=[];return r[0]._private.classes.forEach(function(m){return n.push(m)}),n}else It(t)||(t=(t||"").match(/\S+/g)||[]);for(var a=[],i=new Ou(t),o=0;o<r.length;o++){for(var l=r[o],u=l._private,c=u.classes,d=!1,h=0;h<t.length;h++){var v=t[h],g=c.has(v);if(!g){d=!0;break}}d||(d=c.size!==t.length),d&&(u.classes=i,a.push(l))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),r},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var r=this[0];return r!=null&&r._private.classes.has(t)},toggleClass:function(t,r){It(t)||(t=t.match(/\S+/g)||[]);for(var n=this,a=r===void 0,i=[],o=0,l=n.length;o<l;o++)for(var u=n[o],c=u._private.classes,d=!1,h=0;h<t.length;h++){var v=t[h],g=c.has(v),m=!1;r||a&&!g?(c.add(v),m=!0):(!r||a&&g)&&(c.delete(v),m=!0),!d&&m&&(i.push(u),d=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(t),setTimeout(function(){n.removeClass(t)},r),n}};Hh.className=Hh.classNames=Hh.classes;var gt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Sr,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};gt.variable="(?:[\\w-.]|(?:\\\\"+gt.metaChar+"))+";gt.className="(?:[\\w-]|(?:\\\\"+gt.metaChar+"))+";gt.value=gt.string+"|"+gt.number;gt.id=gt.variable;(function(){var e,t,r;for(e=gt.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],gt.comparatorOp+="|@"+t;for(e=gt.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],!(t.indexOf("!")>=0)&&t!=="="&&(gt.comparatorOp+="|\\!"+t)})();var Nt=function(){return{checks:[]}},Le={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},wx=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":compound",matches:function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort(function(e,t){return wZ(e.selector,t.selector)}),Aee=(function(){for(var e={},t,r=0;r<wx.length;r++)t=wx[r],e[t.selector]=t.matches;return e})(),Cee=function(t,r){return Aee[t](r)},Tee="("+wx.map(function(e){return e.selector}).join("|")+")",Il=function(t){return t.replace(new RegExp("\\\\("+gt.metaChar+")","g"),function(r,n){return n})},Eo=function(t,r,n){t[t.length-1]=n},Ex=[{name:"group",query:!0,regex:"("+gt.group+")",populate:function(t,r,n){var a=gr(n,1),i=a[0];r.checks.push({type:Le.GROUP,value:i==="*"?i:i+"s"})}},{name:"state",query:!0,regex:Tee,populate:function(t,r,n){var a=gr(n,1),i=a[0];r.checks.push({type:Le.STATE,value:i})}},{name:"id",query:!0,regex:"\\#("+gt.id+")",populate:function(t,r,n){var a=gr(n,1),i=a[0];r.checks.push({type:Le.ID,value:Il(i)})}},{name:"className",query:!0,regex:"\\.("+gt.className+")",populate:function(t,r,n){var a=gr(n,1),i=a[0];r.checks.push({type:Le.CLASS,value:Il(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+gt.variable+")\\s*\\]",populate:function(t,r,n){var a=gr(n,1),i=a[0];r.checks.push({type:Le.DATA_EXIST,field:Il(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+gt.variable+")\\s*("+gt.comparatorOp+")\\s*("+gt.value+")\\s*\\]",populate:function(t,r,n){var a=gr(n,3),i=a[0],o=a[1],l=a[2],u=new RegExp("^"+gt.string+"$").exec(l)!=null;u?l=l.substring(1,l.length-1):l=parseFloat(l),r.checks.push({type:Le.DATA_COMPARE,field:Il(i),operator:o,value:l})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+gt.boolOp+")\\s*("+gt.variable+")\\s*\\]",populate:function(t,r,n){var a=gr(n,2),i=a[0],o=a[1];r.checks.push({type:Le.DATA_BOOL,field:Il(o),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+gt.meta+")\\s*("+gt.comparatorOp+")\\s*("+gt.number+")\\s*\\]\\]",populate:function(t,r,n){var a=gr(n,3),i=a[0],o=a[1],l=a[2];r.checks.push({type:Le.META_COMPARE,field:Il(i),operator:o,value:parseFloat(l)})}},{name:"nextQuery",separator:!0,regex:gt.separator,populate:function(t,r){var n=t.currentSubject,a=t.edgeCount,i=t.compoundCount,o=t[t.length-1];n!=null&&(o.subject=n,t.currentSubject=null),o.edgeCount=a,o.compoundCount=i,t.edgeCount=0,t.compoundCount=0;var l=t[t.length++]=Nt();return l}},{name:"directedEdge",separator:!0,regex:gt.directedEdge,populate:function(t,r){if(t.currentSubject==null){var n=Nt(),a=r,i=Nt();return n.checks.push({type:Le.DIRECTED_EDGE,source:a,target:i}),Eo(t,r,n),t.edgeCount++,i}else{var o=Nt(),l=r,u=Nt();return o.checks.push({type:Le.NODE_SOURCE,source:l,target:u}),Eo(t,r,o),t.edgeCount++,u}}},{name:"undirectedEdge",separator:!0,regex:gt.undirectedEdge,populate:function(t,r){if(t.currentSubject==null){var n=Nt(),a=r,i=Nt();return n.checks.push({type:Le.UNDIRECTED_EDGE,nodes:[a,i]}),Eo(t,r,n),t.edgeCount++,i}else{var o=Nt(),l=r,u=Nt();return o.checks.push({type:Le.NODE_NEIGHBOR,node:l,neighbor:u}),Eo(t,r,o),u}}},{name:"child",separator:!0,regex:gt.child,populate:function(t,r){if(t.currentSubject==null){var n=Nt(),a=Nt(),i=t[t.length-1];return n.checks.push({type:Le.CHILD,parent:i,child:a}),Eo(t,r,n),t.compoundCount++,a}else if(t.currentSubject===r){var o=Nt(),l=t[t.length-1],u=Nt(),c=Nt(),d=Nt(),h=Nt();return o.checks.push({type:Le.COMPOUND_SPLIT,left:l,right:u,subject:c}),c.checks=r.checks,r.checks=[{type:Le.TRUE}],h.checks.push({type:Le.TRUE}),u.checks.push({type:Le.PARENT,parent:h,child:d}),Eo(t,l,o),t.currentSubject=c,t.compoundCount++,d}else{var v=Nt(),g=Nt(),m=[{type:Le.PARENT,parent:v,child:g}];return v.checks=r.checks,r.checks=m,t.compoundCount++,g}}},{name:"descendant",separator:!0,regex:gt.descendant,populate:function(t,r){if(t.currentSubject==null){var n=Nt(),a=Nt(),i=t[t.length-1];return n.checks.push({type:Le.DESCENDANT,ancestor:i,descendant:a}),Eo(t,r,n),t.compoundCount++,a}else if(t.currentSubject===r){var o=Nt(),l=t[t.length-1],u=Nt(),c=Nt(),d=Nt(),h=Nt();return o.checks.push({type:Le.COMPOUND_SPLIT,left:l,right:u,subject:c}),c.checks=r.checks,r.checks=[{type:Le.TRUE}],h.checks.push({type:Le.TRUE}),u.checks.push({type:Le.ANCESTOR,ancestor:h,descendant:d}),Eo(t,l,o),t.currentSubject=c,t.compoundCount++,d}else{var v=Nt(),g=Nt(),m=[{type:Le.ANCESTOR,ancestor:v,descendant:g}];return v.checks=r.checks,r.checks=m,t.compoundCount++,g}}},{name:"subject",modifier:!0,regex:gt.subject,populate:function(t,r){if(t.currentSubject!=null&&t.currentSubject!==r)return Ct("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=r;var n=t[t.length-1],a=n.checks[0],i=a==null?null:a.type;i===Le.DIRECTED_EDGE?a.type=Le.NODE_TARGET:i===Le.UNDIRECTED_EDGE&&(a.type=Le.NODE_NEIGHBOR,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];Ex.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)});var Oee=function(t){for(var r,n,a,i=0;i<Ex.length;i++){var o=Ex[i],l=o.name,u=t.match(o.regexObj);if(u!=null){n=u,r=o,a=l;var c=u[0];t=t.substring(c.length);break}}return{expr:r,match:n,name:a,remaining:t}},_ee=function(t){var r=t.match(/^\s+/);if(r){var n=r[0];t=t.substring(n.length)}return t},Mee=function(t){var r=this,n=r.inputText=t,a=r[0]=Nt();for(r.length=1,n=_ee(n);;){var i=Oee(n);if(i.expr==null)return Ct("The selector `"+t+"`is invalid"),!1;var o=i.match.slice(1),l=i.expr.populate(r,a,o);if(l===!1)return!1;if(l!=null&&(a=l),n=i.remaining,n.match(/^\s*$/))break}var u=r[r.length-1];r.currentSubject!=null&&(u.subject=r.currentSubject),u.edgeCount=r.edgeCount,u.compoundCount=r.compoundCount;for(var c=0;c<r.length;c++){var d=r[c];if(d.compoundCount>0&&d.edgeCount>0)return Ct("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(d.edgeCount>1)return Ct("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;d.edgeCount===1&&Ct("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},Dee=function(){if(this.toStringCache!=null)return this.toStringCache;for(var t=function(d){return d??""},r=function(d){return Ve(d)?'"'+d+'"':t(d)},n=function(d){return" "+d+" "},a=function(d,h){var v=d.type,g=d.value;switch(v){case Le.GROUP:{var m=t(g);return m.substring(0,m.length-1)}case Le.DATA_COMPARE:{var b=d.field,x=d.operator;return"["+b+n(t(x))+r(g)+"]"}case Le.DATA_BOOL:{var w=d.operator,S=d.field;return"["+t(w)+S+"]"}case Le.DATA_EXIST:{var E=d.field;return"["+E+"]"}case Le.META_COMPARE:{var O=d.operator,D=d.field;return"[["+D+n(t(O))+r(g)+"]]"}case Le.STATE:return g;case Le.ID:return"#"+g;case Le.CLASS:return"."+g;case Le.PARENT:case Le.CHILD:return i(d.parent,h)+n(">")+i(d.child,h);case Le.ANCESTOR:case Le.DESCENDANT:return i(d.ancestor,h)+" "+i(d.descendant,h);case Le.COMPOUND_SPLIT:{var k=i(d.left,h),T=i(d.subject,h),_=i(d.right,h);return k+(k.length>0?" ":"")+T+_}case Le.TRUE:return""}},i=function(d,h){return d.checks.reduce(function(v,g,m){return v+(h===d&&m===0?"$":"")+a(g,h)},"")},o="",l=0;l<this.length;l++){var u=this[l];o+=i(u,u.subject),this.length>1&&l<this.length-1&&(o+=", ")}return this.toStringCache=o,o},kee={parse:Mee,toString:Dee},az=function(t,r,n){var a,i=Ve(t),o=Te(t),l=Ve(n),u,c,d=!1,h=!1,v=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),h=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),d=!0),(i||l||d)&&(u=!i&&!o?"":""+t,c=""+n),d&&(t=u=u.toLowerCase(),n=c=c.toLowerCase()),r){case"*=":a=u.indexOf(c)>=0;break;case"$=":a=u.indexOf(c,u.length-c.length)>=0;break;case"^=":a=u.indexOf(c)===0;break;case"=":a=t===n;break;case">":v=!0,a=t>n;break;case">=":v=!0,a=t>=n;break;case"<":v=!0,a=t<n;break;case"<=":v=!0,a=t<=n;break;default:a=!1;break}return h&&(t!=null||!v)&&(a=!a),a},Pee=function(t,r){switch(r){case"?":return!!t;case"!":return!t;case"^":return t===void 0}},Nee=function(t){return t!==void 0},ME=function(t,r){return t.data(r)},Ree=function(t,r){return t[r]()},ar=[],Ht=function(t,r){return t.checks.every(function(n){return ar[n.type](n,r)})};ar[Le.GROUP]=function(e,t){var r=e.value;return r==="*"||r===t.group()};ar[Le.STATE]=function(e,t){var r=e.value;return Cee(r,t)};ar[Le.ID]=function(e,t){var r=e.value;return t.id()===r};ar[Le.CLASS]=function(e,t){var r=e.value;return t.hasClass(r)};ar[Le.META_COMPARE]=function(e,t){var r=e.field,n=e.operator,a=e.value;return az(Ree(t,r),n,a)};ar[Le.DATA_COMPARE]=function(e,t){var r=e.field,n=e.operator,a=e.value;return az(ME(t,r),n,a)};ar[Le.DATA_BOOL]=function(e,t){var r=e.field,n=e.operator;return Pee(ME(t,r),n)};ar[Le.DATA_EXIST]=function(e,t){var r=e.field;return e.operator,Nee(ME(t,r))};ar[Le.UNDIRECTED_EDGE]=function(e,t){var r=e.nodes[0],n=e.nodes[1],a=t.source(),i=t.target();return Ht(r,a)&&Ht(n,i)||Ht(n,a)&&Ht(r,i)};ar[Le.NODE_NEIGHBOR]=function(e,t){return Ht(e.node,t)&&t.neighborhood().some(function(r){return r.isNode()&&Ht(e.neighbor,r)})};ar[Le.DIRECTED_EDGE]=function(e,t){return Ht(e.source,t.source())&&Ht(e.target,t.target())};ar[Le.NODE_SOURCE]=function(e,t){return Ht(e.source,t)&&t.outgoers().some(function(r){return r.isNode()&&Ht(e.target,r)})};ar[Le.NODE_TARGET]=function(e,t){return Ht(e.target,t)&&t.incomers().some(function(r){return r.isNode()&&Ht(e.source,r)})};ar[Le.CHILD]=function(e,t){return Ht(e.child,t)&&Ht(e.parent,t.parent())};ar[Le.PARENT]=function(e,t){return Ht(e.parent,t)&&t.children().some(function(r){return Ht(e.child,r)})};ar[Le.DESCENDANT]=function(e,t){return Ht(e.descendant,t)&&t.ancestors().some(function(r){return Ht(e.ancestor,r)})};ar[Le.ANCESTOR]=function(e,t){return Ht(e.ancestor,t)&&t.descendants().some(function(r){return Ht(e.descendant,r)})};ar[Le.COMPOUND_SPLIT]=function(e,t){return Ht(e.subject,t)&&Ht(e.left,t)&&Ht(e.right,t)};ar[Le.TRUE]=function(){return!0};ar[Le.COLLECTION]=function(e,t){var r=e.value;return r.has(t)};ar[Le.FILTER]=function(e,t){var r=e.value;return r(t)};var Lee=function(t){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===Le.ID)return t.getElementById(r[0].checks[0].value).collection();var n=function(i){for(var o=0;o<r.length;o++){var l=r[o];if(Ht(l,i))return!0}return!1};return r.text()==null&&(n=function(){return!0}),t.filter(n)},Bee=function(t){for(var r=this,n=0;n<r.length;n++){var a=r[n];if(Ht(a,t))return!0}return!1},Iee={matches:Bee,filter:Lee},jo=function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,t==null||Ve(t)&&t.match(/^\s*$/)||(Zn(t)?this.addQuery({checks:[{type:Le.COLLECTION,value:t.collection()}]}):er(t)?this.addQuery({checks:[{type:Le.FILTER,value:t}]}):Ve(t)?this.parse(t)||(this.invalid=!0):Wt("A selector must be created from a string; found "))},Go=jo.prototype;[kee,Iee].forEach(function(e){return Xe(Go,e)});Go.text=function(){return this.inputText};Go.size=function(){return this.length};Go.eq=function(e){return this[e]};Go.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()};Go.addQuery=function(e){this[this.length++]=e};Go.selector=Go.toString;var Po={allAre:function(t){var r=new jo(t);return this.every(function(n){return r.matches(n)})},is:function(t){var r=new jo(t);return this.some(function(n){return r.matches(n)})},some:function(t,r){for(var n=0;n<this.length;n++){var a=r?t.apply(r,[this[n],n,this]):t(this[n],n,this);if(a)return!0}return!1},every:function(t,r){for(var n=0;n<this.length;n++){var a=r?t.apply(r,[this[n],n,this]):t(this[n],n,this);if(!a)return!1}return!0},same:function(t){if(this===t)return!0;t=this.cy().collection(t);var r=this.length,n=t.length;return r!==n?!1:r===1?this[0]===t[0]:this.every(function(a){return t.hasElementWithId(a.id())})},anySame:function(t){return t=this.cy().collection(t),this.some(function(r){return t.hasElementWithId(r.id())})},allAreNeighbors:function(t){t=this.cy().collection(t);var r=this.neighborhood();return t.every(function(n){return r.hasElementWithId(n.id())})},contains:function(t){t=this.cy().collection(t);var r=this;return t.every(function(n){return r.hasElementWithId(n.id())})}};Po.allAreNeighbours=Po.allAreNeighbors;Po.has=Po.contains;Po.equal=Po.equals=Po.same;var wa=function(t,r){return function(a,i,o,l){var u=a,c=this,d;if(u==null?d="":Zn(u)&&u.length===1&&(d=u.id()),c.length===1&&d){var h=c[0]._private,v=h.traversalCache=h.traversalCache||{},g=v[r]=v[r]||[],m=Hs(d),b=g[m];return b||(g[m]=t.call(c,a,i,o,l))}else return t.call(c,a,i,o,l)}},gu={parent:function(t){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var a=0;a<this.length;a++){var i=this[a],o=i._private.parent;o&&r.push(o)}return this.spawn(r,!0).filter(t)},parents:function(t){for(var r=[],n=this.parent();n.nonempty();){for(var a=0;a<n.length;a++){var i=n[a];r.push(i)}n=n.parent()}return this.spawn(r,!0).filter(t)},commonAncestors:function(t){for(var r,n=0;n<this.length;n++){var a=this[n],i=a.parents();r=r||i,r=r.intersect(i)}return r.filter(t)},orphans:function(t){return this.stdFilter(function(r){return r.isOrphan()}).filter(t)},nonorphans:function(t){return this.stdFilter(function(r){return r.isChild()}).filter(t)},children:wa(function(e){for(var t=[],r=0;r<this.length;r++)for(var n=this[r],a=n._private.children,i=0;i<a.length;i++)t.push(a[i]);return this.spawn(t,!0).filter(e)},"children"),siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length!==0},isChildless:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length===0},isChild:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent!=null},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent==null},descendants:function(t){var r=[];function n(a){for(var i=0;i<a.length;i++){var o=a[i];r.push(o),o.children().nonempty()&&n(o.children())}}return n(this.children()),this.spawn(r,!0).filter(t)}};function DE(e,t,r,n){for(var a=[],i=new Ou,o=e.cy(),l=o.hasCompoundNodes(),u=0;u<e.length;u++){var c=e[u];r?a.push(c):l&&n(a,i,c)}for(;a.length>0;){var d=a.shift();t(d),i.add(d.id()),l&&n(a,i,d)}return e}function iz(e,t,r){if(r.isParent())for(var n=r._private.children,a=0;a<n.length;a++){var i=n[a];t.has(i.id())||e.push(i)}}gu.forEachDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return DE(this,e,t,iz)};function oz(e,t,r){if(r.isChild()){var n=r._private.parent;t.has(n.id())||e.push(n)}}gu.forEachUp=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return DE(this,e,t,oz)};function zee(e,t,r){oz(e,t,r),iz(e,t,r)}gu.forEachUpAndDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return DE(this,e,t,zee)};gu.ancestors=gu.parents;var hf,sz;hf=sz={data:At.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:At.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:At.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:At.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:At.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:At.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}};hf.attr=hf.data;hf.removeAttr=hf.removeData;var jee=sz,Vp={};function s1(e){return function(t){var r=this;if(t===void 0&&(t=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,a=r[0],i=a._private.edges,o=0;o<i.length;o++){var l=i[o];!t&&l.isLoop()||(n+=e(a,l))}return n}else return}}Xe(Vp,{degree:s1(function(e,t){return t.source().same(t.target())?2:1}),indegree:s1(function(e,t){return t.target().same(e)?1:0}),outdegree:s1(function(e,t){return t.source().same(e)?1:0})});function zl(e,t){return function(r){for(var n,a=this.nodes(),i=0;i<a.length;i++){var o=a[i],l=o[e](r);l!==void 0&&(n===void 0||t(l,n))&&(n=l)}return n}}Xe(Vp,{minDegree:zl("degree",function(e,t){return e<t}),maxDegree:zl("degree",function(e,t){return e>t}),minIndegree:zl("indegree",function(e,t){return e<t}),maxIndegree:zl("indegree",function(e,t){return e>t}),minOutdegree:zl("outdegree",function(e,t){return e<t}),maxOutdegree:zl("outdegree",function(e,t){return e>t})});Xe(Vp,{totalDegree:function(t){for(var r=0,n=this.nodes(),a=0;a<n.length;a++)r+=n[a].degree(t);return r}});var Pa,lz,uz=function(t,r,n){for(var a=0;a<t.length;a++){var i=t[a];if(!i.locked()){var o=i._private.position,l={x:r.x!=null?r.x-o.x:0,y:r.y!=null?r.y-o.y:0};i.isParent()&&!(l.x===0&&l.y===0)&&i.children().shift(l,n),i.dirtyBoundingBoxCache()}}},rk={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:function(t,r){uz(t,r,!1)},onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}};Pa=lz={position:At.data(rk),silentPosition:At.data(Xe({},rk,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(t,r){uz(t,r,!0)},onSet:function(t){t.dirtyCompoundBoundsCache()}})),positions:function(t,r){if(mt(t))r?this.silentPosition(t):this.position(t);else if(er(t)){var n=t,a=this.cy();a.startBatch();for(var i=0;i<this.length;i++){var o=this[i],l=void 0;(l=n(o,i))&&(r?o.silentPosition(l):o.position(l))}a.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,r,n){var a;if(mt(t)?(a={x:Te(t.x)?t.x:0,y:Te(t.y)?t.y:0},n=r):Ve(t)&&Te(r)&&(a={x:0,y:0},a[t]=r),a!=null){var i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var l=this[o];if(!(i.hasCompoundNodes()&&l.isChild()&&l.ancestors().anySame(this))){var u=l.position(),c={x:u.x+a.x,y:u.y+a.y};n?l.silentPosition(c):l.position(c)}}i.endBatch()}return this},silentShift:function(t,r){return mt(t)?this.shift(t,!0):Ve(t)&&Te(r)&&this.shift(t,r,!0),this},renderedPosition:function(t,r){var n=this[0],a=this.cy(),i=a.zoom(),o=a.pan(),l=mt(t)?t:void 0,u=l!==void 0||r!==void 0&&Ve(t);if(n&&n.isNode())if(u)for(var c=0;c<this.length;c++){var d=this[c];r!==void 0?d.position(t,(r-o[t])/i):l!==void 0&&d.position(II(l,i,o))}else{var h=n.position();return l=jp(h,i,o),t===void 0?l:l[t]}else if(!u)return;return this},relativePosition:function(t,r){var n=this[0],a=this.cy(),i=mt(t)?t:void 0,o=i!==void 0||r!==void 0&&Ve(t),l=a.hasCompoundNodes();if(n&&n.isNode())if(o)for(var u=0;u<this.length;u++){var c=this[u],d=l?c.parent():null,h=d&&d.length>0,v=h;h&&(d=d[0]);var g=v?d.position():{x:0,y:0};r!==void 0?c.position(t,r+g[t]):i!==void 0&&c.position({x:i.x+g.x,y:i.y+g.y})}else{var m=n.position(),b=l?n.parent():null,x=b&&b.length>0,w=x;x&&(b=b[0]);var S=w?b.position():{x:0,y:0};return i={x:m.x-S.x,y:m.y-S.y},t===void 0?i:i[t]}else if(!o)return;return this}};Pa.modelPosition=Pa.point=Pa.position;Pa.modelPositions=Pa.points=Pa.positions;Pa.renderedPoint=Pa.renderedPosition;Pa.relativePoint=Pa.relativePosition;var Gee=lz,iu,Xo;iu=Xo={};Xo.renderedBoundingBox=function(e){var t=this.boundingBox(e),r=this.cy(),n=r.zoom(),a=r.pan(),i=t.x1*n+a.x,o=t.x2*n+a.x,l=t.y1*n+a.y,u=t.y2*n+a.y;return{x1:i,x2:o,y1:l,y2:u,w:o-i,h:u-l}};Xo.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();return!t.styleEnabled()||!t.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,e||r.emitAndNotify("bounds")}}),this)};Xo.updateCompoundBounds=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function r(o){if(!o.isParent())return;var l=o._private,u=o.children(),c=o.pstyle("compound-sizing-wrt-labels").value==="include",d={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},h=u.boundingBox({includeLabels:c,includeOverlays:!1,useCache:!1}),v=l.position;(h.w===0||h.h===0)&&(h={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},h.x1=v.x-h.w/2,h.x2=v.x+h.w/2,h.y1=v.y-h.h/2,h.y2=v.y+h.h/2);function g(M,R,P){var L=0,N=0,B=R+P;return M>0&&B>0&&(L=R/B*M,N=P/B*M),{biasDiff:L,biasComplementDiff:N}}function m(M,R,P,L){if(P.units==="%")switch(L){case"width":return M>0?P.pfValue*M:0;case"height":return R>0?P.pfValue*R:0;case"average":return M>0&&R>0?P.pfValue*(M+R)/2:0;case"min":return M>0&&R>0?M>R?P.pfValue*R:P.pfValue*M:0;case"max":return M>0&&R>0?M>R?P.pfValue*M:P.pfValue*R:0;default:return 0}else return P.units==="px"?P.pfValue:0}var b=d.width.left.value;d.width.left.units==="px"&&d.width.val>0&&(b=b*100/d.width.val);var x=d.width.right.value;d.width.right.units==="px"&&d.width.val>0&&(x=x*100/d.width.val);var w=d.height.top.value;d.height.top.units==="px"&&d.height.val>0&&(w=w*100/d.height.val);var S=d.height.bottom.value;d.height.bottom.units==="px"&&d.height.val>0&&(S=S*100/d.height.val);var E=g(d.width.val-h.w,b,x),O=E.biasDiff,D=E.biasComplementDiff,k=g(d.height.val-h.h,w,S),T=k.biasDiff,_=k.biasComplementDiff;l.autoPadding=m(h.w,h.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),l.autoWidth=Math.max(h.w,d.width.val),v.x=(-O+h.x1+h.x2+D)/2,l.autoHeight=Math.max(h.h,d.height.val),v.y=(-T+h.y1+h.y2+_)/2}for(var n=0;n<this.length;n++){var a=this[n],i=a._private;(!i.compoundBoundsClean||e)&&(r(a),t.batching()||(i.compoundBoundsClean=!0))}return this};var ya=function(t){return t===1/0||t===-1/0?0:t},Ma=function(t,r,n,a,i){a-r===0||i-n===0||r==null||n==null||a==null||i==null||(t.x1=r<t.x1?r:t.x1,t.x2=a>t.x2?a:t.x2,t.y1=n<t.y1?n:t.y1,t.y2=i>t.y2?i:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},To=function(t,r){return r==null?t:Ma(t,r.x1,r.y1,r.x2,r.y2)},Pc=function(t,r,n){return Mn(t,r,n)},Mh=function(t,r,n){if(!r.cy().headless()){var a=r._private,i=a.rstyle,o=i.arrowWidth/2,l=r.pstyle(n+"-arrow-shape").value,u,c;if(l!=="none"){n==="source"?(u=i.srcX,c=i.srcY):n==="target"?(u=i.tgtX,c=i.tgtY):(u=i.midX,c=i.midY);var d=a.arrowBounds=a.arrowBounds||{},h=d[n]=d[n]||{};h.x1=u-o,h.y1=c-o,h.x2=u+o,h.y2=c+o,h.w=h.x2-h.x1,h.h=h.y2-h.y1,Fh(h,1),Ma(t,h.x1,h.y1,h.x2,h.y2)}}},l1=function(t,r,n){if(!r.cy().headless()){var a;n?a=n+"-":a="";var i=r._private,o=i.rstyle,l=r.pstyle(a+"label").strValue;if(l){var u=r.pstyle("text-halign"),c=r.pstyle("text-valign"),d=Pc(o,"labelWidth",n),h=Pc(o,"labelHeight",n),v=Pc(o,"labelX",n),g=Pc(o,"labelY",n),m=r.pstyle(a+"text-margin-x").pfValue,b=r.pstyle(a+"text-margin-y").pfValue,x=r.isEdge(),w=r.pstyle(a+"text-rotation"),S=r.pstyle("text-outline-width").pfValue,E=r.pstyle("text-border-width").pfValue,O=E/2,D=r.pstyle("text-background-padding").pfValue,k=2,T=h,_=d,M=_/2,R=T/2,P,L,N,B;if(x)P=v-M,L=v+M,N=g-R,B=g+R;else{switch(u.value){case"left":P=v-_,L=v;break;case"center":P=v-M,L=v+M;break;case"right":P=v,L=v+_;break}switch(c.value){case"top":N=g-T,B=g;break;case"center":N=g-R,B=g+R;break;case"bottom":N=g,B=g+T;break}}var G=m-Math.max(S,O)-D-k,I=m+Math.max(S,O)+D+k,z=b-Math.max(S,O)-D-k,q=b+Math.max(S,O)+D+k;P+=G,L+=I,N+=z,B+=q;var H=n||"main",X=i.labelBounds,U=X[H]=X[H]||{};U.x1=P,U.y1=N,U.x2=L,U.y2=B,U.w=L-P,U.h=B-N,U.leftPad=G,U.rightPad=I,U.topPad=z,U.botPad=q;var V=x&&w.strValue==="autorotate",Q=w.pfValue!=null&&w.pfValue!==0;if(V||Q){var ee=V?Pc(i.rstyle,"labelAngle",n):w.pfValue,te=Math.cos(ee),ie=Math.sin(ee),ue=(P+L)/2,xe=(N+B)/2;if(!x){switch(u.value){case"left":ue=L;break;case"right":ue=P;break}switch(c.value){case"top":xe=B;break;case"bottom":xe=N;break}}var Z=function(Me,Ie){return Me=Me-ue,Ie=Ie-xe,{x:Me*te-Ie*ie+ue,y:Me*ie+Ie*te+xe}},re=Z(P,N),J=Z(P,B),W=Z(L,N),se=Z(L,B);P=Math.min(re.x,J.x,W.x,se.x),L=Math.max(re.x,J.x,W.x,se.x),N=Math.min(re.y,J.y,W.y,se.y),B=Math.max(re.y,J.y,W.y,se.y)}var he=H+"Rot",Ce=X[he]=X[he]||{};Ce.x1=P,Ce.y1=N,Ce.x2=L,Ce.y2=B,Ce.w=L-P,Ce.h=B-N,Ma(t,P,N,L,B),Ma(i.labelBounds.all,P,N,L,B)}return t}},nk=function(t,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,a=r.pstyle("outline-width").value,i=r.pstyle("outline-offset").value,o=a+i;cz(t,r,n,o,"outside",o/2)}},cz=function(t,r,n,a,i,o){if(!(n===0||a<=0||i==="inside")){var l=r.cy(),u=r.pstyle("shape").value,c=l.renderer().nodeShapes[u],d=r.position(),h=d.x,v=d.y,g=r.width(),m=r.height();if(c.hasMiterBounds){i==="center"&&(a/=2);var b=c.miterBounds(h,v,g,m,a);To(t,b)}else o!=null&&o>0&&qh(t,[o,o,o,o])}},Uee=function(t,r){if(!r.cy().headless()){var n=r.pstyle("border-opacity").value,a=r.pstyle("border-width").pfValue,i=r.pstyle("border-position").value;cz(t,r,n,a,i)}},Fee=function(t,r){var n=t._private.cy,a=n.styleEnabled(),i=n.headless(),o=mn(),l=t._private,u=t.isNode(),c=t.isEdge(),d,h,v,g,m,b,x=l.rstyle,w=u&&a?t.pstyle("bounds-expansion").pfValue:[0],S=function(_e){return _e.pstyle("display").value!=="none"},E=!a||S(t)&&(!c||S(t.source())&&S(t.target()));if(E){var O=0,D=0;a&&r.includeOverlays&&(O=t.pstyle("overlay-opacity").value,O!==0&&(D=t.pstyle("overlay-padding").value));var k=0,T=0;a&&r.includeUnderlays&&(k=t.pstyle("underlay-opacity").value,k!==0&&(T=t.pstyle("underlay-padding").value));var _=Math.max(D,T),M=0,R=0;if(a&&(M=t.pstyle("width").pfValue,R=M/2),u&&r.includeNodes){var P=t.position();m=P.x,b=P.y;var L=t.outerWidth(),N=L/2,B=t.outerHeight(),G=B/2;d=m-N,h=m+N,v=b-G,g=b+G,Ma(o,d,v,h,g),a&&nk(o,t),a&&r.includeOutlines&&!i&&nk(o,t),a&&Uee(o,t)}else if(c&&r.includeEdges)if(a&&!i){var I=t.pstyle("curve-style").strValue;if(d=Math.min(x.srcX,x.midX,x.tgtX),h=Math.max(x.srcX,x.midX,x.tgtX),v=Math.min(x.srcY,x.midY,x.tgtY),g=Math.max(x.srcY,x.midY,x.tgtY),d-=R,h+=R,v-=R,g+=R,Ma(o,d,v,h,g),I==="haystack"){var z=x.haystackPts;if(z&&z.length===2){if(d=z[0].x,v=z[0].y,h=z[1].x,g=z[1].y,d>h){var q=d;d=h,h=q}if(v>g){var H=v;v=g,g=H}Ma(o,d-R,v-R,h+R,g+R)}}else if(I==="bezier"||I==="unbundled-bezier"||_o(I,"segments")||_o(I,"taxi")){var X;switch(I){case"bezier":case"unbundled-bezier":X=x.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":X=x.linePts;break}if(X!=null)for(var U=0;U<X.length;U++){var V=X[U];d=V.x-R,h=V.x+R,v=V.y-R,g=V.y+R,Ma(o,d,v,h,g)}}}else{var Q=t.source(),ee=Q.position(),te=t.target(),ie=te.position();if(d=ee.x,h=ie.x,v=ee.y,g=ie.y,d>h){var ue=d;d=h,h=ue}if(v>g){var xe=v;v=g,g=xe}d-=R,h+=R,v-=R,g+=R,Ma(o,d,v,h,g)}if(a&&r.includeEdges&&c&&(Mh(o,t,"mid-source"),Mh(o,t,"mid-target"),Mh(o,t,"source"),Mh(o,t,"target")),a){var Z=t.pstyle("ghost").value==="yes";if(Z){var re=t.pstyle("ghost-offset-x").pfValue,J=t.pstyle("ghost-offset-y").pfValue;Ma(o,o.x1+re,o.y1+J,o.x2+re,o.y2+J)}}var W=l.bodyBounds=l.bodyBounds||{};FM(W,o),qh(W,w),Fh(W,1),a&&(d=o.x1,h=o.x2,v=o.y1,g=o.y2,Ma(o,d-_,v-_,h+_,g+_));var se=l.overlayBounds=l.overlayBounds||{};FM(se,o),qh(se,w),Fh(se,1);var he=l.labelBounds=l.labelBounds||{};he.all!=null?SQ(he.all):he.all=mn(),a&&r.includeLabels&&(r.includeMainLabels&&l1(o,t,null),c&&(r.includeSourceLabels&&l1(o,t,"source"),r.includeTargetLabels&&l1(o,t,"target")))}return o.x1=ya(o.x1),o.y1=ya(o.y1),o.x2=ya(o.x2),o.y2=ya(o.y2),o.w=ya(o.x2-o.x1),o.h=ya(o.y2-o.y1),o.w>0&&o.h>0&&E&&(qh(o,w),Fh(o,1)),o},fz=function(t){var r=0,n=function(o){return(o?1:0)<<r++},a=0;return a+=n(t.incudeNodes),a+=n(t.includeEdges),a+=n(t.includeLabels),a+=n(t.includeMainLabels),a+=n(t.includeSourceLabels),a+=n(t.includeTargetLabels),a+=n(t.includeOverlays),a+=n(t.includeOutlines),a},dz=function(t){var r=function(l){return Math.round(l)};if(t.isEdge()){var n=t.source().position(),a=t.target().position();return BM([r(n.x),r(n.y),r(a.x),r(a.y)])}else{var i=t.position();return BM([r(i.x),r(i.y)])}},ak=function(t,r){var n=t._private,a,i=t.isEdge(),o=r==null?ik:fz(r),l=o===ik;if(n.bbCache==null?(a=Fee(t,vf),n.bbCache=a,n.bbCachePosKey=dz(t)):a=n.bbCache,!l){var u=t.isNode();a=mn(),(r.includeNodes&&u||r.includeEdges&&!u)&&(r.includeOverlays?To(a,n.overlayBounds):To(a,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!i||r.includeSourceLabels&&r.includeTargetLabels)?To(a,n.labelBounds.all):(r.includeMainLabels&&To(a,n.labelBounds.mainRot),r.includeSourceLabels&&To(a,n.labelBounds.sourceRot),r.includeTargetLabels&&To(a,n.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},vf={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},ik=fz(vf),ok=en(vf);Xo.boundingBox=function(e){var t,r=e===void 0||e.useCache===void 0||e.useCache===!0,n=vu(function(d){var h=d._private;return h.bbCache==null||h.styleDirty||h.bbCachePosKey!==dz(d)},function(d){return d.id()});if(r&&this.length===1&&!n(this[0]))e===void 0?e=vf:e=ok(e),t=ak(this[0],e);else{t=mn(),e=e||vf;var a=ok(e),i=this,o=i.cy(),l=o.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),l&&this.recalculateRenderedStyle(r),this.updateCompoundBounds(!r);for(var u=0;u<i.length;u++){var c=i[u];n(c)&&c.dirtyBoundingBoxCache(),To(t,ak(c,a))}}return t.x1=ya(t.x1),t.y1=ya(t.y1),t.x2=ya(t.x2),t.y2=ya(t.y2),t.w=ya(t.x2-t.x1),t.h=ya(t.y2-t.y1),t};Xo.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Xo.boundingBoxAt=function(e){var t=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),a=r.collection();if(n&&(a=t.filter(function(c){return c.isParent()}),t=t.not(a)),mt(e)){var i=e;e=function(){return i}}var o=function(d,h){return d._private.bbAtOldPos=e(d,h)},l=function(d){return d._private.bbAtOldPos};r.startBatch(),t.forEach(o).silentPositions(e),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var u=EQ(this.boundingBox({useCache:!1}));return t.silentPositions(l),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),r.endBatch(),u};iu.boundingbox=iu.bb=iu.boundingBox;iu.renderedBoundingbox=iu.renderedBoundingBox;var qee=Xo,Hc,jf;Hc=jf={};var hz=function(t){t.uppercaseName=wM(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=wM(t.outerName),Hc[t.name]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){if(n.isParent())return n.updateCompoundBounds(),a[t.autoName]||0;var l=n.pstyle(t.name);switch(l.strValue){case"label":return n.recalculateRenderedStyle(),a.rstyle[t.labelName]||0;default:return l.pfValue}}else return 1},Hc["outer"+t.uppercaseName]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){var l=n[t.name](),u=n.pstyle("border-position").value,c;u==="center"?c=n.pstyle("border-width").pfValue:u==="outside"?c=2*n.pstyle("border-width").pfValue:c=0;var d=2*n.padding();return l+c+d}else return 1},Hc["rendered"+t.uppercaseName]=function(){var n=this[0];if(n){var a=n[t.name]();return a*this.cy().zoom()}},Hc["rendered"+t.uppercaseOuterName]=function(){var n=this[0];if(n){var a=n[t.outerName]();return a*this.cy().zoom()}}};hz({name:"width"});hz({name:"height"});jf.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),t.autoPadding!==void 0?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue};jf.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()};jf.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var Hee=jf,Vee=function(t,r){if(t.isEdge()&&t.takesUpSpace())return r(t)},Yee=function(t,r){if(t.isEdge()&&t.takesUpSpace()){var n=t.cy();return jp(r(t),n.zoom(),n.pan())}},$ee=function(t,r){if(t.isEdge()&&t.takesUpSpace()){var n=t.cy(),a=n.pan(),i=n.zoom();return r(t).map(function(o){return jp(o,i,a)})}},Xee=function(t){return t.renderer().getControlPoints(t)},Kee=function(t){return t.renderer().getSegmentPoints(t)},Wee=function(t){return t.renderer().getSourceEndpoint(t)},Zee=function(t){return t.renderer().getTargetEndpoint(t)},Qee=function(t){return t.renderer().getEdgeMidpoint(t)},sk={controlPoints:{get:Xee,mult:!0},segmentPoints:{get:Kee,mult:!0},sourceEndpoint:{get:Wee},targetEndpoint:{get:Zee},midpoint:{get:Qee}},Jee=function(t){return"rendered"+t[0].toUpperCase()+t.substr(1)},ete=Object.keys(sk).reduce(function(e,t){var r=sk[t],n=Jee(t);return e[t]=function(){return Vee(this,r.get)},r.mult?e[n]=function(){return $ee(this,r.get)}:e[n]=function(){return Yee(this,r.get)},e},{}),tte=Xe({},Gee,qee,Hee,ete);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var vz=function(t,r){this.recycle(t,r)};function Nc(){return!1}function Dh(){return!0}vz.prototype={instanceString:function(){return"event"},recycle:function(t,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Nc,t!=null&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?Dh:Nc):t!=null&&t.type?r=t:this.type=t,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,a=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*a+i.x,y:n.y*a+i.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Dh;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Dh;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Dh,this.stopPropagation()},isDefaultPrevented:Nc,isPropagationStopped:Nc,isImmediatePropagationStopped:Nc};var pz=/^([^.]+)(\.(?:[^.]+))?$/,rte=".*",gz={qualifierCompare:function(t,r){return t===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},lk=Object.keys(gz),nte={};function Yp(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nte,t=arguments.length>1?arguments[1]:void 0,r=0;r<lk.length;r++){var n=lk[r];this[n]=e[n]||gz[n]}this.context=t||this.context,this.listeners=[],this.emitting=0}var Uo=Yp.prototype,mz=function(t,r,n,a,i,o,l){er(a)&&(i=a,a=null),l&&(o==null?o=l:o=Xe({},o,l));for(var u=It(n)?n:n.split(/\s+/),c=0;c<u.length;c++){var d=u[c];if(!Bo(d)){var h=d.match(pz);if(h){var v=h[1],g=h[2]?h[2]:null,m=r(t,d,v,g,a,i,o);if(m===!1)break}}}},uk=function(t,r){return t.addEventFields(t.context,r),new vz(r.type,r)},ate=function(t,r,n){if(cZ(n)){r(t,n);return}else if(mt(n)){r(t,uk(t,n));return}for(var a=It(n)?n:n.split(/\s+/),i=0;i<a.length;i++){var o=a[i];if(!Bo(o)){var l=o.match(pz);if(l){var u=l[1],c=l[2]?l[2]:null,d=uk(t,{type:u,namespace:c,target:t.context});r(t,d)}}}};Uo.on=Uo.addListener=function(e,t,r,n,a){return mz(this,function(i,o,l,u,c,d,h){er(d)&&i.listeners.push({event:o,callback:d,type:l,namespace:u,qualifier:c,conf:h})},e,t,r,n,a),this};Uo.one=function(e,t,r,n){return this.on(e,t,r,n,{one:!0})};Uo.removeListener=Uo.off=function(e,t,r,n){var a=this;this.emitting!==0&&(this.listeners=YZ(this.listeners));for(var i=this.listeners,o=function(c){var d=i[c];mz(a,function(h,v,g,m,b,x){if((d.type===g||e==="*")&&(!m&&d.namespace!==".*"||d.namespace===m)&&(!b||h.qualifierCompare(d.qualifier,b))&&(!x||d.callback===x))return i.splice(c,1),!1},e,t,r,n)},l=i.length-1;l>=0;l--)o(l);return this};Uo.removeAllListeners=function(){return this.removeListener("*")};Uo.emit=Uo.trigger=function(e,t,r){var n=this.listeners,a=n.length;return this.emitting++,It(t)||(t=[t]),ate(this,function(i,o){r!=null&&(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:r}],a=n.length);for(var l=function(){var d=n[u];if(d.type===o.type&&(!d.namespace||d.namespace===o.namespace||d.namespace===rte)&&i.eventMatches(i.context,d,o)){var h=[o];t!=null&&XZ(h,t),i.beforeEmit(i.context,d,o),d.conf&&d.conf.one&&(i.listeners=i.listeners.filter(function(m){return m!==d}));var v=i.callbackContext(i.context,d,o),g=d.callback.apply(v,h);i.afterEmit(i.context,d,o),g===!1&&(o.stopPropagation(),o.preventDefault())}},u=0;u<a;u++)l();i.bubble(i.context)&&!o.isPropagationStopped()&&i.parent(i.context).emit(o,t)},e),this.emitting--,this};var ite={qualifierCompare:function(t,r){return t==null||r==null?t==null&&r==null:t.sameText(r)},eventMatches:function(t,r,n){var a=r.qualifier;return a!=null?t!==n.target&&Nf(n.target)&&a.matches(n.target):!0},addEventFields:function(t,r){r.cy=t.cy(),r.target=t},callbackContext:function(t,r,n){return r.qualifier!=null?n.target:t},beforeEmit:function(t,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},kh=function(t){return Ve(t)?new jo(t):t},yz={createEmitter:function(){for(var t=0;t<this.length;t++){var r=this[t],n=r._private;n.emitter||(n.emitter=new Yp(ite,r))}return this},emitter:function(){return this._private.emitter},on:function(t,r,n){for(var a=kh(r),i=0;i<this.length;i++){var o=this[i];o.emitter().on(t,a,n)}return this},removeListener:function(t,r,n){for(var a=kh(r),i=0;i<this.length;i++){var o=this[i];o.emitter().removeListener(t,a,n)}return this},removeAllListeners:function(){for(var t=0;t<this.length;t++){var r=this[t];r.emitter().removeAllListeners()}return this},one:function(t,r,n){for(var a=kh(r),i=0;i<this.length;i++){var o=this[i];o.emitter().one(t,a,n)}return this},once:function(t,r,n){for(var a=kh(r),i=0;i<this.length;i++){var o=this[i];o.emitter().on(t,a,n,{once:!0,onceCollection:this})}},emit:function(t,r){for(var n=0;n<this.length;n++){var a=this[n];a.emitter().emit(t,r)}return this},emitAndNotify:function(t,r){if(this.length!==0)return this.cy().notify(t,this),this.emit(t,r),this}};At.eventAliasesOn(yz);var bz={nodes:function(t){return this.filter(function(r){return r.isNode()}).filter(t)},edges:function(t){return this.filter(function(r){return r.isEdge()}).filter(t)},byGroup:function(){for(var t=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var a=this[n];a.isNode()?t.push(a):r.push(a)}return{nodes:t,edges:r}},filter:function(t,r){if(t===void 0)return this;if(Ve(t)||Zn(t))return new jo(t).filter(this);if(er(t)){for(var n=this.spawn(),a=this,i=0;i<a.length;i++){var o=a[i],l=r?t.apply(r,[o,i,a]):t(o,i,a);l&&n.push(o)}return n}return this.spawn()},not:function(t){if(t){Ve(t)&&(t=this.filter(t));for(var r=this.spawn(),n=0;n<this.length;n++){var a=this[n],i=t.has(a);i||r.push(a)}return r}else return this},absoluteComplement:function(){var t=this.cy();return t.mutableElements().not(this)},intersect:function(t){if(Ve(t)){var r=t;return this.filter(r)}for(var n=this.spawn(),a=this,i=t,o=this.length<t.length,l=o?a:i,u=o?i:a,c=0;c<l.length;c++){var d=l[c];u.has(d)&&n.push(d)}return n},xor:function(t){var r=this._private.cy;Ve(t)&&(t=r.$(t));var n=this.spawn(),a=this,i=t,o=function(u,c){for(var d=0;d<u.length;d++){var h=u[d],v=h._private.data.id,g=c.hasElementWithId(v);g||n.push(h)}};return o(a,i),o(i,a),n},diff:function(t){var r=this._private.cy;Ve(t)&&(t=r.$(t));var n=this.spawn(),a=this.spawn(),i=this.spawn(),o=this,l=t,u=function(d,h,v){for(var g=0;g<d.length;g++){var m=d[g],b=m._private.data.id,x=h.hasElementWithId(b);x?i.merge(m):v.push(m)}};return u(o,l,n),u(l,o,a),{left:n,right:a,both:i}},add:function(t){var r=this._private.cy;if(!t)return this;if(Ve(t)){var n=t;t=r.mutableElements().filter(n)}for(var a=this.spawnSelf(),i=0;i<t.length;i++){var o=t[i],l=!this.has(o);l&&a.push(o)}return a},merge:function(t){var r=this._private,n=r.cy;if(!t)return this;if(t&&Ve(t)){var a=t;t=n.mutableElements().filter(a)}for(var i=r.map,o=0;o<t.length;o++){var l=t[o],u=l._private.data.id,c=!i.has(u);if(c){var d=this.length++;this[d]=l,i.set(u,{ele:l,index:d})}}return this},unmergeAt:function(t){var r=this[t],n=r.id(),a=this._private,i=a.map;this[t]=void 0,i.delete(n);var o=t===this.length-1;if(this.length>1&&!o){var l=this.length-1,u=this[l],c=u._private.data.id;this[l]=void 0,this[t]=u,i.set(c,{ele:u,index:t})}return this.length--,this},unmergeOne:function(t){t=t[0];var r=this._private,n=t._private.data.id,a=r.map,i=a.get(n);if(!i)return this;var o=i.index;return this.unmergeAt(o),this},unmerge:function(t){var r=this._private.cy;if(!t)return this;if(t&&Ve(t)){var n=t;t=r.mutableElements().filter(n)}for(var a=0;a<t.length;a++)this.unmergeOne(t[a]);return this},unmergeBy:function(t){for(var r=this.length-1;r>=0;r--){var n=this[r];t(n)&&this.unmergeAt(r)}return this},map:function(t,r){for(var n=[],a=this,i=0;i<a.length;i++){var o=a[i],l=r?t.apply(r,[o,i,a]):t(o,i,a);n.push(l)}return n},reduce:function(t,r){for(var n=r,a=this,i=0;i<a.length;i++)n=t(n,a[i],i,a);return n},max:function(t,r){for(var n=-1/0,a,i=this,o=0;o<i.length;o++){var l=i[o],u=r?t.apply(r,[l,o,i]):t(l,o,i);u>n&&(n=u,a=l)}return{value:n,ele:a}},min:function(t,r){for(var n=1/0,a,i=this,o=0;o<i.length;o++){var l=i[o],u=r?t.apply(r,[l,o,i]):t(l,o,i);u<n&&(n=u,a=l)}return{value:n,ele:a}}},wt=bz;wt.u=wt["|"]=wt["+"]=wt.union=wt.or=wt.add;wt["\\"]=wt["!"]=wt["-"]=wt.difference=wt.relativeComplement=wt.subtract=wt.not;wt.n=wt["&"]=wt["."]=wt.and=wt.intersection=wt.intersect;wt["^"]=wt["(+)"]=wt["(-)"]=wt.symmetricDifference=wt.symdiff=wt.xor;wt.fnFilter=wt.filterFn=wt.stdFilter=wt.filter;wt.complement=wt.abscomp=wt.absoluteComplement;var ote={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var t=this[0];if(t)return t._private.group}},xz=function(t,r){var n=t.cy(),a=n.hasCompoundNodes();function i(d){var h=d.pstyle("z-compound-depth");return h.value==="auto"?a?d.zDepth():0:h.value==="bottom"?-1:h.value==="top"?bE:0}var o=i(t)-i(r);if(o!==0)return o;function l(d){var h=d.pstyle("z-index-compare");return h.value==="auto"&&d.isNode()?1:0}var u=l(t)-l(r);if(u!==0)return u;var c=t.pstyle("z-index").value-r.pstyle("z-index").value;return c!==0?c:t.poolIndex()-r.poolIndex()},$v={forEach:function(t,r){if(er(t))for(var n=this.length,a=0;a<n;a++){var i=this[a],o=r?t.apply(r,[i,a,this]):t(i,a,this);if(o===!1)break}return this},toArray:function(){for(var t=[],r=0;r<this.length;r++)t.push(this[r]);return t},slice:function(t,r){var n=[],a=this.length;r==null&&(r=a),t==null&&(t=0),t<0&&(t=a+t),r<0&&(r=a+r);for(var i=t;i>=0&&i<r&&i<a;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(t){if(!er(t))return this;var r=this.toArray().sort(t);return this.spawn(r)},sortByZIndex:function(){return this.sort(xz)},zDepth:function(){var t=this[0];if(t){var r=t._private,n=r.group;if(n==="nodes"){var a=r.data.parent?t.parents().size():0;return t.isParent()?a:bE-1}else{var i=r.source,o=r.target,l=i.zDepth(),u=o.zDepth();return Math.max(l,u,0)}}}};$v.each=$v.forEach;var ste=function(){var t="undefined",r=(typeof Symbol>"u"?"undefined":Ar(Symbol))!=t&&Ar(Symbol.iterator)!=t;r&&($v[Symbol.iterator]=function(){var n=this,a={value:void 0,done:!1},i=0,o=this.length;return yI({next:function(){return i<o?a.value=n[i++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})})};ste();var lte=en({nodeDimensionsIncludeLabels:!1}),Vh={layoutDimensions:function(t){t=lte(t);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(t.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(t,r,n){var a=this.nodes().filter(function(D){return!D.isParent()}),i=this.cy(),o=r.eles,l=function(k){return k.id()},u=vu(n,l);t.emit({type:"layoutstart",layout:t}),t.animations=[];var c=function(k,T,_){var M={x:T.x1+T.w/2,y:T.y1+T.h/2},R={x:(_.x-M.x)*k,y:(_.y-M.y)*k};return{x:M.x+R.x,y:M.y+R.y}},d=r.spacingFactor&&r.spacingFactor!==1,h=function(){if(!d)return null;for(var k=mn(),T=0;T<a.length;T++){var _=a[T],M=u(_,T);zI(k,M.x,M.y)}return k},v=h(),g=vu(function(D,k){var T=u(D,k);if(d){var _=Math.abs(r.spacingFactor);T=c(_,v,T)}return r.transform!=null&&(T=r.transform(D,T)),T},l);if(r.animate){for(var m=0;m<a.length;m++){var b=a[m],x=g(b,m),w=r.animateFilter==null||r.animateFilter(b,m);if(w){var S=b.animation({position:x,duration:r.animationDuration,easing:r.animationEasing});t.animations.push(S)}else b.position(x)}if(r.fit){var E=i.animation({fit:{boundingBox:o.boundingBoxAt(g),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});t.animations.push(E)}else if(r.zoom!==void 0&&r.pan!==void 0){var O=i.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});t.animations.push(O)}t.animations.forEach(function(D){return D.play()}),t.one("layoutready",r.ready),t.emit({type:"layoutready",layout:t}),_u.all(t.animations.map(function(D){return D.promise()})).then(function(){t.one("layoutstop",r.stop),t.emit({type:"layoutstop",layout:t})})}else a.positions(g),r.fit&&i.fit(r.eles,r.padding),r.zoom!=null&&i.zoom(r.zoom),r.pan&&i.pan(r.pan),t.one("layoutready",r.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",r.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){var r=this.cy();return r.makeLayout(Xe({},t,{eles:this}))}};Vh.createLayout=Vh.makeLayout=Vh.layout;function wz(e,t,r){var n=r._private,a=n.styleCache=n.styleCache||[],i;return(i=a[e])!=null||(i=a[e]=t(r)),i}function $p(e,t){return e=Hs(e),function(n){return wz(e,t,n)}}function Xp(e,t){e=Hs(e);var r=function(a){return t.call(a)};return function(){var a=this[0];if(a)return wz(e,r,a)}}var Zr={recalculateRenderedStyle:function(t){var r=this.cy(),n=r.renderer(),a=r.styleEnabled();return n&&a&&n.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t=this.cy(),r=function(i){return i._private.styleCache=null};if(t.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(a){r(a),a.connectedEdges().forEach(r)});return this},updateStyle:function(t){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var a=r.hasCompoundNodes(),i=this;t=!!(t||t===void 0),a&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=i;return t?o.emitAndNotify("style"):o.emit("style"),i.forEach(function(l){return l._private.styleDirty=!0}),this},cleanStyle:function(){var t=this.cy();if(t.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,t.style().apply(n))}},parsedStyle:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],a=n.cy();if(a.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,a.style().apply(n));var i=n._private.style[t];return i??(r?a.style().getDefaultProperty(t):null)}},numericStyle:function(t){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(t);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(t){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(t).units},renderedStyle:function(t){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,t)},style:function(t,r){var n=this.cy();if(!n.styleEnabled())return this;var a=!1,i=n.style();if(mt(t)){var o=t;i.applyBypass(this,o,a),this.emitAndNotify("style")}else if(Ve(t))if(r===void 0){var l=this[0];return l?i.getStylePropertyValue(l,t):void 0}else i.applyBypass(this,t,r,a),this.emitAndNotify("style");else if(t===void 0){var u=this[0];return u?i.getRawStyle(u):void 0}return this},removeStyle:function(t){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,a=r.style(),i=this;if(t===void 0)for(var o=0;o<i.length;o++){var l=i[o];a.removeAllBypasses(l,n)}else{t=t.split(/\s+/);for(var u=0;u<i.length;u++){var c=i[u];a.removeBypasses(c,t,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var r=t.hasCompoundNodes(),n=this[0];if(n){var a=n._private,i=n.pstyle("opacity").value;if(!r)return i;var o=a.data.parent?n.parents():null;if(o)for(var l=0;l<o.length;l++){var u=o[l],c=u.pstyle("opacity").value;i=c*i}return i}},transparent:function(){var t=this.cy();if(!t.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var t=this.cy();if(!t.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function u1(e,t){var r=e._private,n=r.data.parent?e.parents():null;if(n)for(var a=0;a<n.length;a++){var i=n[a];if(!t(i))return!1}return!0}function kE(e){var t=e.ok,r=e.edgeOkViaNode||e.ok,n=e.parentOk||e.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var i=this[0],o=a.hasCompoundNodes();if(i){var l=i._private;if(!t(i))return!1;if(i.isNode())return!o||u1(i,n);var u=l.source,c=l.target;return r(u)&&(!o||u1(u,r))&&(u===c||r(c)&&(!o||u1(c,r)))}}}var Mu=$p("eleTakesUpSpace",function(e){return e.pstyle("display").value==="element"&&e.width()!==0&&(e.isNode()?e.height()!==0:!0)});Zr.takesUpSpace=Xp("takesUpSpace",kE({ok:Mu}));var ute=$p("eleInteractive",function(e){return e.pstyle("events").value==="yes"&&e.pstyle("visibility").value==="visible"&&Mu(e)}),cte=$p("parentInteractive",function(e){return e.pstyle("visibility").value==="visible"&&Mu(e)});Zr.interactive=Xp("interactive",kE({ok:ute,parentOk:cte,edgeOkViaNode:Mu}));Zr.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var fte=$p("eleVisible",function(e){return e.pstyle("visibility").value==="visible"&&e.pstyle("opacity").pfValue!==0&&Mu(e)}),dte=Mu;Zr.visible=Xp("visible",kE({ok:fte,edgeOkViaNode:dte}));Zr.hidden=function(){var e=this[0];if(e)return!e.visible()};Zr.isBundledBezier=Xp("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Zr.bypass=Zr.css=Zr.style;Zr.renderedCss=Zr.renderedStyle;Zr.removeBypass=Zr.removeCss=Zr.removeStyle;Zr.pstyle=Zr.parsedStyle;var No={};function ck(e){return function(){var t=arguments,r=[];if(t.length===2){var n=t[0],a=t[1];this.on(e.event,n,a)}else if(t.length===1&&er(t[0])){var i=t[0];this.on(e.event,i)}else if(t.length===0||t.length===1&&It(t[0])){for(var o=t.length===1?t[0]:null,l=0;l<this.length;l++){var u=this[l],c=!e.ableField||u._private[e.ableField],d=u._private[e.field]!=e.value;if(e.overrideAble){var h=e.overrideAble(u);if(h!==void 0&&(c=h,!h))return this}c&&(u._private[e.field]=e.value,d&&r.push(u))}var v=this.spawn(r);v.updateStyle(),v.emit(e.event),o&&v.emit(o)}return this}}function Du(e){No[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var r=e.overrideField(t);if(r!==void 0)return r}return t._private[e.field]}},No[e.on]=ck({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),No[e.off]=ck({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}Du({field:"locked",overrideField:function(t){return t.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Du({field:"grabbable",overrideField:function(t){return t.cy().autoungrabify()||t.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Du({field:"selected",ableField:"selectable",overrideAble:function(t){return t.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Du({field:"selectable",overrideField:function(t){return t.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});No.deselect=No.unselect;No.grabbed=function(){var e=this[0];if(e)return e._private.grabbed};Du({field:"active",on:"activate",off:"unactivate"});Du({field:"pannable",on:"panify",off:"unpanify"});No.inactive=function(){var e=this[0];if(e)return!e._private.active};var un={},fk=function(t){return function(n){for(var a=this,i=[],o=0;o<a.length;o++){var l=a[o];if(l.isNode()){for(var u=!1,c=l.connectedEdges(),d=0;d<c.length;d++){var h=c[d],v=h.source(),g=h.target();if(t.noIncomingEdges&&g===l&&v!==l||t.noOutgoingEdges&&v===l&&g!==l){u=!0;break}}u||i.push(l)}}return this.spawn(i,!0).filter(n)}},dk=function(t){return function(r){for(var n=this,a=[],i=0;i<n.length;i++){var o=n[i];if(o.isNode())for(var l=o.connectedEdges(),u=0;u<l.length;u++){var c=l[u],d=c.source(),h=c.target();t.outgoing&&d===o?(a.push(c),a.push(h)):t.incoming&&h===o&&(a.push(c),a.push(d))}}return this.spawn(a,!0).filter(r)}},hk=function(t){return function(r){for(var n=this,a=[],i={};;){var o=t.outgoing?n.outgoers():n.incomers();if(o.length===0)break;for(var l=!1,u=0;u<o.length;u++){var c=o[u],d=c.id();i[d]||(i[d]=!0,a.push(c),l=!0)}if(!l)break;n=o}return this.spawn(a,!0).filter(r)}};un.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null};Xe(un,{roots:fk({noIncomingEdges:!0}),leaves:fk({noOutgoingEdges:!0}),outgoers:wa(dk({outgoing:!0}),"outgoers"),successors:hk({outgoing:!0}),incomers:wa(dk({incoming:!0}),"incomers"),predecessors:hk({})});Xe(un,{neighborhood:wa(function(e){for(var t=[],r=this.nodes(),n=0;n<r.length;n++)for(var a=r[n],i=a.connectedEdges(),o=0;o<i.length;o++){var l=i[o],u=l.source(),c=l.target(),d=a===u?c:u;d.length>0&&t.push(d[0]),t.push(l[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}});un.neighbourhood=un.neighborhood;un.closedNeighbourhood=un.closedNeighborhood;un.openNeighbourhood=un.openNeighborhood;Xe(un,{source:wa(function(t){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&t?n.filter(t):n},"source"),target:wa(function(t){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&t?n.filter(t):n},"target"),sources:vk({attr:"source"}),targets:vk({attr:"target"})});function vk(e){return function(r){for(var n=[],a=0;a<this.length;a++){var i=this[a],o=i._private[e.attr];o&&n.push(o)}return this.spawn(n,!0).filter(r)}}Xe(un,{edgesWith:wa(pk(),"edgesWith"),edgesTo:wa(pk({thisIsSrc:!0}),"edgesTo")});function pk(e){return function(r){var n=[],a=this._private.cy,i=e||{};Ve(r)&&(r=a.$(r));for(var o=0;o<r.length;o++)for(var l=r[o]._private.edges,u=0;u<l.length;u++){var c=l[u],d=c._private.data,h=this.hasElementWithId(d.source)&&r.hasElementWithId(d.target),v=r.hasElementWithId(d.source)&&this.hasElementWithId(d.target),g=h||v;g&&((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!h||i.thisIsTgt&&!v)||n.push(c))}return this.spawn(n,!0)}}Xe(un,{connectedEdges:wa(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var a=r[n];if(a.isNode())for(var i=a._private.edges,o=0;o<i.length;o++){var l=i[o];t.push(l)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:wa(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var a=r[n];a.isEdge()&&(t.push(a.source()[0]),t.push(a.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:wa(gk(),"parallelEdges"),codirectedEdges:wa(gk({codirected:!0}),"codirectedEdges")});function gk(e){var t={codirected:!1};return e=Xe({},t,e),function(n){for(var a=[],i=this.edges(),o=e,l=0;l<i.length;l++)for(var u=i[l],c=u._private,d=c.source,h=d._private.data.id,v=c.data.target,g=d._private.edges,m=0;m<g.length;m++){var b=g[m],x=b._private.data,w=x.target,S=x.source,E=w===v&&S===h,O=h===w&&v===S;(o.codirected&&E||!o.codirected&&(E||O))&&a.push(b)}return this.spawn(a,!0).filter(n)}}Xe(un,{components:function(t){var r=this,n=r.cy(),a=n.collection(),i=t==null?r.nodes():t.nodes(),o=[];t!=null&&i.empty()&&(i=t.sources());var l=function(d,h){a.merge(d),i.unmerge(d),h.merge(d)};if(i.empty())return r.spawn();var u=function(){var d=n.collection();o.push(d);var h=i[0];l(h,d),r.bfs({directed:!1,roots:h,visit:function(g){return l(g,d)}}),d.forEach(function(v){v.connectedEdges().forEach(function(g){r.has(g)&&d.has(g.source())&&d.has(g.target())&&d.merge(g)})})};do u();while(i.length>0);return o},component:function(){var t=this[0];return t.cy().mutableElements().components(t)[0]}});un.componentsOf=un.components;var Qr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t===void 0){Wt("A collection must have a reference to the core");return}var i=new Ti,o=!1;if(!r)r=[];else if(r.length>0&&mt(r[0])&&!Nf(r[0])){o=!0;for(var l=[],u=new Ou,c=0,d=r.length;c<d;c++){var h=r[c];h.data==null&&(h.data={});var v=h.data;if(v.id==null)v.id=LI();else if(t.hasElementWithId(v.id)||u.has(v.id))continue;var g=new zp(t,h,!1);l.push(g),u.add(v.id)}r=l}this.length=0;for(var m=0,b=r.length;m<b;m++){var x=r[m][0];if(x!=null){var w=x._private.data.id;(!n||!i.has(w))&&(n&&i.set(w,{index:this.length,ele:x}),this[this.length]=x,this.length++)}}this._private={eles:this,cy:t,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(S){this.lazyMap=S},rebuildMap:function(){for(var E=this.lazyMap=new Ti,O=this.eles,D=0;D<O.length;D++){var k=O[D];E.set(k.id(),{index:D,ele:k})}}},n&&(this._private.map=i),o&&!a&&this.restore()},Gt=zp.prototype=Qr.prototype=Object.create(Array.prototype);Gt.instanceString=function(){return"collection"};Gt.spawn=function(e,t){return new Qr(this.cy(),e,t)};Gt.spawnSelf=function(){return this.spawn(this)};Gt.cy=function(){return this._private.cy};Gt.renderer=function(){return this._private.cy.renderer()};Gt.element=function(){return this[0]};Gt.collection=function(){return wI(this)?this:new Qr(this._private.cy,[this])};Gt.unique=function(){return new Qr(this._private.cy,this,!0)};Gt.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)};Gt.getElementById=function(e){e=""+e;var t=this._private.cy,r=this._private.map.get(e);return r?r.ele:new Qr(t)};Gt.$id=Gt.getElementById;Gt.poolIndex=function(){var e=this._private.cy,t=e._private.elements,r=this[0]._private.data.id;return t._private.map.get(r).index};Gt.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index};Gt.indexOfId=function(e){return e=""+e,this._private.map.get(e).index};Gt.json=function(e){var t=this.element(),r=this.cy();if(t==null&&e)return this;if(t!=null){var n=t._private;if(mt(e)){if(r.startBatch(),e.data){t.data(e.data);var a=n.data;if(t.isEdge()){var i=!1,o={},l=e.data.source,u=e.data.target;l!=null&&l!=a.source&&(o.source=""+l,i=!0),u!=null&&u!=a.target&&(o.target=""+u,i=!0),i&&(t=t.move(o))}else{var c="parent"in e.data,d=e.data.parent;c&&(d!=null||a.parent!=null)&&d!=a.parent&&(d===void 0&&(d=null),d!=null&&(d=""+d),t=t.move({parent:d}))}}e.position&&t.position(e.position);var h=function(b,x,w){var S=e[b];S!=null&&S!==n[b]&&(S?t[x]():t[w]())};return h("removed","remove","restore"),h("selected","select","unselect"),h("selectable","selectify","unselectify"),h("locked","lock","unlock"),h("grabbable","grabify","ungrabify"),h("pannable","panify","unpanify"),e.classes!=null&&t.classes(e.classes),r.endBatch(),this}else if(e===void 0){var v={data:Xa(n.data),position:Xa(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};v.classes="";var g=0;return n.classes.forEach(function(m){return v.classes+=g++===0?m:" "+m}),v}}};Gt.jsons=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t],n=r.json();e.push(n)}return e};Gt.clone=function(){for(var e=this.cy(),t=[],r=0;r<this.length;r++){var n=this[r],a=n.json(),i=new zp(e,a,!1);t.push(i)}return new Qr(e,t)};Gt.copy=Gt.clone;Gt.restore=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),a=n._private,i=[],o=[],l,u=0,c=r.length;u<c;u++){var d=r[u];t&&!d.removed()||(d.isNode()?i.push(d):o.push(d))}l=i.concat(o);var h,v=function(){l.splice(h,1),h--};for(h=0;h<l.length;h++){var g=l[h],m=g._private,b=m.data;if(g.clearTraversalCache(),!(!t&&!m.removed)){if(b.id===void 0)b.id=LI();else if(Te(b.id))b.id=""+b.id;else if(Bo(b.id)||!Ve(b.id)){Wt("Can not create element with invalid string ID `"+b.id+"`"),v();continue}else if(n.hasElementWithId(b.id)){Wt("Can not create second element with ID `"+b.id+"`"),v();continue}}var x=b.id;if(g.isNode()){var w=m.position;w.x==null&&(w.x=0),w.y==null&&(w.y=0)}if(g.isEdge()){for(var S=g,E=["source","target"],O=E.length,D=!1,k=0;k<O;k++){var T=E[k],_=b[T];Te(_)&&(_=b[T]=""+b[T]),_==null||_===""?(Wt("Can not create edge `"+x+"` with unspecified "+T),D=!0):n.hasElementWithId(_)||(Wt("Can not create edge `"+x+"` with nonexistant "+T+" `"+_+"`"),D=!0)}if(D){v();continue}var M=n.getElementById(b.source),R=n.getElementById(b.target);M.same(R)?M._private.edges.push(S):(M._private.edges.push(S),R._private.edges.push(S)),S._private.source=M,S._private.target=R}m.map=new Ti,m.map.set(x,{ele:g,index:0}),m.removed=!1,t&&n.addToPool(g)}for(var P=0;P<i.length;P++){var L=i[P],N=L._private.data;Te(N.parent)&&(N.parent=""+N.parent);var B=N.parent,G=B!=null;if(G||L._private.parent){var I=L._private.parent?n.collection().merge(L._private.parent):n.getElementById(B);if(I.empty())N.parent=void 0;else if(I[0].removed())Ct("Node added with missing parent, reference to parent removed"),N.parent=void 0,L._private.parent=null;else{for(var z=!1,q=I;!q.empty();){if(L.same(q)){z=!0,N.parent=void 0;break}q=q.parent()}z||(I[0]._private.children.push(L),L._private.parent=I[0],a.hasCompoundNodes=!0)}}}if(l.length>0){for(var H=l.length===r.length?r:new Qr(n,l),X=0;X<H.length;X++){var U=H[X];U.isNode()||(U.parallelEdges().clearTraversalCache(),U.source().clearTraversalCache(),U.target().clearTraversalCache())}var V;a.hasCompoundNodes?V=n.collection().merge(H).merge(H.connectedNodes()).merge(H.parent()):V=H,V.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(e),e?H.emitAndNotify("add"):t&&H.emit("add")}return r};Gt.removed=function(){var e=this[0];return e&&e._private.removed};Gt.inside=function(){var e=this[0];return e&&!e._private.removed};Gt.remove=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],a={},i=r._private.cy;function o(B){for(var G=B._private.edges,I=0;I<G.length;I++)u(G[I])}function l(B){for(var G=B._private.children,I=0;I<G.length;I++)u(G[I])}function u(B){var G=a[B.id()];t&&B.removed()||G||(a[B.id()]=!0,B.isNode()?(n.push(B),o(B),l(B)):n.unshift(B))}for(var c=0,d=r.length;c<d;c++){var h=r[c];u(h)}function v(B,G){var I=B._private.edges;Io(I,G),B.clearTraversalCache()}function g(B){B.clearTraversalCache()}var m=[];m.ids={};function b(B,G){G=G[0],B=B[0];var I=B._private.children,z=B.id();Io(I,G),G._private.parent=null,m.ids[z]||(m.ids[z]=!0,m.push(B))}r.dirtyCompoundBoundsCache(),t&&i.removeFromPool(n);for(var x=0;x<n.length;x++){var w=n[x];if(w.isEdge()){var S=w.source()[0],E=w.target()[0];v(S,w),v(E,w);for(var O=w.parallelEdges(),D=0;D<O.length;D++){var k=O[D];g(k),k.isBundledBezier()&&k.dirtyBoundingBoxCache()}}else{var T=w.parent();T.length!==0&&b(T,w)}t&&(w._private.removed=!0)}var _=i._private.elements;i._private.hasCompoundNodes=!1;for(var M=0;M<_.length;M++){var R=_[M];if(R.isParent()){i._private.hasCompoundNodes=!0;break}}var P=new Qr(this.cy(),n);P.size()>0&&(e?P.emitAndNotify("remove"):t&&P.emit("remove"));for(var L=0;L<m.length;L++){var N=m[L];(!t||!N.removed())&&N.updateStyle()}return P};Gt.move=function(e){var t=this._private.cy,r=this,n=!1,a=!1,i=function(m){return m==null?m:""+m};if(e.source!==void 0||e.target!==void 0){var o=i(e.source),l=i(e.target),u=o!=null&&t.hasElementWithId(o),c=l!=null&&t.hasElementWithId(l);(u||c)&&(t.batch(function(){r.remove(n,a),r.emitAndNotify("moveout");for(var g=0;g<r.length;g++){var m=r[g],b=m._private.data;m.isEdge()&&(u&&(b.source=o),c&&(b.target=l))}r.restore(n,a)}),r.emitAndNotify("move"))}else if(e.parent!==void 0){var d=i(e.parent),h=d===null||t.hasElementWithId(d);if(h){var v=d===null?void 0:d;t.batch(function(){var g=r.remove(n,a);g.emitAndNotify("moveout");for(var m=0;m<r.length;m++){var b=r[m],x=b._private.data;b.isNode()&&(x.parent=v)}g.restore(n,a)}),r.emitAndNotify("move")}}return this};[$I,See,Hh,Po,gu,jee,Vp,tte,yz,bz,ote,$v,Vh,Zr,No,un].forEach(function(e){Xe(Gt,e)});var hte={add:function(t){var r,n=this;if(Zn(t)){var a=t;if(a._private.cy===n)r=a.restore();else{for(var i=[],o=0;o<a.length;o++){var l=a[o];i.push(l.json())}r=new Qr(n,i)}}else if(It(t)){var u=t;r=new Qr(n,u)}else if(mt(t)&&(It(t.nodes)||It(t.edges))){for(var c=t,d=[],h=["nodes","edges"],v=0,g=h.length;v<g;v++){var m=h[v],b=c[m];if(It(b))for(var x=0,w=b.length;x<w;x++){var S=Xe({group:m},b[x]);d.push(S)}}r=new Qr(n,d)}else{var E=t;r=new zp(n,E).collection()}return r},remove:function(t){if(!Zn(t)){if(Ve(t)){var r=t;t=this.$(r)}}return t.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function vte(e,t,r,n){var a=4,i=.001,o=1e-7,l=10,u=11,c=1/(u-1),d=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var h=0;h<4;++h)if(typeof arguments[h]!="number"||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var v=d?new Float32Array(u):new Array(u);function g(R,P){return 1-3*P+3*R}function m(R,P){return 3*P-6*R}function b(R){return 3*R}function x(R,P,L){return((g(P,L)*R+m(P,L))*R+b(P))*R}function w(R,P,L){return 3*g(P,L)*R*R+2*m(P,L)*R+b(P)}function S(R,P){for(var L=0;L<a;++L){var N=w(P,e,r);if(N===0)return P;var B=x(P,e,r)-R;P-=B/N}return P}function E(){for(var R=0;R<u;++R)v[R]=x(R*c,e,r)}function O(R,P,L){var N,B,G=0;do B=P+(L-P)/2,N=x(B,e,r)-R,N>0?L=B:P=B;while(Math.abs(N)>o&&++G<l);return B}function D(R){for(var P=0,L=1,N=u-1;L!==N&&v[L]<=R;++L)P+=c;--L;var B=(R-v[L])/(v[L+1]-v[L]),G=P+B*c,I=w(G,e,r);return I>=i?S(R,G):I===0?G:O(R,P,P+c)}var k=!1;function T(){k=!0,(e!==t||r!==n)&&E()}var _=function(P){return k||T(),e===t&&r===n?P:P===0?0:P===1?1:x(D(P),t,n)};_.getControlPoints=function(){return[{x:e,y:t},{x:r,y:n}]};var M="generateBezier("+[e,t,r,n]+")";return _.toString=function(){return M},_}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var pte=(function(){function e(n){return-n.tension*n.x-n.friction*n.v}function t(n,a,i){var o={x:n.x+i.dx*a,v:n.v+i.dv*a,tension:n.tension,friction:n.friction};return{dx:o.v,dv:e(o)}}function r(n,a){var i={dx:n.v,dv:e(n)},o=t(n,a*.5,i),l=t(n,a*.5,o),u=t(n,a,l),c=1/6*(i.dx+2*(o.dx+l.dx)+u.dx),d=1/6*(i.dv+2*(o.dv+l.dv)+u.dv);return n.x=n.x+c*a,n.v=n.v+d*a,n}return function n(a,i,o){var l={x:-1,v:0,tension:null,friction:null},u=[0],c=0,d=1/1e4,h=16/1e3,v,g,m;for(a=parseFloat(a)||500,i=parseFloat(i)||20,o=o||null,l.tension=a,l.friction=i,v=o!==null,v?(c=n(a,i),g=c/o*h):g=h;m=r(m||l,g),u.push(1+m.x),c+=16,Math.abs(m.x)>d&&Math.abs(m.v)>d;);return v?function(b){return u[b*(u.length-1)|0]}:c}})(),zt=function(t,r,n,a){var i=vte(t,r,n,a);return function(o,l,u){return o+(l-o)*i(u)}},Yh={linear:function(t,r,n){return t+(r-t)*n},ease:zt(.25,.1,.25,1),"ease-in":zt(.42,0,1,1),"ease-out":zt(0,0,.58,1),"ease-in-out":zt(.42,0,.58,1),"ease-in-sine":zt(.47,0,.745,.715),"ease-out-sine":zt(.39,.575,.565,1),"ease-in-out-sine":zt(.445,.05,.55,.95),"ease-in-quad":zt(.55,.085,.68,.53),"ease-out-quad":zt(.25,.46,.45,.94),"ease-in-out-quad":zt(.455,.03,.515,.955),"ease-in-cubic":zt(.55,.055,.675,.19),"ease-out-cubic":zt(.215,.61,.355,1),"ease-in-out-cubic":zt(.645,.045,.355,1),"ease-in-quart":zt(.895,.03,.685,.22),"ease-out-quart":zt(.165,.84,.44,1),"ease-in-out-quart":zt(.77,0,.175,1),"ease-in-quint":zt(.755,.05,.855,.06),"ease-out-quint":zt(.23,1,.32,1),"ease-in-out-quint":zt(.86,0,.07,1),"ease-in-expo":zt(.95,.05,.795,.035),"ease-out-expo":zt(.19,1,.22,1),"ease-in-out-expo":zt(1,0,0,1),"ease-in-circ":zt(.6,.04,.98,.335),"ease-out-circ":zt(.075,.82,.165,1),"ease-in-out-circ":zt(.785,.135,.15,.86),spring:function(t,r,n){if(n===0)return Yh.linear;var a=pte(t,r,n);return function(i,o,l){return i+(o-i)*a(l)}},"cubic-bezier":zt};function mk(e,t,r,n,a){if(n===1||t===r)return r;var i=a(t,r,n);return e==null||((e.roundValue||e.color)&&(i=Math.round(i)),e.min!==void 0&&(i=Math.max(i,e.min)),e.max!==void 0&&(i=Math.min(i,e.max))),i}function yk(e,t){return e.pfValue!=null||e.value!=null?e.pfValue!=null&&(t==null||t.type.units!=="%")?e.pfValue:e.value:e}function jl(e,t,r,n,a){var i=a!=null?a.type:null;r<0?r=0:r>1&&(r=1);var o=yk(e,a),l=yk(t,a);if(Te(o)&&Te(l))return mk(i,o,l,r,n);if(It(o)&&It(l)){for(var u=[],c=0;c<l.length;c++){var d=o[c],h=l[c];if(d!=null&&h!=null){var v=mk(i,d,h,r,n);u.push(v)}else u.push(h)}return u}}function gte(e,t,r,n){var a=!n,i=e._private,o=t._private,l=o.easing,u=o.startTime,c=n?e:e.cy(),d=c.style();if(!o.easingImpl)if(l==null)o.easingImpl=Yh.linear;else{var h;if(Ve(l)){var v=d.parse("transition-timing-function",l);h=v.value}else h=l;var g,m;Ve(h)?(g=h,m=[]):(g=h[1],m=h.slice(2).map(function(H){return+H})),m.length>0?(g==="spring"&&m.push(o.duration),o.easingImpl=Yh[g].apply(null,m)):o.easingImpl=Yh[g]}var b=o.easingImpl,x;if(o.duration===0?x=1:x=(r-u)/o.duration,o.applying&&(x=o.progress),x<0?x=0:x>1&&(x=1),o.delay==null){var w=o.startPosition,S=o.position;if(S&&a&&!e.locked()){var E={};Rc(w.x,S.x)&&(E.x=jl(w.x,S.x,x,b)),Rc(w.y,S.y)&&(E.y=jl(w.y,S.y,x,b)),e.position(E)}var O=o.startPan,D=o.pan,k=i.pan,T=D!=null&&n;T&&(Rc(O.x,D.x)&&(k.x=jl(O.x,D.x,x,b)),Rc(O.y,D.y)&&(k.y=jl(O.y,D.y,x,b)),e.emit("pan"));var _=o.startZoom,M=o.zoom,R=M!=null&&n;R&&(Rc(_,M)&&(i.zoom=ff(i.minZoom,jl(_,M,x,b),i.maxZoom)),e.emit("zoom")),(T||R)&&e.emit("viewport");var P=o.style;if(P&&P.length>0&&a){for(var L=0;L<P.length;L++){var N=P[L],B=N.name,G=N,I=o.startStyle[B],z=d.properties[I.name],q=jl(I,G,x,b,z);d.overrideBypass(e,B,q)}e.emit("style")}}return o.progress=x,x}function Rc(e,t){return e==null||t==null?!1:Te(e)&&Te(t)?!0:!!(e&&t)}function mte(e,t,r,n){var a=t._private;a.started=!0,a.startTime=r-a.progress*a.duration}function bk(e,t){var r=t._private.aniEles,n=[];function a(d,h){var v=d._private,g=v.animation.current,m=v.animation.queue,b=!1;if(g.length===0){var x=m.shift();x&&g.push(x)}for(var w=function(k){for(var T=k.length-1;T>=0;T--){var _=k[T];_()}k.splice(0,k.length)},S=g.length-1;S>=0;S--){var E=g[S],O=E._private;if(O.stopped){g.splice(S,1),O.hooked=!1,O.playing=!1,O.started=!1,w(O.frames);continue}!O.playing&&!O.applying||(O.playing&&O.applying&&(O.applying=!1),O.started||mte(d,E,e),gte(d,E,e,h),O.applying&&(O.applying=!1),w(O.frames),O.step!=null&&O.step(e),E.completed()&&(g.splice(S,1),O.hooked=!1,O.playing=!1,O.started=!1,w(O.completes)),b=!0)}return!h&&g.length===0&&m.length===0&&n.push(d),b}for(var i=!1,o=0;o<r.length;o++){var l=r[o],u=a(l);i=i||u}var c=a(t,!0);(i||c)&&(r.length>0?t.notify("draw",r):t.notify("draw")),r.unmerge(n),t.emit("step")}var yte={animate:At.animate(),animation:At.animation(),animated:At.animated(),clearQueue:At.clearQueue(),delay:At.delay(),delayAnimation:At.delayAnimation(),stop:At.stop(),addToAnimationPool:function(t){var r=this;r.styleEnabled()&&r._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,!t.styleEnabled())return;function r(){t._private.animationsRunning&&Fv(function(i){bk(i,t),r()})}var n=t.renderer();n&&n.beforeRender?n.beforeRender(function(i,o){bk(o,t)},n.beforeRenderPriorities.animations):r()}},bte={qualifierCompare:function(t,r){return t==null||r==null?t==null&&r==null:t.sameText(r)},eventMatches:function(t,r,n){var a=r.qualifier;return a!=null?t!==n.target&&Nf(n.target)&&a.matches(n.target):!0},addEventFields:function(t,r){r.cy=t,r.target=t},callbackContext:function(t,r,n){return r.qualifier!=null?n.target:t}},Ph=function(t){return Ve(t)?new jo(t):t},Ez={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new Yp(bte,this)),this},emitter:function(){return this._private.emitter},on:function(t,r,n){return this.emitter().on(t,Ph(r),n),this},removeListener:function(t,r,n){return this.emitter().removeListener(t,Ph(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(t,r,n){return this.emitter().one(t,Ph(r),n),this},once:function(t,r,n){return this.emitter().one(t,Ph(r),n),this},emit:function(t,r){return this.emitter().emit(t,r),this},emitAndNotify:function(t,r){return this.emit(t),this.notify(t,r),this}};At.eventAliasesOn(Ez);var Sx={png:function(t){var r=this._private.renderer;return t=t||{},r.png(t)},jpg:function(t){var r=this._private.renderer;return t=t||{},t.bg=t.bg||"#fff",r.jpg(t)}};Sx.jpeg=Sx.jpg;var $h={layout:function(t){var r=this;if(t==null){Wt("Layout options must be specified to make a layout");return}if(t.name==null){Wt("A `name` must be specified to make a layout");return}var n=t.name,a=r.extension("layout",n);if(a==null){Wt("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var i;Ve(t.eles)?i=r.$(t.eles):i=t.eles!=null?t.eles:r.$();var o=new a(Xe({},t,{cy:r,eles:i}));return o}};$h.createLayout=$h.makeLayout=$h.layout;var xte={notify:function(t,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var a=n.batchNotifications[t]=n.batchNotifications[t]||this.collection();r!=null&&a.merge(r);return}if(n.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(t,r)}},notifications:function(t){var r=this._private;return t===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!t,this)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return t.batchCount==null&&(t.batchCount=0),t.batchCount===0&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},endBatch:function(){var t=this._private;if(t.batchCount===0)return this;if(t.batchCount--,t.batchCount===0){t.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(t.batchNotifications).forEach(function(n){var a=t.batchNotifications[n];a.empty()?r.notify(n):r.notify(n,a)})}return this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var r=this;return this.batch(function(){for(var n=Object.keys(t),a=0;a<n.length;a++){var i=n[a],o=t[i],l=r.getElementById(i);l.data(o)}})}},wte=en({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),Ax={renderTo:function(t,r,n,a){var i=this._private.renderer;return i.renderTo(t,r,n,a),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(t){var r=this,n=r.extension("renderer",t.name);if(n==null){Wt("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}t.wheelSensitivity!==void 0&&Ct("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=wte(t);a.cy=r,r._private.renderer=new n(a),this.notify("init")},destroyRenderer:function(){var t=this;t.notify("destroy");var r=t.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);t._private.renderer=null,t.mutableElements().forEach(function(n){var a=n._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};Ax.invalidateDimensions=Ax.resize;var Xh={collection:function(t,r){return Ve(t)?this.$(t):Zn(t)?t.collection():It(t)?(r||(r={}),new Qr(this,t,r.unique,r.removed)):new Qr(this)},nodes:function(t){var r=this.$(function(n){return n.isNode()});return t?r.filter(t):r},edges:function(t){var r=this.$(function(n){return n.isEdge()});return t?r.filter(t):r},$:function(t){var r=this._private.elements;return t?r.filter(t):r.spawnSelf()},mutableElements:function(){return this._private.elements}};Xh.elements=Xh.filter=Xh.$;var Fr={},$c="t",Ete="f";Fr.apply=function(e){for(var t=this,r=t._private,n=r.cy,a=n.collection(),i=0;i<e.length;i++){var o=e[i],l=t.getContextMeta(o);if(!l.empty){var u=t.getContextStyle(l),c=t.applyContextStyle(l,u,o);o._private.appliedInitStyle?t.updateTransitions(o,c.diffProps):o._private.appliedInitStyle=!0;var d=t.updateStyleHints(o);d&&a.push(o)}}return a};Fr.getPropertiesDiff=function(e,t){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},a=e+"-"+t,i=n[a];if(i)return i;for(var o=[],l={},u=0;u<r.length;u++){var c=r[u],d=e[u]===$c,h=t[u]===$c,v=d!==h,g=c.mappedProperties.length>0;if(v||h&&g){var m=void 0;v&&g||v?m=c.properties:g&&(m=c.mappedProperties);for(var b=0;b<m.length;b++){for(var x=m[b],w=x.name,S=!1,E=u+1;E<r.length;E++){var O=r[E],D=t[E]===$c;if(D&&(S=O.properties[x.name]!=null,S))break}!l[w]&&!S&&(l[w]=!0,o.push(w))}}}return n[a]=o,o};Fr.getContextMeta=function(e){for(var t=this,r="",n,a=e._private.styleCxtKey||"",i=0;i<t.length;i++){var o=t[i],l=o.selector&&o.selector.matches(e);l?r+=$c:r+=Ete}return n=t.getPropertiesDiff(a,r),e._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};Fr.getContextStyle=function(e){var t=e.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var a={_private:{key:t}},i=0;i<r.length;i++){var o=r[i],l=t[i]===$c;if(l)for(var u=0;u<o.properties.length;u++){var c=o.properties[u];a[c.name]=c}}return n[t]=a,a};Fr.applyContextStyle=function(e,t,r){for(var n=this,a=e.diffPropNames,i={},o=n.types,l=0;l<a.length;l++){var u=a[l],c=t[u],d=r.pstyle(u);if(!c)if(d)d.bypass?c={name:u,deleteBypassed:!0}:c={name:u,delete:!0};else continue;if(d!==c){if(c.mapped===o.fn&&d!=null&&d.mapping!=null&&d.mapping.value===c.value){var h=d.mapping,v=h.fnValue=c.value(r);if(v===h.prevFnValue)continue}var g=i[u]={prev:d};n.applyParsedProperty(r,c),g.next=r.pstyle(u),g.next&&g.next.bypass&&(g.next=g.next.bypassed)}}return{diffProps:i}};Fr.updateStyleHints=function(e){var t=e._private,r=this,n=r.propertyGroupNames,a=r.propertyGroupKeys,i=function(W,se,he){return r.getPropertiesHash(W,se,he)},o=t.styleKey;if(e.removed())return!1;var l=t.group==="nodes",u=e._private.style;n=Object.keys(u);for(var c=0;c<a.length;c++){var d=a[c];t.styleKeys[d]=[Os,Xl]}for(var h=function(W,se){return t.styleKeys[se][0]=lf(W,t.styleKeys[se][0])},v=function(W,se){return t.styleKeys[se][1]=uf(W,t.styleKeys[se][1])},g=function(W,se){h(W,se),v(W,se)},m=function(W,se){for(var he=0;he<W.length;he++){var Ce=W.charCodeAt(he);h(Ce,se),v(Ce,se)}},b=2e9,x=function(W){return-128<W&&W<128&&Math.floor(W)!==W?b-(W*1024|0):W},w=0;w<n.length;w++){var S=n[w],E=u[S];if(E!=null){var O=this.properties[S],D=O.type,k=O.groupKey,T=void 0;O.hashOverride!=null?T=O.hashOverride(e,E):E.pfValue!=null&&(T=E.pfValue);var _=O.enums==null?E.value:null,M=T!=null,R=_!=null,P=M||R,L=E.units;if(D.number&&P&&!D.multiple){var N=M?T:_;g(x(N),k),!M&&L!=null&&m(L,k)}else m(E.strValue,k)}}for(var B=[Os,Xl],G=0;G<a.length;G++){var I=a[G],z=t.styleKeys[I];B[0]=lf(z[0],B[0]),B[1]=uf(z[1],B[1])}t.styleKey=zZ(B[0],B[1]);var q=t.styleKeys;t.labelDimsKey=wo(q.labelDimensions);var H=i(e,["label"],q.labelDimensions);if(t.labelKey=wo(H),t.labelStyleKey=wo(Ah(q.commonLabel,H)),!l){var X=i(e,["source-label"],q.labelDimensions);t.sourceLabelKey=wo(X),t.sourceLabelStyleKey=wo(Ah(q.commonLabel,X));var U=i(e,["target-label"],q.labelDimensions);t.targetLabelKey=wo(U),t.targetLabelStyleKey=wo(Ah(q.commonLabel,U))}if(l){var V=t.styleKeys,Q=V.nodeBody,ee=V.nodeBorder,te=V.nodeOutline,ie=V.backgroundImage,ue=V.compound,xe=V.pie,Z=V.stripe,re=[Q,ee,te,ie,ue,xe,Z].filter(function(J){return J!=null}).reduce(Ah,[Os,Xl]);t.nodeKey=wo(re),t.hasPie=xe!=null&&xe[0]!==Os&&xe[1]!==Xl,t.hasStripe=Z!=null&&Z[0]!==Os&&Z[1]!==Xl}return o!==t.styleKey};Fr.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null,t.hasStripe=null};Fr.applyParsedProperty=function(e,t){var r=this,n=t,a=e._private.style,i,o=r.types,l=r.properties[n.name].type,u=n.bypass,c=a[n.name],d=c&&c.bypass,h=e._private,v="mapping",g=function(Q){return Q==null?null:Q.pfValue!=null?Q.pfValue:Q.value},m=function(){var Q=g(c),ee=g(n);r.checkTriggers(e,n.name,Q,ee)};if(t.name==="curve-style"&&e.isEdge()&&(t.value!=="bezier"&&e.isLoop()||t.value==="haystack"&&(e.source().isParent()||e.target().isParent()))&&(n=t=this.parse(t.name,"bezier",u)),n.delete)return a[n.name]=void 0,m(),!0;if(n.deleteBypassed)return c?c.bypass?(c.bypassed=void 0,m(),!0):!1:(m(),!0);if(n.deleteBypass)return c?c.bypass?(a[n.name]=c.bypassed,m(),!0):!1:(m(),!0);var b=function(){Ct("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case o.mapData:{for(var x=n.field.split("."),w=h.data,S=0;S<x.length&&w;S++){var E=x[S];w=w[E]}if(w==null)return b(),!1;var O;if(Te(w)){var D=n.fieldMax-n.fieldMin;D===0?O=0:O=(w-n.fieldMin)/D}else return Ct("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+w+"` for `"+e.id()+"` is non-numeric)"),!1;if(O<0?O=0:O>1&&(O=1),l.color){var k=n.valueMin[0],T=n.valueMax[0],_=n.valueMin[1],M=n.valueMax[1],R=n.valueMin[2],P=n.valueMax[2],L=n.valueMin[3]==null?1:n.valueMin[3],N=n.valueMax[3]==null?1:n.valueMax[3],B=[Math.round(k+(T-k)*O),Math.round(_+(M-_)*O),Math.round(R+(P-R)*O),Math.round(L+(N-L)*O)];i={bypass:n.bypass,name:n.name,value:B,strValue:"rgb("+B[0]+", "+B[1]+", "+B[2]+")"}}else if(l.number){var G=n.valueMin+(n.valueMax-n.valueMin)*O;i=this.parse(n.name,G,n.bypass,v)}else return!1;if(!i)return b(),!1;i.mapping=n,n=i;break}case o.data:{for(var I=n.field.split("."),z=h.data,q=0;q<I.length&&z;q++){var H=I[q];z=z[H]}if(z!=null&&(i=this.parse(n.name,z,n.bypass,v)),!i)return b(),!1;i.mapping=n,n=i;break}case o.fn:{var X=n.value,U=n.fnValue!=null?n.fnValue:X(e);if(n.prevFnValue=U,U==null)return Ct("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+e.id()+"` is null)"),!1;if(i=this.parse(n.name,U,n.bypass,v),!i)return Ct("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+e.id()+"` is invalid)"),!1;i.mapping=Xa(n),n=i;break}case void 0:break;default:return!1}return u?(d?n.bypassed=c.bypassed:n.bypassed=c,a[n.name]=n):d?c.bypassed=n:a[n.name]=n,m(),!0};Fr.cleanElements=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!t)n._private.style={};else for(var a=n._private.style,i=Object.keys(a),o=0;o<i.length;o++){var l=i[o],u=a[l];u!=null&&(u.bypass?u.bypassed=null:a[l]=null)}}};Fr.update=function(){var e=this._private.cy,t=e.mutableElements();t.updateStyle()};Fr.updateTransitions=function(e,t){var r=this,n=e._private,a=e.pstyle("transition-property").value,i=e.pstyle("transition-duration").pfValue,o=e.pstyle("transition-delay").pfValue;if(a.length>0&&i>0){for(var l={},u=!1,c=0;c<a.length;c++){var d=a[c],h=e.pstyle(d),v=t[d];if(v){var g=v.prev,m=g,b=v.next!=null?v.next:h,x=!1,w=void 0,S=1e-6;m&&(Te(m.pfValue)&&Te(b.pfValue)?(x=b.pfValue-m.pfValue,w=m.pfValue+S*x):Te(m.value)&&Te(b.value)?(x=b.value-m.value,w=m.value+S*x):It(m.value)&&It(b.value)&&(x=m.value[0]!==b.value[0]||m.value[1]!==b.value[1]||m.value[2]!==b.value[2],w=m.strValue),x&&(l[d]=b.strValue,this.applyBypass(e,d,w),u=!0))}}if(!u)return;n.transitioning=!0,new _u(function(E){o>0?e.delayAnimation(o).play().promise().then(E):E()}).then(function(){return e.animation({style:l,duration:i,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(e,a),e.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(e,a),e.emitAndNotify("style"),n.transitioning=!1)};Fr.checkTrigger=function(e,t,r,n,a,i){var o=this.properties[t],l=a(o);e.removed()||l!=null&&l(r,n,e)&&i(o)};Fr.checkZOrderTrigger=function(e,t,r,n){var a=this;this.checkTrigger(e,t,r,n,function(i){return i.triggersZOrder},function(){a._private.cy.notify("zorder",e)})};Fr.checkBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(a){return a.triggersBounds},function(a){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache()})};Fr.checkConnectedEdgesBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(a){return a.triggersBoundsOfConnectedEdges},function(a){e.connectedEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};Fr.checkParallelEdgesBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(a){return a.triggersBoundsOfParallelEdges},function(a){e.parallelEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};Fr.checkTriggers=function(e,t,r,n){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,r,n),this.checkBoundsTrigger(e,t,r,n),this.checkConnectedEdgesBoundsTrigger(e,t,r,n),this.checkParallelEdgesBoundsTrigger(e,t,r,n)};var Gf={};Gf.applyBypass=function(e,t,r,n){var a=this,i=[],o=!0;if(t==="*"||t==="**"){if(r!==void 0)for(var l=0;l<a.properties.length;l++){var u=a.properties[l],c=u.name,d=this.parse(c,r,!0);d&&i.push(d)}}else if(Ve(t)){var h=this.parse(t,r,!0);h&&i.push(h)}else if(mt(t)){var v=t;n=r;for(var g=Object.keys(v),m=0;m<g.length;m++){var b=g[m],x=v[b];if(x===void 0&&(x=v[Bp(b)]),x!==void 0){var w=this.parse(b,x,!0);w&&i.push(w)}}}else return!1;if(i.length===0)return!1;for(var S=!1,E=0;E<e.length;E++){for(var O=e[E],D={},k=void 0,T=0;T<i.length;T++){var _=i[T];if(n){var M=O.pstyle(_.name);k=D[_.name]={prev:M}}S=this.applyParsedProperty(O,Xa(_))||S,n&&(k.next=O.pstyle(_.name))}S&&this.updateStyleHints(O),n&&this.updateTransitions(O,D,o)}return S};Gf.overrideBypass=function(e,t,r){t=mE(t);for(var n=0;n<e.length;n++){var a=e[n],i=a._private.style[t],o=this.properties[t].type,l=o.color,u=o.mutiple,c=i?i.pfValue!=null?i.pfValue:i.value:null;!i||!i.bypass?this.applyBypass(a,t,r):(i.value=r,i.pfValue!=null&&(i.pfValue=r),l?i.strValue="rgb("+r.join(",")+")":u?i.strValue=r.join(" "):i.strValue=""+r,this.updateStyleHints(a)),this.checkTriggers(a,t,c,r)}};Gf.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)};Gf.removeBypasses=function(e,t,r){for(var n=!0,a=0;a<e.length;a++){for(var i=e[a],o={},l=0;l<t.length;l++){var u=t[l],c=this.properties[u],d=i.pstyle(c.name);if(!(!d||!d.bypass)){var h="",v=this.parse(u,h,!0),g=o[c.name]={prev:d};this.applyParsedProperty(i,v),g.next=i.pstyle(c.name)}}this.updateStyleHints(i),r&&this.updateTransitions(i,o,n)}};var PE={};PE.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return e!=null?parseFloat(e):1};PE.containerCss=function(e){var t=this._private.cy,r=t.container(),n=t.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(e)};var Qa={};Qa.getRenderedStyle=function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)};Qa.getRawStyle=function(e,t){var r=this;if(e=e[0],e){for(var n={},a=0;a<r.properties.length;a++){var i=r.properties[a],o=r.getStylePropertyValue(e,i.name,t);o!=null&&(n[i.name]=o,n[Bp(i.name)]=o)}return n}};Qa.getIndexedStyle=function(e,t,r,n){var a=e.pstyle(t)[r][n];return a??e.cy().style().getDefaultProperty(t)[r][0]};Qa.getStylePropertyValue=function(e,t,r){var n=this;if(e=e[0],e){var a=n.properties[t];a.alias&&(a=a.pointsTo);var i=a.type,o=e.pstyle(a.name);if(o){var l=o.value,u=o.units,c=o.strValue;if(r&&i.number&&l!=null&&Te(l)){var d=e.cy().zoom(),h=function(x){return x*d},v=function(x,w){return h(x)+w},g=It(l),m=g?u.every(function(b){return b!=null}):u!=null;return m?g?l.map(function(b,x){return v(b,u[x])}).join(" "):v(l,u):g?l.map(function(b){return Ve(b)?b:""+h(b)}).join(" "):""+h(l)}else if(c!=null)return c}return null}};Qa.getAnimationStartStyle=function(e,t){for(var r={},n=0;n<t.length;n++){var a=t[n],i=a.name,o=e.pstyle(i);o!==void 0&&(mt(o)?o=this.parse(i,o.strValue):o=this.parse(i,o)),o&&(r[i]=o)}return r};Qa.getPropsList=function(e){var t=this,r=[],n=e,a=t.properties;if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var l=i[o],u=n[l],c=a[l]||a[mE(l)],d=this.parse(c.name,u);d&&r.push(d)}return r};Qa.getNonDefaultPropertiesHash=function(e,t,r){var n=r.slice(),a,i,o,l,u,c;for(u=0;u<t.length;u++)if(a=t[u],i=e.pstyle(a,!1),i!=null)if(i.pfValue!=null)n[0]=lf(l,n[0]),n[1]=uf(l,n[1]);else for(o=i.strValue,c=0;c<o.length;c++)l=o.charCodeAt(c),n[0]=lf(l,n[0]),n[1]=uf(l,n[1]);return n};Qa.getPropertiesHash=Qa.getNonDefaultPropertiesHash;var Kp={};Kp.appendFromJson=function(e){for(var t=this,r=0;r<e.length;r++){var n=e[r],a=n.selector,i=n.style||n.css,o=Object.keys(i);t.selector(a);for(var l=0;l<o.length;l++){var u=o[l],c=i[u];t.css(u,c)}}return t};Kp.fromJson=function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t};Kp.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var r=this[t],n=r.selector,a=r.properties,i={},o=0;o<a.length;o++){var l=a[o];i[l.name]=l.strValue}e.push({selector:n?n.toString():"core",style:i})}return e};var NE={};NE.appendFromString=function(e){var t=this,r=this,n=""+e,a,i,o;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function l(){n.length>a.length?n=n.substr(a.length):n=""}function u(){i.length>o.length?i=i.substr(o.length):i=""}for(;;){var c=n.match(/^\s*$/);if(c)break;var d=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!d){Ct("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}a=d[0];var h=d[1];if(h!=="core"){var v=new jo(h);if(v.invalid){Ct("Skipping parsing of block: Invalid selector found in string stylesheet: "+h),l();continue}}var g=d[2],m=!1;i=g;for(var b=[];;){var x=i.match(/^\s*$/);if(x)break;var w=i.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!w){Ct("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+g),m=!0;break}o=w[0];var S=w[1],E=w[2],O=t.properties[S];if(!O){Ct("Skipping property: Invalid property name in: "+o),u();continue}var D=r.parse(S,E);if(!D){Ct("Skipping property: Invalid property definition in: "+o),u();continue}b.push({name:S,val:E}),u()}if(m){l();break}r.selector(h);for(var k=0;k<b.length;k++){var T=b[k];r.css(T.name,T.val)}l()}return r};NE.fromString=function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t};var pr={};(function(){var e=Sr,t=gZ,r=yZ,n=bZ,a=xZ,i=function(J){return"^"+J+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(J){var W=e+"|\\w+|"+t+"|"+r+"|"+n+"|"+a;return"^"+J+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+W+")\\s*\\,\\s*("+W+")\\)$"},l=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];pr.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:i("data")},layoutData:{mapping:!0,regex:i("layoutData")},scratch:{mapping:!0,regex:i("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:l,singleRegexMatchValue:!0},urls:{regexes:l,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(J,W){switch(J.length){case 2:return W[0]!=="deg"&&W[0]!=="rad"&&W[1]!=="deg"&&W[1]!=="rad";case 1:return Ve(J[0])||W[0]==="deg"||W[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(J){var W=J.length;return W===1||W===2||W===4}}};var u={zeroNonZero:function(J,W){return(J==null||W==null)&&J!==W||J==0&&W!=0?!0:J!=0&&W==0},any:function(J,W){return J!=W},emptyNonEmpty:function(J,W){var se=Bo(J),he=Bo(W);return se&&!he||!se&&he}},c=pr.types,d=[{name:"label",type:c.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:c.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:c.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:c.bidirectionalSize,triggersBounds:u.any}],h=[{name:"source-label",type:c.text,triggersBounds:u.any},{name:"source-text-rotation",type:c.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:c.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:c.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:c.size,triggersBounds:u.any}],v=[{name:"target-label",type:c.text,triggersBounds:u.any},{name:"target-text-rotation",type:c.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:c.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:c.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:c.size,triggersBounds:u.any}],g=[{name:"font-family",type:c.fontFamily,triggersBounds:u.any},{name:"font-style",type:c.fontStyle,triggersBounds:u.any},{name:"font-weight",type:c.fontWeight,triggersBounds:u.any},{name:"font-size",type:c.size,triggersBounds:u.any},{name:"text-transform",type:c.textTransform,triggersBounds:u.any},{name:"text-wrap",type:c.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:c.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:c.size,triggersBounds:u.any},{name:"text-outline-width",type:c.size,triggersBounds:u.any},{name:"line-height",type:c.positiveNumber,triggersBounds:u.any}],m=[{name:"text-valign",type:c.valign,triggersBounds:u.any},{name:"text-halign",type:c.halign,triggersBounds:u.any},{name:"color",type:c.color},{name:"text-outline-color",type:c.color},{name:"text-outline-opacity",type:c.zeroOneNumber},{name:"text-background-color",type:c.color},{name:"text-background-opacity",type:c.zeroOneNumber},{name:"text-background-padding",type:c.size,triggersBounds:u.any},{name:"text-border-opacity",type:c.zeroOneNumber},{name:"text-border-color",type:c.color},{name:"text-border-width",type:c.size,triggersBounds:u.any},{name:"text-border-style",type:c.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:c.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:c.justification},{name:"box-select-labels",type:c.bool,triggersBounds:u.any}],b=[{name:"events",type:c.bool,triggersZOrder:u.any},{name:"text-events",type:c.bool,triggersZOrder:u.any},{name:"box-selection",type:c.boxSelection,triggersZOrder:u.any}],x=[{name:"display",type:c.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfConnectedEdges:u.any,triggersBoundsOfParallelEdges:function(J,W,se){return J===W?!1:se.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:c.visibility,triggersZOrder:u.any},{name:"opacity",type:c.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:c.zeroOneNumber},{name:"min-zoomed-font-size",type:c.size},{name:"z-compound-depth",type:c.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:c.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:c.number,triggersZOrder:u.any}],w=[{name:"overlay-padding",type:c.size,triggersBounds:u.any},{name:"overlay-color",type:c.color},{name:"overlay-opacity",type:c.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"overlay-shape",type:c.overlayShape,triggersBounds:u.any},{name:"overlay-corner-radius",type:c.cornerRadius}],S=[{name:"underlay-padding",type:c.size,triggersBounds:u.any},{name:"underlay-color",type:c.color},{name:"underlay-opacity",type:c.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"underlay-shape",type:c.overlayShape,triggersBounds:u.any},{name:"underlay-corner-radius",type:c.cornerRadius}],E=[{name:"transition-property",type:c.propList},{name:"transition-duration",type:c.time},{name:"transition-delay",type:c.time},{name:"transition-timing-function",type:c.easing}],O=function(J,W){return W.value==="label"?-J.poolIndex():W.pfValue},D=[{name:"height",type:c.nodeSize,triggersBounds:u.any,hashOverride:O},{name:"width",type:c.nodeSize,triggersBounds:u.any,hashOverride:O},{name:"shape",type:c.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:c.polygonPointList,triggersBounds:u.any},{name:"corner-radius",type:c.cornerRadius},{name:"background-color",type:c.color},{name:"background-fill",type:c.fill},{name:"background-opacity",type:c.zeroOneNumber},{name:"background-blacken",type:c.nOneOneNumber},{name:"background-gradient-stop-colors",type:c.colors},{name:"background-gradient-stop-positions",type:c.percentages},{name:"background-gradient-direction",type:c.gradientDirection},{name:"padding",type:c.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:c.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:c.boundsExpansion,triggersBounds:u.any}],k=[{name:"border-color",type:c.color},{name:"border-opacity",type:c.zeroOneNumber},{name:"border-width",type:c.size,triggersBounds:u.any},{name:"border-style",type:c.borderStyle},{name:"border-cap",type:c.lineCap},{name:"border-join",type:c.lineJoin},{name:"border-dash-pattern",type:c.numbers},{name:"border-dash-offset",type:c.number},{name:"border-position",type:c.linePosition}],T=[{name:"outline-color",type:c.color},{name:"outline-opacity",type:c.zeroOneNumber},{name:"outline-width",type:c.size,triggersBounds:u.any},{name:"outline-style",type:c.borderStyle},{name:"outline-offset",type:c.size,triggersBounds:u.any}],_=[{name:"background-image",type:c.urls},{name:"background-image-crossorigin",type:c.bgCrossOrigin},{name:"background-image-opacity",type:c.zeroOneNumbers},{name:"background-image-containment",type:c.bgContainment},{name:"background-image-smoothing",type:c.bools},{name:"background-position-x",type:c.bgPos},{name:"background-position-y",type:c.bgPos},{name:"background-width-relative-to",type:c.bgRelativeTo},{name:"background-height-relative-to",type:c.bgRelativeTo},{name:"background-repeat",type:c.bgRepeat},{name:"background-fit",type:c.bgFit},{name:"background-clip",type:c.bgClip},{name:"background-width",type:c.bgWH},{name:"background-height",type:c.bgWH},{name:"background-offset-x",type:c.bgPos},{name:"background-offset-y",type:c.bgPos}],M=[{name:"position",type:c.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:c.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:c.size,triggersBounds:u.any},{name:"min-width-bias-left",type:c.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:c.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:c.size,triggersBounds:u.any},{name:"min-height-bias-top",type:c.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:c.sizeMaybePercent,triggersBounds:u.any}],R=[{name:"line-style",type:c.lineStyle},{name:"line-color",type:c.color},{name:"line-fill",type:c.fill},{name:"line-cap",type:c.lineCap},{name:"line-opacity",type:c.zeroOneNumber},{name:"line-dash-pattern",type:c.numbers},{name:"line-dash-offset",type:c.number},{name:"line-outline-width",type:c.size},{name:"line-outline-color",type:c.color},{name:"line-gradient-stop-colors",type:c.colors},{name:"line-gradient-stop-positions",type:c.percentages},{name:"curve-style",type:c.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelEdges:function(J,W){return J===W?!1:J==="bezier"||W==="bezier"}},{name:"haystack-radius",type:c.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:c.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:c.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:c.size,triggersBounds:u.any},{name:"control-point-distances",type:c.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:c.numbers,triggersBounds:u.any},{name:"segment-distances",type:c.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:c.numbers,triggersBounds:u.any},{name:"segment-radii",type:c.numbers,triggersBounds:u.any},{name:"radius-type",type:c.radiusType,triggersBounds:u.any},{name:"taxi-turn",type:c.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:c.size,triggersBounds:u.any},{name:"taxi-direction",type:c.axisDirection,triggersBounds:u.any},{name:"taxi-radius",type:c.number,triggersBounds:u.any},{name:"edge-distances",type:c.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:c.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:c.angle,triggersBounds:u.any},{name:"loop-sweep",type:c.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:c.size,triggersBounds:u.any},{name:"target-distance-from-node",type:c.size,triggersBounds:u.any}],P=[{name:"ghost",type:c.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:c.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:c.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:c.zeroOneNumber}],L=[{name:"selection-box-color",type:c.color},{name:"selection-box-opacity",type:c.zeroOneNumber},{name:"selection-box-border-color",type:c.color},{name:"selection-box-border-width",type:c.size},{name:"active-bg-color",type:c.color},{name:"active-bg-opacity",type:c.zeroOneNumber},{name:"active-bg-size",type:c.size},{name:"outside-texture-bg-color",type:c.color},{name:"outside-texture-bg-opacity",type:c.zeroOneNumber}],N=[];pr.pieBackgroundN=16,N.push({name:"pie-size",type:c.sizeMaybePercent}),N.push({name:"pie-hole",type:c.sizeMaybePercent}),N.push({name:"pie-start-angle",type:c.angle});for(var B=1;B<=pr.pieBackgroundN;B++)N.push({name:"pie-"+B+"-background-color",type:c.color}),N.push({name:"pie-"+B+"-background-size",type:c.percent}),N.push({name:"pie-"+B+"-background-opacity",type:c.zeroOneNumber});var G=[];pr.stripeBackgroundN=16,G.push({name:"stripe-size",type:c.sizeMaybePercent}),G.push({name:"stripe-direction",type:c.axisDirectionPrimary});for(var I=1;I<=pr.stripeBackgroundN;I++)G.push({name:"stripe-"+I+"-background-color",type:c.color}),G.push({name:"stripe-"+I+"-background-size",type:c.percent}),G.push({name:"stripe-"+I+"-background-opacity",type:c.zeroOneNumber});var z=[],q=pr.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:c.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:c.color},{name:"arrow-fill",type:c.arrowFill},{name:"arrow-width",type:c.arrowWidth}].forEach(function(re){q.forEach(function(J){var W=J+"-"+re.name,se=re.type,he=re.triggersBounds;z.push({name:W,type:se,triggersBounds:he})})},{});var H=pr.properties=[].concat(b,E,x,w,S,P,m,g,d,h,v,D,k,T,_,N,G,M,R,z,L),X=pr.propertyGroups={behavior:b,transition:E,visibility:x,overlay:w,underlay:S,ghost:P,commonLabel:m,labelDimensions:g,mainLabel:d,sourceLabel:h,targetLabel:v,nodeBody:D,nodeBorder:k,nodeOutline:T,backgroundImage:_,pie:N,stripe:G,compound:M,edgeLine:R,edgeArrow:z,core:L},U=pr.propertyGroupNames={},V=pr.propertyGroupKeys=Object.keys(X);V.forEach(function(re){U[re]=X[re].map(function(J){return J.name}),X[re].forEach(function(J){return J.groupKey=re})});var Q=pr.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];pr.propertyNames=H.map(function(re){return re.name});for(var ee=0;ee<H.length;ee++){var te=H[ee];H[te.name]=te}for(var ie=0;ie<Q.length;ie++){var ue=Q[ie],xe=H[ue.pointsTo],Z={name:ue.name,alias:!0,pointsTo:xe};H.push(Z),H[ue.name]=Z}})();pr.getDefaultProperty=function(e){return this.getDefaultProperties()[e]};pr.getDefaultProperties=function(){var e=this._private;if(e.defaultProperties!=null)return e.defaultProperties;for(var t=Xe({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,c){for(var d=1;d<=pr.pieBackgroundN;d++){var h=c.name.replace("{{i}}",d),v=c.value;u[h]=v}return u},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(u,c){for(var d=1;d<=pr.stripeBackgroundN;d++){var h=c.name.replace("{{i}}",d),v=c.value;u[h]=v}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(u,c){return pr.arrowPrefixes.forEach(function(d){var h=d+"-"+c.name,v=c.value;u[h]=v}),u},{})),r={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var i=a.name,o=t[i],l=this.parse(i,o);r[i]=l}}return e.defaultProperties=r,e.defaultProperties};pr.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Wp={};Wp.parse=function(e,t,r,n){var a=this;if(er(t))return a.parseImplWarn(e,t,r,n);var i=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,o=r?"t":"f",l=""+t,u=PI(e,l,o,i),c=a.propCache=a.propCache||[],d;return(d=c[u])||(d=c[u]=a.parseImplWarn(e,t,r,n)),(r||n==="mapping")&&(d=Xa(d),d&&(d.value=Xa(d.value))),d};Wp.parseImplWarn=function(e,t,r,n){var a=this.parseImpl(e,t,r,n);return!a&&t!=null&&Ct("The style property `".concat(e,": ").concat(t,"` is invalid")),a&&(a.name==="width"||a.name==="height")&&t==="label"&&Ct("The style value of `label` is deprecated for `"+a.name+"`"),a};Wp.parseImpl=function(e,t,r,n){var a=this;e=mE(e);var i=a.properties[e],o=t,l=a.types;if(!i||t===void 0)return null;i.alias&&(i=i.pointsTo,e=i.name);var u=Ve(t);u&&(t=t.trim());var c=i.type;if(!c)return null;if(r&&(t===""||t===null))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(er(t))return{name:e,value:t,strValue:"fn",mapped:l.fn,bypass:r};var d,h;if(!(!u||n||t.length<7||t[1]!=="a")){if(t.length>=7&&t[0]==="d"&&(d=new RegExp(l.data.regex).exec(t))){if(r)return!1;var v=l.data;return{name:e,value:d,strValue:""+t,mapped:v,field:d[1],bypass:r}}else if(t.length>=10&&t[0]==="m"&&(h=new RegExp(l.mapData.regex).exec(t))){if(r||c.multiple)return!1;var g=l.mapData;if(!(c.color||c.number))return!1;var m=this.parse(e,h[4]);if(!m||m.mapped)return!1;var b=this.parse(e,h[5]);if(!b||b.mapped)return!1;if(m.pfValue===b.pfValue||m.strValue===b.strValue)return Ct("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+m.strValue+"`"),this.parse(e,m.strValue);if(c.color){var x=m.value,w=b.value,S=x[0]===w[0]&&x[1]===w[1]&&x[2]===w[2]&&(x[3]===w[3]||(x[3]==null||x[3]===1)&&(w[3]==null||w[3]===1));if(S)return!1}return{name:e,value:h,strValue:""+t,mapped:g,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:m.value,valueMax:b.value,bypass:r}}}if(c.multiple&&n!=="multiple"){var E;if(u?E=t.split(/\s+/):It(t)?E=t:E=[t],c.evenMultiple&&E.length%2!==0)return null;for(var O=[],D=[],k=[],T="",_=!1,M=0;M<E.length;M++){var R=a.parse(e,E[M],r,"multiple");_=_||Ve(R.value),O.push(R.value),k.push(R.pfValue!=null?R.pfValue:R.value),D.push(R.units),T+=(M>0?" ":"")+R.strValue}return c.validate&&!c.validate(O,D)?null:c.singleEnum&&_?O.length===1&&Ve(O[0])?{name:e,value:O[0],strValue:O[0],bypass:r}:null:{name:e,value:O,pfValue:k,strValue:T,bypass:r,units:D}}var P=function(){for(var Z=0;Z<c.enums.length;Z++){var re=c.enums[Z];if(re===t)return{name:e,value:t,strValue:""+t,bypass:r}}return null};if(c.number){var L,N="px";if(c.units&&(L=c.units),c.implicitUnits&&(N=c.implicitUnits),!c.unitless)if(u){var B="px|em"+(c.allowPercent?"|\\%":"");L&&(B=L);var G=t.match("^("+Sr+")("+B+")?$");G&&(t=G[1],L=G[2]||N)}else(!L||c.implicitUnits)&&(L=N);if(t=parseFloat(t),isNaN(t)&&c.enums===void 0)return null;if(isNaN(t)&&c.enums!==void 0)return t=o,P();if(c.integer&&!uZ(t)||c.min!==void 0&&(t<c.min||c.strictMin&&t===c.min)||c.max!==void 0&&(t>c.max||c.strictMax&&t===c.max))return null;var I={name:e,value:t,strValue:""+t+(L||""),units:L,bypass:r};return c.unitless||L!=="px"&&L!=="em"?I.pfValue=t:I.pfValue=L==="px"||!L?t:this.getEmSizeInPixels()*t,(L==="ms"||L==="s")&&(I.pfValue=L==="ms"?t:1e3*t),(L==="deg"||L==="rad")&&(I.pfValue=L==="rad"?t:bQ(t)),L==="%"&&(I.pfValue=t/100),I}else if(c.propList){var z=[],q=""+t;if(q!=="none"){for(var H=q.split(/\s*,\s*|\s+/),X=0;X<H.length;X++){var U=H[X].trim();a.properties[U]?z.push(U):Ct("`"+U+"` is not a valid property name")}if(z.length===0)return null}return{name:e,value:z,strValue:z.length===0?"none":z.join(" "),bypass:r}}else if(c.color){var V=CI(t);return V?{name:e,value:V,pfValue:V,strValue:"rgb("+V[0]+","+V[1]+","+V[2]+")",bypass:r}:null}else if(c.regex||c.regexes){if(c.enums){var Q=P();if(Q)return Q}for(var ee=c.regexes?c.regexes:[c.regex],te=0;te<ee.length;te++){var ie=new RegExp(ee[te]),ue=ie.exec(t);if(ue)return{name:e,value:c.singleRegexMatchValue?ue[1]:ue,strValue:""+t,bypass:r}}return null}else return c.string?{name:e,value:""+t,strValue:""+t,bypass:r}:c.enums?P():null};var Gr=function(t){if(!(this instanceof Gr))return new Gr(t);if(!gE(t)){Wt("A style must have a core reference");return}this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()},cn=Gr.prototype;cn.instanceString=function(){return"style"};cn.clear=function(){for(var e=this._private,t=e.cy,r=t.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(r,!0),r.forEach(function(a){var i=a[0]._private;i.styleDirty=!0,i.appliedInitStyle=!1}),this};cn.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};cn.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)};cn.selector=function(e){var t=e==="core"?null:new jo(e),r=this.length++;return this[r]={selector:t,properties:[],mappedProperties:[],index:r},this};cn.css=function(){var e=this,t=arguments;if(t.length===1)for(var r=t[0],n=0;n<e.properties.length;n++){var a=e.properties[n],i=r[a.name];i===void 0&&(i=r[Bp(a.name)]),i!==void 0&&this.cssRule(a.name,i)}else t.length===2&&this.cssRule(t[0],t[1]);return this};cn.style=cn.css;cn.cssRule=function(e,t){var r=this.parse(e,t);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.name.match(/stripe-(\d+)-background-size/)&&r.value&&(this._private.hasStripe=!0),r.mapped&&this[n].mappedProperties.push(r);var a=!this[n].selector;a&&(this._private.coreStyle[r.name]=r)}return this};cn.append=function(e){return EI(e)?e.appendToStyle(this):It(e)?this.appendFromJson(e):Ve(e)&&this.appendFromString(e),this};Gr.fromJson=function(e,t){var r=new Gr(e);return r.fromJson(t),r};Gr.fromString=function(e,t){return new Gr(e).fromString(t)};[Fr,Gf,PE,Qa,Kp,NE,pr,Wp].forEach(function(e){Xe(cn,e)});Gr.types=cn.types;Gr.properties=cn.properties;Gr.propertyGroups=cn.propertyGroups;Gr.propertyGroupNames=cn.propertyGroupNames;Gr.propertyGroupKeys=cn.propertyGroupKeys;var Ste={style:function(t){if(t){var r=this.setStyle(t);r.update()}return this._private.style},setStyle:function(t){var r=this._private;return EI(t)?r.style=t.generateStyle(this):It(t)?r.style=Gr.fromJson(this,t):Ve(t)?r.style=Gr.fromString(this,t):r.style=Gr(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},Ate="single",$s={autolock:function(t){if(t!==void 0)this._private.autolock=!!t;else return this._private.autolock;return this},autoungrabify:function(t){if(t!==void 0)this._private.autoungrabify=!!t;else return this._private.autoungrabify;return this},autounselectify:function(t){if(t!==void 0)this._private.autounselectify=!!t;else return this._private.autounselectify;return this},selectionType:function(t){var r=this._private;if(r.selectionType==null&&(r.selectionType=Ate),t!==void 0)(t==="additive"||t==="single")&&(r.selectionType=t);else return r.selectionType;return this},panningEnabled:function(t){if(t!==void 0)this._private.panningEnabled=!!t;else return this._private.panningEnabled;return this},userPanningEnabled:function(t){if(t!==void 0)this._private.userPanningEnabled=!!t;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(t){if(t!==void 0)this._private.zoomingEnabled=!!t;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(t){if(t!==void 0)this._private.userZoomingEnabled=!!t;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(t){if(t!==void 0)this._private.boxSelectionEnabled=!!t;else return this._private.boxSelectionEnabled;return this},pan:function(){var t=arguments,r=this._private.pan,n,a,i,o,l;switch(t.length){case 0:return r;case 1:if(Ve(t[0]))return n=t[0],r[n];if(mt(t[0])){if(!this._private.panningEnabled)return this;i=t[0],o=i.x,l=i.y,Te(o)&&(r.x=o),Te(l)&&(r.y=l),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=t[0],a=t[1],(n==="x"||n==="y")&&Te(a)&&(r[n]=a),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(t,r){var n=arguments,a=this._private.pan,i,o,l,u,c;if(!this._private.panningEnabled)return this;switch(n.length){case 1:mt(t)&&(l=n[0],u=l.x,c=l.y,Te(u)&&(a.x+=u),Te(c)&&(a.y+=c),this.emit("pan viewport"));break;case 2:i=t,o=r,(i==="x"||i==="y")&&Te(o)&&(a[i]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(t,r){var n=this.getFitViewport(t,r);if(n){var a=this._private;a.zoom=n.zoom,a.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(t,r){if(Te(t)&&r===void 0&&(r=t,t=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(Ve(t)){var a=t;t=this.$(a)}else if(dZ(t)){var i=t;n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Zn(t)||(t=this.mutableElements());if(!(Zn(t)&&t.empty())){n=n||t.boundingBox();var o=this.width(),l=this.height(),u;if(r=Te(r)?r:0,!isNaN(o)&&!isNaN(l)&&o>0&&l>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){u=Math.min((o-2*r)/n.w,(l-2*r)/n.h),u=u>this._private.maxZoom?this._private.maxZoom:u,u=u<this._private.minZoom?this._private.minZoom:u;var c={x:(o-u*(n.x1+n.x2))/2,y:(l-u*(n.y1+n.y2))/2};return{zoom:u,pan:c}}}}},zoomRange:function(t,r){var n=this._private;if(r==null){var a=t;t=a.min,r=a.max}return Te(t)&&Te(r)&&t<=r?(n.minZoom=t,n.maxZoom=r):Te(t)&&r===void 0&&t<=n.maxZoom?n.minZoom=t:Te(r)&&t===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(t){return t===void 0?this._private.minZoom:this.zoomRange({min:t})},maxZoom:function(t){return t===void 0?this._private.maxZoom:this.zoomRange({max:t})},getZoomedViewport:function(t){var r=this._private,n=r.pan,a=r.zoom,i,o,l=!1;if(r.zoomingEnabled||(l=!0),Te(t)?o=t:mt(t)&&(o=t.level,t.position!=null?i=jp(t.position,a,n):t.renderedPosition!=null&&(i=t.renderedPosition),i!=null&&!r.panningEnabled&&(l=!0)),o=o>r.maxZoom?r.maxZoom:o,o=o<r.minZoom?r.minZoom:o,l||!Te(o)||o===a||i!=null&&(!Te(i.x)||!Te(i.y)))return null;if(i!=null){var u=n,c=a,d=o,h={x:-d/c*(i.x-u.x)+i.x,y:-d/c*(i.y-u.y)+i.y};return{zoomed:!0,panned:!0,zoom:d,pan:h}}else return{zoomed:!0,panned:!1,zoom:o,pan:n}},zoom:function(t){if(t===void 0)return this._private.zoom;var r=this.getZoomedViewport(t),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(t){var r=this._private,n=!0,a=!0,i=[],o=!1,l=!1;if(!t)return this;if(Te(t.zoom)||(n=!1),mt(t.pan)||(a=!1),!n&&!a)return this;if(n){var u=t.zoom;u<r.minZoom||u>r.maxZoom||!r.zoomingEnabled?o=!0:(r.zoom=u,i.push("zoom"))}if(a&&(!o||!t.cancelOnFailedZoom)&&r.panningEnabled){var c=t.pan;Te(c.x)&&(r.pan.x=c.x,l=!1),Te(c.y)&&(r.pan.y=c.y,l=!1),l||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(t){var r=this.getCenterPan(t);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(t,r){if(this._private.panningEnabled){if(Ve(t)){var n=t;t=this.mutableElements().filter(n)}else Zn(t)||(t=this.mutableElements());if(t.length!==0){var a=t.boundingBox(),i=this.width(),o=this.height();r=r===void 0?this._private.zoom:r;var l={x:(i-r*(a.x1+a.x2))/2,y:(o-r*(a.y1+a.y2))/2};return l}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t=this._private,r=t.container,n=this;return t.sizeCache=t.sizeCache||(r?(function(){var a=n.window().getComputedStyle(r),i=function(l){return parseFloat(a.getPropertyValue(l))};return{width:r.clientWidth-i("padding-left")-i("padding-right"),height:r.clientHeight-i("padding-top")-i("padding-bottom")}})():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),a={x1:(n.x1-t.x)/r,x2:(n.x2-t.x)/r,y1:(n.y1-t.y)/r,y2:(n.y2-t.y)/r};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var t=this.width(),r=this.height();return{x1:0,y1:0,x2:t,y2:r,w:t,h:r}},multiClickDebounceTime:function(t){if(t)this._private.multiClickDebounceTime=t;else return this._private.multiClickDebounceTime;return this}};$s.centre=$s.center;$s.autolockNodes=$s.autolock;$s.autoungrabifyNodes=$s.autoungrabify;var pf={data:At.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:At.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:At.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:At.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};pf.attr=pf.data;pf.removeAttr=pf.removeData;var gf=function(t){var r=this;t=Xe({},t);var n=t.container;n&&!Uv(n)&&Uv(n[0])&&(n=n[0]);var a=n?n._cyreg:null;a=a||{},a&&a.cy&&(a.cy.destroy(),a={});var i=a.readies=a.readies||[];n&&(n._cyreg=a),a.cy=r;var o=wr!==void 0&&n!==void 0&&!t.headless,l=t;l.layout=Xe({name:o?"grid":"null"},l.layout),l.renderer=Xe({name:o?"canvas":"null"},l.renderer);var u=function(m,b,x){return b!==void 0?b:x!==void 0?x:m},c=this._private={container:n,ready:!1,options:l,elements:new Qr(this),listeners:[],aniEles:new Qr(this),data:l.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:u(!0,l.zoomingEnabled),userZoomingEnabled:u(!0,l.userZoomingEnabled),panningEnabled:u(!0,l.panningEnabled),userPanningEnabled:u(!0,l.userPanningEnabled),boxSelectionEnabled:u(!0,l.boxSelectionEnabled),autolock:u(!1,l.autolock,l.autolockNodes),autoungrabify:u(!1,l.autoungrabify,l.autoungrabifyNodes),autounselectify:u(!1,l.autounselectify),styleEnabled:l.styleEnabled===void 0?o:l.styleEnabled,zoom:Te(l.zoom)?l.zoom:1,pan:{x:mt(l.pan)&&Te(l.pan.x)?l.pan.x:0,y:mt(l.pan)&&Te(l.pan.y)?l.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:u(250,l.multiClickDebounceTime)};this.createEmitter(),this.selectionType(l.selectionType),this.zoomRange({min:l.minZoom,max:l.maxZoom});var d=function(m,b){var x=m.some(hZ);if(x)return _u.all(m).then(b);b(m)};c.styleEnabled&&r.setStyle([]);var h=Xe({},l,l.renderer);r.initRenderer(h);var v=function(m,b,x){r.notifications(!1);var w=r.mutableElements();w.length>0&&w.remove(),m!=null&&(mt(m)||It(m))&&r.add(m),r.one("layoutready",function(E){r.notifications(!0),r.emit(E),r.one("load",b),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",x),r.emit("done")});var S=Xe({},r._private.options.layout);S.eles=r.elements(),r.layout(S).run()};d([l.style,l.elements],function(g){var m=g[0],b=g[1];c.styleEnabled&&r.style().append(m),v(b,function(){r.startAnimationLoop(),c.ready=!0,er(l.ready)&&r.on("ready",l.ready);for(var x=0;x<i.length;x++){var w=i[x];r.on("ready",w)}a&&(a.readies=[]),r.emit("ready")},l.done)})},Xv=gf.prototype;Xe(Xv,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.destroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container||null},window:function(){var t=this._private.container;if(t==null)return wr;var r=this._private.container.ownerDocument;return r===void 0||r==null?wr:r.defaultView||wr},mount:function(t){if(t!=null){var r=this,n=r._private,a=n.options;return!Uv(t)&&Uv(t[0])&&(t=t[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=t,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(Xe({},a,a.renderer,{name:a.renderer.name==="null"?"canvas":a.renderer.name})),r.startAnimationLoop(),r.style(a.style),r.emit("mount"),r}},unmount:function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},options:function(){return Xa(this._private.options)},json:function(t){var r=this,n=r._private,a=r.mutableElements(),i=function(O){return r.getElementById(O.id())};if(mt(t)){if(r.startBatch(),t.elements){var o={},l=function(O,D){for(var k=[],T=[],_=0;_<O.length;_++){var M=O[_];if(!M.data.id){Ct("cy.json() cannot handle elements without an ID attribute");continue}var R=""+M.data.id,P=r.getElementById(R);o[R]=!0,P.length!==0?T.push({ele:P,json:M}):(D&&(M.group=D),k.push(M))}r.add(k);for(var L=0;L<T.length;L++){var N=T[L],B=N.ele,G=N.json;B.json(G)}};if(It(t.elements))l(t.elements);else for(var u=["nodes","edges"],c=0;c<u.length;c++){var d=u[c],h=t.elements[d];It(h)&&l(h,d)}var v=r.collection();a.filter(function(E){return!o[E.id()]}).forEach(function(E){E.isParent()?v.merge(E):E.remove()}),v.forEach(function(E){return E.children().move({parent:null})}),v.forEach(function(E){return i(E).remove()})}t.style&&r.style(t.style),t.zoom!=null&&t.zoom!==n.zoom&&r.zoom(t.zoom),t.pan&&(t.pan.x!==n.pan.x||t.pan.y!==n.pan.y)&&r.pan(t.pan),t.data&&r.data(t.data);for(var g=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],m=0;m<g.length;m++){var b=g[m];t[b]!=null&&r[b](t[b])}return r.endBatch(),this}else{var x=!!t,w={};x?w.elements=this.elements().map(function(E){return E.json()}):(w.elements={},a.forEach(function(E){var O=E.group();w.elements[O]||(w.elements[O]=[]),w.elements[O].push(E.json())})),this._private.styleEnabled&&(w.style=r.style().json()),w.data=Xa(r.data());var S=n.options;return w.zoomingEnabled=n.zoomingEnabled,w.userZoomingEnabled=n.userZoomingEnabled,w.zoom=n.zoom,w.minZoom=n.minZoom,w.maxZoom=n.maxZoom,w.panningEnabled=n.panningEnabled,w.userPanningEnabled=n.userPanningEnabled,w.pan=Xa(n.pan),w.boxSelectionEnabled=n.boxSelectionEnabled,w.renderer=Xa(S.renderer),w.hideEdgesOnViewport=S.hideEdgesOnViewport,w.textureOnViewport=S.textureOnViewport,w.wheelSensitivity=S.wheelSensitivity,w.motionBlur=S.motionBlur,w.multiClickDebounceTime=S.multiClickDebounceTime,w}}});Xv.$id=Xv.getElementById;[hte,yte,Ez,Sx,$h,xte,Ax,Xh,Ste,$s,pf].forEach(function(e){Xe(Xv,e)});var Cte={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}},Tte={maximal:!1,acyclic:!1},Gl=function(t){return t.scratch("breadthfirst")},xk=function(t,r){return t.scratch("breadthfirst",r)};function Sz(e){this.options=Xe({},Cte,Tte,e)}Sz.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,n=r.nodes().filter(function(Ne){return Ne.isChildless()}),a=r,i=e.directed,o=e.acyclic||e.maximal||e.maximalAdjustments>0,l=!!e.boundingBox,u=mn(l?e.boundingBox:structuredClone(t.extent())),c;if(Zn(e.roots))c=e.roots;else if(It(e.roots)){for(var d=[],h=0;h<e.roots.length;h++){var v=e.roots[h],g=t.getElementById(v);d.push(g)}c=t.collection(d)}else if(Ve(e.roots))c=t.$(e.roots);else if(i)c=n.roots();else{var m=r.components();c=t.collection();for(var b=function(){var Oe=m[x],Ue=Oe.maxDegree(!1),qe=Oe.filter(function(Qe){return Qe.degree(!1)===Ue});c=c.add(qe)},x=0;x<m.length;x++)b()}var w=[],S={},E=function(Oe,Ue){w[Ue]==null&&(w[Ue]=[]);var qe=w[Ue].length;w[Ue].push(Oe),xk(Oe,{index:qe,depth:Ue})},O=function(Oe,Ue){var qe=Gl(Oe),Qe=qe.depth,De=qe.index;w[Qe][De]=null,Oe.isChildless()&&E(Oe,Ue)};a.bfs({roots:c,directed:e.directed,visit:function(Oe,Ue,qe,Qe,De){var nt=Oe[0],lt=nt.id();nt.isChildless()&&E(nt,De),S[lt]=!0}});for(var D=[],k=0;k<n.length;k++){var T=n[k];S[T.id()]||D.push(T)}var _=function(Oe){for(var Ue=w[Oe],qe=0;qe<Ue.length;qe++){var Qe=Ue[qe];if(Qe==null){Ue.splice(qe,1),qe--;continue}xk(Qe,{depth:Oe,index:qe})}},M=function(Oe,Ue){for(var qe=Gl(Oe),Qe=Oe.incomers().filter(function(We){return We.isNode()&&r.has(We)}),De=-1,nt=Oe.id(),lt=0;lt<Qe.length;lt++){var pt=Qe[lt],ht=Gl(pt);De=Math.max(De,ht.depth)}if(qe.depth<=De){if(!e.acyclic&&Ue[nt])return null;var yt=De+1;return O(Oe,yt),Ue[nt]=yt,!0}return!1};if(i&&o){var R=[],P={},L=function(Oe){return R.push(Oe)},N=function(){return R.shift()};for(n.forEach(function(Ne){return R.push(Ne)});R.length>0;){var B=N(),G=M(B,P);if(G)B.outgoers().filter(function(Ne){return Ne.isNode()&&r.has(Ne)}).forEach(L);else if(G===null){Ct("Detected double maximal shift for node `"+B.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var I=0;if(e.avoidOverlap)for(var z=0;z<n.length;z++){var q=n[z],H=q.layoutDimensions(e),X=H.w,U=H.h;I=Math.max(I,X,U)}var V={},Q=function(Oe){if(V[Oe.id()])return V[Oe.id()];for(var Ue=Gl(Oe).depth,qe=Oe.neighborhood(),Qe=0,De=0,nt=0;nt<qe.length;nt++){var lt=qe[nt];if(!(lt.isEdge()||lt.isParent()||!n.has(lt))){var pt=Gl(lt);if(pt!=null){var ht=pt.index,yt=pt.depth;if(!(ht==null||yt==null)){var We=w[yt].length;yt<Ue&&(Qe+=ht/We,De++)}}}}return De=Math.max(1,De),Qe=Qe/De,De===0&&(Qe=0),V[Oe.id()]=Qe,Qe},ee=function(Oe,Ue){var qe=Q(Oe),Qe=Q(Ue),De=qe-Qe;return De===0?AI(Oe.id(),Ue.id()):De};e.depthSort!==void 0&&(ee=e.depthSort);for(var te=w.length,ie=0;ie<te;ie++)w[ie].sort(ee),_(ie);for(var ue=[],xe=0;xe<D.length;xe++)ue.push(D[xe]);var Z=function(){for(var Oe=0;Oe<te;Oe++)_(Oe)};ue.length&&(w.unshift(ue),te=w.length,Z());for(var re=0,J=0;J<te;J++)re=Math.max(w[J].length,re);var W={x:u.x1+u.w/2,y:u.y1+u.h/2},se=n.reduce(function(Ne,Oe){return(function(Ue){return{w:Ne.w===-1?Ue.w:(Ne.w+Ue.w)/2,h:Ne.h===-1?Ue.h:(Ne.h+Ue.h)/2}})(Oe.boundingBox({includeLabels:e.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),he=Math.max(te===1?0:l?(u.h-e.padding*2-se.h)/(te-1):(u.h-e.padding*2-se.h)/(te+1),I),Ce=w.reduce(function(Ne,Oe){return Math.max(Ne,Oe.length)},0),_e=function(Oe){var Ue=Gl(Oe),qe=Ue.depth,Qe=Ue.index;if(e.circle){var De=Math.min(u.w/2/te,u.h/2/te);De=Math.max(De,I);var nt=De*qe+De-(te>0&&w[0].length<=3?De/2:0),lt=2*Math.PI/w[qe].length*Qe;return qe===0&&w[0].length===1&&(nt=1),{x:W.x+nt*Math.cos(lt),y:W.y+nt*Math.sin(lt)}}else{var pt=w[qe].length,ht=Math.max(pt===1?0:l?(u.w-e.padding*2-se.w)/((e.grid?Ce:pt)-1):(u.w-e.padding*2-se.w)/((e.grid?Ce:pt)+1),I),yt={x:W.x+(Qe+1-(pt+1)/2)*ht,y:W.y+(qe+1-(te+1)/2)*he};return yt}},Me={downward:0,leftward:90,upward:180,rightward:-90};Object.keys(Me).indexOf(e.direction)===-1&&Wt("Invalid direction '".concat(e.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(Me).join(", ")));var Ie=function(Oe){return FZ(_e(Oe),u,Me[e.direction])};return r.nodes().layoutPositions(this,e,Ie),this};var Ote={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function Az(e){this.options=Xe({},Ote,e)}Az.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,a=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,i=n.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));for(var o=mn(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l={x:o.x1+o.w/2,y:o.y1+o.h/2},u=t.sweep===void 0?2*Math.PI-2*Math.PI/i.length:t.sweep,c=u/Math.max(1,i.length-1),d,h=0,v=0;v<i.length;v++){var g=i[v],m=g.layoutDimensions(t),b=m.w,x=m.h;h=Math.max(h,b,x)}if(Te(t.radius)?d=t.radius:i.length<=1?d=0:d=Math.min(o.h,o.w)/2-h,i.length>1&&t.avoidOverlap){h*=1.75;var w=Math.cos(c)-Math.cos(0),S=Math.sin(c)-Math.sin(0),E=Math.sqrt(h*h/(w*w+S*S));d=Math.max(E,d)}var O=function(k,T){var _=t.startAngle+T*c*(a?1:-1),M=d*Math.cos(_),R=d*Math.sin(_),P={x:l.x+M,y:l.y+R};return P};return n.nodes().layoutPositions(this,t,O),this};var _te={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function Cz(e){this.options=Xe({},_te,e)}Cz.prototype.run=function(){for(var e=this.options,t=e,r=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,n=e.cy,a=t.eles,i=a.nodes().not(":parent"),o=mn(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l={x:o.x1+o.w/2,y:o.y1+o.h/2},u=[],c=0,d=0;d<i.length;d++){var h=i[d],v=void 0;v=t.concentric(h),u.push({value:v,node:h}),h._private.scratch.concentric=v}i.updateStyle();for(var g=0;g<i.length;g++){var m=i[g],b=m.layoutDimensions(t);c=Math.max(c,b.w,b.h)}u.sort(function(he,Ce){return Ce.value-he.value});for(var x=t.levelWidth(i),w=[[]],S=w[0],E=0;E<u.length;E++){var O=u[E];if(S.length>0){var D=Math.abs(S[0].value-O.value);D>=x&&(S=[],w.push(S))}S.push(O)}var k=c+t.minNodeSpacing;if(!t.avoidOverlap){var T=w.length>0&&w[0].length>1,_=Math.min(o.w,o.h)/2-k,M=_/(w.length+T?1:0);k=Math.min(k,M)}for(var R=0,P=0;P<w.length;P++){var L=w[P],N=t.sweep===void 0?2*Math.PI-2*Math.PI/L.length:t.sweep,B=L.dTheta=N/Math.max(1,L.length-1);if(L.length>1&&t.avoidOverlap){var G=Math.cos(B)-Math.cos(0),I=Math.sin(B)-Math.sin(0),z=Math.sqrt(k*k/(G*G+I*I));R=Math.max(z,R)}L.r=R,R+=k}if(t.equidistant){for(var q=0,H=0,X=0;X<w.length;X++){var U=w[X],V=U.r-H;q=Math.max(q,V)}H=0;for(var Q=0;Q<w.length;Q++){var ee=w[Q];Q===0&&(H=ee.r),ee.r=H,H+=q}}for(var te={},ie=0;ie<w.length;ie++)for(var ue=w[ie],xe=ue.dTheta,Z=ue.r,re=0;re<ue.length;re++){var J=ue[re],W=t.startAngle+(r?1:-1)*xe*re,se={x:l.x+Z*Math.cos(W),y:l.y+Z*Math.sin(W)};te[J.node.id()]=se}return a.nodes().layoutPositions(this,t,function(he){var Ce=he.id();return te[Ce]}),this};var c1,Mte={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Zp(e){this.options=Xe({},Mte,e),this.options.layout=this;var t=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(a){var i=a.source().data("id"),o=a.target().data("id"),l=t.some(function(c){return c.data("id")===i}),u=t.some(function(c){return c.data("id")===o});return!l||!u});this.options.eles=this.options.eles.not(n)}Zp.prototype.run=function(){var e=this.options,t=e.cy,r=this;r.stopped=!1,(e.animate===!0||e.animate===!1)&&r.emit({type:"layoutstart",layout:r}),e.debug===!0?c1=!0:c1=!1;var n=Dte(t,r,e);c1&&Pte(n),e.randomize&&Nte(n);var a=Li(),i=function(){Rte(n,t,e),e.fit===!0&&t.fit(e.padding)},o=function(v){return!(r.stopped||v>=e.numIter||(Lte(n,e),n.temperature=n.temperature*e.coolingFactor,n.temperature<e.minTemp))},l=function(){if(e.animate===!0||e.animate===!1)i(),r.one("layoutstop",e.stop),r.emit({type:"layoutstop",layout:r});else{var v=e.eles.nodes(),g=Oz(n,e,v);v.layoutPositions(r,e,g)}},u=0,c=!0;if(e.animate===!0){var d=function(){for(var v=0;c&&v<e.refresh;)c=o(u),u++,v++;if(!c)Ek(n,e),l();else{var g=Li();g-a>=e.animationThreshold&&i(),Fv(d)}};d()}else{for(;c;)c=o(u),u++;Ek(n,e),l()}return this};Zp.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Zp.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Dte=function(t,r,n){for(var a=n.eles.edges(),i=n.eles.nodes(),o=mn(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),l={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:n.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},u=n.eles.components(),c={},d=0;d<u.length;d++)for(var h=u[d],v=0;v<h.length;v++){var g=h[v];c[g.id()]=d}for(var d=0;d<l.nodeSize;d++){var m=i[d],b=m.layoutDimensions(n),x={};x.isLocked=m.locked(),x.id=m.data("id"),x.parentId=m.data("parent"),x.cmptId=c[m.id()],x.children=[],x.positionX=m.position("x"),x.positionY=m.position("y"),x.offsetX=0,x.offsetY=0,x.height=b.w,x.width=b.h,x.maxX=x.positionX+x.width/2,x.minX=x.positionX-x.width/2,x.maxY=x.positionY+x.height/2,x.minY=x.positionY-x.height/2,x.padLeft=parseFloat(m.style("padding")),x.padRight=parseFloat(m.style("padding")),x.padTop=parseFloat(m.style("padding")),x.padBottom=parseFloat(m.style("padding")),x.nodeRepulsion=er(n.nodeRepulsion)?n.nodeRepulsion(m):n.nodeRepulsion,l.layoutNodes.push(x),l.idToIndex[x.id]=d}for(var w=[],S=0,E=-1,O=[],d=0;d<l.nodeSize;d++){var m=l.layoutNodes[d],D=m.parentId;D!=null?l.layoutNodes[l.idToIndex[D]].children.push(m.id):(w[++E]=m.id,O.push(m.id))}for(l.graphSet.push(O);S<=E;){var k=w[S++],T=l.idToIndex[k],g=l.layoutNodes[T],_=g.children;if(_.length>0){l.graphSet.push(_);for(var d=0;d<_.length;d++)w[++E]=_[d]}}for(var d=0;d<l.graphSet.length;d++)for(var M=l.graphSet[d],v=0;v<M.length;v++){var R=l.idToIndex[M[v]];l.indexToGraph[R]=d}for(var d=0;d<l.edgeSize;d++){var P=a[d],L={};L.id=P.data("id"),L.sourceId=P.data("source"),L.targetId=P.data("target");var N=er(n.idealEdgeLength)?n.idealEdgeLength(P):n.idealEdgeLength,B=er(n.edgeElasticity)?n.edgeElasticity(P):n.edgeElasticity,G=l.idToIndex[L.sourceId],I=l.idToIndex[L.targetId],z=l.indexToGraph[G],q=l.indexToGraph[I];if(z!=q){for(var H=kte(L.sourceId,L.targetId,l),X=l.graphSet[H],U=0,x=l.layoutNodes[G];X.indexOf(x.id)===-1;)x=l.layoutNodes[l.idToIndex[x.parentId]],U++;for(x=l.layoutNodes[I];X.indexOf(x.id)===-1;)x=l.layoutNodes[l.idToIndex[x.parentId]],U++;N*=U*n.nestingFactor}L.idealLength=N,L.elasticity=B,l.layoutEdges.push(L)}return l},kte=function(t,r,n){var a=Tz(t,r,0,n);return 2>a.count?0:a.graph},Tz=function(t,r,n,a){var i=a.graphSet[n];if(-1<i.indexOf(t)&&-1<i.indexOf(r))return{count:2,graph:n};for(var o=0,l=0;l<i.length;l++){var u=i[l],c=a.idToIndex[u],d=a.layoutNodes[c].children;if(d.length!==0){var h=a.indexToGraph[a.idToIndex[d[0]]],v=Tz(t,r,h,a);if(v.count!==0)if(v.count===1){if(o++,o===2)break}else return v}}return{count:o,graph:n}},Pte,Nte=function(t,r){for(var n=t.clientWidth,a=t.clientHeight,i=0;i<t.nodeSize;i++){var o=t.layoutNodes[i];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*n,o.positionY=Math.random()*a)}},Oz=function(t,r,n){var a=t.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(o){var l=t.layoutNodes[t.idToIndex[o.data("id")]];i.x1=Math.min(i.x1,l.positionX),i.x2=Math.max(i.x2,l.positionX),i.y1=Math.min(i.y1,l.positionY),i.y2=Math.max(i.y2,l.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(o,l){var u=t.layoutNodes[t.idToIndex[o.data("id")]];if(r.boundingBox){var c=i.w===0?.5:(u.positionX-i.x1)/i.w,d=i.h===0?.5:(u.positionY-i.y1)/i.h;return{x:a.x1+c*a.w,y:a.y1+d*a.h}}else return{x:u.positionX,y:u.positionY}}},Rte=function(t,r,n){var a=n.layout,i=n.eles.nodes(),o=Oz(t,n,i);i.positions(o),t.ready!==!0&&(t.ready=!0,a.one("layoutready",n.ready),a.emit({type:"layoutready",layout:this}))},Lte=function(t,r,n){Bte(t,r),jte(t),Gte(t,r),Ute(t),Fte(t)},Bte=function(t,r){for(var n=0;n<t.graphSet.length;n++)for(var a=t.graphSet[n],i=a.length,o=0;o<i;o++)for(var l=t.layoutNodes[t.idToIndex[a[o]]],u=o+1;u<i;u++){var c=t.layoutNodes[t.idToIndex[a[u]]];Ite(l,c,t,r)}},wk=function(t){return-1+2*t*Math.random()},Ite=function(t,r,n,a){var i=t.cmptId,o=r.cmptId;if(!(i!==o&&!n.isCompound)){var l=r.positionX-t.positionX,u=r.positionY-t.positionY,c=1;l===0&&u===0&&(l=wk(c),u=wk(c));var d=zte(t,r,l,u);if(d>0)var h=a.nodeOverlap*d,v=Math.sqrt(l*l+u*u),g=h*l/v,m=h*u/v;else var b=Kv(t,l,u),x=Kv(r,-1*l,-1*u),w=x.x-b.x,S=x.y-b.y,E=w*w+S*S,v=Math.sqrt(E),h=(t.nodeRepulsion+r.nodeRepulsion)/E,g=h*w/v,m=h*S/v;t.isLocked||(t.offsetX-=g,t.offsetY-=m),r.isLocked||(r.offsetX+=g,r.offsetY+=m)}},zte=function(t,r,n,a){if(n>0)var i=t.maxX-r.minX;else var i=r.maxX-t.minX;if(a>0)var o=t.maxY-r.minY;else var o=r.maxY-t.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},Kv=function(t,r,n){var a=t.positionX,i=t.positionY,o=t.height||1,l=t.width||1,u=n/r,c=o/l,d={};return r===0&&0<n||r===0&&0>n?(d.x=a,d.y=i+o/2,d):0<r&&-1*c<=u&&u<=c?(d.x=a+l/2,d.y=i+l*n/2/r,d):0>r&&-1*c<=u&&u<=c?(d.x=a-l/2,d.y=i-l*n/2/r,d):0<n&&(u<=-1*c||u>=c)?(d.x=a+o*r/2/n,d.y=i+o/2,d):(0>n&&(u<=-1*c||u>=c)&&(d.x=a-o*r/2/n,d.y=i-o/2),d)},jte=function(t,r){for(var n=0;n<t.edgeSize;n++){var a=t.layoutEdges[n],i=t.idToIndex[a.sourceId],o=t.layoutNodes[i],l=t.idToIndex[a.targetId],u=t.layoutNodes[l],c=u.positionX-o.positionX,d=u.positionY-o.positionY;if(!(c===0&&d===0)){var h=Kv(o,c,d),v=Kv(u,-1*c,-1*d),g=v.x-h.x,m=v.y-h.y,b=Math.sqrt(g*g+m*m),x=Math.pow(a.idealLength-b,2)/a.elasticity;if(b!==0)var w=x*g/b,S=x*m/b;else var w=0,S=0;o.isLocked||(o.offsetX+=w,o.offsetY+=S),u.isLocked||(u.offsetX-=w,u.offsetY-=S)}}},Gte=function(t,r){if(r.gravity!==0)for(var n=1,a=0;a<t.graphSet.length;a++){var i=t.graphSet[a],o=i.length;if(a===0)var l=t.clientHeight/2,u=t.clientWidth/2;else var c=t.layoutNodes[t.idToIndex[i[0]]],d=t.layoutNodes[t.idToIndex[c.parentId]],l=d.positionX,u=d.positionY;for(var h=0;h<o;h++){var v=t.layoutNodes[t.idToIndex[i[h]]];if(!v.isLocked){var g=l-v.positionX,m=u-v.positionY,b=Math.sqrt(g*g+m*m);if(b>n){var x=r.gravity*g/b,w=r.gravity*m/b;v.offsetX+=x,v.offsetY+=w}}}}},Ute=function(t,r){var n=[],a=0,i=-1;for(n.push.apply(n,t.graphSet[0]),i+=t.graphSet[0].length;a<=i;){var o=n[a++],l=t.idToIndex[o],u=t.layoutNodes[l],c=u.children;if(0<c.length&&!u.isLocked){for(var d=u.offsetX,h=u.offsetY,v=0;v<c.length;v++){var g=t.layoutNodes[t.idToIndex[c[v]]];g.offsetX+=d,g.offsetY+=h,n[++i]=c[v]}u.offsetX=0,u.offsetY=0}}},Fte=function(t,r){for(var n=0;n<t.nodeSize;n++){var a=t.layoutNodes[n];0<a.children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(var n=0;n<t.nodeSize;n++){var a=t.layoutNodes[n];if(!(0<a.children.length||a.isLocked)){var i=qte(a.offsetX,a.offsetY,t.temperature);a.positionX+=i.x,a.positionY+=i.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,_z(a,t)}}for(var n=0;n<t.nodeSize;n++){var a=t.layoutNodes[n];0<a.children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},qte=function(t,r,n){var a=Math.sqrt(t*t+r*r);if(a>n)var i={x:n*t/a,y:n*r/a};else var i={x:t,y:r};return i},_z=function(t,r){var n=t.parentId;if(n!=null){var a=r.layoutNodes[r.idToIndex[n]],i=!1;if((a.maxX==null||t.maxX+a.padRight>a.maxX)&&(a.maxX=t.maxX+a.padRight,i=!0),(a.minX==null||t.minX-a.padLeft<a.minX)&&(a.minX=t.minX-a.padLeft,i=!0),(a.maxY==null||t.maxY+a.padBottom>a.maxY)&&(a.maxY=t.maxY+a.padBottom,i=!0),(a.minY==null||t.minY-a.padTop<a.minY)&&(a.minY=t.minY-a.padTop,i=!0),i)return _z(a,r)}},Ek=function(t,r){for(var n=t.layoutNodes,a=[],i=0;i<n.length;i++){var o=n[i],l=o.cmptId,u=a[l]=a[l]||[];u.push(o)}for(var c=0,i=0;i<a.length;i++){var d=a[i];if(d){d.x1=1/0,d.x2=-1/0,d.y1=1/0,d.y2=-1/0;for(var h=0;h<d.length;h++){var v=d[h];d.x1=Math.min(d.x1,v.positionX-v.width/2),d.x2=Math.max(d.x2,v.positionX+v.width/2),d.y1=Math.min(d.y1,v.positionY-v.height/2),d.y2=Math.max(d.y2,v.positionY+v.height/2)}d.w=d.x2-d.x1,d.h=d.y2-d.y1,c+=d.w*d.h}}a.sort(function(S,E){return E.w*E.h-S.w*S.h});for(var g=0,m=0,b=0,x=0,w=Math.sqrt(c)*t.clientWidth/t.clientHeight,i=0;i<a.length;i++){var d=a[i];if(d){for(var h=0;h<d.length;h++){var v=d[h];v.isLocked||(v.positionX+=g-d.x1,v.positionY+=m-d.y1)}g+=d.w+r.componentSpacing,b+=d.w+r.componentSpacing,x=Math.max(x,d.h),b>w&&(m+=x+r.componentSpacing,g=0,b=0,x=0)}}},Hte={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function Mz(e){this.options=Xe({},Hte,e)}Mz.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,a=n.nodes().not(":parent");t.sort&&(a=a.sort(t.sort));var i=mn(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(i.h===0||i.w===0)n.nodes().layoutPositions(this,t,function(Q){return{x:i.x1,y:i.y1}});else{var o=a.size(),l=Math.sqrt(o*i.h/i.w),u=Math.round(l),c=Math.round(i.w/i.h*l),d=function(ee){if(ee==null)return Math.min(u,c);var te=Math.min(u,c);te==u?u=ee:c=ee},h=function(ee){if(ee==null)return Math.max(u,c);var te=Math.max(u,c);te==u?u=ee:c=ee},v=t.rows,g=t.cols!=null?t.cols:t.columns;if(v!=null&&g!=null)u=v,c=g;else if(v!=null&&g==null)u=v,c=Math.ceil(o/u);else if(v==null&&g!=null)c=g,u=Math.ceil(o/c);else if(c*u>o){var m=d(),b=h();(m-1)*b>=o?d(m-1):(b-1)*m>=o&&h(b-1)}else for(;c*u<o;){var x=d(),w=h();(w+1)*x>=o?h(w+1):d(x+1)}var S=i.w/c,E=i.h/u;if(t.condense&&(S=0,E=0),t.avoidOverlap)for(var O=0;O<a.length;O++){var D=a[O],k=D._private.position;(k.x==null||k.y==null)&&(k.x=0,k.y=0);var T=D.layoutDimensions(t),_=t.avoidOverlapPadding,M=T.w+_,R=T.h+_;S=Math.max(S,M),E=Math.max(E,R)}for(var P={},L=function(ee,te){return!!P["c-"+ee+"-"+te]},N=function(ee,te){P["c-"+ee+"-"+te]=!0},B=0,G=0,I=function(){G++,G>=c&&(G=0,B++)},z={},q=0;q<a.length;q++){var H=a[q],X=t.position(H);if(X&&(X.row!==void 0||X.col!==void 0)){var U={row:X.row,col:X.col};if(U.col===void 0)for(U.col=0;L(U.row,U.col);)U.col++;else if(U.row===void 0)for(U.row=0;L(U.row,U.col);)U.row++;z[H.id()]=U,N(U.row,U.col)}}var V=function(ee,te){var ie,ue;if(ee.locked()||ee.isParent())return!1;var xe=z[ee.id()];if(xe)ie=xe.col*S+S/2+i.x1,ue=xe.row*E+E/2+i.y1;else{for(;L(B,G);)I();ie=G*S+S/2+i.x1,ue=B*E+E/2+i.y1,N(B,G),I()}return{x:ie,y:ue}};a.layoutPositions(this,t,V)}return this};var Vte={ready:function(){},stop:function(){}};function RE(e){this.options=Xe({},Vte,e)}RE.prototype.run=function(){var e=this.options,t=e.eles,r=this;return e.cy,r.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",e.ready),r.emit("layoutready"),r.one("layoutstop",e.stop),r.emit("layoutstop"),this};RE.prototype.stop=function(){return this};var Yte={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function Dz(e){this.options=Xe({},Yte,e)}Dz.prototype.run=function(){var e=this.options,t=e.eles,r=t.nodes(),n=er(e.positions);function a(i){if(e.positions==null)return vQ(i.position());if(n)return e.positions(i);var o=e.positions[i._private.data.id];return o??null}return r.layoutPositions(this,e,function(i,o){var l=a(i);return i.locked()||l==null?!1:l}),this};var $te={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function kz(e){this.options=Xe({},$te,e)}kz.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,n=mn(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),a=function(o,l){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,e,a),this};var Xte=[{name:"breadthfirst",impl:Sz},{name:"circle",impl:Az},{name:"concentric",impl:Cz},{name:"cose",impl:Zp},{name:"grid",impl:Mz},{name:"null",impl:RE},{name:"preset",impl:Dz},{name:"random",impl:kz}];function Pz(e){this.options=e,this.notifications=0}var Sk=function(){},Ak=function(){throw new Error("A headless instance can not render images")};Pz.prototype={recalculateRenderedStyle:Sk,notify:function(){this.notifications++},init:Sk,isHeadless:function(){return!0},png:Ak,jpg:Ak};var LE={};LE.arrowShapeWidth=.3;LE.registerArrowShapes=function(){var e=this.arrowShapes={},t=this,r=function(c,d,h,v,g,m,b){var x=g.x-h/2-b,w=g.x+h/2+b,S=g.y-h/2-b,E=g.y+h/2+b,O=x<=c&&c<=w&&S<=d&&d<=E;return O},n=function(c,d,h,v,g){var m=c*Math.cos(v)-d*Math.sin(v),b=c*Math.sin(v)+d*Math.cos(v),x=m*h,w=b*h,S=x+g.x,E=w+g.y;return{x:S,y:E}},a=function(c,d,h,v){for(var g=[],m=0;m<c.length;m+=2){var b=c[m],x=c[m+1];g.push(n(b,x,d,h,v))}return g},i=function(c){for(var d=[],h=0;h<c.length;h++){var v=c[h];d.push(v.x,v.y)}return d},o=function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").pfValue*2},l=function(c,d){Ve(d)&&(d=e[d]),e[c]=Xe({name:c,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(v,g,m,b,x,w){var S=i(a(this.points,m+2*w,b,x)),E=Dn(v,g,S);return E},roughCollide:r,draw:function(v,g,m,b){var x=a(this.points,g,m,b);t.arrowShapeImpl("polygon")(v,x)},spacing:function(v){return 0},gap:o},d)};l("none",{collide:qv,roughCollide:qv,draw:xE,spacing:zM,gap:zM}),l("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),l("arrow","triangle"),l("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(c,d,h,v,g){var m=a(this.points,d,h,v),b=this.controlPoint,x=n(b[0],b[1],d,h,v);t.arrowShapeImpl(this.name)(c,m,x)},gap:function(c){return o(c)*.8}}),l("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(c,d,h,v,g,m,b){var x=i(a(this.points,h+2*b,v,g)),w=i(a(this.pointsTee,h+2*b,v,g)),S=Dn(c,d,x)||Dn(c,d,w);return S},draw:function(c,d,h,v,g){var m=a(this.points,d,h,v),b=a(this.pointsTee,d,h,v);t.arrowShapeImpl(this.name)(c,m,b)}}),l("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(c,d,h,v,g,m,b){var x=g,w=Math.pow(x.x-c,2)+Math.pow(x.y-d,2)<=Math.pow((h+2*b)*this.radius,2),S=i(a(this.points,h+2*b,v,g));return Dn(c,d,S)||w},draw:function(c,d,h,v,g){var m=a(this.pointsTr,d,h,v);t.arrowShapeImpl(this.name)(c,m,v.x,v.y,this.radius*d)},spacing:function(c){return t.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),l("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(c,d){var h=this.baseCrossLinePts.slice(),v=d/c,g=3,m=5;return h[g]=h[g]-v,h[m]=h[m]-v,h},collide:function(c,d,h,v,g,m,b){var x=i(a(this.points,h+2*b,v,g)),w=i(a(this.crossLinePts(h,m),h+2*b,v,g)),S=Dn(c,d,x)||Dn(c,d,w);return S},draw:function(c,d,h,v,g){var m=a(this.points,d,h,v),b=a(this.crossLinePts(d,g),d,h,v);t.arrowShapeImpl(this.name)(c,m,b)}}),l("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(c){return o(c)*.525}}),l("circle",{radius:.15,collide:function(c,d,h,v,g,m,b){var x=g,w=Math.pow(x.x-c,2)+Math.pow(x.y-d,2)<=Math.pow((h+2*b)*this.radius,2);return w},draw:function(c,d,h,v,g){t.arrowShapeImpl(this.name)(c,v.x,v.y,this.radius*d)},spacing:function(c){return t.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),l("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(c){return 1},gap:function(c){return 1}}),l("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),l("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}}),l("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(c){return .95*c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}})};var Qs={};Qs.projectIntoViewport=function(e,t){var r=this.cy,n=this.findContainerClientCoords(),a=n[0],i=n[1],o=n[4],l=r.pan(),u=r.zoom(),c=((e-a)/o-l.x)/u,d=((t-i)/o-l.y)/u;return[c,d]};Qs.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),r=this.cy.window().getComputedStyle(e),n=function(w){return parseFloat(r.getPropertyValue(w))},a={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},i={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},o=e.clientWidth,l=e.clientHeight,u=a.left+a.right,c=a.top+a.bottom,d=i.left+i.right,h=t.width/(o+d),v=o-u,g=l-c,m=t.left+a.left+i.left,b=t.top+a.top+i.top;return this.containerBB=[m,b,v,g,h]};Qs.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Qs.findNearestElement=function(e,t,r,n){return this.findNearestElements(e,t,r,n)[0]};Qs.findNearestElements=function(e,t,r,n){var a=this,i=this,o=i.getCachedZSortedEles(),l=[],u=i.cy.zoom(),c=i.cy.hasCompoundNodes(),d=(n?24:8)/u,h=(n?8:2)/u,v=(n?8:2)/u,g=1/0,m,b;r&&(o=o.interactive);function x(T,_){if(T.isNode()){if(b)return;b=T,l.push(T)}if(T.isEdge()&&(_==null||_<g))if(m){if(m.pstyle("z-compound-depth").value===T.pstyle("z-compound-depth").value&&m.pstyle("z-compound-depth").value===T.pstyle("z-compound-depth").value){for(var M=0;M<l.length;M++)if(l[M].isEdge()){l[M]=T,m=T,g=_??g;break}}}else l.push(T),m=T,g=_??g}function w(T){var _=T.outerWidth()+2*h,M=T.outerHeight()+2*h,R=_/2,P=M/2,L=T.position(),N=T.pstyle("corner-radius").value==="auto"?"auto":T.pstyle("corner-radius").pfValue,B=T._private.rscratch;if(L.x-R<=e&&e<=L.x+R&&L.y-P<=t&&t<=L.y+P){var G=i.nodeShapes[a.getNodeShape(T)];if(G.checkPoint(e,t,0,_,M,L.x,L.y,N,B))return x(T,0),!0}}function S(T){var _=T._private,M=_.rscratch,R=T.pstyle("width").pfValue,P=T.pstyle("arrow-scale").value,L=R/2+d,N=L*L,B=L*2,q=_.source,H=_.target,G;if(M.edgeType==="segments"||M.edgeType==="straight"||M.edgeType==="haystack"){for(var I=M.allpts,z=0;z+3<I.length;z+=2)if(_Q(e,t,I[z],I[z+1],I[z+2],I[z+3],B)&&N>(G=NQ(e,t,I[z],I[z+1],I[z+2],I[z+3])))return x(T,G),!0}else if(M.edgeType==="bezier"||M.edgeType==="multibezier"||M.edgeType==="self"||M.edgeType==="compound"){for(var I=M.allpts,z=0;z+5<M.allpts.length;z+=4)if(MQ(e,t,I[z],I[z+1],I[z+2],I[z+3],I[z+4],I[z+5],B)&&N>(G=PQ(e,t,I[z],I[z+1],I[z+2],I[z+3],I[z+4],I[z+5])))return x(T,G),!0}for(var q=q||_.source,H=H||_.target,X=a.getArrowWidth(R,P),U=[{name:"source",x:M.arrowStartX,y:M.arrowStartY,angle:M.srcArrowAngle},{name:"target",x:M.arrowEndX,y:M.arrowEndY,angle:M.tgtArrowAngle},{name:"mid-source",x:M.midX,y:M.midY,angle:M.midsrcArrowAngle},{name:"mid-target",x:M.midX,y:M.midY,angle:M.midtgtArrowAngle}],z=0;z<U.length;z++){var V=U[z],Q=i.arrowShapes[T.pstyle(V.name+"-arrow-shape").value],ee=T.pstyle("width").pfValue;if(Q.roughCollide(e,t,X,V.angle,{x:V.x,y:V.y},ee,d)&&Q.collide(e,t,X,V.angle,{x:V.x,y:V.y},ee,d))return x(T),!0}c&&l.length>0&&(w(q),w(H))}function E(T,_,M){return Mn(T,_,M)}function O(T,_){var M=T._private,R=v,P;_?P=_+"-":P="",T.boundingBox();var L=M.labelBounds[_||"main"],N=T.pstyle(P+"label").value,B=T.pstyle("text-events").strValue==="yes";if(!(!B||!N)){var G=E(M.rscratch,"labelX",_),I=E(M.rscratch,"labelY",_),z=E(M.rscratch,"labelAngle",_),q=T.pstyle(P+"text-margin-x").pfValue,H=T.pstyle(P+"text-margin-y").pfValue,X=L.x1-R-q,U=L.x2+R-q,V=L.y1-R-H,Q=L.y2+R-H;if(z){var ee=Math.cos(z),te=Math.sin(z),ie=function(se,he){return se=se-G,he=he-I,{x:se*ee-he*te+G,y:se*te+he*ee+I}},ue=ie(X,V),xe=ie(X,Q),Z=ie(U,V),re=ie(U,Q),J=[ue.x+q,ue.y+H,Z.x+q,Z.y+H,re.x+q,re.y+H,xe.x+q,xe.y+H];if(Dn(e,t,J))return x(T),!0}else if(Mo(L,e,t))return x(T),!0}}for(var D=o.length-1;D>=0;D--){var k=o[D];k.isNode()?w(k)||O(k):S(k)||O(k)||O(k,"source")||O(k,"target")}return l};Qs.getAllInBox=function(e,t,r,n){var a=this.getCachedZSortedEles().interactive,i=this.cy.zoom(),o=2/i,l=[],u=Math.min(e,r),c=Math.max(e,r),d=Math.min(t,n),h=Math.max(t,n);e=u,r=c,t=d,n=h;var v=mn({x1:e,y1:t,x2:r,y2:n}),g=[{x:v.x1,y:v.y1},{x:v.x2,y:v.y1},{x:v.x2,y:v.y2},{x:v.x1,y:v.y2}],m=[[g[0],g[1]],[g[1],g[2]],[g[2],g[3]],[g[3],g[0]]];function b(se,he,Ce){return Mn(se,he,Ce)}function x(se,he){var Ce=se._private,_e=o,Me="";se.boundingBox();var Ie=Ce.labelBounds.main;if(!Ie)return null;var Ne=b(Ce.rscratch,"labelX",he),Oe=b(Ce.rscratch,"labelY",he),Ue=b(Ce.rscratch,"labelAngle",he),qe=se.pstyle(Me+"text-margin-x").pfValue,Qe=se.pstyle(Me+"text-margin-y").pfValue,De=Ie.x1-_e-qe,nt=Ie.x2+_e-qe,lt=Ie.y1-_e-Qe,pt=Ie.y2+_e-Qe;if(Ue){var ht=Math.cos(Ue),yt=Math.sin(Ue),We=function(be,$){return be=be-Ne,$=$-Oe,{x:be*ht-$*yt+Ne,y:be*yt+$*ht+Oe}};return[We(De,lt),We(nt,lt),We(nt,pt),We(De,pt)]}else return[{x:De,y:lt},{x:nt,y:lt},{x:nt,y:pt},{x:De,y:pt}]}function w(se,he,Ce,_e){function Me(Ie,Ne,Oe){return(Oe.y-Ie.y)*(Ne.x-Ie.x)>(Ne.y-Ie.y)*(Oe.x-Ie.x)}return Me(se,Ce,_e)!==Me(he,Ce,_e)&&Me(se,he,Ce)!==Me(se,he,_e)}for(var S=0;S<a.length;S++){var E=a[S];if(E.isNode()){var O=E,D=O.pstyle("text-events").strValue==="yes",k=O.pstyle("box-selection").strValue,T=O.pstyle("box-select-labels").strValue==="yes";if(k==="none")continue;var _=(k==="overlap"||T)&&D,M=O.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:_});if(k==="contain"){var R=!1;if(T&&D){var P=x(O);P&&lb(P,g)&&(l.push(O),R=!0)}!R&&jI(v,M)&&l.push(O)}else if(k==="overlap"&&AE(v,M)){var L=O.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),N=[{x:L.x1,y:L.y1},{x:L.x2,y:L.y1},{x:L.x2,y:L.y2},{x:L.x1,y:L.y2}];if(lb(N,g))l.push(O);else{var B=x(O);B&&lb(B,g)&&l.push(O)}}}else{var G=E,I=G._private,z=I.rscratch,q=G.pstyle("box-selection").strValue;if(q==="none")continue;if(q==="contain"){if(z.startX!=null&&z.startY!=null&&!Mo(v,z.startX,z.startY)||z.endX!=null&&z.endY!=null&&!Mo(v,z.endX,z.endY))continue;if(z.edgeType==="bezier"||z.edgeType==="multibezier"||z.edgeType==="self"||z.edgeType==="compound"||z.edgeType==="segments"||z.edgeType==="haystack"){for(var H=I.rstyle.bezierPts||I.rstyle.linePts||I.rstyle.haystackPts,X=!0,U=0;U<H.length;U++)if(!qM(v,H[U])){X=!1;break}X&&l.push(G)}else z.edgeType==="straight"&&l.push(G)}else if(q==="overlap"){var V=!1;if(z.startX!=null&&z.startY!=null&&z.endX!=null&&z.endY!=null&&(Mo(v,z.startX,z.startY)||Mo(v,z.endX,z.endY)))l.push(G),V=!0;else if(!V&&z.edgeType==="haystack"){for(var Q=I.rstyle.haystackPts,ee=0;ee<Q.length;ee++)if(qM(v,Q[ee])){l.push(G),V=!0;break}}if(!V){var te=I.rstyle.bezierPts||I.rstyle.linePts||I.rstyle.haystackPts;if((!te||te.length<2)&&z.edgeType==="straight"&&z.startX!=null&&z.startY!=null&&z.endX!=null&&z.endY!=null&&(te=[{x:z.startX,y:z.startY},{x:z.endX,y:z.endY}]),!te||te.length<2)continue;for(var ie=0;ie<te.length-1;ie++){for(var ue=te[ie],xe=te[ie+1],Z=0;Z<m.length;Z++){var re=gr(m[Z],2),J=re[0],W=re[1];if(w(ue,xe,J,W)){l.push(G),V=!0;break}}if(V)break}}}}}return l};var Wv={};Wv.calculateArrowAngles=function(e){var t=e._private.rscratch,r=t.edgeType==="haystack",n=t.edgeType==="bezier",a=t.edgeType==="multibezier",i=t.edgeType==="segments",o=t.edgeType==="compound",l=t.edgeType==="self",u,c,d,h,v,g,w,S;if(r?(d=t.haystackPts[0],h=t.haystackPts[1],v=t.haystackPts[2],g=t.haystackPts[3]):(d=t.arrowStartX,h=t.arrowStartY,v=t.arrowEndX,g=t.arrowEndY),w=t.midX,S=t.midY,i)u=d-t.segpts[0],c=h-t.segpts[1];else if(a||o||l||n){var m=t.allpts,b=Ir(m[0],m[2],m[4],.1),x=Ir(m[1],m[3],m[5],.1);u=d-b,c=h-x}else u=d-w,c=h-S;t.srcArrowAngle=Ch(u,c);var w=t.midX,S=t.midY;if(r&&(w=(d+v)/2,S=(h+g)/2),u=v-d,c=g-h,i){var m=t.allpts;if(m.length/2%2===0){var E=m.length/2,O=E-2;u=m[E]-m[O],c=m[E+1]-m[O+1]}else if(t.isRound)u=t.midVector[1],c=-t.midVector[0];else{var E=m.length/2-1,O=E-2;u=m[E]-m[O],c=m[E+1]-m[O+1]}}else if(a||o||l){var m=t.allpts,D=t.ctrlpts,k,T,_,M;if(D.length/2%2===0){var R=m.length/2-1,P=R+2,L=P+2;k=Ir(m[R],m[P],m[L],0),T=Ir(m[R+1],m[P+1],m[L+1],0),_=Ir(m[R],m[P],m[L],1e-4),M=Ir(m[R+1],m[P+1],m[L+1],1e-4)}else{var P=m.length/2-1,R=P-2,L=P+2;k=Ir(m[R],m[P],m[L],.4999),T=Ir(m[R+1],m[P+1],m[L+1],.4999),_=Ir(m[R],m[P],m[L],.5),M=Ir(m[R+1],m[P+1],m[L+1],.5)}u=_-k,c=M-T}if(t.midtgtArrowAngle=Ch(u,c),t.midDispX=u,t.midDispY=c,u*=-1,c*=-1,i){var m=t.allpts;if(m.length/2%2!==0){if(!t.isRound){var E=m.length/2-1,N=E+2;u=-(m[N]-m[E]),c=-(m[N+1]-m[E+1])}}}if(t.midsrcArrowAngle=Ch(u,c),i)u=v-t.segpts[t.segpts.length-2],c=g-t.segpts[t.segpts.length-1];else if(a||o||l||n){var m=t.allpts,B=m.length,b=Ir(m[B-6],m[B-4],m[B-2],.9),x=Ir(m[B-5],m[B-3],m[B-1],.9);u=v-b,c=g-x}else u=v-w,c=g-S;t.tgtArrowAngle=Ch(u,c)};Wv.getArrowWidth=Wv.getArrowHeight=function(e,t){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[e+", "+t];return n||(n=Math.max(Math.pow(e*13.37,.9),29)*t,r[e+", "+t]=n,n)};var Cx,Tx,Va={},ga={},Ck,Tk,_s,Kh,yi,gs,Ts,Fa,Ul,Nh,Nz,Rz,Ox,_x,Ok,_k=function(t,r,n){n.x=r.x-t.x,n.y=r.y-t.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},Kte=function(t,r){r.x=t.x*-1,r.y=t.y*-1,r.nx=t.nx*-1,r.ny=t.ny*-1,r.ang=t.ang>0?-(Math.PI-t.ang):Math.PI+t.ang},Wte=function(t,r,n,a,i){if(t!==Ok?_k(r,t,Va):Kte(ga,Va),_k(r,n,ga),Ck=Va.nx*ga.ny-Va.ny*ga.nx,Tk=Va.nx*ga.nx-Va.ny*-ga.ny,yi=Math.asin(Math.max(-1,Math.min(1,Ck))),Math.abs(yi)<1e-6){Cx=r.x,Tx=r.y,Ts=Ul=0;return}_s=1,Kh=!1,Tk<0?yi<0?yi=Math.PI+yi:(yi=Math.PI-yi,_s=-1,Kh=!0):yi>0&&(_s=-1,Kh=!0),r.radius!==void 0?Ul=r.radius:Ul=a,gs=yi/2,Nh=Math.min(Va.len/2,ga.len/2),i?(Fa=Math.abs(Math.cos(gs)*Ul/Math.sin(gs)),Fa>Nh?(Fa=Nh,Ts=Math.abs(Fa*Math.sin(gs)/Math.cos(gs))):Ts=Ul):(Fa=Math.min(Nh,Ul),Ts=Math.abs(Fa*Math.sin(gs)/Math.cos(gs))),Ox=r.x+ga.nx*Fa,_x=r.y+ga.ny*Fa,Cx=Ox-ga.ny*Ts*_s,Tx=_x+ga.nx*Ts*_s,Nz=r.x+Va.nx*Fa,Rz=r.y+Va.ny*Fa,Ok=r};function Lz(e,t){t.radius===0?e.lineTo(t.cx,t.cy):e.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function BE(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||t.radius===0?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(Wte(e,t,r,n,a),{cx:Cx,cy:Tx,radius:Ts,startX:Nz,startY:Rz,stopX:Ox,stopY:_x,startAngle:Va.ang+Math.PI/2*_s,endAngle:ga.ang-Math.PI/2*_s,counterClockwise:Kh})}var mf=.01,Zte=Math.sqrt(2*mf),fn={};fn.findMidptPtsEtc=function(e,t){var r=t.posPts,n=t.intersectionPts,a=t.vectorNormInverse,i,o=e.pstyle("source-endpoint"),l=e.pstyle("target-endpoint"),u=o.units!=null&&l.units!=null,c=function(D,k,T,_){var M=_-k,R=T-D,P=Math.sqrt(R*R+M*M);return{x:-M/P,y:R/P}},d=e.pstyle("edge-distances").value;switch(d){case"node-position":i=r;break;case"intersection":i=n;break;case"endpoints":{if(u){var h=this.manualEndptToPx(e.source()[0],o),v=gr(h,2),g=v[0],m=v[1],b=this.manualEndptToPx(e.target()[0],l),x=gr(b,2),w=x[0],S=x[1],E={x1:g,y1:m,x2:w,y2:S};a=c(g,m,w,S),i=E}else Ct("Edge ".concat(e.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),i=n;break}}return{midptPts:i,vectorNormInverse:a}};fn.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var r=e[t],n=r._private,a=n.rscratch;if(!a.haystack){var i=Math.random()*2*Math.PI;a.source={x:Math.cos(i),y:Math.sin(i)},i=Math.random()*2*Math.PI,a.target={x:Math.cos(i),y:Math.sin(i)}}var o=n.source,l=n.target,u=o.position(),c=l.position(),d=o.width(),h=l.width(),v=o.height(),g=l.height(),m=r.pstyle("haystack-radius").value,b=m/2;a.haystackPts=a.allpts=[a.source.x*d*b+u.x,a.source.y*v*b+u.y,a.target.x*h*b+c.x,a.target.y*g*b+c.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};fn.findSegmentsPoints=function(e,t){var r=e._private.rscratch,n=e.pstyle("segment-weights"),a=e.pstyle("segment-distances"),i=e.pstyle("segment-radii"),o=e.pstyle("radius-type"),l=Math.min(n.pfValue.length,a.pfValue.length),u=i.pfValue[i.pfValue.length-1],c=o.pfValue[o.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var d=0;d<l;d++){var h=n.pfValue[d],v=a.pfValue[d],g=1-h,m=h,b=this.findMidptPtsEtc(e,t),x=b.midptPts,w=b.vectorNormInverse,S={x:x.x1*g+x.x2*m,y:x.y1*g+x.y2*m};r.segpts.push(S.x+w.x*v,S.y+w.y*v),r.radii.push(i.pfValue[d]!==void 0?i.pfValue[d]:u),r.isArcRadius.push((o.pfValue[d]!==void 0?o.pfValue[d]:c)==="arc-radius")}};fn.findLoopPoints=function(e,t,r,n){var a=e._private.rscratch,i=t.dirCounts,o=t.srcPos,l=e.pstyle("control-point-distances"),u=l?l.pfValue[0]:void 0,c=e.pstyle("loop-direction").pfValue,d=e.pstyle("loop-sweep").pfValue,h=e.pstyle("control-point-step-size").pfValue;a.edgeType="self";var v=r,g=h;n&&(v=0,g=u);var m=c-Math.PI/2,b=m-d/2,x=m+d/2,w=c+"_"+d;v=i[w]===void 0?i[w]=0:++i[w],a.ctrlpts=[o.x+Math.cos(b)*1.4*g*(v/3+1),o.y+Math.sin(b)*1.4*g*(v/3+1),o.x+Math.cos(x)*1.4*g*(v/3+1),o.y+Math.sin(x)*1.4*g*(v/3+1)]};fn.findCompoundLoopPoints=function(e,t,r,n){var a=e._private.rscratch;a.edgeType="compound";var i=t.srcPos,o=t.tgtPos,l=t.srcW,u=t.srcH,c=t.tgtW,d=t.tgtH,h=e.pstyle("control-point-step-size").pfValue,v=e.pstyle("control-point-distances"),g=v?v.pfValue[0]:void 0,m=r,b=h;n&&(m=0,b=g);var x=50,w={x:i.x-l/2,y:i.y-u/2},S={x:o.x-c/2,y:o.y-d/2},E={x:Math.min(w.x,S.x),y:Math.min(w.y,S.y)},O=.5,D=Math.max(O,Math.log(l*mf)),k=Math.max(O,Math.log(c*mf));a.ctrlpts=[E.x,E.y-(1+Math.pow(x,1.12)/100)*b*(m/3+1)*D,E.x-(1+Math.pow(x,1.12)/100)*b*(m/3+1)*k,E.y]};fn.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"};fn.findBezierPoints=function(e,t,r,n,a){var i=e._private.rscratch,o=e.pstyle("control-point-step-size").pfValue,l=e.pstyle("control-point-distances"),u=e.pstyle("control-point-weights"),c=l&&u?Math.min(l.value.length,u.value.length):1,d=l?l.pfValue[0]:void 0,h=u.value[0],v=n;i.edgeType=v?"multibezier":"bezier",i.ctrlpts=[];for(var g=0;g<c;g++){var m=(.5-t.eles.length/2+r)*o*(a?-1:1),b=void 0,x=SE(m);v&&(d=l?l.pfValue[g]:o,h=u.value[g]),n?b=d:b=d!==void 0?x*d:void 0;var w=b!==void 0?b:m,S=1-h,E=h,O=this.findMidptPtsEtc(e,t),D=O.midptPts,k=O.vectorNormInverse,T={x:D.x1*S+D.x2*E,y:D.y1*S+D.y2*E};i.ctrlpts.push(T.x+k.x*w,T.y+k.y*w)}};fn.findTaxiPoints=function(e,t){var r=e._private.rscratch;r.edgeType="segments";var n="vertical",a="horizontal",i="leftward",o="rightward",l="downward",u="upward",c="auto",d=t.posPts,h=t.srcW,v=t.srcH,g=t.tgtW,m=t.tgtH,b=e.pstyle("edge-distances").value,x=b!=="node-position",w=e.pstyle("taxi-direction").value,S=w,E=e.pstyle("taxi-turn"),O=E.units==="%",D=E.pfValue,k=D<0,T=e.pstyle("taxi-turn-min-distance").pfValue,_=x?(h+g)/2:0,M=x?(v+m)/2:0,R=d.x2-d.x1,P=d.y2-d.y1,L=function($,le){return $>0?Math.max($-le,0):Math.min($+le,0)},N=L(R,_),B=L(P,M),G=!1;S===c?w=Math.abs(N)>Math.abs(B)?a:n:S===u||S===l?(w=n,G=!0):(S===i||S===o)&&(w=a,G=!0);var I=w===n,z=I?B:N,q=I?P:R,H=SE(q),X=!1;!(G&&(O||k))&&(S===l&&q<0||S===u&&q>0||S===i&&q>0||S===o&&q<0)&&(H*=-1,z=H*Math.abs(z),X=!0);var U;if(O){var V=D<0?1+D:D;U=V*z}else{var Q=D<0?z:0;U=Q+D*H}var ee=function($){return Math.abs($)<T||Math.abs($)>=Math.abs(z)},te=ee(U),ie=ee(Math.abs(z)-Math.abs(U)),ue=te||ie;if(ue&&!X)if(I){var xe=Math.abs(q)<=v/2,Z=Math.abs(R)<=g/2;if(xe){var re=(d.x1+d.x2)/2,J=d.y1,W=d.y2;r.segpts=[re,J,re,W]}else if(Z){var se=(d.y1+d.y2)/2,he=d.x1,Ce=d.x2;r.segpts=[he,se,Ce,se]}else r.segpts=[d.x1,d.y2]}else{var _e=Math.abs(q)<=h/2,Me=Math.abs(P)<=m/2;if(_e){var Ie=(d.y1+d.y2)/2,Ne=d.x1,Oe=d.x2;r.segpts=[Ne,Ie,Oe,Ie]}else if(Me){var Ue=(d.x1+d.x2)/2,qe=d.y1,Qe=d.y2;r.segpts=[Ue,qe,Ue,Qe]}else r.segpts=[d.x2,d.y1]}else if(I){var De=d.y1+U+(x?v/2*H:0),nt=d.x1,lt=d.x2;r.segpts=[nt,De,lt,De]}else{var pt=d.x1+U+(x?h/2*H:0),ht=d.y1,yt=d.y2;r.segpts=[pt,ht,pt,yt]}if(r.isRound){var We=e.pstyle("taxi-radius").value,Re=e.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(We),r.isArcRadius=new Array(r.segpts.length/2).fill(Re)}};fn.tryToCorrectInvalidPoints=function(e,t){var r=e._private.rscratch;if(r.edgeType==="bezier"){var n=t.srcPos,a=t.tgtPos,i=t.srcW,o=t.srcH,l=t.tgtW,u=t.tgtH,c=t.srcShape,d=t.tgtShape,h=t.srcCornerRadius,v=t.tgtCornerRadius,g=t.srcRs,m=t.tgtRs,b=!Te(r.startX)||!Te(r.startY),x=!Te(r.arrowStartX)||!Te(r.arrowStartY),w=!Te(r.endX)||!Te(r.endY),S=!Te(r.arrowEndX)||!Te(r.arrowEndY),E=3,O=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth,D=E*O,k=Vs({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),T=k<D,_=Vs({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),M=_<D,R=!1;if(b||x||T){R=!0;var P={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},L=Math.sqrt(P.x*P.x+P.y*P.y),N={x:P.x/L,y:P.y/L},B=Math.max(i,o),G={x:r.ctrlpts[0]+N.x*2*B,y:r.ctrlpts[1]+N.y*2*B},I=c.intersectLine(n.x,n.y,i,o,G.x,G.y,0,h,g);T?(r.ctrlpts[0]=r.ctrlpts[0]+N.x*(D-k),r.ctrlpts[1]=r.ctrlpts[1]+N.y*(D-k)):(r.ctrlpts[0]=I[0]+N.x*D,r.ctrlpts[1]=I[1]+N.y*D)}if(w||S||M){R=!0;var z={x:r.ctrlpts[0]-a.x,y:r.ctrlpts[1]-a.y},q=Math.sqrt(z.x*z.x+z.y*z.y),H={x:z.x/q,y:z.y/q},X=Math.max(i,o),U={x:r.ctrlpts[0]+H.x*2*X,y:r.ctrlpts[1]+H.y*2*X},V=d.intersectLine(a.x,a.y,l,u,U.x,U.y,0,v,m);M?(r.ctrlpts[0]=r.ctrlpts[0]+H.x*(D-_),r.ctrlpts[1]=r.ctrlpts[1]+H.y*(D-_)):(r.ctrlpts[0]=V[0]+H.x*D,r.ctrlpts[1]=V[1]+H.y*D)}R&&this.findEndpoints(e)}};fn.storeAllpts=function(e){var t=e._private.rscratch;if(t.edgeType==="multibezier"||t.edgeType==="bezier"||t.edgeType==="self"||t.edgeType==="compound"){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var r=0;r+1<t.ctrlpts.length;r+=2)t.allpts.push(t.ctrlpts[r],t.ctrlpts[r+1]),r+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[r]+t.ctrlpts[r+2])/2,(t.ctrlpts[r+1]+t.ctrlpts[r+3])/2);t.allpts.push(t.endX,t.endY);var n,a;t.ctrlpts.length/2%2===0?(n=t.allpts.length/2-1,t.midX=t.allpts[n],t.midY=t.allpts[n+1]):(n=t.allpts.length/2-3,a=.5,t.midX=Ir(t.allpts[n],t.allpts[n+2],t.allpts[n+4],a),t.midY=Ir(t.allpts[n+1],t.allpts[n+3],t.allpts[n+5],a))}else if(t.edgeType==="straight")t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if(t.edgeType==="segments"){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(var i=2;i+3<t.allpts.length;i+=2){var o=t.radii[i/2-1],l=t.isArcRadius[i/2-1];t.roundCorners.push(BE({x:t.allpts[i-2],y:t.allpts[i-1]},{x:t.allpts[i],y:t.allpts[i+1],radius:o},{x:t.allpts[i+2],y:t.allpts[i+3]},o,l))}}if(t.segpts.length%4===0){var u=t.segpts.length/2,c=u-2;t.midX=(t.segpts[c]+t.segpts[u])/2,t.midY=(t.segpts[c+1]+t.segpts[u+1])/2}else{var d=t.segpts.length/2-1;if(!t.isRound)t.midX=t.segpts[d],t.midY=t.segpts[d+1];else{var h={x:t.segpts[d],y:t.segpts[d+1]},v=t.roundCorners[d/2];if(v.radius===0){var g={x:t.segpts[d+2],y:t.segpts[d+3]};t.midX=h.x,t.midY=h.y,t.midVector=[h.y-g.y,g.x-h.x]}else{var m=[h.x-v.cx,h.y-v.cy],b=v.radius/Math.sqrt(Math.pow(m[0],2)+Math.pow(m[1],2));m=m.map(function(x){return x*b}),t.midX=v.cx+m[0],t.midY=v.cy+m[1],t.midVector=m}}}}};fn.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||Te(t.startX)&&Te(t.startY)&&Te(t.endX)&&Te(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,Ct("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};fn.findEdgeControlPoints=function(e){var t=this;if(!(!e||e.length===0)){for(var r=this,n=r.cy,a=n.hasCompoundNodes(),i=new Ti,o=function(M,R){return[].concat(Gv(M),[R?1:0]).join("-")},l=[],u=[],c=0;c<e.length;c++){var d=e[c],h=d._private,v=d.pstyle("curve-style").value;if(!(d.removed()||!d.takesUpSpace())){if(v==="haystack"){u.push(d);continue}var g=v==="unbundled-bezier"||_o(v,"segments")||v==="straight"||v==="straight-triangle"||_o(v,"taxi"),m=v==="unbundled-bezier"||v==="bezier",b=h.source,x=h.target,w=b.poolIndex(),S=x.poolIndex(),E=[w,S].sort(),O=o(E,g),D=i.get(O);D==null&&(D={eles:[]},l.push({pairId:E,edgeIsUnbundled:g}),i.set(O,D)),D.eles.push(d),g&&(D.hasUnbundled=!0),m&&(D.hasBezier=!0)}}for(var k=function(){var M=l[T],R=M.pairId,P=M.edgeIsUnbundled,L=o(R,P),N=i.get(L),B;if(!N.hasUnbundled){var G=N.eles[0].parallelEdges().filter(function(Re){return Re.isBundledBezier()});wE(N.eles),G.forEach(function(Re){return N.eles.push(Re)}),N.eles.sort(function(Re,be){return Re.poolIndex()-be.poolIndex()})}var I=N.eles[0],z=I.source(),q=I.target();if(z.poolIndex()>q.poolIndex()){var H=z;z=q,q=H}var X=N.srcPos=z.position(),U=N.tgtPos=q.position(),V=N.srcW=z.outerWidth(),Q=N.srcH=z.outerHeight(),ee=N.tgtW=q.outerWidth(),te=N.tgtH=q.outerHeight(),ie=N.srcShape=r.nodeShapes[t.getNodeShape(z)],ue=N.tgtShape=r.nodeShapes[t.getNodeShape(q)],xe=N.srcCornerRadius=z.pstyle("corner-radius").value==="auto"?"auto":z.pstyle("corner-radius").pfValue,Z=N.tgtCornerRadius=q.pstyle("corner-radius").value==="auto"?"auto":q.pstyle("corner-radius").pfValue,re=N.tgtRs=q._private.rscratch,J=N.srcRs=z._private.rscratch;N.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var W=0;W<N.eles.length;W++){var se=N.eles[W],he=se[0]._private.rscratch,Ce=se.pstyle("curve-style").value,_e=Ce==="unbundled-bezier"||_o(Ce,"segments")||_o(Ce,"taxi"),Me=!z.same(se.source());if(!N.calculatedIntersection&&z!==q&&(N.hasBezier||N.hasUnbundled)){N.calculatedIntersection=!0;var Ie=ie.intersectLine(X.x,X.y,V,Q,U.x,U.y,0,xe,J),Ne=N.srcIntn=Ie,Oe=ue.intersectLine(U.x,U.y,ee,te,X.x,X.y,0,Z,re),Ue=N.tgtIntn=Oe,qe=N.intersectionPts={x1:Ie[0],x2:Oe[0],y1:Ie[1],y2:Oe[1]},Qe=N.posPts={x1:X.x,x2:U.x,y1:X.y,y2:U.y},De=Oe[1]-Ie[1],nt=Oe[0]-Ie[0],lt=Math.sqrt(nt*nt+De*De);Te(lt)&&lt>=Zte||(lt=Math.sqrt(Math.max(nt*nt,mf)+Math.max(De*De,mf)));var pt=N.vector={x:nt,y:De},ht=N.vectorNorm={x:pt.x/lt,y:pt.y/lt},yt={x:-ht.y,y:ht.x};N.nodesOverlap=!Te(lt)||ue.checkPoint(Ie[0],Ie[1],0,ee,te,U.x,U.y,Z,re)||ie.checkPoint(Oe[0],Oe[1],0,V,Q,X.x,X.y,xe,J),N.vectorNormInverse=yt,B={nodesOverlap:N.nodesOverlap,dirCounts:N.dirCounts,calculatedIntersection:!0,hasBezier:N.hasBezier,hasUnbundled:N.hasUnbundled,eles:N.eles,srcPos:U,srcRs:re,tgtPos:X,tgtRs:J,srcW:ee,srcH:te,tgtW:V,tgtH:Q,srcIntn:Ue,tgtIntn:Ne,srcShape:ue,tgtShape:ie,posPts:{x1:Qe.x2,y1:Qe.y2,x2:Qe.x1,y2:Qe.y1},intersectionPts:{x1:qe.x2,y1:qe.y2,x2:qe.x1,y2:qe.y1},vector:{x:-pt.x,y:-pt.y},vectorNorm:{x:-ht.x,y:-ht.y},vectorNormInverse:{x:-yt.x,y:-yt.y}}}var We=Me?B:N;he.nodesOverlap=We.nodesOverlap,he.srcIntn=We.srcIntn,he.tgtIntn=We.tgtIntn,he.isRound=Ce.startsWith("round"),a&&(z.isParent()||z.isChild()||q.isParent()||q.isChild())&&(z.parents().anySame(q)||q.parents().anySame(z)||z.same(q)&&z.isParent())?t.findCompoundLoopPoints(se,We,W,_e):z===q?t.findLoopPoints(se,We,W,_e):Ce.endsWith("segments")?t.findSegmentsPoints(se,We):Ce.endsWith("taxi")?t.findTaxiPoints(se,We):Ce==="straight"||!_e&&N.eles.length%2===1&&W===Math.floor(N.eles.length/2)?t.findStraightEdgePoints(se):t.findBezierPoints(se,We,W,_e,Me),t.findEndpoints(se),t.tryToCorrectInvalidPoints(se,We),t.checkForInvalidEdgeWarning(se),t.storeAllpts(se),t.storeEdgeProjections(se),t.calculateArrowAngles(se),t.recalculateEdgeLabelProjections(se),t.calculateLabelAngles(se)}},T=0;T<l.length;T++)k();this.findHaystackPoints(u)}};function Bz(e){var t=[];if(e!=null){for(var r=0;r<e.length;r+=2){var n=e[r],a=e[r+1];t.push({x:n,y:a})}return t}}fn.getSegmentPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if(r==="segments")return Bz(t.segpts)};fn.getControlPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return Bz(t.ctrlpts)};fn.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var Uf={};Uf.manualEndptToPx=function(e,t){var r=this,n=e.position(),a=e.outerWidth(),i=e.outerHeight(),o=e._private.rscratch;if(t.value.length===2){var l=[t.pfValue[0],t.pfValue[1]];return t.units[0]==="%"&&(l[0]=l[0]*a),t.units[1]==="%"&&(l[1]=l[1]*i),l[0]+=n.x,l[1]+=n.y,l}else{var u=t.pfValue[0];u=-Math.PI/2+u;var c=2*Math.max(a,i),d=[n.x+Math.cos(u)*c,n.y+Math.sin(u)*c];return r.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,a,i,d[0],d[1],0,e.pstyle("corner-radius").value==="auto"?"auto":e.pstyle("corner-radius").pfValue,o)}};Uf.findEndpoints=function(e){var t,r,n,a,i=this,o,l=e.source()[0],u=e.target()[0],c=l.position(),d=u.position(),h=e.pstyle("target-arrow-shape").value,v=e.pstyle("source-arrow-shape").value,g=e.pstyle("target-distance-from-node").pfValue,m=e.pstyle("source-distance-from-node").pfValue,b=l._private.rscratch,x=u._private.rscratch,w=e.pstyle("curve-style").value,S=e._private.rscratch,E=S.edgeType,O=_o(w,"taxi"),D=E==="self"||E==="compound",k=E==="bezier"||E==="multibezier"||D,T=E!=="bezier",_=E==="straight"||E==="segments",M=E==="segments",R=k||T||_,P=D||O,L=e.pstyle("source-endpoint"),N=P?"outside-to-node":L.value,B=l.pstyle("corner-radius").value==="auto"?"auto":l.pstyle("corner-radius").pfValue,G=e.pstyle("target-endpoint"),I=P?"outside-to-node":G.value,z=u.pstyle("corner-radius").value==="auto"?"auto":u.pstyle("corner-radius").pfValue;S.srcManEndpt=L,S.tgtManEndpt=G;var q,H,X,U,V=(t=(G==null||(r=G.pfValue)===null||r===void 0?void 0:r.length)===2?G.pfValue:null)!==null&&t!==void 0?t:[0,0],Q=(n=(L==null||(a=L.pfValue)===null||a===void 0?void 0:a.length)===2?L.pfValue:null)!==null&&n!==void 0?n:[0,0];if(k){var ee=[S.ctrlpts[0],S.ctrlpts[1]],te=T?[S.ctrlpts[S.ctrlpts.length-2],S.ctrlpts[S.ctrlpts.length-1]]:ee;q=te,H=ee}else if(_){var ie=M?S.segpts.slice(0,2):[d.x+V[0],d.y+V[1]],ue=M?S.segpts.slice(S.segpts.length-2):[c.x+Q[0],c.y+Q[1]];q=ue,H=ie}if(I==="inside-to-node")o=[d.x,d.y];else if(G.units)o=this.manualEndptToPx(u,G);else if(I==="outside-to-line")o=S.tgtIntn;else if(I==="outside-to-node"||I==="outside-to-node-or-label"?X=q:(I==="outside-to-line"||I==="outside-to-line-or-label")&&(X=[c.x,c.y]),o=i.nodeShapes[this.getNodeShape(u)].intersectLine(d.x,d.y,u.outerWidth(),u.outerHeight(),X[0],X[1],0,z,x),I==="outside-to-node-or-label"||I==="outside-to-line-or-label"){var xe=u._private.rscratch,Z=xe.labelWidth,re=xe.labelHeight,J=xe.labelX,W=xe.labelY,se=Z/2,he=re/2,Ce=u.pstyle("text-valign").value;Ce==="top"?W-=he:Ce==="bottom"&&(W+=he);var _e=u.pstyle("text-halign").value;_e==="left"?J-=se:_e==="right"&&(J+=se);var Me=df(X[0],X[1],[J-se,W-he,J+se,W-he,J+se,W+he,J-se,W+he],d.x,d.y);if(Me.length>0){var Ie=c,Ne=Cs(Ie,Zl(o)),Oe=Cs(Ie,Zl(Me)),Ue=Ne;if(Oe<Ne&&(o=Me,Ue=Oe),Me.length>2){var qe=Cs(Ie,{x:Me[2],y:Me[3]});qe<Ue&&(o=[Me[2],Me[3]])}}}var Qe=Th(o,q,i.arrowShapes[h].spacing(e)+g),De=Th(o,q,i.arrowShapes[h].gap(e)+g);if(S.endX=De[0],S.endY=De[1],S.arrowEndX=Qe[0],S.arrowEndY=Qe[1],N==="inside-to-node")o=[c.x,c.y];else if(L.units)o=this.manualEndptToPx(l,L);else if(N==="outside-to-line")o=S.srcIntn;else if(N==="outside-to-node"||N==="outside-to-node-or-label"?U=H:(N==="outside-to-line"||N==="outside-to-line-or-label")&&(U=[d.x,d.y]),o=i.nodeShapes[this.getNodeShape(l)].intersectLine(c.x,c.y,l.outerWidth(),l.outerHeight(),U[0],U[1],0,B,b),N==="outside-to-node-or-label"||N==="outside-to-line-or-label"){var nt=l._private.rscratch,lt=nt.labelWidth,pt=nt.labelHeight,ht=nt.labelX,yt=nt.labelY,We=lt/2,Re=pt/2,be=l.pstyle("text-valign").value;be==="top"?yt-=Re:be==="bottom"&&(yt+=Re);var $=l.pstyle("text-halign").value;$==="left"?ht-=We:$==="right"&&(ht+=We);var le=df(U[0],U[1],[ht-We,yt-Re,ht+We,yt-Re,ht+We,yt+Re,ht-We,yt+Re],c.x,c.y);if(le.length>0){var pe=d,ve=Cs(pe,Zl(o)),we=Cs(pe,Zl(le)),Pe=ve;if(we<ve&&(o=[le[0],le[1]],Pe=we),le.length>2){var Ae=Cs(pe,{x:le[2],y:le[3]});Ae<Pe&&(o=[le[2],le[3]])}}}var Ge=Th(o,H,i.arrowShapes[v].spacing(e)+m),ke=Th(o,H,i.arrowShapes[v].gap(e)+m);S.startX=ke[0],S.startY=ke[1],S.arrowStartX=Ge[0],S.arrowStartY=Ge[1],R&&(!Te(S.startX)||!Te(S.startY)||!Te(S.endX)||!Te(S.endY)?S.badLine=!0:S.badLine=!1)};Uf.getSourceEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}};Uf.getTargetEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}};var IE={};function Qte(e,t,r){for(var n=function(c,d,h,v){return Ir(c,d,h,v)},a=t._private,i=a.rstyle.bezierPts,o=0;o<e.bezierProjPcts.length;o++){var l=e.bezierProjPcts[o];i.push({x:n(r[0],r[2],r[4],l),y:n(r[1],r[3],r[5],l)})}}IE.storeEdgeProjections=function(e){var t=e._private,r=t.rscratch,n=r.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){t.rstyle.bezierPts=[];for(var a=0;a+5<r.allpts.length;a+=4)Qte(this,e,r.allpts.slice(a,a+6))}else if(n==="segments")for(var i=t.rstyle.linePts=[],a=0;a+1<r.allpts.length;a+=2)i.push({x:r.allpts[a],y:r.allpts[a+1]});else if(n==="haystack"){var o=r.haystackPts;t.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth};IE.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var Ja={};Ja.recalculateNodeLabelProjection=function(e){var t=e.pstyle("label").strValue;if(!Bo(t)){var r,n,a=e._private,i=e.width(),o=e.height(),l=e.padding(),u=e.position(),c=e.pstyle("text-halign").strValue,d=e.pstyle("text-valign").strValue,h=a.rscratch,v=a.rstyle;switch(c){case"left":r=u.x-i/2-l;break;case"right":r=u.x+i/2+l;break;default:r=u.x}switch(d){case"top":n=u.y-o/2-l;break;case"bottom":n=u.y+o/2+l;break;default:n=u.y}h.labelX=r,h.labelY=n,v.labelX=r,v.labelY=n,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}};var Iz=function(t,r){var n=Math.atan(r/t);return t===0&&n<0&&(n=n*-1),n},zz=function(t,r){var n=r.x-t.x,a=r.y-t.y;return Iz(n,a)},Jte=function(t,r,n,a){var i=ff(0,a-.001,1),o=ff(0,a+.001,1),l=ru(t,r,n,i),u=ru(t,r,n,o);return zz(l,u)};Ja.recalculateEdgeLabelProjections=function(e){var t,r=e._private,n=r.rscratch,a=this,i={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(i.mid||i.source||i.target){t={x:n.midX,y:n.midY};var o=function(h,v,g){xi(r.rscratch,h,v,g),xi(r.rstyle,h,v,g)};o("labelX",null,t.x),o("labelY",null,t.y);var l=Iz(n.midDispX,n.midDispY);o("labelAutoAngle",null,l);var u=function(){if(u.cache)return u.cache;for(var h=[],v=0;v+5<n.allpts.length;v+=4){var g={x:n.allpts[v],y:n.allpts[v+1]},m={x:n.allpts[v+2],y:n.allpts[v+3]},b={x:n.allpts[v+4],y:n.allpts[v+5]};h.push({p0:g,p1:m,p2:b,startDist:0,length:0,segments:[]})}var x=r.rstyle.bezierPts,w=a.bezierProjPcts.length;function S(T,_,M,R,P){var L=Vs(_,M),N=T.segments[T.segments.length-1],B={p0:_,p1:M,t0:R,t1:P,startDist:N?N.startDist+N.length:0,length:L};T.segments.push(B),T.length+=L}for(var E=0;E<h.length;E++){var O=h[E],D=h[E-1];D&&(O.startDist=D.startDist+D.length),S(O,O.p0,x[E*w],0,a.bezierProjPcts[0]);for(var k=0;k<w-1;k++)S(O,x[E*w+k],x[E*w+k+1],a.bezierProjPcts[k],a.bezierProjPcts[k+1]);S(O,x[E*w+w-1],O.p2,a.bezierProjPcts[w-1],1)}return u.cache=h},c=function(h){var v,g=h==="source";if(i[h]){var m=e.pstyle(h+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var b=u(),x,w=0,S=0,E=0;E<b.length;E++){for(var O=b[g?E:b.length-1-E],D=0;D<O.segments.length;D++){var k=O.segments[g?D:O.segments.length-1-D],T=E===b.length-1&&D===O.segments.length-1;if(w=S,S+=k.length,S>=m||T){x={cp:O,segment:k};break}}if(x)break}var _=x.cp,M=x.segment,R=(m-w)/M.length,P=M.t1-M.t0,L=g?M.t0+P*R:M.t1-P*R;L=ff(0,L,1),t=ru(_.p0,_.p1,_.p2,L),v=Jte(_.p0,_.p1,_.p2,L);break}case"straight":case"segments":case"haystack":{for(var N=0,B,G,I,z,q=n.allpts.length,H=0;H+3<q&&(g?(I={x:n.allpts[H],y:n.allpts[H+1]},z={x:n.allpts[H+2],y:n.allpts[H+3]}):(I={x:n.allpts[q-2-H],y:n.allpts[q-1-H]},z={x:n.allpts[q-4-H],y:n.allpts[q-3-H]}),B=Vs(I,z),G=N,N+=B,!(N>=m));H+=2);var X=m-G,U=X/B;U=ff(0,U,1),t=wQ(I,z,U),v=zz(I,z);break}}o("labelX",h,t.x),o("labelY",h,t.y),o("labelAutoAngle",h,v)}};c("source"),c("target"),this.applyLabelDimensions(e)}};Ja.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))};Ja.applyPrefixedLabelDimensions=function(e,t){var r=e._private,n=this.getLabelText(e,t),a=Hs(n,e._private.labelDimsKey);if(Mn(r.rscratch,"prefixedLabelDimsKey",t)!==a){xi(r.rscratch,"prefixedLabelDimsKey",t,a);var i=this.calculateLabelDimensions(e,n),o=e.pstyle("line-height").pfValue,l=e.pstyle("text-wrap").strValue,u=Mn(r.rscratch,"labelWrapCachedLines",t)||[],c=l!=="wrap"?1:Math.max(u.length,1),d=i.height/c,h=d*o,v=i.width,g=i.height+(c-1)*(o-1)*d;xi(r.rstyle,"labelWidth",t,v),xi(r.rscratch,"labelWidth",t,v),xi(r.rstyle,"labelHeight",t,g),xi(r.rscratch,"labelHeight",t,g),xi(r.rscratch,"labelLineHeight",t,h)}};Ja.getLabelText=function(e,t){var r=e._private,n=t?t+"-":"",a=e.pstyle(n+"label").strValue,i=e.pstyle("text-transform").value,o=function(Q,ee){return ee?(xi(r.rscratch,Q,t,ee),ee):Mn(r.rscratch,Q,t)};if(!a)return"";i=="none"||(i=="uppercase"?a=a.toUpperCase():i=="lowercase"&&(a=a.toLowerCase()));var l=e.pstyle("text-wrap").value;if(l==="wrap"){var u=o("labelKey");if(u!=null&&o("labelWrapKey")===u)return o("labelWrapCachedText");for(var c="",d=a.split(`
`),h=e.pstyle("text-max-width").pfValue,v=e.pstyle("text-overflow-wrap").value,g=v==="anywhere",m=[],b=/[\s\u200b]+|$/g,x=0;x<d.length;x++){var w=d[x],S=this.calculateLabelDimensions(e,w),E=S.width;if(g){var O=w.split("").join(c);w=O}if(E>h){var D=w.matchAll(b),k="",T=0,_=Nn(D),M;try{for(_.s();!(M=_.n()).done;){var R=M.value,P=R[0],L=w.substring(T,R.index);T=R.index+P.length;var N=k.length===0?L:k+L+P,B=this.calculateLabelDimensions(e,N),G=B.width;G<=h?k+=L+P:(k&&m.push(k),k=L+P)}}catch(V){_.e(V)}finally{_.f()}k.match(/^[\s\u200b]+$/)||m.push(k)}else m.push(w)}o("labelWrapCachedLines",m),a=o("labelWrapCachedText",m.join(`
`)),o("labelWrapKey",u)}else if(l==="ellipsis"){var I=e.pstyle("text-max-width").pfValue,z="",q="",H=!1;if(this.calculateLabelDimensions(e,a).width<I)return a;for(var X=0;X<a.length;X++){var U=this.calculateLabelDimensions(e,z+a[X]+q).width;if(U>I)break;z+=a[X],X===a.length-1&&(H=!0)}return H||(z+=q),z}return a};Ja.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,r=e.pstyle("text-halign").strValue;if(t==="auto")if(e.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return t};Ja.calculateLabelDimensions=function(e,t){var r=this,n=r.cy.window(),a=n.document,i=0,o=e.pstyle("font-style").strValue,l=e.pstyle("font-size").pfValue,u=e.pstyle("font-family").strValue,c=e.pstyle("font-weight").strValue,d=this.labelCalcCanvas,h=this.labelCalcCanvasContext;if(!d){d=this.labelCalcCanvas=a.createElement("canvas"),h=this.labelCalcCanvasContext=d.getContext("2d");var v=d.style;v.position="absolute",v.left="-9999px",v.top="-9999px",v.zIndex="-1",v.visibility="hidden",v.pointerEvents="none"}h.font="".concat(o," ").concat(c," ").concat(l,"px ").concat(u);for(var g=0,m=0,b=t.split(`
`),x=0;x<b.length;x++){var w=b[x],S=h.measureText(w),E=Math.ceil(S.width),O=l;g=Math.max(E,g),m+=O}return g+=i,m+=i,{width:g,height:m}};Ja.calculateLabelAngle=function(e,t){var r=e._private,n=r.rscratch,a=e.isEdge(),i=t?t+"-":"",o=e.pstyle(i+"text-rotation"),l=o.strValue;return l==="none"?0:a&&l==="autorotate"?n.labelAutoAngle:l==="autorotate"?0:o.pfValue};Ja.calculateLabelAngles=function(e){var t=this,r=e.isEdge(),n=e._private,a=n.rscratch;a.labelAngle=t.calculateLabelAngle(e),r&&(a.sourceLabelAngle=t.calculateLabelAngle(e,"source"),a.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var jz={},Mk=28,Dk=!1;jz.getNodeShape=function(e){var t=this,r=e.pstyle("shape").value;if(r==="cutrectangle"&&(e.width()<Mk||e.height()<Mk))return Dk||(Ct("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Dk=!0),"rectangle";if(e.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=e.pstyle("shape-polygon-points").value;return t.nodeShapes.makePolygon(n).name}return r};var Qp={};Qp.registerCalculationListeners=function(){var e=this.cy,t=e.collection(),r=this,n=function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t.merge(o),l)for(var u=0;u<o.length;u++){var c=o[u],d=c._private,h=d.rstyle;h.clean=!1,h.cleanConnected=!1}};r.binder(e).on("bounds.* dirty.*",function(o){var l=o.target;n(l)}).on("style.* background.*",function(o){var l=o.target;n(l,!1)});var a=function(o){if(o){var l=r.onUpdateEleCalcsFns;t.cleanStyle();for(var u=0;u<t.length;u++){var c=t[u],d=c._private.rstyle;c.isNode()&&!d.cleanConnected&&(n(c.connectedEdges()),d.cleanConnected=!0)}if(l)for(var h=0;h<l.length;h++){var v=l[h];v(o,t)}r.recalculateRenderedStyle(t),t=e.collection()}};r.flushRenderedStyleQueue=function(){a(!0)},r.beforeRender(a,r.beforeRenderPriorities.eleCalcs)};Qp.onUpdateEleCalcs=function(e){var t=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];t.push(e)};Qp.recalculateRenderedStyle=function(e,t){var r=function(O){return O._private.rstyle.cleanConnected};if(e.length!==0){var n=[],a=[];if(!this.destroyed){t===void 0&&(t=!0);for(var i=0;i<e.length;i++){var o=e[i],l=o._private,u=l.rstyle;o.isEdge()&&(!r(o.source())||!r(o.target()))&&(u.clean=!1),o.isEdge()&&o.isBundledBezier()&&o.parallelEdges().some(function(E){return!E._private.rstyle.clean&&E.isBundledBezier()})&&(u.clean=!1),!(t&&u.clean||o.removed())&&o.pstyle("display").value!=="none"&&(l.group==="nodes"?a.push(o):n.push(o),u.clean=!0)}for(var c=0;c<a.length;c++){var d=a[c],h=d._private,v=h.rstyle,g=d.position();this.recalculateNodeLabelProjection(d),v.nodeX=g.x,v.nodeY=g.y,v.nodeW=d.pstyle("width").pfValue,v.nodeH=d.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var m=0;m<n.length;m++){var b=n[m],x=b._private,w=x.rstyle,S=x.rscratch;w.srcX=S.arrowStartX,w.srcY=S.arrowStartY,w.tgtX=S.arrowEndX,w.tgtY=S.arrowEndY,w.midX=S.midX,w.midY=S.midY,w.labelAngle=S.labelAngle,w.sourceLabelAngle=S.sourceLabelAngle,w.targetLabelAngle=S.targetLabelAngle}}}};var Jp={};Jp.updateCachedGrabbedEles=function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],r=0;r<e.length;r++){var n=e[r],a=n._private.rscratch;n.grabbed()&&!n.isParent()?t.push(n):a.inDragLayer?e.drag.push(n):e.nondrag.push(n)}for(var r=0;r<t.length;r++){var n=t[r];e.drag.push(n)}}};Jp.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Jp.getCachedZSortedEles=function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(xz),t.interactive=t.filter(function(r){return r.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t};var Gz={};[Qs,Wv,fn,Uf,IE,Ja,jz,Qp,Jp].forEach(function(e){Xe(Gz,e)});var Uz={};Uz.getCachedImage=function(e,t,r){var n=this,a=n.imageCache=n.imageCache||{},i=a[e];if(i)return i.image.complete||i.image.addEventListener("load",r),i.image;i=a[e]=a[e]||{};var o=i.image=new Image;o.addEventListener("load",r),o.addEventListener("error",function(){o.error=!0});var l="data:",u=e.substring(0,l.length).toLowerCase()===l;return u||(t=t==="null"?null:t,o.crossOrigin=t),o.src=e,o};var ku={};ku.registerBinding=function(e,t,r,n){var a=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(e)){for(var i=[],o=0;o<e.length;o++){var l=e[o];if(l!==void 0){var u=this.binder(l);i.push(u.on.apply(u,a))}}return i}var u=this.binder(e);return u.on.apply(u,a)};ku.binder=function(e){var t=this,r=t.cy.window(),n=e===r||e===r.document||e===r.document.body||fZ(e);if(t.supportsPassiveEvents==null){var a=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return a=!0,!0}});r.addEventListener("test",null,i)}catch{}t.supportsPassiveEvents=a}var o=function(u,c,d){var h=Array.prototype.slice.call(arguments);return n&&t.supportsPassiveEvents&&(h[2]={capture:d??!1,passive:!1,once:!1}),t.bindings.push({target:e,args:h}),(e.addEventListener||e.on).apply(e,h),this};return{on:o,addEventListener:o,addListener:o,bind:o}};ku.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()};ku.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()};ku.load=function(){var e=this,t=e.cy.window(),r=function($){return $.selected()},n=function($){var le=$.getRootNode();if(le&&le.nodeType===11&&le.host!==void 0)return le},a=function($,le,pe,ve){$==null&&($=e.cy);for(var we=0;we<le.length;we++){var Pe=le[we];$.emit({originalEvent:pe,type:Pe,position:ve})}},i=function($){return $.shiftKey||$.metaKey||$.ctrlKey},o=function($,le){var pe=!0;if(e.cy.hasCompoundNodes()&&$&&$.pannable())for(var ve=0;le&&ve<le.length;ve++){var $=le[ve];if($.isNode()&&$.isParent()&&!$.pannable()){pe=!1;break}}else pe=!0;return pe},l=function($){$[0]._private.grabbed=!0},u=function($){$[0]._private.grabbed=!1},c=function($){$[0]._private.rscratch.inDragLayer=!0},d=function($){$[0]._private.rscratch.inDragLayer=!1},h=function($){$[0]._private.rscratch.isGrabTarget=!0},v=function($){$[0]._private.rscratch.isGrabTarget=!1},g=function($,le){var pe=le.addToList,ve=pe.has($);!ve&&$.grabbable()&&!$.locked()&&(pe.merge($),l($))},m=function($,le){if($.cy().hasCompoundNodes()&&!(le.inDragLayer==null&&le.addToList==null)){var pe=$.descendants();le.inDragLayer&&(pe.forEach(c),pe.connectedEdges().forEach(c)),le.addToList&&g(pe,le)}},b=function($,le){le=le||{};var pe=$.cy().hasCompoundNodes();le.inDragLayer&&($.forEach(c),$.neighborhood().stdFilter(function(ve){return!pe||ve.isEdge()}).forEach(c)),le.addToList&&$.forEach(function(ve){g(ve,le)}),m($,le),S($,{inDragLayer:le.inDragLayer}),e.updateCachedGrabbedEles()},x=b,w=function($){$&&(e.getCachedZSortedEles().forEach(function(le){u(le),d(le),v(le)}),e.updateCachedGrabbedEles())},S=function($,le){if(!(le.inDragLayer==null&&le.addToList==null)&&$.cy().hasCompoundNodes()){var pe=$.ancestors().orphans();if(!pe.same($)){var ve=pe.descendants().spawnSelf().merge(pe).unmerge($).unmerge($.descendants()),we=ve.connectedEdges();le.inDragLayer&&(we.forEach(c),ve.forEach(c)),le.addToList&&ve.forEach(function(Pe){g(Pe,le)})}}},E=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},O=typeof MutationObserver<"u",D=typeof ResizeObserver<"u";O?(e.removeObserver=new MutationObserver(function(be){for(var $=0;$<be.length;$++){var le=be[$],pe=le.removedNodes;if(pe)for(var ve=0;ve<pe.length;ve++){var we=pe[ve];if(we===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(be){e.destroy()});var k=If(function(){e.cy.resize()},100);O&&(e.styleObserver=new MutationObserver(k),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(t,"resize",k),D&&(e.resizeObserver=new ResizeObserver(k),e.resizeObserver.observe(e.container));var T=function($,le){for(;$!=null;)le($),$=$.parentNode},_=function(){e.invalidateContainerClientCoordsCache()};T(e.container,function(be){e.registerBinding(be,"transitionend",_),e.registerBinding(be,"animationend",_),e.registerBinding(be,"scroll",_)}),e.registerBinding(e.container,"contextmenu",function(be){be.preventDefault()});var M=function(){return e.selection[4]!==0},R=function($){for(var le=e.findContainerClientCoords(),pe=le[0],ve=le[1],we=le[2],Pe=le[3],Ae=$.touches?$.touches:[$],Ge=!1,ke=0;ke<Ae.length;ke++){var He=Ae[ke];if(pe<=He.clientX&&He.clientX<=pe+we&&ve<=He.clientY&&He.clientY<=ve+Pe){Ge=!0;break}}if(!Ge)return!1;for(var Je=e.container,et=$.target,ze=et.parentNode,ot=!1;ze;){if(ze===Je){ot=!0;break}ze=ze.parentNode}return!!ot};e.registerBinding(e.container,"mousedown",function($){if(R($)&&!(e.hoverData.which===1&&$.which!==1)){$.preventDefault(),E(),e.hoverData.capture=!0,e.hoverData.which=$.which;var le=e.cy,pe=[$.clientX,$.clientY],ve=e.projectIntoViewport(pe[0],pe[1]),we=e.selection,Pe=e.findNearestElements(ve[0],ve[1],!0,!1),Ae=Pe[0],Ge=e.dragData.possibleDragElements;e.hoverData.mdownPos=ve,e.hoverData.mdownGPos=pe;var ke=function(at){return{originalEvent:$,type:at,position:{x:ve[0],y:ve[1]}}},He=function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var at=e.hoverData.down;at?at.emit(ke("taphold")):le.emit(ke("taphold"))}},e.tapholdDuration)};if($.which==3){e.hoverData.cxtStarted=!0;var Je={originalEvent:$,type:"cxttapstart",position:{x:ve[0],y:ve[1]}};Ae?(Ae.activate(),Ae.emit(Je),e.hoverData.down=Ae):le.emit(Je),e.hoverData.downTime=new Date().getTime(),e.hoverData.cxtDragged=!1}else if($.which==1){Ae&&Ae.activate();{if(Ae!=null&&e.nodeIsGrabbable(Ae)){var et=function(at){at.emit(ke("grab"))};if(h(Ae),!Ae.selected())Ge=e.dragData.possibleDragElements=le.collection(),x(Ae,{addToList:Ge}),Ae.emit(ke("grabon")).emit(ke("grab"));else{Ge=e.dragData.possibleDragElements=le.collection();var ze=le.$(function(ot){return ot.isNode()&&ot.selected()&&e.nodeIsGrabbable(ot)});b(ze,{addToList:Ge}),Ae.emit(ke("grabon")),ze.forEach(et)}e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=Ae,e.hoverData.downs=Pe,e.hoverData.downTime=new Date().getTime()}a(Ae,["mousedown","tapstart","vmousedown"],$,{x:ve[0],y:ve[1]}),Ae==null?(we[4]=1,e.data.bgActivePosistion={x:ve[0],y:ve[1]},e.redrawHint("select",!0),e.redraw()):Ae.pannable()&&(we[4]=1),He()}we[0]=we[2]=ve[0],we[1]=we[3]=ve[1]}},!1);var P=n(e.container);e.registerBinding([t,P],"mousemove",function($){var le=e.hoverData.capture;if(!(!le&&!R($))){var pe=!1,ve=e.cy,we=ve.zoom(),Pe=[$.clientX,$.clientY],Ae=e.projectIntoViewport(Pe[0],Pe[1]),Ge=e.hoverData.mdownPos,ke=e.hoverData.mdownGPos,He=e.selection,Je=null;!e.hoverData.draggingEles&&!e.hoverData.dragging&&!e.hoverData.selecting&&(Je=e.findNearestElement(Ae[0],Ae[1],!0,!1));var et=e.hoverData.last,ze=e.hoverData.down,ot=[Ae[0]-He[2],Ae[1]-He[3]],at=e.dragData.possibleDragElements,Zt;if(ke){var Mt=Pe[0]-ke[0],qr=Mt*Mt,Qt=Pe[1]-ke[1],ir=Qt*Qt,tr=qr+ir;e.hoverData.isOverThresholdDrag=Zt=tr>=e.desktopTapThreshold2}var or=i($);Zt&&(e.hoverData.tapholdCancelled=!0);var ea=function(){var Rr=e.hoverData.dragDelta=e.hoverData.dragDelta||[];Rr.length===0?(Rr.push(ot[0]),Rr.push(ot[1])):(Rr[0]+=ot[0],Rr[1]+=ot[1])};pe=!0,a(Je,["mousemove","vmousemove","tapdrag"],$,{x:Ae[0],y:Ae[1]});var Jt=function(Rr){return{originalEvent:$,type:Rr,position:{x:Ae[0],y:Ae[1]}}},ta=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||ve.emit(Jt("boxstart")),He[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(e.hoverData.which===3){if(Zt){var kr=Jt("cxtdrag");ze?ze.emit(kr):ve.emit(kr),e.hoverData.cxtDragged=!0,(!e.hoverData.cxtOver||Je!==e.hoverData.cxtOver)&&(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit(Jt("cxtdragout")),e.hoverData.cxtOver=Je,Je&&Je.emit(Jt("cxtdragover")))}}else if(e.hoverData.dragging){if(pe=!0,ve.panningEnabled()&&ve.userPanningEnabled()){var Yt;if(e.hoverData.justStartedPan){var yr=e.hoverData.mdownPos;Yt={x:(Ae[0]-yr[0])*we,y:(Ae[1]-yr[1])*we},e.hoverData.justStartedPan=!1}else Yt={x:ot[0]*we,y:ot[1]*we};ve.panBy(Yt),ve.emit(Jt("dragpan")),e.hoverData.dragged=!0}Ae=e.projectIntoViewport($.clientX,$.clientY)}else if(He[4]==1&&(ze==null||ze.pannable())){if(Zt){if(!e.hoverData.dragging&&ve.boxSelectionEnabled()&&(or||!ve.panningEnabled()||!ve.userPanningEnabled()))ta();else if(!e.hoverData.selecting&&ve.panningEnabled()&&ve.userPanningEnabled()){var xn=o(ze,e.hoverData.downs);xn&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,He[4]=0,e.data.bgActivePosistion=Zl(Ge),e.redrawHint("select",!0),e.redraw())}ze&&ze.pannable()&&ze.active()&&ze.unactivate()}}else{if(ze&&ze.pannable()&&ze.active()&&ze.unactivate(),(!ze||!ze.grabbed())&&Je!=et&&(et&&a(et,["mouseout","tapdragout"],$,{x:Ae[0],y:Ae[1]}),Je&&a(Je,["mouseover","tapdragover"],$,{x:Ae[0],y:Ae[1]}),e.hoverData.last=Je),ze)if(Zt){if(ve.boxSelectionEnabled()&&or)ze&&ze.grabbed()&&(w(at),ze.emit(Jt("freeon")),at.emit(Jt("free")),e.dragData.didDrag&&(ze.emit(Jt("dragfreeon")),at.emit(Jt("dragfree")))),ta();else if(ze&&ze.grabbed()&&e.nodeIsDraggable(ze)){var Pr=!e.dragData.didDrag;Pr&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||b(at,{inDragLayer:!0});var Nr={x:0,y:0};if(Te(ot[0])&&Te(ot[1])&&(Nr.x+=ot[0],Nr.y+=ot[1],Pr)){var rn=e.hoverData.dragDelta;rn&&Te(rn[0])&&Te(rn[1])&&(Nr.x+=rn[0],Nr.y+=rn[1])}e.hoverData.draggingEles=!0,at.silentShift(Nr).emit(Jt("position")).emit(Jt("drag")),e.redrawHint("drag",!0),e.redraw()}}else ea();pe=!0}if(He[2]=Ae[0],He[3]=Ae[1],pe)return $.stopPropagation&&$.stopPropagation(),$.preventDefault&&$.preventDefault(),!1}},!1);var L,N,B;e.registerBinding(t,"mouseup",function($){if(!(e.hoverData.which===1&&$.which!==1&&e.hoverData.capture)){var le=e.hoverData.capture;if(le){e.hoverData.capture=!1;var pe=e.cy,ve=e.projectIntoViewport($.clientX,$.clientY),we=e.selection,Pe=e.findNearestElement(ve[0],ve[1],!0,!1),Ae=e.dragData.possibleDragElements,Ge=e.hoverData.down,ke=i($);e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,Ge&&Ge.unactivate();var He=function(Mt){return{originalEvent:$,type:Mt,position:{x:ve[0],y:ve[1]}}};if(e.hoverData.which===3){var Je=He("cxttapend");if(Ge?Ge.emit(Je):pe.emit(Je),!e.hoverData.cxtDragged){var et=He("cxttap");Ge?Ge.emit(et):pe.emit(et)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(e.hoverData.which===1){if(a(Pe,["mouseup","tapend","vmouseup"],$,{x:ve[0],y:ve[1]}),!e.dragData.didDrag&&!e.hoverData.dragged&&!e.hoverData.selecting&&!e.hoverData.isOverThresholdDrag&&(a(Ge,["click","tap","vclick"],$,{x:ve[0],y:ve[1]}),N=!1,$.timeStamp-B<=pe.multiClickDebounceTime()?(L&&clearTimeout(L),N=!0,B=null,a(Ge,["dblclick","dbltap","vdblclick"],$,{x:ve[0],y:ve[1]})):(L=setTimeout(function(){N||a(Ge,["oneclick","onetap","voneclick"],$,{x:ve[0],y:ve[1]})},pe.multiClickDebounceTime()),B=$.timeStamp)),Ge==null&&!e.dragData.didDrag&&!e.hoverData.selecting&&!e.hoverData.dragged&&!i($)&&(pe.$(r).unselect(["tapunselect"]),Ae.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=Ae=pe.collection()),Pe==Ge&&!e.dragData.didDrag&&!e.hoverData.selecting&&Pe!=null&&Pe._private.selectable&&(e.hoverData.dragging||(pe.selectionType()==="additive"||ke?Pe.selected()?Pe.unselect(["tapunselect"]):Pe.select(["tapselect"]):ke||(pe.$(r).unmerge(Pe).unselect(["tapunselect"]),Pe.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var ze=pe.collection(e.getAllInBox(we[0],we[1],we[2],we[3]));e.redrawHint("select",!0),ze.length>0&&e.redrawHint("eles",!0),pe.emit(He("boxend"));var ot=function(Mt){return Mt.selectable()&&!Mt.selected()};pe.selectionType()==="additive"||ke||pe.$(r).unmerge(ze).unselect(),ze.emit(He("box")).stdFilter(ot).select().emit(He("boxselect")),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!we[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var at=Ge&&Ge.grabbed();w(Ae),at&&(Ge.emit(He("freeon")),Ae.emit(He("free")),e.dragData.didDrag&&(Ge.emit(He("dragfreeon")),Ae.emit(He("dragfree"))))}}we[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null,e.hoverData.which=null}}},!1);var G=[],I=4,z,q=1e5,H=function($,le){for(var pe=0;pe<$.length;pe++)if($[pe]%le!==0)return!1;return!0},X=function($){for(var le=Math.abs($[0]),pe=1;pe<$.length;pe++)if(Math.abs($[pe])!==le)return!1;return!0},U=function($){var le=!1,pe=$.deltaY;if(pe==null&&($.wheelDeltaY!=null?pe=$.wheelDeltaY/4:$.wheelDelta!=null&&(pe=$.wheelDelta/4)),pe!==0){if(z==null)if(G.length>=I){var ve=G;if(z=H(ve,5),!z){var we=Math.abs(ve[0]);z=X(ve)&&we>5}if(z)for(var Pe=0;Pe<ve.length;Pe++)q=Math.min(Math.abs(ve[Pe]),q)}else G.push(pe),le=!0;else z&&(q=Math.min(Math.abs(pe),q));if(!e.scrollingPage){var Ae=e.cy,Ge=Ae.zoom(),ke=Ae.pan(),He=e.projectIntoViewport($.clientX,$.clientY),Je=[He[0]*Ge+ke.x,He[1]*Ge+ke.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||M()){$.preventDefault();return}if(Ae.panningEnabled()&&Ae.userPanningEnabled()&&Ae.zoomingEnabled()&&Ae.userZoomingEnabled()){$.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150);var et;le&&Math.abs(pe)>5&&(pe=SE(pe)*5),et=pe/-250,z&&(et/=q,et*=3),et=et*e.wheelSensitivity;var ze=$.deltaMode===1;ze&&(et*=33);var ot=Ae.zoom()*Math.pow(10,et);$.type==="gesturechange"&&(ot=e.gestureStartZoom*$.scale),Ae.zoom({level:ot,renderedPosition:{x:Je[0],y:Je[1]}}),Ae.emit({type:$.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:$,position:{x:He[0],y:He[1]}})}}}};e.registerBinding(e.container,"wheel",U,!0),e.registerBinding(t,"scroll",function($){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"gesturestart",function($){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||$.preventDefault()},!0),e.registerBinding(e.container,"gesturechange",function(be){e.hasTouchStarted||U(be)},!0),e.registerBinding(e.container,"mouseout",function($){var le=e.projectIntoViewport($.clientX,$.clientY);e.cy.emit({originalEvent:$,type:"mouseout",position:{x:le[0],y:le[1]}})},!1),e.registerBinding(e.container,"mouseover",function($){var le=e.projectIntoViewport($.clientX,$.clientY);e.cy.emit({originalEvent:$,type:"mouseover",position:{x:le[0],y:le[1]}})},!1);var V,Q,ee,te,ie,ue,xe,Z,re,J,W,se,he,Ce=function($,le,pe,ve){return Math.sqrt((pe-$)*(pe-$)+(ve-le)*(ve-le))},_e=function($,le,pe,ve){return(pe-$)*(pe-$)+(ve-le)*(ve-le)},Me;e.registerBinding(e.container,"touchstart",Me=function($){if(e.hasTouchStarted=!0,!!R($)){E(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var le=e.cy,pe=e.touchData.now,ve=e.touchData.earlier;if($.touches[0]){var we=e.projectIntoViewport($.touches[0].clientX,$.touches[0].clientY);pe[0]=we[0],pe[1]=we[1]}if($.touches[1]){var we=e.projectIntoViewport($.touches[1].clientX,$.touches[1].clientY);pe[2]=we[0],pe[3]=we[1]}if($.touches[2]){var we=e.projectIntoViewport($.touches[2].clientX,$.touches[2].clientY);pe[4]=we[0],pe[5]=we[1]}var Pe=function(or){return{originalEvent:$,type:or,position:{x:pe[0],y:pe[1]}}};if($.touches[1]){e.touchData.singleTouchMoved=!0,w(e.dragData.touchDragEles);var Ae=e.findContainerClientCoords();re=Ae[0],J=Ae[1],W=Ae[2],se=Ae[3],V=$.touches[0].clientX-re,Q=$.touches[0].clientY-J,ee=$.touches[1].clientX-re,te=$.touches[1].clientY-J,he=0<=V&&V<=W&&0<=ee&&ee<=W&&0<=Q&&Q<=se&&0<=te&&te<=se;var Ge=le.pan(),ke=le.zoom();ie=Ce(V,Q,ee,te),ue=_e(V,Q,ee,te),xe=[(V+ee)/2,(Q+te)/2],Z=[(xe[0]-Ge.x)/ke,(xe[1]-Ge.y)/ke];var He=200,Je=He*He;if(ue<Je&&!$.touches[2]){var et=e.findNearestElement(pe[0],pe[1],!0,!0),ze=e.findNearestElement(pe[2],pe[3],!0,!0);et&&et.isNode()?(et.activate().emit(Pe("cxttapstart")),e.touchData.start=et):ze&&ze.isNode()?(ze.activate().emit(Pe("cxttapstart")),e.touchData.start=ze):le.emit(Pe("cxttapstart")),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,e.redraw();return}}if($.touches[2])le.boxSelectionEnabled()&&$.preventDefault();else if(!$.touches[1]){if($.touches[0]){var ot=e.findNearestElements(pe[0],pe[1],!0,!0),at=ot[0];if(at!=null&&(at.activate(),e.touchData.start=at,e.touchData.starts=ot,e.nodeIsGrabbable(at))){var Zt=e.dragData.touchDragEles=le.collection(),Mt=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),at.selected()?(Mt=le.$(function(tr){return tr.selected()&&e.nodeIsGrabbable(tr)}),b(Mt,{addToList:Zt})):x(at,{addToList:Zt}),h(at),at.emit(Pe("grabon")),Mt?Mt.forEach(function(tr){tr.emit(Pe("grab"))}):at.emit(Pe("grab"))}a(at,["touchstart","tapstart","vmousedown"],$,{x:pe[0],y:pe[1]}),at==null&&(e.data.bgActivePosistion={x:we[0],y:we[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){e.touchData.singleTouchMoved===!1&&!e.pinching&&!e.touchData.selecting&&a(e.touchData.start,["taphold"],$,{x:pe[0],y:pe[1]})},e.tapholdDuration)}}if($.touches.length>=1){for(var qr=e.touchData.startPosition=[null,null,null,null,null,null],Qt=0;Qt<pe.length;Qt++)qr[Qt]=ve[Qt]=pe[Qt];var ir=$.touches[0];e.touchData.startGPosition=[ir.clientX,ir.clientY]}}},!1);var Ie;e.registerBinding(t,"touchmove",Ie=function($){var le=e.touchData.capture;if(!(!le&&!R($))){var pe=e.selection,ve=e.cy,we=e.touchData.now,Pe=e.touchData.earlier,Ae=ve.zoom();if($.touches[0]){var Ge=e.projectIntoViewport($.touches[0].clientX,$.touches[0].clientY);we[0]=Ge[0],we[1]=Ge[1]}if($.touches[1]){var Ge=e.projectIntoViewport($.touches[1].clientX,$.touches[1].clientY);we[2]=Ge[0],we[3]=Ge[1]}if($.touches[2]){var Ge=e.projectIntoViewport($.touches[2].clientX,$.touches[2].clientY);we[4]=Ge[0],we[5]=Ge[1]}var ke=function(Kf){return{originalEvent:$,type:Kf,position:{x:we[0],y:we[1]}}},He=e.touchData.startGPosition,Je;if(le&&$.touches[0]&&He){for(var et=[],ze=0;ze<we.length;ze++)et[ze]=we[ze]-Pe[ze];var ot=$.touches[0].clientX-He[0],at=ot*ot,Zt=$.touches[0].clientY-He[1],Mt=Zt*Zt,qr=at+Mt;Je=qr>=e.touchTapThreshold2}if(le&&e.touchData.cxt){$.preventDefault();var Qt=$.touches[0].clientX-re,ir=$.touches[0].clientY-J,tr=$.touches[1].clientX-re,or=$.touches[1].clientY-J,ea=_e(Qt,ir,tr,or),Jt=ea/ue,ta=150,kr=ta*ta,Yt=1.5,yr=Yt*Yt;if(Jt>=yr||ea>=kr){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var xn=ke("cxttapend");e.touchData.start?(e.touchData.start.unactivate().emit(xn),e.touchData.start=null):ve.emit(xn)}}if(le&&e.touchData.cxt){var xn=ke("cxtdrag");e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(xn):ve.emit(xn),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var Pr=e.findNearestElement(we[0],we[1],!0,!0);(!e.touchData.cxtOver||Pr!==e.touchData.cxtOver)&&(e.touchData.cxtOver&&e.touchData.cxtOver.emit(ke("cxtdragout")),e.touchData.cxtOver=Pr,Pr&&Pr.emit(ke("cxtdragover")))}else if(le&&$.touches[2]&&ve.boxSelectionEnabled())$.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||ve.emit(ke("boxstart")),e.touchData.selecting=!0,e.touchData.didSelect=!0,pe[4]=1,!pe||pe.length===0||pe[0]===void 0?(pe[0]=(we[0]+we[2]+we[4])/3,pe[1]=(we[1]+we[3]+we[5])/3,pe[2]=(we[0]+we[2]+we[4])/3+1,pe[3]=(we[1]+we[3]+we[5])/3+1):(pe[2]=(we[0]+we[2]+we[4])/3,pe[3]=(we[1]+we[3]+we[5])/3),e.redrawHint("select",!0),e.redraw();else if(le&&$.touches[1]&&!e.touchData.didSelect&&ve.zoomingEnabled()&&ve.panningEnabled()&&ve.userZoomingEnabled()&&ve.userPanningEnabled()){$.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Nr=e.dragData.touchDragEles;if(Nr){e.redrawHint("drag",!0);for(var rn=0;rn<Nr.length;rn++){var Yi=Nr[rn]._private;Yi.grabbed=!1,Yi.rscratch.inDragLayer=!1}}var Rr=e.touchData.start,Qt=$.touches[0].clientX-re,ir=$.touches[0].clientY-J,tr=$.touches[1].clientX-re,or=$.touches[1].clientY-J,el=Ce(Qt,ir,tr,or),$i=el/ie;if(he){var Xi=Qt-V,Zo=ir-Q,Ki=tr-ee,cr=or-te,Yf=(Xi+Ki)/2,$f=(Zo+cr)/2,In=ve.zoom(),Ia=In*$i,tl=ve.pan(),Nu=Z[0]*In+tl.x,Ru=Z[1]*In+tl.y,tg={x:-Ia/In*(Nu-tl.x-Yf)+Nu,y:-Ia/In*(Ru-tl.y-$f)+Ru};if(Rr&&Rr.active()){var Nr=e.dragData.touchDragEles;w(Nr),e.redrawHint("drag",!0),e.redrawHint("eles",!0),Rr.unactivate().emit(ke("freeon")),Nr.emit(ke("free")),e.dragData.didDrag&&(Rr.emit(ke("dragfreeon")),Nr.emit(ke("dragfree")))}ve.viewport({zoom:Ia,pan:tg,cancelOnFailedZoom:!0}),ve.emit(ke("pinchzoom")),ie=el,V=Qt,Q=ir,ee=tr,te=or,e.pinching=!0}if($.touches[0]){var Ge=e.projectIntoViewport($.touches[0].clientX,$.touches[0].clientY);we[0]=Ge[0],we[1]=Ge[1]}if($.touches[1]){var Ge=e.projectIntoViewport($.touches[1].clientX,$.touches[1].clientY);we[2]=Ge[0],we[3]=Ge[1]}if($.touches[2]){var Ge=e.projectIntoViewport($.touches[2].clientX,$.touches[2].clientY);we[4]=Ge[0],we[5]=Ge[1]}}else if($.touches[0]&&!e.touchData.didSelect){var nn=e.touchData.start,Wi=e.touchData.last,Pr;if(!e.hoverData.draggingEles&&!e.swipePanning&&(Pr=e.findNearestElement(we[0],we[1],!0,!0)),le&&nn!=null&&$.preventDefault(),le&&nn!=null&&e.nodeIsDraggable(nn))if(Je){var Nr=e.dragData.touchDragEles,ra=!e.dragData.didDrag;ra&&b(Nr,{inDragLayer:!0}),e.dragData.didDrag=!0;var Lr={x:0,y:0};if(Te(et[0])&&Te(et[1])&&(Lr.x+=et[0],Lr.y+=et[1],ra)){e.redrawHint("eles",!0);var wn=e.touchData.dragDelta;wn&&Te(wn[0])&&Te(wn[1])&&(Lr.x+=wn[0],Lr.y+=wn[1])}e.hoverData.draggingEles=!0,Nr.silentShift(Lr).emit(ke("position")).emit(ke("drag")),e.redrawHint("drag",!0),e.touchData.startPosition[0]==Pe[0]&&e.touchData.startPosition[1]==Pe[1]&&e.redrawHint("eles",!0),e.redraw()}else{var wn=e.touchData.dragDelta=e.touchData.dragDelta||[];wn.length===0?(wn.push(et[0]),wn.push(et[1])):(wn[0]+=et[0],wn[1]+=et[1])}if(a(nn||Pr,["touchmove","tapdrag","vmousemove"],$,{x:we[0],y:we[1]}),(!nn||!nn.grabbed())&&Pr!=Wi&&(Wi&&Wi.emit(ke("tapdragout")),Pr&&Pr.emit(ke("tapdragover"))),e.touchData.last=Pr,le)for(var rn=0;rn<we.length;rn++)we[rn]&&e.touchData.startPosition[rn]&&Je&&(e.touchData.singleTouchMoved=!0);if(le&&(nn==null||nn.pannable())&&ve.panningEnabled()&&ve.userPanningEnabled()){var rg=o(nn,e.touchData.starts);rg&&($.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=Zl(e.touchData.startPosition)),e.swipePanning?(ve.panBy({x:et[0]*Ae,y:et[1]*Ae}),ve.emit(ke("dragpan"))):Je&&(e.swipePanning=!0,ve.panBy({x:ot*Ae,y:Zt*Ae}),ve.emit(ke("dragpan")),nn&&(nn.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));var Ge=e.projectIntoViewport($.touches[0].clientX,$.touches[0].clientY);we[0]=Ge[0],we[1]=Ge[1]}}for(var ze=0;ze<we.length;ze++)Pe[ze]=we[ze];le&&$.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&e.data.bgActivePosistion!=null&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1);var Ne;e.registerBinding(t,"touchcancel",Ne=function($){var le=e.touchData.start;e.touchData.capture=!1,le&&le.unactivate()});var Oe,Ue,qe,Qe;if(e.registerBinding(t,"touchend",Oe=function($){var le=e.touchData.start,pe=e.touchData.capture;if(pe)$.touches.length===0&&(e.touchData.capture=!1),$.preventDefault();else return;var ve=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var we=e.cy,Pe=we.zoom(),Ae=e.touchData.now,Ge=e.touchData.earlier;if($.touches[0]){var ke=e.projectIntoViewport($.touches[0].clientX,$.touches[0].clientY);Ae[0]=ke[0],Ae[1]=ke[1]}if($.touches[1]){var ke=e.projectIntoViewport($.touches[1].clientX,$.touches[1].clientY);Ae[2]=ke[0],Ae[3]=ke[1]}if($.touches[2]){var ke=e.projectIntoViewport($.touches[2].clientX,$.touches[2].clientY);Ae[4]=ke[0],Ae[5]=ke[1]}var He=function(kr){return{originalEvent:$,type:kr,position:{x:Ae[0],y:Ae[1]}}};le&&le.unactivate();var Je;if(e.touchData.cxt){if(Je=He("cxttapend"),le?le.emit(Je):we.emit(Je),!e.touchData.cxtDragged){var et=He("cxttap");le?le.emit(et):we.emit(et)}e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,e.redraw();return}if(!$.touches[2]&&we.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var ze=we.collection(e.getAllInBox(ve[0],ve[1],ve[2],ve[3]));ve[0]=void 0,ve[1]=void 0,ve[2]=void 0,ve[3]=void 0,ve[4]=0,e.redrawHint("select",!0),we.emit(He("boxend"));var ot=function(kr){return kr.selectable()&&!kr.selected()};ze.emit(He("box")).stdFilter(ot).select().emit(He("boxselect")),ze.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(le!=null&&le.unactivate(),$.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(!$.touches[1]){if(!$.touches[0]){if(!$.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var at=e.dragData.touchDragEles;if(le!=null){var Zt=le._private.grabbed;w(at),e.redrawHint("drag",!0),e.redrawHint("eles",!0),Zt&&(le.emit(He("freeon")),at.emit(He("free")),e.dragData.didDrag&&(le.emit(He("dragfreeon")),at.emit(He("dragfree")))),a(le,["touchend","tapend","vmouseup","tapdragout"],$,{x:Ae[0],y:Ae[1]}),le.unactivate(),e.touchData.start=null}else{var Mt=e.findNearestElement(Ae[0],Ae[1],!0,!0);a(Mt,["touchend","tapend","vmouseup","tapdragout"],$,{x:Ae[0],y:Ae[1]})}var qr=e.touchData.startPosition[0]-Ae[0],Qt=qr*qr,ir=e.touchData.startPosition[1]-Ae[1],tr=ir*ir,or=Qt+tr,ea=or*Pe*Pe;e.touchData.singleTouchMoved||(le||we.$(":selected").unselect(["tapunselect"]),a(le,["tap","vclick"],$,{x:Ae[0],y:Ae[1]}),Ue=!1,$.timeStamp-Qe<=we.multiClickDebounceTime()?(qe&&clearTimeout(qe),Ue=!0,Qe=null,a(le,["dbltap","vdblclick"],$,{x:Ae[0],y:Ae[1]})):(qe=setTimeout(function(){Ue||a(le,["onetap","voneclick"],$,{x:Ae[0],y:Ae[1]})},we.multiClickDebounceTime()),Qe=$.timeStamp)),le!=null&&!e.dragData.didDrag&&le._private.selectable&&ea<e.touchTapThreshold2&&!e.pinching&&(we.selectionType()==="single"?(we.$(r).unmerge(le).unselect(["tapunselect"]),le.select(["tapselect"])):le.selected()?le.unselect(["tapunselect"]):le.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}}}for(var Jt=0;Jt<Ae.length;Jt++)Ge[Jt]=Ae[Jt];e.dragData.didDrag=!1,$.touches.length===0&&(e.touchData.dragDelta=[],e.touchData.startPosition=[null,null,null,null,null,null],e.touchData.startGPosition=null,e.touchData.didSelect=!1),$.touches.length<2&&($.touches.length===1&&(e.touchData.startGPosition=[$.touches[0].clientX,$.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())},!1),typeof TouchEvent>"u"){var De=[],nt=function($){return{clientX:$.clientX,clientY:$.clientY,force:1,identifier:$.pointerId,pageX:$.pageX,pageY:$.pageY,radiusX:$.width/2,radiusY:$.height/2,screenX:$.screenX,screenY:$.screenY,target:$.target}},lt=function($){return{event:$,touch:nt($)}},pt=function($){De.push(lt($))},ht=function($){for(var le=0;le<De.length;le++){var pe=De[le];if(pe.event.pointerId===$.pointerId){De.splice(le,1);return}}},yt=function($){var le=De.filter(function(pe){return pe.event.pointerId===$.pointerId})[0];le.event=$,le.touch=nt($)},We=function($){$.touches=De.map(function(le){return le.touch})},Re=function($){return $.pointerType==="mouse"||$.pointerType===4};e.registerBinding(e.container,"pointerdown",function(be){Re(be)||(be.preventDefault(),pt(be),We(be),Me(be))}),e.registerBinding(e.container,"pointerup",function(be){Re(be)||(ht(be),We(be),Oe(be))}),e.registerBinding(e.container,"pointercancel",function(be){Re(be)||(ht(be),We(be),Ne(be))}),e.registerBinding(e.container,"pointermove",function(be){Re(be)||(be.preventDefault(),yt(be),We(be),Ie(be))})}};var Hi={};Hi.generatePolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(n,a,i,o,l,u){this.renderer.nodeShapeImpl("polygon",n,a,i,o,l,this.points)},intersectLine:function(n,a,i,o,l,u,c,d){return df(l,u,this.points,n,a,i/2,o/2,c)},checkPoint:function(n,a,i,o,l,u,c,d){return Bi(n,a,this.points,u,c,o,l,[0,-1],i)},hasMiterBounds:e!=="rectangle",miterBounds:function(n,a,i,o,l,u){return OQ(this.points,n,a,i,o,l)}}};Hi.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i)},intersectLine:function(t,r,n,a,i,o,l,u){return LQ(i,o,t,r,n/2+l,a/2+l)},checkPoint:function(t,r,n,a,i,o,l,u){return Ps(t,r,a,i,o,l,n)}}};Hi.generateRoundPolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,getOrCreateCorners:function(n,a,i,o,l,u,c){if(u[c]!==void 0&&u[c+"-cx"]===n&&u[c+"-cy"]===a)return u[c];u[c]=new Array(t.length/2),u[c+"-cx"]=n,u[c+"-cy"]=a;var d=i/2,h=o/2;l=l==="auto"?FI(i,o):l;for(var v=new Array(t.length/2),g=0;g<t.length/2;g++)v[g]={x:n+d*t[g*2],y:a+h*t[g*2+1]};var m,b,x,w,S=v.length;for(b=v[S-1],m=0;m<S;m++)x=v[m%S],w=v[(m+1)%S],u[c][m]=BE(b,x,w,l),b=x,x=w;return u[c]},draw:function(n,a,i,o,l,u,c){this.renderer.nodeShapeImpl("round-polygon",n,a,i,o,l,this.points,this.getOrCreateCorners(a,i,o,l,u,c,"drawCorners"))},intersectLine:function(n,a,i,o,l,u,c,d,h){return IQ(l,u,this.points,n,a,i,o,c,this.getOrCreateCorners(n,a,i,o,d,h,"corners"))},checkPoint:function(n,a,i,o,l,u,c,d,h){return RQ(n,a,this.points,u,c,o,l,this.getOrCreateCorners(u,c,o,l,d,h,"corners"))}}};Hi.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:hn(4,0),draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i,this.points,o)},intersectLine:function(t,r,n,a,i,o,l,u){return GI(i,o,t,r,n,a,l,u)},checkPoint:function(t,r,n,a,i,o,l,u){var c=a/2,d=i/2;u=u==="auto"?zo(a,i):u,u=Math.min(c,d,u);var h=u*2;return!!(Bi(t,r,this.points,o,l,a,i-h,[0,-1],n)||Bi(t,r,this.points,o,l,a-h,i,[0,-1],n)||Ps(t,r,h,h,o-c+u,l-d+u,n)||Ps(t,r,h,h,o+c-u,l-d+u,n)||Ps(t,r,h,h,o+c-u,l+d-u,n)||Ps(t,r,h,h,o-c+u,l+d-u,n))}}};Hi.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:CE(),points:hn(4,0),draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i,null,o)},generateCutTrianglePts:function(t,r,n,a,i){var o=i==="auto"?this.cornerLength:i,l=r/2,u=t/2,c=n-u,d=n+u,h=a-l,v=a+l;return{topLeft:[c,h+o,c+o,h,c+o,h+o],topRight:[d-o,h,d,h+o,d-o,h+o],bottomRight:[d,v-o,d-o,v,d-o,v-o],bottomLeft:[c+o,v,c,v-o,c+o,v-o]}},intersectLine:function(t,r,n,a,i,o,l,u){var c=this.generateCutTrianglePts(n+2*l,a+2*l,t,r,u),d=[].concat.apply([],[c.topLeft.splice(0,4),c.topRight.splice(0,4),c.bottomRight.splice(0,4),c.bottomLeft.splice(0,4)]);return df(i,o,d,t,r)},checkPoint:function(t,r,n,a,i,o,l,u){var c=u==="auto"?this.cornerLength:u;if(Bi(t,r,this.points,o,l,a,i-2*c,[0,-1],n)||Bi(t,r,this.points,o,l,a-2*c,i,[0,-1],n))return!0;var d=this.generateCutTrianglePts(a,i,o,l);return Dn(t,r,d.topLeft)||Dn(t,r,d.topRight)||Dn(t,r,d.bottomRight)||Dn(t,r,d.bottomLeft)}}};Hi.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:hn(4,0),draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i)},intersectLine:function(t,r,n,a,i,o,l,u){var c=.15,d=.5,h=.85,v=this.generateBarrelBezierPts(n+2*l,a+2*l,t,r),g=function(x){var w=ru({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},c),S=ru({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},d),E=ru({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},h);return[x[0],x[1],w.x,w.y,S.x,S.y,E.x,E.y,x[4],x[5]]},m=[].concat(g(v.topLeft),g(v.topRight),g(v.bottomRight),g(v.bottomLeft));return df(i,o,m,t,r)},generateBarrelBezierPts:function(t,r,n,a){var i=r/2,o=t/2,l=n-o,u=n+o,c=a-i,d=a+i,h=gx(t,r),v=h.heightOffset,g=h.widthOffset,m=h.ctrlPtOffsetPct*t,b={topLeft:[l,c+v,l+m,c,l+g,c],topRight:[u-g,c,u-m,c,u,c+v],bottomRight:[u,d-v,u-m,d,u-g,d],bottomLeft:[l+g,d,l+m,d,l,d-v]};return b.topLeft.isTop=!0,b.topRight.isTop=!0,b.bottomLeft.isBottom=!0,b.bottomRight.isBottom=!0,b},checkPoint:function(t,r,n,a,i,o,l,u){var c=gx(a,i),d=c.heightOffset,h=c.widthOffset;if(Bi(t,r,this.points,o,l,a,i-2*d,[0,-1],n)||Bi(t,r,this.points,o,l,a-2*h,i,[0,-1],n))return!0;for(var v=this.generateBarrelBezierPts(a,i,o,l),g=function(_,M,R){var P=R[4],L=R[2],N=R[0],B=R[5],G=R[1],I=Math.min(P,N),z=Math.max(P,N),q=Math.min(B,G),H=Math.max(B,G);if(I<=_&&_<=z&&q<=M&&M<=H){var X=zQ(P,L,N),U=DQ(X[0],X[1],X[2],_),V=U.filter(function(Q){return 0<=Q&&Q<=1});if(V.length>0)return V[0]}return null},m=Object.keys(v),b=0;b<m.length;b++){var x=m[b],w=v[x],S=g(t,r,w);if(S!=null){var E=w[5],O=w[3],D=w[1],k=Ir(E,O,D,S);if(w.isTop&&k<=r||w.isBottom&&r<=k)return!0}}return!1}}};Hi.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:hn(4,0),draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i,this.points,o)},intersectLine:function(t,r,n,a,i,o,l,u){var c=t-(n/2+l),d=r-(a/2+l),h=d,v=t+(n/2+l),g=Do(i,o,t,r,c,d,v,h,!1);return g.length>0?g:GI(i,o,t,r,n,a,l,u)},checkPoint:function(t,r,n,a,i,o,l,u){u=u==="auto"?zo(a,i):u;var c=2*u;if(Bi(t,r,this.points,o,l,a,i-c,[0,-1],n)||Bi(t,r,this.points,o,l,a-c,i,[0,-1],n))return!0;var d=a/2+2*n,h=i/2+2*n,v=[o-d,l-h,o-d,l,o+d,l,o+d,l-h];return!!(Dn(t,r,v)||Ps(t,r,c,c,o+a/2-u,l+i/2-u,n)||Ps(t,r,c,c,o-a/2+u,l+i/2-u,n))}}};Hi.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",hn(3,0)),this.generateRoundPolygon("round-triangle",hn(3,0)),this.generatePolygon("rectangle",hn(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",hn(5,0)),this.generateRoundPolygon("round-pentagon",hn(5,0)),this.generatePolygon("hexagon",hn(6,0)),this.generateRoundPolygon("round-hexagon",hn(6,0)),this.generatePolygon("heptagon",hn(7,0)),this.generateRoundPolygon("round-heptagon",hn(7,0)),this.generatePolygon("octagon",hn(8,0)),this.generateRoundPolygon("round-octagon",hn(8,0));var n=new Array(20);{var a=px(5,0),i=px(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var l=0;l<i.length/2;l++)i[l*2]*=o,i[l*2+1]*=o;for(var l=0;l<20/4;l++)n[l*4]=a[l*2],n[l*4+1]=a[l*2+1],n[l*4+2]=i[l*2],n[l*4+3]=i[l*2+1]}n=UI(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u)}e.makePolygon=function(c){var d=c.join("$"),h="polygon-"+d,v;return(v=this[h])?v:t.generatePolygon(h,c)}};var Ff={};Ff.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};Ff.redraw=function(e){e=e||BI();var t=this;t.averageRedrawTime===void 0&&(t.averageRedrawTime=0),t.lastRedrawTime===void 0&&(t.lastRedrawTime=0),t.lastDrawTime===void 0&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e};Ff.beforeRender=function(e,t){if(!this.destroyed){t==null&&Wt("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:e,priority:t}),r.sort(function(n,a){return a.priority-n.priority})}};var kk=function(t,r,n){for(var a=t.beforeRenderCallbacks,i=0;i<a.length;i++)a[i].fn(r,n)};Ff.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var r=function(a){if(!e.destroyed){if(!t.batching())if(e.requestedFrame&&!e.skipFrame){kk(e,!0,a);var i=Li();e.render(e.renderOptions);var o=e.lastDrawTime=Li();e.averageRedrawTime===void 0&&(e.averageRedrawTime=o-i),e.redrawCount===void 0&&(e.redrawCount=0),e.redrawCount++,e.redrawTotalTime===void 0&&(e.redrawTotalTime=0);var l=o-i;e.redrawTotalTime+=l,e.lastRedrawTime=l,e.averageRedrawTime=e.averageRedrawTime/2+l/2,e.requestedFrame=!1}else kk(e,!1,a);e.skipFrame=!1,Fv(r)}};Fv(r)}};var ere=function(t){this.init(t)},Fz=ere,Pu=Fz.prototype;Pu.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];Pu.init=function(e){var t=this;t.options=e,t.cy=e.cy;var r=t.container=e.cy.container(),n=t.cy.window();if(n){var a=n.document,i=a.head,o="__________cytoscape_stylesheet",l="__________cytoscape_container",u=a.getElementById(o)!=null;if(r.className.indexOf(l)<0&&(r.className=(r.className||"")+" "+l),!u){var c=a.createElement("style");c.id=o,c.textContent="."+l+" { position: relative; }",i.insertBefore(c,i.children[0])}var d=n.getComputedStyle(r),h=d.getPropertyValue("position");h==="static"&&Ct("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.webgl=e.webgl,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=Te(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()};Pu.notify=function(e,t){var r=this,n=r.cy;if(!this.destroyed){if(e==="init"){r.load();return}if(e==="destroy"){r.destroy();return}(e==="add"||e==="remove"||e==="move"&&n.hasCompoundNodes()||e==="load"||e==="zorder"||e==="mount")&&r.invalidateCachedZSortedEles(),e==="viewport"&&r.redrawHint("select",!0),e==="gc"&&r.redrawHint("gc",!0),(e==="load"||e==="resize"||e==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};Pu.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var r=e.bindings[t],n=r,a=n.target;(a.off||a.removeEventListener).apply(a,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch{}};Pu.isHeadless=function(){return!1};[LE,Gz,Uz,ku,Hi,Ff].forEach(function(e){Xe(Pu,e)});var f1=1e3/60,qz={setupDequeueing:function(t){return function(){var n=this,a=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var i=If(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},t.deqRedrawThreshold),o=function(c,d){var h=Li(),v=a.averageRedrawTime,g=a.lastRedrawTime,m=[],b=a.cy.extent(),x=a.getPixelRatio();for(c||a.flushRenderedStyleQueue();;){var w=Li(),S=w-h,E=w-d;if(g<f1){var O=f1-(c?v:0);if(E>=t.deqFastCost*O)break}else if(c){if(S>=t.deqCost*g||S>=t.deqAvgCost*v)break}else if(E>=t.deqNoDrawCost*f1)break;var D=t.deq(n,x,b);if(D.length>0)for(var k=0;k<D.length;k++)m.push(D[k]);else break}m.length>0&&(t.onDeqd(n,m),!c&&t.shouldRedraw(n,m,x,b)&&i())},l=t.priority||xE;a.beforeRender(o,l(n))}}}},tre=(function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qv;Yo(this,e),this.idsByKey=new Ti,this.keyForId=new Ti,this.cachesByLvl=new Ti,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=r}return $o(e,[{key:"getIdsFor",value:function(r){r==null&&Wt("Can not get id list for null key");var n=this.idsByKey,a=this.idsByKey.get(r);return a||(a=new Ou,n.set(r,a)),a}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);this.deleteIdForKey(a,n),this.addIdForKey(i,n),this.keyForId.set(n,i)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteIdForKey(a,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);return a!==i}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,a=this.lvls,i=n.get(r);return i||(i=new Ti,n.set(r,i),a.push(r)),i}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var a=this.getKey(r),i=this.getCache(a,n);return i!=null&&this.updateKeyMappingFor(r),i}},{key:"getForCachedKey",value:function(r,n){var a=this.keyForId.get(r.id()),i=this.getCache(a,n);return i}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var a=this.getKey(r);return this.hasCache(a,n)}},{key:"setCache",value:function(r,n,a){a.key=r,this.getCachesAt(n).set(r,a)}},{key:"set",value:function(r,n,a){var i=this.getKey(r);this.setCache(i,n,a),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var a=this.getKey(r);this.deleteCache(a,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(a){return n.deleteCache(r,a)})}},{key:"invalidate",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteKeyMappingFor(r);var i=this.doesEleInvalidateKey(r);return i&&this.invalidateKey(a),i||this.getNumberOfIdsForKey(a)===0}}])})(),Pk=25,Rh=50,Wh=-4,Mx=3,Hz=7.99,rre=8,nre=1024,are=1024,ire=1024,ore=.2,sre=.8,lre=10,ure=.15,cre=.1,fre=.9,dre=.9,hre=100,vre=1,Jl={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},pre=en({getKey:null,doesEleInvalidateKey:qv,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:NI,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Vc=function(t,r){var n=this;n.renderer=t,n.onDequeues=[];var a=pre(r);Xe(n,a),n.lookup=new tre(a.getKey,a.doesEleInvalidateKey),n.setupDequeueing()},Dr=Vc.prototype;Dr.reasons=Jl;Dr.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]};Dr.getRetiredTextureQueue=function(e){var t=this,r=t.eleImgCaches.retired=t.eleImgCaches.retired||{},n=r[e]=r[e]||[];return n};Dr.getElementQueue=function(){var e=this,t=e.eleCacheQueue=e.eleCacheQueue||new zf(function(r,n){return n.reqs-r.reqs});return t};Dr.getElementKeyToQueue=function(){var e=this,t=e.eleKeyToCacheQueue=e.eleKeyToCacheQueue||{};return t};Dr.getElement=function(e,t,r,n,a){var i=this,o=this.renderer,l=o.cy.zoom(),u=this.lookup;if(!t||t.w===0||t.h===0||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed()||!i.allowEdgeTxrCaching&&e.isEdge()||!i.allowParentTxrCaching&&e.isParent())return null;if(n==null&&(n=Math.ceil(EE(l*r))),n<Wh)n=Wh;else if(l>=Hz||n>Mx)return null;var c=Math.pow(2,n),d=t.h*c,h=t.w*c,v=o.eleTextBiggerThanMin(e,c);if(!this.isVisible(e,v))return null;var g=u.get(e,n);if(g&&g.invalidated&&(g.invalidated=!1,g.texture.invalidatedWidth-=g.width),g)return g;var m;if(d<=Pk?m=Pk:d<=Rh?m=Rh:m=Math.ceil(d/Rh)*Rh,d>ire||h>are)return null;var b=i.getTextureQueue(m),x=b[b.length-2],w=function(){return i.recycleTexture(m,h)||i.addTexture(m,h)};x||(x=b[b.length-1]),x||(x=w()),x.width-x.usedWidth<h&&(x=w());for(var S=function(I){return I&&I.scaledLabelShown===v},E=a&&a===Jl.dequeue,O=a&&a===Jl.highQuality,D=a&&a===Jl.downscale,k,T=n+1;T<=Mx;T++){var _=u.get(e,T);if(_){k=_;break}}var M=k&&k.level===n+1?k:null,R=function(){x.context.drawImage(M.texture.canvas,M.x,0,M.width,M.height,x.usedWidth,0,h,d)};if(x.context.setTransform(1,0,0,1,0,0),x.context.clearRect(x.usedWidth,0,h,m),S(M))R();else if(S(k))if(O){for(var P=k.level;P>n;P--)M=i.getElement(e,t,r,P,Jl.downscale);R()}else return i.queueElement(e,k.level-1),k;else{var L;if(!E&&!O&&!D)for(var N=n-1;N>=Wh;N--){var B=u.get(e,N);if(B){L=B;break}}if(S(L))return i.queueElement(e,n),L;x.context.translate(x.usedWidth,0),x.context.scale(c,c),this.drawElement(x.context,e,t,v,!1),x.context.scale(1/c,1/c),x.context.translate(-x.usedWidth,0)}return g={x:x.usedWidth,texture:x,level:n,scale:c,width:h,height:d,scaledLabelShown:v},x.usedWidth+=Math.ceil(h+rre),x.eleCaches.push(g),u.set(e,n,g),i.checkTextureFullness(x),g};Dr.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])};Dr.invalidateElement=function(e){var t=this,r=t.lookup,n=[],a=r.isInvalid(e);if(a){for(var i=Wh;i<=Mx;i++){var o=r.getForCachedKey(e,i);o&&n.push(o)}var l=r.invalidate(e);if(l)for(var u=0;u<n.length;u++){var c=n[u],d=c.texture;d.invalidatedWidth+=c.width,c.invalidated=!0,t.checkTextureUtility(d)}t.removeFromQueue(e)}};Dr.checkTextureUtility=function(e){e.invalidatedWidth>=ore*e.width&&this.retireTexture(e)};Dr.checkTextureFullness=function(e){var t=this,r=t.getTextureQueue(e.height);e.usedWidth/e.width>sre&&e.fullnessChecks>=lre?Io(r,e):e.fullnessChecks++};Dr.retireTexture=function(e){var t=this,r=e.height,n=t.getTextureQueue(r),a=this.lookup;Io(n,e),e.retired=!0;for(var i=e.eleCaches,o=0;o<i.length;o++){var l=i[o];a.deleteCache(l.key,l.level)}wE(i);var u=t.getRetiredTextureQueue(r);u.push(e)};Dr.addTexture=function(e,t){var r=this,n=r.getTextureQueue(e),a={};return n.push(a),a.eleCaches=[],a.height=e,a.width=Math.max(nre,t),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=r.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a};Dr.recycleTexture=function(e,t){for(var r=this,n=r.getTextureQueue(e),a=r.getRetiredTextureQueue(e),i=0;i<a.length;i++){var o=a[i];if(o.width>=t)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,wE(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),Io(a,o),n.push(o),o}};Dr.queueElement=function(e,t){var r=this,n=r.getElementQueue(),a=r.getElementKeyToQueue(),i=this.getKey(e),o=a[i];if(o)o.level=Math.max(o.level,t),o.eles.merge(e),o.reqs++,n.updateItem(o);else{var l={eles:e.spawn().merge(e),level:t,reqs:1,key:i};n.push(l),a[i]=l}};Dr.dequeue=function(e){for(var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),a=[],i=t.lookup,o=0;o<vre&&r.size()>0;o++){var l=r.pop(),u=l.key,c=l.eles[0],d=i.hasCache(c,l.level);if(n[u]=null,d)continue;a.push(l);var h=t.getBoundingBox(c);t.getElement(c,h,e,l.level,Jl.dequeue)}return a};Dr.removeFromQueue=function(e){var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),a=this.getKey(e),i=n[a];i!=null&&(i.eles.length===1?(i.reqs=bE,r.updateItem(i),r.pop(),n[a]=null):i.eles.unmerge(e))};Dr.onDequeue=function(e){this.onDequeues.push(e)};Dr.offDequeue=function(e){Io(this.onDequeues,e)};Dr.setupDequeueing=qz.setupDequeueing({deqRedrawThreshold:hre,deqCost:ure,deqAvgCost:cre,deqNoDrawCost:fre,deqFastCost:dre,deq:function(t,r,n){return t.dequeue(r,n)},onDeqd:function(t,r){for(var n=0;n<t.onDequeues.length;n++){var a=t.onDequeues[n];a(r)}},shouldRedraw:function(t,r,n,a){for(var i=0;i<r.length;i++)for(var o=r[i].eles,l=0;l<o.length;l++){var u=o[l].boundingBox();if(AE(u,a))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}});var gre=1,Xc=-4,Zv=2,mre=3.99,yre=50,bre=50,xre=.15,wre=.1,Ere=.9,Sre=.9,Are=1,Nk=250,Cre=4e3*4e3,Rk=32767,Tre=!0,Vz=function(t){var r=this,n=r.renderer=t,a=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=Li()-2*Nk,r.skipping=!1,r.eleTxrDeqs=a.collection(),r.scheduleElementRefinement=If(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},bre),n.beforeRender(function(o,l){l-r.lastInvalidationTime<=Nk?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var i=function(l,u){return u.reqs-l.reqs};r.layersQueue=new zf(i),r.setupDequeueing()},tn=Vz.prototype,Lk=0,Ore=Math.pow(2,53)-1;tn.makeLayer=function(e,t){var r=Math.pow(2,t),n=Math.ceil(e.w*r),a=Math.ceil(e.h*r),i=this.renderer.makeOffscreenCanvas(n,a),o={id:Lk=++Lk%Ore,bb:e,level:t,width:n,height:a,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},l=o.context,u=-o.bb.x1,c=-o.bb.y1;return l.scale(r,r),l.translate(u,c),o};tn.getLayers=function(e,t,r){var n=this,a=n.renderer,i=a.cy,o=i.zoom(),l=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(EE(o*t)),r<Xc)r=Xc;else if(o>=mre||r>Zv)return null}n.validateLayersElesOrdering(r,e);var u=n.layersByLevel,c=Math.pow(2,r),d=u[r]=u[r]||[],h,v=n.levelIsComplete(r,e),g,m=function(){var R=function(G){if(n.validateLayersElesOrdering(G,e),n.levelIsComplete(G,e))return g=u[G],!0},P=function(G){if(!g)for(var I=r+G;Xc<=I&&I<=Zv&&!R(I);I+=G);};P(1),P(-1);for(var L=d.length-1;L>=0;L--){var N=d[L];N.invalid&&Io(d,N)}};if(!v)m();else return d;var b=function(){if(!h){h=mn();for(var R=0;R<e.length;R++)AQ(h,e[R].boundingBox())}return h},x=function(R){R=R||{};var P=R.after;b();var L=Math.ceil(h.w*c),N=Math.ceil(h.h*c);if(L>Rk||N>Rk)return null;var B=L*N;if(B>Cre)return null;var G=n.makeLayer(h,r);if(P!=null){var I=d.indexOf(P)+1;d.splice(I,0,G)}else(R.insert===void 0||R.insert)&&d.unshift(G);return G};if(n.skipping&&!l)return null;for(var w=null,S=e.length/gre,E=!l,O=0;O<e.length;O++){var D=e[O],k=D._private.rscratch,T=k.imgLayerCaches=k.imgLayerCaches||{},_=T[r];if(_){w=_;continue}if((!w||w.eles.length>=S||!jI(w.bb,D.boundingBox()))&&(w=x({insert:!0,after:w}),!w))return null;g||E?n.queueLayer(w,D):n.drawEleInLayer(w,D,r,t),w.eles.push(D),T[r]=w}return g||(E?null:d)};tn.getEleLevelForLayerLevel=function(e,t){return e};tn.drawEleInLayer=function(e,t,r,n){var a=this,i=this.renderer,o=e.context,l=t.boundingBox();l.w===0||l.h===0||!t.visible()||(r=a.getEleLevelForLayerLevel(r,n),i.setImgSmoothing(o,!1),i.drawCachedElement(o,t,null,null,r,Tre),i.setImgSmoothing(o,!0))};tn.levelIsComplete=function(e,t){var r=this,n=r.layersByLevel[e];if(!n||n.length===0)return!1;for(var a=0,i=0;i<n.length;i++){var o=n[i];if(o.reqs>0||o.invalid)return!1;a+=o.eles.length}return a===t.length};tn.validateLayersElesOrdering=function(e,t){var r=this.layersByLevel[e];if(r)for(var n=0;n<r.length;n++){for(var a=r[n],i=-1,o=0;o<t.length;o++)if(a.eles[0]===t[o]){i=o;break}if(i<0){this.invalidateLayer(a);continue}for(var l=i,o=0;o<a.eles.length;o++)if(a.eles[o]!==t[l+o]){this.invalidateLayer(a);break}}};tn.updateElementsInLayers=function(e,t){for(var r=this,n=Nf(e[0]),a=0;a<e.length;a++)for(var i=n?null:e[a],o=n?e[a]:e[a].ele,l=o._private.rscratch,u=l.imgLayerCaches=l.imgLayerCaches||{},c=Xc;c<=Zv;c++){var d=u[c];d&&(i&&r.getEleLevelForLayerLevel(d.level)!==i.level||t(d,o,i))}};tn.haveLayers=function(){for(var e=this,t=!1,r=Xc;r<=Zv;r++){var n=e.layersByLevel[r];if(n&&n.length>0){t=!0;break}}return t};tn.invalidateElements=function(e){var t=this;e.length!==0&&(t.lastInvalidationTime=Li(),!(e.length===0||!t.haveLayers())&&t.updateElementsInLayers(e,function(n,a,i){t.invalidateLayer(n)}))};tn.invalidateLayer=function(e){if(this.lastInvalidationTime=Li(),!e.invalid){var t=e.level,r=e.eles,n=this.layersByLevel[t];Io(n,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var a=0;a<r.length;a++){var i=r[a]._private.rscratch.imgLayerCaches;i&&(i[t]=null)}}};tn.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(n,a,i){var o=n.replacement;if(o||(o=n.replacement=t.makeLayer(n.bb,n.level),o.replaces=n,o.eles=n.eles),!o.reqs)for(var l=0;l<o.eles.length;l++)t.queueLayer(o,o.eles[l])})};tn.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()};tn.queueLayer=function(e,t){var r=this,n=r.layersQueue,a=e.elesQueue,i=a.hasId=a.hasId||{};if(!e.replacement){if(t){if(i[t.id()])return;a.push(t),i[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}};tn.dequeue=function(e){for(var t=this,r=t.layersQueue,n=[],a=0;a<Are&&r.size()!==0;){var i=r.peek();if(i.replacement){r.pop();continue}if(i.replaces&&i!==i.replaces.replacement){r.pop();continue}if(i.invalid){r.pop();continue}var o=i.elesQueue.shift();o&&(t.drawEleInLayer(i,o,i.level,e),a++),n.length===0&&n.push(!0),i.elesQueue.length===0&&(r.pop(),i.reqs=0,i.replaces&&t.applyLayerReplacement(i),t.requestRedraw())}return n};tn.applyLayerReplacement=function(e){var t=this,r=t.layersByLevel[e.level],n=e.replaces,a=r.indexOf(n);if(!(a<0||n.invalid)){r[a]=e;for(var i=0;i<e.eles.length;i++){var o=e.eles[i]._private,l=o.imgLayerCaches=o.imgLayerCaches||{};l&&(l[e.level]=e)}t.requestRedraw()}};tn.requestRedraw=If(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100);tn.setupDequeueing=qz.setupDequeueing({deqRedrawThreshold:yre,deqCost:xre,deqAvgCost:wre,deqNoDrawCost:Ere,deqFastCost:Sre,deq:function(t,r){return t.dequeue(r)},onDeqd:xE,shouldRedraw:NI,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}});var Yz={},Bk;function _re(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.lineTo(n.x,n.y)}}function Mre(e,t,r){for(var n,a=0;a<t.length;a++){var i=t[a];a===0&&(n=i),e.lineTo(i.x,i.y)}e.quadraticCurveTo(r.x,r.y,n.x,n.y)}function Ik(e,t,r){e.beginPath&&e.beginPath();for(var n=t,a=0;a<n.length;a++){var i=n[a];e.lineTo(i.x,i.y)}var o=r,l=r[0];e.moveTo(l.x,l.y);for(var a=1;a<o.length;a++){var i=o[a];e.lineTo(i.x,i.y)}e.closePath&&e.closePath()}function Dre(e,t,r,n,a){e.beginPath&&e.beginPath(),e.arc(r,n,a,0,Math.PI*2,!1);var i=t,o=i[0];e.moveTo(o.x,o.y);for(var l=0;l<i.length;l++){var u=i[l];e.lineTo(u.x,u.y)}e.closePath&&e.closePath()}function kre(e,t,r,n){e.arc(t,r,n,0,Math.PI*2,!1)}Yz.arrowShapeImpl=function(e){return(Bk||(Bk={polygon:_re,"triangle-backcurve":Mre,"triangle-tee":Ik,"circle-triangle":Dre,"triangle-cross":Ik,circle:kre}))[e]};var ei={};ei.drawElement=function(e,t,r,n,a,i){var o=this;t.isNode()?o.drawNode(e,t,r,n,a,i):o.drawEdge(e,t,r,n,a,i)};ei.drawElementOverlay=function(e,t){var r=this;t.isNode()?r.drawNodeOverlay(e,t):r.drawEdgeOverlay(e,t)};ei.drawElementUnderlay=function(e,t){var r=this;t.isNode()?r.drawNodeUnderlay(e,t):r.drawEdgeUnderlay(e,t)};ei.drawCachedElementPortion=function(e,t,r,n,a,i,o,l){var u=this,c=r.getBoundingBox(t);if(!(c.w===0||c.h===0)){var d=r.getElement(t,c,n,a,i);if(d!=null){var h=l(u,t);if(h===0)return;var v=o(u,t),g=c.x1,m=c.y1,b=c.w,x=c.h,w,S,E,O,D;if(v!==0){var k=r.getRotationPoint(t);E=k.x,O=k.y,e.translate(E,O),e.rotate(v),D=u.getImgSmoothing(e),D||u.setImgSmoothing(e,!0);var T=r.getRotationOffset(t);w=T.x,S=T.y}else w=g,S=m;var _;h!==1&&(_=e.globalAlpha,e.globalAlpha=_*h),e.drawImage(d.texture.canvas,d.x,0,d.width,d.height,w,S,b,x),h!==1&&(e.globalAlpha=_),v!==0&&(e.rotate(-v),e.translate(-E,-O),D||u.setImgSmoothing(e,!1))}else r.drawElement(e,t)}};var Pre=function(){return 0},Nre=function(t,r){return t.getTextAngle(r,null)},Rre=function(t,r){return t.getTextAngle(r,"source")},Lre=function(t,r){return t.getTextAngle(r,"target")},Bre=function(t,r){return r.effectiveOpacity()},d1=function(t,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};ei.drawCachedElement=function(e,t,r,n,a,i){var o=this,l=o.data,u=l.eleTxrCache,c=l.lblTxrCache,d=l.slbTxrCache,h=l.tlbTxrCache,v=t.boundingBox(),g=i===!0?u.reasons.highQuality:null;if(!(v.w===0||v.h===0||!t.visible())&&(!n||AE(v,n))){var m=t.isEdge(),b=t.element()._private.rscratch.badLine;o.drawElementUnderlay(e,t),o.drawCachedElementPortion(e,t,u,r,a,g,Pre,Bre),(!m||!b)&&o.drawCachedElementPortion(e,t,c,r,a,g,Nre,d1),m&&!b&&(o.drawCachedElementPortion(e,t,d,r,a,g,Rre,d1),o.drawCachedElementPortion(e,t,h,r,a,g,Lre,d1)),o.drawElementOverlay(e,t)}};ei.drawElements=function(e,t){for(var r=this,n=0;n<t.length;n++){var a=t[n];r.drawElement(e,a)}};ei.drawCachedElements=function(e,t,r,n){for(var a=this,i=0;i<t.length;i++){var o=t[i];a.drawCachedElement(e,o,r,n)}};ei.drawCachedNodes=function(e,t,r,n){for(var a=this,i=0;i<t.length;i++){var o=t[i];o.isNode()&&a.drawCachedElement(e,o,r,n)}};ei.drawLayeredElements=function(e,t,r,n){var a=this,i=a.data.lyrTxrCache.getLayers(t,r);if(i)for(var o=0;o<i.length;o++){var l=i[o],u=l.bb;u.w===0||u.h===0||e.drawImage(l.canvas,u.x1,u.y1,u.w,u.h)}else a.drawCachedElements(e,t,r,n)};var Vi={};Vi.drawEdge=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,l=t._private.rscratch;if(!(i&&!t.visible())&&!(l.badLine||l.allpts==null||isNaN(l.allpts[0]))){var u;r&&(u=r,e.translate(-u.x1,-u.y1));var c=i?t.pstyle("opacity").value:1,d=i?t.pstyle("line-opacity").value:1,h=t.pstyle("curve-style").value,v=t.pstyle("line-style").value,g=t.pstyle("width").pfValue,m=t.pstyle("line-cap").value,b=t.pstyle("line-outline-width").value,x=t.pstyle("line-outline-color").value,w=c*d,S=c*d,E=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w;h==="straight-triangle"?(o.eleStrokeStyle(e,t,G),o.drawEdgeTrianglePath(t,e,l.allpts)):(e.lineWidth=g,e.lineCap=m,o.eleStrokeStyle(e,t,G),o.drawEdgePath(t,e,l.allpts,v),e.lineCap="butt")},O=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w;if(e.lineWidth=g+b,e.lineCap=m,b>0)o.colorStrokeStyle(e,x[0],x[1],x[2],G);else{e.lineCap="butt";return}h==="straight-triangle"?o.drawEdgeTrianglePath(t,e,l.allpts):(o.drawEdgePath(t,e,l.allpts,v),e.lineCap="butt")},D=function(){a&&o.drawEdgeOverlay(e,t)},k=function(){a&&o.drawEdgeUnderlay(e,t)},T=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S;o.drawArrowheads(e,t,G)},_=function(){o.drawElementText(e,t,null,n)};e.lineJoin="round";var M=t.pstyle("ghost").value==="yes";if(M){var R=t.pstyle("ghost-offset-x").pfValue,P=t.pstyle("ghost-offset-y").pfValue,L=t.pstyle("ghost-opacity").value,N=w*L;e.translate(R,P),E(N),T(N),e.translate(-R,-P)}else O();k(),E(),T(),D(),_(),r&&e.translate(u.x1,u.y1)}};var $z=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(r,n){if(n.visible()){var a=n.pstyle("".concat(t,"-opacity")).value;if(a!==0){var i=this,o=i.usePaths(),l=n._private.rscratch,u=n.pstyle("".concat(t,"-padding")).pfValue,c=2*u,d=n.pstyle("".concat(t,"-color")).value;r.lineWidth=c,l.edgeType==="self"&&!o?r.lineCap="butt":r.lineCap="round",i.colorStrokeStyle(r,d[0],d[1],d[2],a),i.drawEdgePath(n,r,l.allpts,"solid")}}}};Vi.drawEdgeOverlay=$z("overlay");Vi.drawEdgeUnderlay=$z("underlay");Vi.drawEdgePath=function(e,t,r,n){var a=e._private.rscratch,i=t,o,l=!1,u=this.usePaths(),c=e.pstyle("line-dash-pattern").pfValue,d=e.pstyle("line-dash-offset").pfValue;if(u){var h=r.join("$"),v=a.pathCacheKey&&a.pathCacheKey===h;v?(o=t=a.pathCache,l=!0):(o=t=new Path2D,a.pathCacheKey=h,a.pathCache=o)}if(i.setLineDash)switch(n){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash(c),i.lineDashOffset=d;break;case"solid":i.setLineDash([]);break}if(!l&&!a.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(r[0],r[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var g=2;g+3<r.length;g+=4)t.quadraticCurveTo(r[g],r[g+1],r[g+2],r[g+3]);break;case"straight":case"haystack":for(var m=2;m+1<r.length;m+=2)t.lineTo(r[m],r[m+1]);break;case"segments":if(a.isRound){var b=Nn(a.roundCorners),x;try{for(b.s();!(x=b.n()).done;){var w=x.value;Lz(t,w)}}catch(E){b.e(E)}finally{b.f()}t.lineTo(r[r.length-2],r[r.length-1])}else for(var S=2;S+1<r.length;S+=2)t.lineTo(r[S],r[S+1]);break}t=i,u?t.stroke(o):t.stroke(),t.setLineDash&&t.setLineDash([])};Vi.drawEdgeTrianglePath=function(e,t,r){t.fillStyle=t.strokeStyle;for(var n=e.pstyle("width").pfValue,a=0;a+1<r.length;a+=2){var i=[r[a+2]-r[a],r[a+3]-r[a+1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),l=[i[1]/o,-i[0]/o],u=[l[0]*n/2,l[1]*n/2];t.beginPath(),t.moveTo(r[a]-u[0],r[a+1]-u[1]),t.lineTo(r[a]+u[0],r[a+1]+u[1]),t.lineTo(r[a+2],r[a+3]),t.closePath(),t.fill()}};Vi.drawArrowheads=function(e,t,r){var n=t._private.rscratch,a=n.edgeType==="haystack";a||this.drawArrowhead(e,t,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(e,t,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(e,t,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),a||this.drawArrowhead(e,t,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};Vi.drawArrowhead=function(e,t,r,n,a,i,o){if(!(isNaN(n)||n==null||isNaN(a)||a==null||isNaN(i)||i==null)){var l=this,u=t.pstyle(r+"-arrow-shape").value;if(u!=="none"){var c=t.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",d=t.pstyle(r+"-arrow-fill").value,h=t.pstyle("width").pfValue,v=t.pstyle(r+"-arrow-width"),g=v.value==="match-line"?h:v.pfValue;v.units==="%"&&(g*=h);var m=t.pstyle("opacity").value;o===void 0&&(o=m);var b=e.globalCompositeOperation;(o!==1||d==="hollow")&&(e.globalCompositeOperation="destination-out",l.colorFillStyle(e,255,255,255,1),l.colorStrokeStyle(e,255,255,255,1),l.drawArrowShape(t,e,c,h,u,g,n,a,i),e.globalCompositeOperation=b);var x=t.pstyle(r+"-arrow-color").value;l.colorFillStyle(e,x[0],x[1],x[2],o),l.colorStrokeStyle(e,x[0],x[1],x[2],o),l.drawArrowShape(t,e,d,h,u,g,n,a,i)}}};Vi.drawArrowShape=function(e,t,r,n,a,i,o,l,u){var c=this,d=this.usePaths()&&a!=="triangle-cross",h=!1,v,g=t,m={x:o,y:l},b=e.pstyle("arrow-scale").value,x=this.getArrowWidth(n,b),w=c.arrowShapes[a];if(d){var S=c.arrowPathCache=c.arrowPathCache||[],E=Hs(a),O=S[E];O!=null?(v=t=O,h=!0):(v=t=new Path2D,S[E]=v)}h||(t.beginPath&&t.beginPath(),d?w.draw(t,1,0,{x:0,y:0},1):w.draw(t,x,u,m,n),t.closePath&&t.closePath()),t=g,d&&(t.translate(o,l),t.rotate(u),t.scale(x,x)),(r==="filled"||r==="both")&&(d?t.fill(v):t.fill()),(r==="hollow"||r==="both")&&(t.lineWidth=i/(d?x:1),t.lineJoin="miter",d?t.stroke(v):t.stroke()),d&&(t.scale(1/x,1/x),t.rotate(-u),t.translate(-o,-l))};var zE={};zE.safeDrawImage=function(e,t,r,n,a,i,o,l,u,c){if(!(a<=0||i<=0||u<=0||c<=0))try{e.drawImage(t,r,n,a,i,o,l,u,c)}catch(d){Ct(d)}};zE.drawInscribedImage=function(e,t,r,n,a){var i=this,o=r.position(),l=o.x,u=o.y,c=r.cy().style(),d=c.getIndexedStyle.bind(c),h=d(r,"background-fit","value",n),v=d(r,"background-repeat","value",n),g=r.width(),m=r.height(),b=r.padding()*2,x=g+(d(r,"background-width-relative-to","value",n)==="inner"?0:b),w=m+(d(r,"background-height-relative-to","value",n)==="inner"?0:b),S=r._private.rscratch,E=d(r,"background-clip","value",n),O=E==="node",D=d(r,"background-image-opacity","value",n)*a,k=d(r,"background-image-smoothing","value",n),T=r.pstyle("corner-radius").value;T!=="auto"&&(T=r.pstyle("corner-radius").pfValue);var _=t.width||t.cachedW,M=t.height||t.cachedH;(_==null||M==null)&&(document.body.appendChild(t),_=t.cachedW=t.width||t.offsetWidth,M=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var R=_,P=M;if(d(r,"background-width","value",n)!=="auto"&&(d(r,"background-width","units",n)==="%"?R=d(r,"background-width","pfValue",n)*x:R=d(r,"background-width","pfValue",n)),d(r,"background-height","value",n)!=="auto"&&(d(r,"background-height","units",n)==="%"?P=d(r,"background-height","pfValue",n)*w:P=d(r,"background-height","pfValue",n)),!(R===0||P===0)){if(h==="contain"){var L=Math.min(x/R,w/P);R*=L,P*=L}else if(h==="cover"){var L=Math.max(x/R,w/P);R*=L,P*=L}var N=l-x/2,B=d(r,"background-position-x","units",n),G=d(r,"background-position-x","pfValue",n);B==="%"?N+=(x-R)*G:N+=G;var I=d(r,"background-offset-x","units",n),z=d(r,"background-offset-x","pfValue",n);I==="%"?N+=(x-R)*z:N+=z;var q=u-w/2,H=d(r,"background-position-y","units",n),X=d(r,"background-position-y","pfValue",n);H==="%"?q+=(w-P)*X:q+=X;var U=d(r,"background-offset-y","units",n),V=d(r,"background-offset-y","pfValue",n);U==="%"?q+=(w-P)*V:q+=V,S.pathCache&&(N-=l,q-=u,l=0,u=0);var Q=e.globalAlpha;e.globalAlpha=D;var ee=i.getImgSmoothing(e),te=!1;if(k==="no"&&ee?(i.setImgSmoothing(e,!1),te=!0):k==="yes"&&!ee&&(i.setImgSmoothing(e,!0),te=!0),v==="no-repeat")O&&(e.save(),S.pathCache?e.clip(S.pathCache):(i.nodeShapes[i.getNodeShape(r)].draw(e,l,u,x,w,T,S),e.clip())),i.safeDrawImage(e,t,0,0,_,M,N,q,R,P),O&&e.restore();else{var ie=e.createPattern(t,v);e.fillStyle=ie,i.nodeShapes[i.getNodeShape(r)].draw(e,l,u,x,w,T,S),e.translate(N,q),e.fill(),e.translate(-N,-q)}e.globalAlpha=Q,te&&i.setImgSmoothing(e,ee)}};var Js={};Js.eleTextBiggerThanMin=function(e,t){if(!t){var r=e.cy().zoom(),n=this.getPixelRatio(),a=Math.ceil(EE(r*n));t=Math.pow(2,a)}var i=e.pstyle("font-size").pfValue*t,o=e.pstyle("min-zoomed-font-size").pfValue;return!(i<o)};Js.drawElementText=function(e,t,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(n==null){if(i&&!o.eleTextBiggerThanMin(t))return}else if(n===!1)return;if(t.isNode()){var l=t.pstyle("label");if(!l||!l.value)return;var u=o.getLabelJustification(t);e.textAlign=u,e.textBaseline="bottom"}else{var c=t.element()._private.rscratch.badLine,d=t.pstyle("label"),h=t.pstyle("source-label"),v=t.pstyle("target-label");if(c||(!d||!d.value)&&(!h||!h.value)&&(!v||!v.value))return;e.textAlign="center",e.textBaseline="bottom"}var g=!r,m;r&&(m=r,e.translate(-m.x1,-m.y1)),a==null?(o.drawText(e,t,null,g,i),t.isEdge()&&(o.drawText(e,t,"source",g,i),o.drawText(e,t,"target",g,i))):o.drawText(e,t,a,g,i),r&&e.translate(m.x1,m.y1)};Js.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(t=this.fontCaches[r],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t};Js.setupTextStyle=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=t.pstyle("font-style").strValue,a=t.pstyle("font-size").pfValue+"px",i=t.pstyle("font-family").strValue,o=t.pstyle("font-weight").strValue,l=r?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,u=t.pstyle("text-outline-opacity").value*l,c=t.pstyle("color").value,d=t.pstyle("text-outline-color").value;e.font=n+" "+o+" "+a+" "+i,e.lineJoin="round",this.colorFillStyle(e,c[0],c[1],c[2],l),this.colorStrokeStyle(e,d[0],d[1],d[2],u)};function Ire(e,t,r,n,a){var i=Math.min(n,a),o=i/2,l=t+n/2,u=r+a/2;e.beginPath(),e.arc(l,u,o,0,Math.PI*2),e.closePath()}function zk(e,t,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,o=Math.min(i,n/2,a/2);e.beginPath(),e.moveTo(t+o,r),e.lineTo(t+n-o,r),e.quadraticCurveTo(t+n,r,t+n,r+o),e.lineTo(t+n,r+a-o),e.quadraticCurveTo(t+n,r+a,t+n-o,r+a),e.lineTo(t+o,r+a),e.quadraticCurveTo(t,r+a,t,r+a-o),e.lineTo(t,r+o),e.quadraticCurveTo(t,r,t+o,r),e.closePath()}Js.getTextAngle=function(e,t){var r,n=e._private,a=n.rscratch,i=t?t+"-":"",o=e.pstyle(i+"text-rotation");if(o.strValue==="autorotate"){var l=Mn(a,"labelAngle",t);r=e.isEdge()?l:0}else o.strValue==="none"?r=0:r=o.pfValue;return r};Js.drawText=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=t._private,o=i.rscratch,l=a?t.effectiveOpacity():1;if(!(a&&(l===0||t.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var u=Mn(o,"labelX",r),c=Mn(o,"labelY",r),d,h,v=this.getLabelText(t,r);if(v!=null&&v!==""&&!isNaN(u)&&!isNaN(c)){this.setupTextStyle(e,t,a);var g=r?r+"-":"",m=Mn(o,"labelWidth",r),b=Mn(o,"labelHeight",r),x=t.pstyle(g+"text-margin-x").pfValue,w=t.pstyle(g+"text-margin-y").pfValue,S=t.isEdge(),E=t.pstyle("text-halign").value,O=t.pstyle("text-valign").value;S&&(E="center",O="center"),u+=x,c+=w;var D;switch(n?D=this.getTextAngle(t,r):D=0,D!==0&&(d=u,h=c,e.translate(d,h),e.rotate(D),u=0,c=0),O){case"top":break;case"center":c+=b/2;break;case"bottom":c+=b;break}var k=t.pstyle("text-background-opacity").value,T=t.pstyle("text-border-opacity").value,_=t.pstyle("text-border-width").pfValue,M=t.pstyle("text-background-padding").pfValue,R=t.pstyle("text-background-shape").strValue,P=R==="round-rectangle"||R==="roundrectangle",L=R==="circle",N=2;if(k>0||_>0&&T>0){var B=e.fillStyle,G=e.strokeStyle,I=e.lineWidth,z=t.pstyle("text-background-color").value,q=t.pstyle("text-border-color").value,H=t.pstyle("text-border-style").value,X=k>0,U=_>0&&T>0,V=u-M;switch(E){case"left":V-=m;break;case"center":V-=m/2;break}var Q=c-b-M,ee=m+2*M,te=b+2*M;if(X&&(e.fillStyle="rgba(".concat(z[0],",").concat(z[1],",").concat(z[2],",").concat(k*l,")")),U&&(e.strokeStyle="rgba(".concat(q[0],",").concat(q[1],",").concat(q[2],",").concat(T*l,")"),e.lineWidth=_,e.setLineDash))switch(H){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=_/4,e.setLineDash([]);break;case"solid":default:e.setLineDash([]);break}if(P?(e.beginPath(),zk(e,V,Q,ee,te,N)):L?(e.beginPath(),Ire(e,V,Q,ee,te)):(e.beginPath(),e.rect(V,Q,ee,te)),X&&e.fill(),U&&e.stroke(),U&&H==="double"){var ie=_/2;e.beginPath(),P?zk(e,V+ie,Q+ie,ee-2*ie,te-2*ie,N):e.rect(V+ie,Q+ie,ee-2*ie,te-2*ie),e.stroke()}e.fillStyle=B,e.strokeStyle=G,e.lineWidth=I,e.setLineDash&&e.setLineDash([])}var ue=2*t.pstyle("text-outline-width").pfValue;if(ue>0&&(e.lineWidth=ue),t.pstyle("text-wrap").value==="wrap"){var xe=Mn(o,"labelWrapCachedLines",r),Z=Mn(o,"labelLineHeight",r),re=m/2,J=this.getLabelJustification(t);switch(J==="auto"||(E==="left"?J==="left"?u+=-m:J==="center"&&(u+=-re):E==="center"?J==="left"?u+=-re:J==="right"&&(u+=re):E==="right"&&(J==="center"?u+=re:J==="right"&&(u+=m))),O){case"top":c-=(xe.length-1)*Z;break;case"center":case"bottom":c-=(xe.length-1)*Z;break}for(var W=0;W<xe.length;W++)ue>0&&e.strokeText(xe[W],u,c),e.fillText(xe[W],u,c),c+=Z}else ue>0&&e.strokeText(v,u,c),e.fillText(v,u,c);D!==0&&(e.rotate(-D),e.translate(-d,-h))}}};var Ko={};Ko.drawNode=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,l,u,c=t._private,d=c.rscratch,h=t.position();if(!(!Te(h.x)||!Te(h.y))&&!(i&&!t.visible())){var v=i?t.effectiveOpacity():1,g=o.usePaths(),m,b=!1,x=t.padding();l=t.width()+2*x,u=t.height()+2*x;var w;r&&(w=r,e.translate(-w.x1,-w.y1));for(var S=t.pstyle("background-image"),E=S.value,O=new Array(E.length),D=new Array(E.length),k=0,T=0;T<E.length;T++){var _=E[T],M=O[T]=_!=null&&_!=="none";if(M){var R=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",T);k++,D[T]=o.getCachedImage(_,R,function(){c.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var P=t.pstyle("background-blacken").value,L=t.pstyle("border-width").pfValue,N=t.pstyle("background-opacity").value*v,B=t.pstyle("border-color").value,G=t.pstyle("border-style").value,I=t.pstyle("border-join").value,z=t.pstyle("border-cap").value,q=t.pstyle("border-position").value,H=t.pstyle("border-dash-pattern").pfValue,X=t.pstyle("border-dash-offset").pfValue,U=t.pstyle("border-opacity").value*v,V=t.pstyle("outline-width").pfValue,Q=t.pstyle("outline-color").value,ee=t.pstyle("outline-style").value,te=t.pstyle("outline-opacity").value*v,ie=t.pstyle("outline-offset").value,ue=t.pstyle("corner-radius").value;ue!=="auto"&&(ue=t.pstyle("corner-radius").pfValue);var xe=function(){var Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N;o.eleFillStyle(e,t,Re)},Z=function(){var Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:U;o.colorStrokeStyle(e,B[0],B[1],B[2],Re)},re=function(){var Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:te;o.colorStrokeStyle(e,Q[0],Q[1],Q[2],Re)},J=function(Re,be,$,le){var pe=o.nodePathCache=o.nodePathCache||[],ve=PI($==="polygon"?$+","+le.join(","):$,""+be,""+Re,""+ue),we=pe[ve],Pe,Ae=!1;return we!=null?(Pe=we,Ae=!0,d.pathCache=Pe):(Pe=new Path2D,pe[ve]=d.pathCache=Pe),{path:Pe,cacheHit:Ae}},W=t.pstyle("shape").strValue,se=t.pstyle("shape-polygon-points").pfValue;if(g){e.translate(h.x,h.y);var he=J(l,u,W,se);m=he.path,b=he.cacheHit}var Ce=function(){if(!b){var Re=h;g&&(Re={x:0,y:0}),o.nodeShapes[o.getNodeShape(t)].draw(m||e,Re.x,Re.y,l,u,ue,d)}g?e.fill(m):e.fill()},_e=function(){for(var Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v,be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,$=c.backgrounding,le=0,pe=0;pe<D.length;pe++){var ve=t.cy().style().getIndexedStyle(t,"background-image-containment","value",pe);if(be&&ve==="over"||!be&&ve==="inside"){le++;continue}O[pe]&&D[pe].complete&&!D[pe].error&&(le++,o.drawInscribedImage(e,D[pe],t,pe,Re))}c.backgrounding=le!==k,$!==c.backgrounding&&t.updateStyle(!1)},Me=function(){var Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v;o.hasPie(t)&&(o.drawPie(e,t,be),Re&&(g||o.nodeShapes[o.getNodeShape(t)].draw(e,h.x,h.y,l,u,ue,d)))},Ie=function(){var Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v;o.hasStripe(t)&&(e.save(),g?e.clip(d.pathCache):(o.nodeShapes[o.getNodeShape(t)].draw(e,h.x,h.y,l,u,ue,d),e.clip()),o.drawStripe(e,t,be),e.restore(),Re&&(g||o.nodeShapes[o.getNodeShape(t)].draw(e,h.x,h.y,l,u,ue,d)))},Ne=function(){var Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v,be=(P>0?P:-P)*Re,$=P>0?0:255;P!==0&&(o.colorFillStyle(e,$,$,$,be),g?e.fill(m):e.fill())},Oe=function(){if(L>0){if(e.lineWidth=L,e.lineCap=z,e.lineJoin=I,e.setLineDash)switch(G){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash(H),e.lineDashOffset=X;break;case"solid":case"double":e.setLineDash([]);break}if(q!=="center"){if(e.save(),e.lineWidth*=2,q==="inside")g?e.clip(m):e.clip();else{var Re=new Path2D;Re.rect(-l/2-L,-u/2-L,l+2*L,u+2*L),Re.addPath(m),e.clip(Re,"evenodd")}g?e.stroke(m):e.stroke(),e.restore()}else g?e.stroke(m):e.stroke();if(G==="double"){e.lineWidth=L/3;var be=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",g?e.stroke(m):e.stroke(),e.globalCompositeOperation=be}e.setLineDash&&e.setLineDash([])}},Ue=function(){if(V>0){if(e.lineWidth=V,e.lineCap="butt",e.setLineDash)switch(ee){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([]);break}var Re=h;g&&(Re={x:0,y:0});var be=o.getNodeShape(t),$=L;q==="inside"&&($=0),q==="outside"&&($*=2);var le=(l+$+(V+ie))/l,pe=(u+$+(V+ie))/u,ve=l*le,we=u*pe,Pe=o.nodeShapes[be].points,Ae;if(g){var Ge=J(ve,we,be,Pe);Ae=Ge.path}if(be==="ellipse")o.drawEllipsePath(Ae||e,Re.x,Re.y,ve,we);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(be)){var ke=0,He=0,Je=0;be==="round-diamond"?ke=($+ie+V)*1.4:be==="round-heptagon"?(ke=($+ie+V)*1.075,Je=-($/2+ie+V)/35):be==="round-hexagon"?ke=($+ie+V)*1.12:be==="round-pentagon"?(ke=($+ie+V)*1.13,Je=-($/2+ie+V)/15):be==="round-tag"?(ke=($+ie+V)*1.12,He=($/2+V+ie)*.07):be==="round-triangle"&&(ke=($+ie+V)*(Math.PI/2),Je=-($+ie/2+V)/Math.PI),ke!==0&&(le=(l+ke)/l,ve=l*le,["round-hexagon","round-tag"].includes(be)||(pe=(u+ke)/u,we=u*pe)),ue=ue==="auto"?FI(ve,we):ue;for(var et=ve/2,ze=we/2,ot=ue+($+V+ie)/2,at=new Array(Pe.length/2),Zt=new Array(Pe.length/2),Mt=0;Mt<Pe.length/2;Mt++)at[Mt]={x:Re.x+He+et*Pe[Mt*2],y:Re.y+Je+ze*Pe[Mt*2+1]};var qr,Qt,ir,tr,or=at.length;for(Qt=at[or-1],qr=0;qr<or;qr++)ir=at[qr%or],tr=at[(qr+1)%or],Zt[qr]=BE(Qt,ir,tr,ot),Qt=ir,ir=tr;o.drawRoundPolygonPath(Ae||e,Re.x+He,Re.y+Je,l*le,u*pe,Pe,Zt)}else if(["roundrectangle","round-rectangle"].includes(be))ue=ue==="auto"?zo(ve,we):ue,o.drawRoundRectanglePath(Ae||e,Re.x,Re.y,ve,we,ue+($+V+ie)/2);else if(["cutrectangle","cut-rectangle"].includes(be))ue=ue==="auto"?CE():ue,o.drawCutRectanglePath(Ae||e,Re.x,Re.y,ve,we,null,ue+($+V+ie)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(be))ue=ue==="auto"?zo(ve,we):ue,o.drawBottomRoundRectanglePath(Ae||e,Re.x,Re.y,ve,we,ue+($+V+ie)/2);else if(be==="barrel")o.drawBarrelPath(Ae||e,Re.x,Re.y,ve,we);else if(be.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(be)){var ea=($+V+ie)/l;Pe=Hv(Vv(Pe,ea)),o.drawPolygonPath(Ae||e,Re.x,Re.y,l,u,Pe)}else{var Jt=($+V+ie)/l;Pe=Hv(Vv(Pe,-Jt)),o.drawPolygonPath(Ae||e,Re.x,Re.y,l,u,Pe)}if(g?e.stroke(Ae):e.stroke(),ee==="double"){e.lineWidth=$/3;var ta=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",g?e.stroke(Ae):e.stroke(),e.globalCompositeOperation=ta}e.setLineDash&&e.setLineDash([])}},qe=function(){a&&o.drawNodeOverlay(e,t,h,l,u)},Qe=function(){a&&o.drawNodeUnderlay(e,t,h,l,u)},De=function(){o.drawElementText(e,t,null,n)},nt=t.pstyle("ghost").value==="yes";if(nt){var lt=t.pstyle("ghost-offset-x").pfValue,pt=t.pstyle("ghost-offset-y").pfValue,ht=t.pstyle("ghost-opacity").value,yt=ht*v;e.translate(lt,pt),re(),Ue(),xe(ht*N),Ce(),_e(yt,!0),Z(ht*U),Oe(),Me(P!==0||L!==0),Ie(P!==0||L!==0),_e(yt,!1),Ne(yt),e.translate(-lt,-pt)}g&&e.translate(-h.x,-h.y),Qe(),g&&e.translate(h.x,h.y),re(),Ue(),xe(),Ce(),_e(v,!0),Z(),Oe(),Me(P!==0||L!==0),Ie(P!==0||L!==0),_e(v,!1),Ne(),g&&e.translate(-h.x,-h.y),De(),qe(),r&&e.translate(w.x1,w.y1)}};var Xz=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(r,n,a,i,o){var l=this;if(n.visible()){var u=n.pstyle("".concat(t,"-padding")).pfValue,c=n.pstyle("".concat(t,"-opacity")).value,d=n.pstyle("".concat(t,"-color")).value,h=n.pstyle("".concat(t,"-shape")).value,v=n.pstyle("".concat(t,"-corner-radius")).value;if(c>0){if(a=a||n.position(),i==null||o==null){var g=n.padding();i=n.width()+2*g,o=n.height()+2*g}l.colorFillStyle(r,d[0],d[1],d[2],c),l.nodeShapes[h].draw(r,a.x,a.y,i+u*2,o+u*2,v),r.fill()}}}};Ko.drawNodeOverlay=Xz("overlay");Ko.drawNodeUnderlay=Xz("underlay");Ko.hasPie=function(e){return e=e[0],e._private.hasPie};Ko.hasStripe=function(e){return e=e[0],e._private.hasStripe};Ko.drawPie=function(e,t,r,n){t=t[0],n=n||t.position();var a=t.cy().style(),i=t.pstyle("pie-size"),o=t.pstyle("pie-hole"),l=t.pstyle("pie-start-angle").pfValue,u=n.x,c=n.y,d=t.width(),h=t.height(),v=Math.min(d,h)/2,g,m=0,b=this.usePaths();if(b&&(u=0,c=0),i.units==="%"?v=v*i.pfValue:i.pfValue!==void 0&&(v=i.pfValue/2),o.units==="%"?g=v*o.pfValue:o.pfValue!==void 0&&(g=o.pfValue/2),!(g>=v))for(var x=1;x<=a.pieBackgroundN;x++){var w=t.pstyle("pie-"+x+"-background-size").value,S=t.pstyle("pie-"+x+"-background-color").value,E=t.pstyle("pie-"+x+"-background-opacity").value*r,O=w/100;O+m>1&&(O=1-m);var D=1.5*Math.PI+2*Math.PI*m;D+=l;var k=2*Math.PI*O,T=D+k;w===0||m>=1||m+O>1||(g===0?(e.beginPath(),e.moveTo(u,c),e.arc(u,c,v,D,T),e.closePath()):(e.beginPath(),e.arc(u,c,v,D,T),e.arc(u,c,g,T,D,!0),e.closePath()),this.colorFillStyle(e,S[0],S[1],S[2],E),e.fill(),m+=O)}};Ko.drawStripe=function(e,t,r,n){t=t[0],n=n||t.position();var a=t.cy().style(),i=n.x,o=n.y,l=t.width(),u=t.height(),c=0,d=this.usePaths();e.save();var h=t.pstyle("stripe-direction").value,v=t.pstyle("stripe-size");switch(h){case"vertical":break;case"righward":e.rotate(-Math.PI/2);break}var g=l,m=u;v.units==="%"?(g=g*v.pfValue,m=m*v.pfValue):v.pfValue!==void 0&&(g=v.pfValue,m=v.pfValue),d&&(i=0,o=0),o-=g/2,i-=m/2;for(var b=1;b<=a.stripeBackgroundN;b++){var x=t.pstyle("stripe-"+b+"-background-size").value,w=t.pstyle("stripe-"+b+"-background-color").value,S=t.pstyle("stripe-"+b+"-background-opacity").value*r,E=x/100;E+c>1&&(E=1-c),!(x===0||c>=1||c+E>1)&&(e.beginPath(),e.rect(i,o+m*c,g,m*E),e.closePath(),this.colorFillStyle(e,w[0],w[1],w[2],S),e.fill(),c+=E)}e.restore()};var bn={},zre=100;bn.getPixelRatio=function(){var e=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var t=this.cy.window(),r=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/r};bn.paintCache=function(e){for(var t=this.paintCaches=this.paintCaches||[],r=!0,n,a=0;a<t.length;a++)if(n=t[a],n.context===e){r=!1;break}return r&&(n={context:e},t.push(n)),n};bn.createGradientStyleFor=function(e,t,r,n,a){var i,o=this.usePaths(),l=r.pstyle(t+"-gradient-stop-colors").value,u=r.pstyle(t+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var c=r.sourceEndpoint(),d=r.targetEndpoint(),h=r.midpoint(),v=Vs(c,h),g=Vs(d,h);i=e.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(v,g))}else{var m=o?{x:0,y:0}:r.position(),b=r.paddedWidth(),x=r.paddedHeight();i=e.createRadialGradient(m.x,m.y,0,m.x,m.y,Math.max(b,x))}else if(r.isEdge()){var w=r.sourceEndpoint(),S=r.targetEndpoint();i=e.createLinearGradient(w.x,w.y,S.x,S.y)}else{var E=o?{x:0,y:0}:r.position(),O=r.paddedWidth(),D=r.paddedHeight(),k=O/2,T=D/2,_=r.pstyle("background-gradient-direction").value;switch(_){case"to-bottom":i=e.createLinearGradient(E.x,E.y-T,E.x,E.y+T);break;case"to-top":i=e.createLinearGradient(E.x,E.y+T,E.x,E.y-T);break;case"to-left":i=e.createLinearGradient(E.x+k,E.y,E.x-k,E.y);break;case"to-right":i=e.createLinearGradient(E.x-k,E.y,E.x+k,E.y);break;case"to-bottom-right":case"to-right-bottom":i=e.createLinearGradient(E.x-k,E.y-T,E.x+k,E.y+T);break;case"to-top-right":case"to-right-top":i=e.createLinearGradient(E.x-k,E.y+T,E.x+k,E.y-T);break;case"to-bottom-left":case"to-left-bottom":i=e.createLinearGradient(E.x+k,E.y-T,E.x-k,E.y+T);break;case"to-top-left":case"to-left-top":i=e.createLinearGradient(E.x+k,E.y+T,E.x-k,E.y-T);break}}if(!i)return null;for(var M=u.length===l.length,R=l.length,P=0;P<R;P++)i.addColorStop(M?u[P]:P/(R-1),"rgba("+l[P][0]+","+l[P][1]+","+l[P][2]+","+a+")");return i};bn.gradientFillStyle=function(e,t,r,n){var a=this.createGradientStyleFor(e,"background",t,r,n);if(!a)return null;e.fillStyle=a};bn.colorFillStyle=function(e,t,r,n,a){e.fillStyle="rgba("+t+","+r+","+n+","+a+")"};bn.eleFillStyle=function(e,t,r){var n=t.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(e,t,n,r);else{var a=t.pstyle("background-color").value;this.colorFillStyle(e,a[0],a[1],a[2],r)}};bn.gradientStrokeStyle=function(e,t,r,n){var a=this.createGradientStyleFor(e,"line",t,r,n);if(!a)return null;e.strokeStyle=a};bn.colorStrokeStyle=function(e,t,r,n,a){e.strokeStyle="rgba("+t+","+r+","+n+","+a+")"};bn.eleStrokeStyle=function(e,t,r){var n=t.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(e,t,n,r);else{var a=t.pstyle("line-color").value;this.colorStrokeStyle(e,a[0],a[1],a[2],r)}};bn.matchCanvasSize=function(e){var t=this,r=t.data,n=t.findContainerClientCoords(),a=n[2],i=n[3],o=t.getPixelRatio(),l=t.motionBlurPxRatio;(e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]||e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG])&&(o=l);var u=a*o,c=i*o,d;if(!(u===t.canvasWidth&&c===t.canvasHeight)){t.fontCaches=null;var h=r.canvasContainer;h.style.width=a+"px",h.style.height=i+"px";for(var v=0;v<t.CANVAS_LAYERS;v++)d=r.canvases[v],d.width=u,d.height=c,d.style.width=a+"px",d.style.height=i+"px";for(var v=0;v<t.BUFFER_COUNT;v++)d=r.bufferCanvases[v],d.width=u,d.height=c,d.style.width=a+"px",d.style.height=i+"px";t.textureMult=1,o<=1&&(d=r.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,d.width=u*t.textureMult,d.height=c*t.textureMult),t.canvasWidth=u,t.canvasHeight=c,t.pixelRatio=o}};bn.renderTo=function(e,t,r,n){this.render({forcedContext:e,forcedZoom:t,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};bn.clearCanvas=function(){var e=this,t=e.data;function r(n){n.clearRect(0,0,e.canvasWidth,e.canvasHeight)}r(t.contexts[e.NODE]),r(t.contexts[e.DRAG])};bn.render=function(e){var t=this;e=e||BI();var r=t.cy,n=e.forcedContext,a=e.drawAllLayers,i=e.drawOnlyNodeLayer,o=e.forcedZoom,l=e.forcedPan,u=e.forcedPxRatio===void 0?this.getPixelRatio():e.forcedPxRatio,c=t.data,d=c.canvasNeedsRedraw,h=t.textureOnViewport&&!n&&(t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming),v=e.motionBlur!==void 0?e.motionBlur:t.motionBlur,g=t.motionBlurPxRatio,m=r.hasCompoundNodes(),b=t.hoverData.draggingEles,x=!!(t.hoverData.selecting||t.touchData.selecting);v=v&&!n&&t.motionBlurEnabled&&!x;var w=v;n||(t.prevPxRatio!==u&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container),t.redrawHint("eles",!0),t.redrawHint("drag",!0)),t.prevPxRatio=u),!n&&t.motionBlurTimeout&&clearTimeout(t.motionBlurTimeout),v&&(t.mbFrames==null&&(t.mbFrames=0),t.mbFrames++,t.mbFrames<3&&(w=!1),t.mbFrames>t.minMbLowQualFrames&&(t.motionBlurPxRatio=t.mbPxRBlurry)),t.clearingMotionBlur&&(t.motionBlurPxRatio=1),t.textureDrawLastFrame&&!h&&(d[t.NODE]=!0,d[t.SELECT_BOX]=!0);var S=r.style(),E=r.zoom(),O=o!==void 0?o:E,D=r.pan(),k={x:D.x,y:D.y},T={zoom:E,pan:{x:D.x,y:D.y}},_=t.prevViewport,M=_===void 0||T.zoom!==_.zoom||T.pan.x!==_.pan.x||T.pan.y!==_.pan.y;!M&&!(b&&!m)&&(t.motionBlurPxRatio=1),l&&(k=l),O*=u,k.x*=u,k.y*=u;var R=t.getCachedZSortedEles();function P(Z,re,J,W,se){var he=Z.globalCompositeOperation;Z.globalCompositeOperation="destination-out",t.colorFillStyle(Z,255,255,255,t.motionBlurTransparency),Z.fillRect(re,J,W,se),Z.globalCompositeOperation=he}function L(Z,re){var J,W,se,he;!t.clearingMotionBlur&&(Z===c.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]||Z===c.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG])?(J={x:D.x*g,y:D.y*g},W=E*g,se=t.canvasWidth*g,he=t.canvasHeight*g):(J=k,W=O,se=t.canvasWidth,he=t.canvasHeight),Z.setTransform(1,0,0,1,0,0),re==="motionBlur"?P(Z,0,0,se,he):!n&&(re===void 0||re)&&Z.clearRect(0,0,se,he),a||(Z.translate(J.x,J.y),Z.scale(W,W)),l&&Z.translate(l.x,l.y),o&&Z.scale(o,o)}if(h||(t.textureDrawLastFrame=!1),h){if(t.textureDrawLastFrame=!0,!t.textureCache){t.textureCache={},t.textureCache.bb=r.mutableElements().boundingBox(),t.textureCache.texture=t.data.bufferCanvases[t.TEXTURE_BUFFER];var N=t.data.bufferContexts[t.TEXTURE_BUFFER];N.setTransform(1,0,0,1,0,0),N.clearRect(0,0,t.canvasWidth*t.textureMult,t.canvasHeight*t.textureMult),t.render({forcedContext:N,drawOnlyNodeLayer:!0,forcedPxRatio:u*t.textureMult});var T=t.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:t.canvasWidth,height:t.canvasHeight};T.mpan={x:(0-T.pan.x)/T.zoom,y:(0-T.pan.y)/T.zoom}}d[t.DRAG]=!1,d[t.NODE]=!1;var B=c.contexts[t.NODE],G=t.textureCache.texture,T=t.textureCache.viewport;B.setTransform(1,0,0,1,0,0),v?P(B,0,0,T.width,T.height):B.clearRect(0,0,T.width,T.height);var I=S.core("outside-texture-bg-color").value,z=S.core("outside-texture-bg-opacity").value;t.colorFillStyle(B,I[0],I[1],I[2],z),B.fillRect(0,0,T.width,T.height);var E=r.zoom();L(B,!1),B.clearRect(T.mpan.x,T.mpan.y,T.width/T.zoom/u,T.height/T.zoom/u),B.drawImage(G,T.mpan.x,T.mpan.y,T.width/T.zoom/u,T.height/T.zoom/u)}else t.textureOnViewport&&!n&&(t.textureCache=null);var q=r.extent(),H=t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming||t.hoverData.draggingEles||t.cy.animated(),X=t.hideEdgesOnViewport&&H,U=[];if(U[t.NODE]=!d[t.NODE]&&v&&!t.clearedForMotionBlur[t.NODE]||t.clearingMotionBlur,U[t.NODE]&&(t.clearedForMotionBlur[t.NODE]=!0),U[t.DRAG]=!d[t.DRAG]&&v&&!t.clearedForMotionBlur[t.DRAG]||t.clearingMotionBlur,U[t.DRAG]&&(t.clearedForMotionBlur[t.DRAG]=!0),d[t.NODE]||a||i||U[t.NODE]){var V=v&&!U[t.NODE]&&g!==1,B=n||(V?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]:c.contexts[t.NODE]),Q=v&&!V?"motionBlur":void 0;L(B,Q),X?t.drawCachedNodes(B,R.nondrag,u,q):t.drawLayeredElements(B,R.nondrag,u,q),t.debug&&t.drawDebugPoints(B,R.nondrag),!a&&!v&&(d[t.NODE]=!1)}if(!i&&(d[t.DRAG]||a||U[t.DRAG])){var V=v&&!U[t.DRAG]&&g!==1,B=n||(V?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG]:c.contexts[t.DRAG]);L(B,v&&!V?"motionBlur":void 0),X?t.drawCachedNodes(B,R.drag,u,q):t.drawCachedElements(B,R.drag,u,q),t.debug&&t.drawDebugPoints(B,R.drag),!a&&!v&&(d[t.DRAG]=!1)}if(this.drawSelectionRectangle(e,L),v&&g!==1){var ee=c.contexts[t.NODE],te=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE],ie=c.contexts[t.DRAG],ue=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG],xe=function(re,J,W){re.setTransform(1,0,0,1,0,0),W||!w?re.clearRect(0,0,t.canvasWidth,t.canvasHeight):P(re,0,0,t.canvasWidth,t.canvasHeight);var se=g;re.drawImage(J,0,0,t.canvasWidth*se,t.canvasHeight*se,0,0,t.canvasWidth,t.canvasHeight)};(d[t.NODE]||U[t.NODE])&&(xe(ee,te,U[t.NODE]),d[t.NODE]=!1),(d[t.DRAG]||U[t.DRAG])&&(xe(ie,ue,U[t.DRAG]),d[t.DRAG]=!1)}t.prevViewport=T,t.clearingMotionBlur&&(t.clearingMotionBlur=!1,t.motionBlurCleared=!0,t.motionBlur=!0),v&&(t.motionBlurTimeout=setTimeout(function(){t.motionBlurTimeout=null,t.clearedForMotionBlur[t.NODE]=!1,t.clearedForMotionBlur[t.DRAG]=!1,t.motionBlur=!1,t.clearingMotionBlur=!h,t.mbFrames=0,d[t.NODE]=!0,d[t.DRAG]=!0,t.redraw()},zre)),n||r.emit("render")};var Lc;bn.drawSelectionRectangle=function(e,t){var r=this,n=r.cy,a=r.data,i=n.style(),o=e.drawOnlyNodeLayer,l=e.drawAllLayers,u=a.canvasNeedsRedraw,c=e.forcedContext;if(r.showFps||!o&&u[r.SELECT_BOX]&&!l){var d=c||a.contexts[r.SELECT_BOX];if(t(d),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var h=r.cy.zoom(),v=i.core("selection-box-border-width").value/h;d.lineWidth=v,d.fillStyle="rgba("+i.core("selection-box-color").value[0]+","+i.core("selection-box-color").value[1]+","+i.core("selection-box-color").value[2]+","+i.core("selection-box-opacity").value+")",d.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),v>0&&(d.strokeStyle="rgba("+i.core("selection-box-border-color").value[0]+","+i.core("selection-box-border-color").value[1]+","+i.core("selection-box-border-color").value[2]+","+i.core("selection-box-opacity").value+")",d.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(a.bgActivePosistion&&!r.hoverData.selecting){var h=r.cy.zoom(),g=a.bgActivePosistion;d.fillStyle="rgba("+i.core("active-bg-color").value[0]+","+i.core("active-bg-color").value[1]+","+i.core("active-bg-color").value[2]+","+i.core("active-bg-opacity").value+")",d.beginPath(),d.arc(g.x,g.y,i.core("active-bg-size").pfValue/h,0,2*Math.PI),d.fill()}var m=r.lastRedrawTime;if(r.showFps&&m){m=Math.round(m);var b=Math.round(1e3/m),x="1 frame = "+m+" ms = "+b+" fps";if(d.setTransform(1,0,0,1,0,0),d.fillStyle="rgba(255, 0, 0, 0.75)",d.strokeStyle="rgba(255, 0, 0, 0.75)",d.font="30px Arial",!Lc){var w=d.measureText(x);Lc=w.actualBoundingBoxAscent}d.fillText(x,0,Lc);var S=60;d.strokeRect(0,Lc+10,250,20),d.fillRect(0,Lc+10,250*Math.min(b/S,1),20)}l||(u[r.SELECT_BOX]=!1)}};function jk(e,t,r){var n=e.createShader(t);if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(n));return n}function jre(e,t,r){var n=jk(e,e.VERTEX_SHADER,t),a=jk(e,e.FRAGMENT_SHADER,r),i=e.createProgram();if(e.attachShader(i,n),e.attachShader(i,a),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS))throw new Error("Could not initialize shaders");return i}function Gre(e,t,r){r===void 0&&(r=t);var n=e.makeOffscreenCanvas(t,r),a=n.context=n.getContext("2d");return n.clear=function(){return a.clearRect(0,0,n.width,n.height)},n.clear(),n}function jE(e){var t=e.pixelRatio,r=e.cy.zoom(),n=e.cy.pan();return{zoom:r*t,pan:{x:n.x*t,y:n.y*t}}}function Ure(e){var t=e.pixelRatio,r=e.cy.zoom();return r*t}function Fre(e,t,r,n,a){var i=n*r+t.x,o=a*r+t.y;return o=Math.round(e.canvasHeight-o),[i,o]}function qre(e){return e.pstyle("background-fill").value!=="solid"||e.pstyle("background-image").strValue!=="none"?!1:e.pstyle("border-width").value===0||e.pstyle("border-opacity").value===0?!0:e.pstyle("border-style").value==="solid"}function Hre(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function ms(e,t,r){var n=e[0]/255,a=e[1]/255,i=e[2]/255,o=t,l=r||new Array(4);return l[0]=n*o,l[1]=a*o,l[2]=i*o,l[3]=o,l}function Fl(e,t){var r=t||new Array(4);return r[0]=(e>>0&255)/255,r[1]=(e>>8&255)/255,r[2]=(e>>16&255)/255,r[3]=(e>>24&255)/255,r}function Vre(e){return e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24)}function Yre(e,t){var r=e.createTexture();return r.buffer=function(n){e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},r.deleteTexture=function(){e.deleteTexture(r)},r}function Kz(e,t){switch(t){case"float":return[1,e.FLOAT,4];case"vec2":return[2,e.FLOAT,4];case"vec3":return[3,e.FLOAT,4];case"vec4":return[4,e.FLOAT,4];case"int":return[1,e.INT,4];case"ivec2":return[2,e.INT,4]}}function Wz(e,t,r){switch(t){case e.FLOAT:return new Float32Array(r);case e.INT:return new Int32Array(r)}}function $re(e,t,r,n,a,i){switch(t){case e.FLOAT:return new Float32Array(r.buffer,i*n,a);case e.INT:return new Int32Array(r.buffer,i*n,a)}}function Xre(e,t,r,n){var a=Kz(e,t),i=gr(a,2),o=i[0],l=i[1],u=Wz(e,l,n),c=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,c),e.bufferData(e.ARRAY_BUFFER,u,e.STATIC_DRAW),l===e.FLOAT?e.vertexAttribPointer(r,o,l,!1,0,0):l===e.INT&&e.vertexAttribIPointer(r,o,l,0,0),e.enableVertexAttribArray(r),e.bindBuffer(e.ARRAY_BUFFER,null),c}function qa(e,t,r,n){var a=Kz(e,r),i=gr(a,3),o=i[0],l=i[1],u=i[2],c=Wz(e,l,t*o),d=o*u,h=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,h),e.bufferData(e.ARRAY_BUFFER,t*d,e.DYNAMIC_DRAW),e.enableVertexAttribArray(n),l===e.FLOAT?e.vertexAttribPointer(n,o,l,!1,d,0):l===e.INT&&e.vertexAttribIPointer(n,o,l,d,0),e.vertexAttribDivisor(n,1),e.bindBuffer(e.ARRAY_BUFFER,null);for(var v=new Array(t),g=0;g<t;g++)v[g]=$re(e,l,c,d,o,g);return h.dataArray=c,h.stride=d,h.size=o,h.getView=function(m){return v[m]},h.setPoint=function(m,b,x){var w=v[m];w[0]=b,w[1]=x},h.bufferSubData=function(m){e.bindBuffer(e.ARRAY_BUFFER,h),m?e.bufferSubData(e.ARRAY_BUFFER,0,c,0,m*o):e.bufferSubData(e.ARRAY_BUFFER,0,c)},h}function Kre(e,t,r){for(var n=9,a=new Float32Array(t*n),i=new Array(t),o=0;o<t;o++){var l=o*n*4;i[o]=new Float32Array(a.buffer,l,n)}var u=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,a.byteLength,e.DYNAMIC_DRAW);for(var c=0;c<3;c++){var d=r+c;e.enableVertexAttribArray(d),e.vertexAttribPointer(d,3,e.FLOAT,!1,36,c*12),e.vertexAttribDivisor(d,1)}return e.bindBuffer(e.ARRAY_BUFFER,null),u.getMatrixView=function(h){return i[h]},u.setData=function(h,v){i[v].set(h,0)},u.bufferSubData=function(){e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferSubData(e.ARRAY_BUFFER,0,a)},u}function Wre(e){var t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.bindFramebuffer(e.FRAMEBUFFER,null),t.setFramebufferAttachmentSizes=function(n,a){e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n,a,0,e.RGBA,e.UNSIGNED_BYTE,null)},t}var Gk=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function h1(){var e=new Gk(9);return Gk!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function Uk(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Zre(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],l=t[4],u=t[5],c=t[6],d=t[7],h=t[8],v=r[0],g=r[1],m=r[2],b=r[3],x=r[4],w=r[5],S=r[6],E=r[7],O=r[8];return e[0]=v*n+g*o+m*c,e[1]=v*a+g*l+m*d,e[2]=v*i+g*u+m*h,e[3]=b*n+x*o+w*c,e[4]=b*a+x*l+w*d,e[5]=b*i+x*u+w*h,e[6]=S*n+E*o+O*c,e[7]=S*a+E*l+O*d,e[8]=S*i+E*u+O*h,e}function Zh(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],l=t[4],u=t[5],c=t[6],d=t[7],h=t[8],v=r[0],g=r[1];return e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=l,e[5]=u,e[6]=v*n+g*o+c,e[7]=v*a+g*l+d,e[8]=v*i+g*u+h,e}function Fk(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],l=t[4],u=t[5],c=t[6],d=t[7],h=t[8],v=Math.sin(r),g=Math.cos(r);return e[0]=g*n+v*o,e[1]=g*a+v*l,e[2]=g*i+v*u,e[3]=g*o-v*n,e[4]=g*l-v*a,e[5]=g*u-v*i,e[6]=c,e[7]=d,e[8]=h,e}function Dx(e,t,r){var n=r[0],a=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=a*t[3],e[4]=a*t[4],e[5]=a*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Qre(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}var Jre=(function(){function e(t,r,n,a){Yo(this,e),this.debugID=Math.floor(Math.random()*1e4),this.r=t,this.texSize=r,this.texRows=n,this.texHeight=Math.floor(r/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=a(t,r,r),this.scratch=a(t,r,this.texHeight,"scratch")}return $o(e,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(r){var n=r.w,a=r.h,i=this.texHeight,o=this.texSize,l=i/a,u=n*l,c=a*l;return u>o&&(l=o/n,u=n*l,c=a*l),{scale:l,texW:u,texH:c}}},{key:"draw",value:function(r,n,a){var i=this;if(this.locked)throw new Error("can't draw, atlas is locked");var o=this.texSize,l=this.texRows,u=this.texHeight,c=this.getScale(n),d=c.scale,h=c.texW,v=c.texH,g=function(E,O){if(a&&O){var D=O.context,k=E.x,T=E.row,_=k,M=u*T;D.save(),D.translate(_,M),D.scale(d,d),a(D,n),D.restore()}},m=[null,null],b=function(){g(i.freePointer,i.canvas),m[0]={x:i.freePointer.x,y:i.freePointer.row*u,w:h,h:v},m[1]={x:i.freePointer.x+h,y:i.freePointer.row*u,w:0,h:v},i.freePointer.x+=h,i.freePointer.x==o&&(i.freePointer.x=0,i.freePointer.row++)},x=function(){var E=i.scratch,O=i.canvas;E.clear(),g({x:0,row:0},E);var D=o-i.freePointer.x,k=h-D,T=u;{var _=i.freePointer.x,M=i.freePointer.row*u,R=D;O.context.drawImage(E,0,0,R,T,_,M,R,T),m[0]={x:_,y:M,w:R,h:v}}{var P=D,L=(i.freePointer.row+1)*u,N=k;O&&O.context.drawImage(E,P,0,N,T,0,L,N,T),m[1]={x:0,y:L,w:N,h:v}}i.freePointer.x=k,i.freePointer.row++},w=function(){i.freePointer.x=0,i.freePointer.row++};if(this.freePointer.x+h<=o)b();else{if(this.freePointer.row>=l-1)return!1;this.freePointer.x===o?(w(),b()):this.enableWrapping?x():(w(),b())}return this.keyToLocation.set(r,m),this.needsBuffer=!0,m}},{key:"getOffsets",value:function(r){return this.keyToLocation.get(r)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(r){if(this.locked)return!1;var n=this.texSize,a=this.texRows,i=this.getScale(r),o=i.texW;return this.freePointer.x+o>n?this.freePointer.row<a-1:!0}},{key:"bufferIfNeeded",value:function(r){this.texture||(this.texture=Yre(r,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])})(),ene=(function(){function e(t,r,n,a){Yo(this,e),this.r=t,this.texSize=r,this.texRows=n,this.createTextureCanvas=a,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return $o(e,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var r=this.r,n=this.texSize,a=this.texRows,i=this.createTextureCanvas;return new Jre(r,n,a,i)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var r=this.r,n=this.texSize,a=this.texRows,i=this.createTextureCanvas,o=Math.floor(n/a);this.scratch=i(r,n,o,"scratch")}return this.scratch}},{key:"draw",value:function(r,n,a){var i=this.styleKeyToAtlas.get(r);return i||(i=this.atlases[this.atlases.length-1],(!i||!i.canFit(n))&&(i&&i.lock(),i=this._createAtlas(),this.atlases.push(i)),i.draw(r,n,a),this.styleKeyToAtlas.set(r,i)),i}},{key:"getAtlas",value:function(r){return this.styleKeyToAtlas.get(r)}},{key:"hasAtlas",value:function(r){return this.styleKeyToAtlas.has(r)}},{key:"markKeyForGC",value:function(r){this.markedKeys.add(r)}},{key:"gc",value:function(){var r=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var a=[],i=new Map,o=null,l=Nn(this.atlases),u;try{var c=function(){var h=u.value,v=h.getKeys(),g=tne(n,v);if(g.size===0)return a.push(h),v.forEach(function(D){return i.set(D,h)}),1;o||(o=r._createAtlas(),a.push(o));var m=Nn(v),b;try{for(m.s();!(b=m.n()).done;){var x=b.value;if(!g.has(x)){var w=h.getOffsets(x),S=gr(w,2),E=S[0],O=S[1];o.canFit({w:E.w+O.w,h:E.h})||(o.lock(),o=r._createAtlas(),a.push(o)),h.canvas&&(r._copyTextureToNewAtlas(x,h,o),i.set(x,o))}}}catch(D){m.e(D)}finally{m.f()}h.dispose()};for(l.s();!(u=l.n()).done;)c()}catch(d){l.e(d)}finally{l.f()}this.atlases=a,this.styleKeyToAtlas=i,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(r,n,a){var i=n.getOffsets(r),o=gr(i,2),l=o[0],u=o[1];if(u.w===0)a.draw(r,l,function(v){v.drawImage(n.canvas,l.x,l.y,l.w,l.h,0,0,l.w,l.h)});else{var c=this._getScratchCanvas();c.clear(),c.context.drawImage(n.canvas,l.x,l.y,l.w,l.h,0,0,l.w,l.h),c.context.drawImage(n.canvas,u.x,u.y,u.w,u.h,l.w,0,u.w,u.h);var d=l.w+u.w,h=l.h;a.draw(r,{w:d,h},function(v){v.drawImage(c,0,0,d,h,0,0,d,h)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])})();function tne(e,t){return e.intersection?e.intersection(t):new Set(Gv(e).filter(function(r){return t.has(r)}))}var rne=(function(){function e(t,r){Yo(this,e),this.r=t,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return $o(e,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(r,n){var a=this.globalOptions,i=a.webglTexSize,o=a.createTextureCanvas,l=n.texRows,u=this._cacheScratchCanvas(o),c=new ene(this.r,i,l,u);this.collections.set(r,c)}},{key:"addRenderType",value:function(r,n){var a=n.collection;if(!this.collections.has(a))throw new Error("invalid atlas collection name '".concat(a,"'"));var i=this.collections.get(a),o=Xe({type:r,atlasCollection:i},n);this.renderTypes.set(r,o)}},{key:"getRenderTypeOpts",value:function(r){return this.renderTypes.get(r)}},{key:"getAtlasCollection",value:function(r){return this.collections.get(r)}},{key:"_cacheScratchCanvas",value:function(r){var n=-1,a=-1,i=null;return function(o,l,u,c){return c?((!i||l!=n||u!=a)&&(n=l,a=u,i=r(o,l,u)),i):r(o,l,u)}}},{key:"_key",value:function(r,n){return"".concat(r,"-").concat(n)}},{key:"invalidate",value:function(r){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.forceRedraw,o=i===void 0?!1:i,l=a.filterEle,u=l===void 0?function(){return!0}:l,c=a.filterType,d=c===void 0?function(){return!0}:c,h=!1,v=!1,g=Nn(r),m;try{for(g.s();!(m=g.n()).done;){var b=m.value;if(u(b)){var x=Nn(this.renderTypes.values()),w;try{var S=function(){var O=w.value,D=O.type;if(d(D)){var k=n.collections.get(O.collection),T=O.getKey(b),_=Array.isArray(T)?T:[T];if(o)_.forEach(function(L){return k.markKeyForGC(L)}),v=!0;else{var M=O.getID?O.getID(b):b.id(),R=n._key(D,M),P=n.typeAndIdToKey.get(R);P!==void 0&&!Hre(_,P)&&(h=!0,n.typeAndIdToKey.delete(R),P.forEach(function(L){return k.markKeyForGC(L)}))}}};for(x.s();!(w=x.n()).done;)S()}catch(E){x.e(E)}finally{x.f()}}}}catch(E){g.e(E)}finally{g.f()}return v&&(this.gc(),h=!1),h}},{key:"gc",value:function(){var r=Nn(this.collections.values()),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;a.gc()}}catch(i){r.e(i)}finally{r.f()}}},{key:"getOrCreateAtlas",value:function(r,n,a,i){var o=this.renderTypes.get(n),l=this.collections.get(o.collection),u=!1,c=l.draw(i,a,function(v){o.drawClipped?(v.save(),v.beginPath(),v.rect(0,0,a.w,a.h),v.clip(),o.drawElement(v,r,a,!0,!0),v.restore()):o.drawElement(v,r,a,!0,!0),u=!0});if(u){var d=o.getID?o.getID(r):r.id(),h=this._key(n,d);this.typeAndIdToKey.has(h)?this.typeAndIdToKey.get(h).push(i):this.typeAndIdToKey.set(h,[i])}return c}},{key:"getAtlasInfo",value:function(r,n){var a=this,i=this.renderTypes.get(n),o=i.getKey(r),l=Array.isArray(o)?o:[o];return l.map(function(u){var c=i.getBoundingBox(r,u),d=a.getOrCreateAtlas(r,n,c,u),h=d.getOffsets(u),v=gr(h,2),g=v[0],m=v[1];return{atlas:d,tex:g,tex1:g,tex2:m,bb:c}})}},{key:"getDebugInfo",value:function(){var r=[],n=Nn(this.collections),a;try{for(n.s();!(a=n.n()).done;){var i=gr(a.value,2),o=i[0],l=i[1],u=l.getCounts(),c=u.keyCount,d=u.atlasCount;r.push({type:o,keyCount:c,atlasCount:d})}}catch(h){n.e(h)}finally{n.f()}return r}}])})(),nne=(function(){function e(t){Yo(this,e),this.globalOptions=t,this.atlasSize=t.webglTexSize,this.maxAtlasesPerBatch=t.webglTexPerBatch,this.batchAtlases=[]}return $o(e,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(r,n){return n})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(r){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(r):!0}},{key:"getAtlasIndexForBatch",value:function(r){var n=this.batchAtlases.indexOf(r);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(r),n=this.batchAtlases.length-1}return n}}])})(),ane=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,ine=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,one=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,sne=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,Kc={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},Qv={IGNORE:1,USE_BB:2},v1=0,qk=1,Hk=2,p1=3,ql=4,Lh=5,Bc=6,Ic=7,lne=(function(){function e(t,r,n){Yo(this,e),this.r=t,this.gl=r,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=Gre,this.atlasManager=new rne(t,n),this.batchManager=new nne(n),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(Kc.SCREEN),this.pickingProgram=this._createShaderProgram(Kc.PICKING),this.vao=this._createVAO()}return $o(e,[{key:"addAtlasCollection",value:function(r,n){this.atlasManager.addAtlasCollection(r,n)}},{key:"addTextureAtlasRenderType",value:function(r,n){this.atlasManager.addRenderType(r,n)}},{key:"addSimpleShapeRenderType",value:function(r,n){this.simpleShapeOptions.set(r,n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.type,i=this.atlasManager;return a?i.invalidate(r,{filterType:function(l){return l===a},forceRedraw:!0}):i.invalidate(r)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(r){var n=this.gl,a=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(v1,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(ql," || aVertType == ").concat(Ic,` 
             || aVertType == `).concat(Lh," || aVertType == ").concat(Bc,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(qk,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(Hk,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(p1,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),i=this.batchManager.getIndexArray(),o=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(i.map(function(c){return"uniform sampler2D uTexture".concat(c,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(ane,`
      `).concat(ine,`
      `).concat(one,`
      `).concat(sne,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(v1,`) {
          // look up the texel from the texture unit
          `).concat(i.map(function(c){return"if(vAtlasId == ".concat(c,") outColor = texture(uTexture").concat(c,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(p1,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(ql,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(ql," || vVertType == ").concat(Ic,` 
          || vVertType == `).concat(Lh," || vVertType == ").concat(Bc,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(ql,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(Ic,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(Ic,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(r.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),l=jre(n,a,o);l.aPosition=n.getAttribLocation(l,"aPosition"),l.aIndex=n.getAttribLocation(l,"aIndex"),l.aVertType=n.getAttribLocation(l,"aVertType"),l.aTransform=n.getAttribLocation(l,"aTransform"),l.aAtlasId=n.getAttribLocation(l,"aAtlasId"),l.aTex=n.getAttribLocation(l,"aTex"),l.aPointAPointB=n.getAttribLocation(l,"aPointAPointB"),l.aPointCPointD=n.getAttribLocation(l,"aPointCPointD"),l.aLineWidth=n.getAttribLocation(l,"aLineWidth"),l.aColor=n.getAttribLocation(l,"aColor"),l.aCornerRadius=n.getAttribLocation(l,"aCornerRadius"),l.aBorderColor=n.getAttribLocation(l,"aBorderColor"),l.uPanZoomMatrix=n.getUniformLocation(l,"uPanZoomMatrix"),l.uAtlasSize=n.getUniformLocation(l,"uAtlasSize"),l.uBGColor=n.getUniformLocation(l,"uBGColor"),l.uZoom=n.getUniformLocation(l,"uZoom"),l.uTextures=[];for(var u=0;u<this.batchManager.getMaxAtlasesPerBatch();u++)l.uTextures.push(n.getUniformLocation(l,"uTexture".concat(u)));return l}},{key:"_createVAO",value:function(){var r=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=r.length/2;var n=this.maxInstances,a=this.gl,i=this.program,o=a.createVertexArray();return a.bindVertexArray(o),Xre(a,"vec2",i.aPosition,r),this.transformBuffer=Kre(a,n,i.aTransform),this.indexBuffer=qa(a,n,"vec4",i.aIndex),this.vertTypeBuffer=qa(a,n,"int",i.aVertType),this.atlasIdBuffer=qa(a,n,"int",i.aAtlasId),this.texBuffer=qa(a,n,"vec4",i.aTex),this.pointAPointBBuffer=qa(a,n,"vec4",i.aPointAPointB),this.pointCPointDBuffer=qa(a,n,"vec4",i.aPointCPointD),this.lineWidthBuffer=qa(a,n,"vec2",i.aLineWidth),this.colorBuffer=qa(a,n,"vec4",i.aColor),this.cornerRadiusBuffer=qa(a,n,"vec4",i.aCornerRadius),this.borderColorBuffer=qa(a,n,"vec4",i.aBorderColor),a.bindVertexArray(null),o}},{key:"buffers",get:function(){var r=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return _o(n,"Buffer")}).map(function(n){return r[n]})),this._buffers}},{key:"startFrame",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kc.SCREEN;this.panZoomMatrix=r,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(r,n){return r.visible()?n&&n.isVisible?n.isVisible(r):!0:!1}},{key:"drawTexture",value:function(r,n,a){var i=this.atlasManager,o=this.batchManager,l=i.getRenderTypeOpts(a);if(this._isVisible(r,l)&&!(r.isEdge()&&!this._isValidEdge(r))){if(this.renderTarget.picking&&l.getTexPickingMode){var u=l.getTexPickingMode(r);if(u===Qv.IGNORE)return;if(u==Qv.USE_BB){this.drawPickingRectangle(r,n,a);return}}var c=i.getAtlasInfo(r,a),d=Nn(c),h;try{for(d.s();!(h=d.n()).done;){var v=h.value,g=v.atlas,m=v.tex1,b=v.tex2;o.canAddToCurrentBatch(g)||this.endBatch();for(var x=o.getAtlasIndexForBatch(g),w=0,S=[[m,!0],[b,!1]];w<S.length;w++){var E=gr(S[w],2),O=E[0],D=E[1];if(O.w!=0){var k=this.instanceCount;this.vertTypeBuffer.getView(k)[0]=v1;var T=this.indexBuffer.getView(k);Fl(n,T);var _=this.atlasIdBuffer.getView(k);_[0]=x;var M=this.texBuffer.getView(k);M[0]=O.x,M[1]=O.y,M[2]=O.w,M[3]=O.h;var R=this.transformBuffer.getMatrixView(k);this.setTransformMatrix(r,R,l,v,D),this.instanceCount++,D||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(P){d.e(P)}finally{d.f()}}}},{key:"setTransformMatrix",value:function(r,n,a,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=0;if(a.shapeProps&&a.shapeProps.padding&&(l=r.pstyle(a.shapeProps.padding).pfValue),i){var u=i.bb,c=i.tex1,d=i.tex2,h=c.w/(c.w+d.w);o||(h=1-h);var v=this._getAdjustedBB(u,l,o,h);this._applyTransformMatrix(n,v,a,r)}else{var g=a.getBoundingBox(r),m=this._getAdjustedBB(g,l,!0,1);this._applyTransformMatrix(n,m,a,r)}}},{key:"_applyTransformMatrix",value:function(r,n,a,i){var o,l;Uk(r);var u=a.getRotation?a.getRotation(i):0;if(u!==0){var c=a.getRotationPoint(i),d=c.x,h=c.y;Zh(r,r,[d,h]),Fk(r,r,u);var v=a.getRotationOffset(i);o=v.x+(n.xOffset||0),l=v.y+(n.yOffset||0)}else o=n.x1,l=n.y1;Zh(r,r,[o,l]),Dx(r,r,[n.w,n.h])}},{key:"_getAdjustedBB",value:function(r,n,a,i){var o=r.x1,l=r.y1,u=r.w,c=r.h,d=r.yOffset;n&&(o-=n,l-=n,u+=2*n,c+=2*n);var h=0,v=u*i;return a&&i<1?u=v:!a&&i<1&&(h=u-v,o+=h,u=v),{x1:o,y1:l,w:u,h:c,xOffset:h,yOffset:d}}},{key:"drawPickingRectangle",value:function(r,n,a){var i=this.atlasManager.getRenderTypeOpts(a),o=this.instanceCount;this.vertTypeBuffer.getView(o)[0]=ql;var l=this.indexBuffer.getView(o);Fl(n,l);var u=this.colorBuffer.getView(o);ms([0,0,0],1,u);var c=this.transformBuffer.getMatrixView(o);this.setTransformMatrix(r,c,i),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(r,n,a){var i=this.simpleShapeOptions.get(a);if(this._isVisible(r,i)){var o=i.shapeProps,l=this._getVertTypeForShape(r,o.shape);if(l===void 0||i.isSimple&&!i.isSimple(r)){this.drawTexture(r,n,a);return}var u=this.instanceCount;if(this.vertTypeBuffer.getView(u)[0]=l,l===Lh||l===Bc){var c=i.getBoundingBox(r),d=this._getCornerRadius(r,o.radius,c),h=this.cornerRadiusBuffer.getView(u);h[0]=d,h[1]=d,h[2]=d,h[3]=d,l===Bc&&(h[0]=0,h[2]=0)}var v=this.indexBuffer.getView(u);Fl(n,v);var g=r.pstyle(o.color).value,m=r.pstyle(o.opacity).value,b=this.colorBuffer.getView(u);ms(g,m,b);var x=this.lineWidthBuffer.getView(u);if(x[0]=0,x[1]=0,o.border){var w=r.pstyle("border-width").value;if(w>0){var S=r.pstyle("border-color").value,E=r.pstyle("border-opacity").value,O=this.borderColorBuffer.getView(u);ms(S,E,O);var D=r.pstyle("border-position").value;if(D==="inside")x[0]=0,x[1]=-w;else if(D==="outside")x[0]=w,x[1]=0;else{var k=w/2;x[0]=k,x[1]=-k}}}var T=this.transformBuffer.getMatrixView(u);this.setTransformMatrix(r,T,i),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(r,n){var a=r.pstyle(n).value;switch(a){case"rectangle":return ql;case"ellipse":return Ic;case"roundrectangle":case"round-rectangle":return Lh;case"bottom-round-rectangle":return Bc;default:return}}},{key:"_getCornerRadius",value:function(r,n,a){var i=a.w,o=a.h;if(r.pstyle(n).value==="auto")return zo(i,o);var l=r.pstyle(n).pfValue,u=i/2,c=o/2;return Math.min(l,c,u)}},{key:"drawEdgeArrow",value:function(r,n,a){if(r.visible()){var i=r._private.rscratch,o,l,u;if(a==="source"?(o=i.arrowStartX,l=i.arrowStartY,u=i.srcArrowAngle):(o=i.arrowEndX,l=i.arrowEndY,u=i.tgtArrowAngle),!(isNaN(o)||o==null||isNaN(l)||l==null||isNaN(u)||u==null)){var c=r.pstyle(a+"-arrow-shape").value;if(c!=="none"){var d=r.pstyle(a+"-arrow-color").value,h=r.pstyle("opacity").value,v=r.pstyle("line-opacity").value,g=h*v,m=r.pstyle("width").pfValue,b=r.pstyle("arrow-scale").value,x=this.r.getArrowWidth(m,b),w=this.instanceCount,S=this.transformBuffer.getMatrixView(w);Uk(S),Zh(S,S,[o,l]),Dx(S,S,[x,x]),Fk(S,S,u),this.vertTypeBuffer.getView(w)[0]=p1;var E=this.indexBuffer.getView(w);Fl(n,E);var O=this.colorBuffer.getView(w);ms(d,g,O),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(r,n){if(r.visible()){var a=this._getEdgePoints(r);if(a){var i=r.pstyle("opacity").value,o=r.pstyle("line-opacity").value,l=r.pstyle("width").pfValue,u=r.pstyle("line-color").value,c=i*o;if(a.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),a.length==4){var d=this.instanceCount;this.vertTypeBuffer.getView(d)[0]=qk;var h=this.indexBuffer.getView(d);Fl(n,h);var v=this.colorBuffer.getView(d);ms(u,c,v);var g=this.lineWidthBuffer.getView(d);g[0]=l;var m=this.pointAPointBBuffer.getView(d);m[0]=a[0],m[1]=a[1],m[2]=a[2],m[3]=a[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var b=0;b<a.length-2;b+=2){var x=this.instanceCount;this.vertTypeBuffer.getView(x)[0]=Hk;var w=this.indexBuffer.getView(x);Fl(n,w);var S=this.colorBuffer.getView(x);ms(u,c,S);var E=this.lineWidthBuffer.getView(x);E[0]=l;var O=a[b-2],D=a[b-1],k=a[b],T=a[b+1],_=a[b+2],M=a[b+3],R=a[b+4],P=a[b+5];b==0&&(O=2*k-_+.001,D=2*T-M+.001),b==a.length-4&&(R=2*_-k+.001,P=2*M-T+.001);var L=this.pointAPointBBuffer.getView(x);L[0]=O,L[1]=D,L[2]=k,L[3]=T;var N=this.pointCPointDBuffer.getView(x);N[0]=_,N[1]=M,N[2]=R,N[3]=P,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(r){var n=r._private.rscratch;return!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))}},{key:"_getEdgePoints",value:function(r){var n=r._private.rscratch;if(this._isValidEdge(r)){var a=n.allpts;if(a.length==4)return a;var i=this._getNumSegments(r);return this._getCurveSegmentPoints(a,i)}}},{key:"_getNumSegments",value:function(r){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(r,n){if(r.length==4)return r;for(var a=Array((n+1)*2),i=0;i<=n;i++)if(i==0)a[0]=r[0],a[1]=r[1];else if(i==n)a[i*2]=r[r.length-2],a[i*2+1]=r[r.length-1];else{var o=i/n;this._setCurvePoint(r,o,a,i*2)}return a}},{key:"_setCurvePoint",value:function(r,n,a,i){if(r.length<=2)a[i]=r[0],a[i+1]=r[1];else{for(var o=Array(r.length-2),l=0;l<o.length;l+=2){var u=(1-n)*r[l]+n*r[l+2],c=(1-n)*r[l+1]+n*r[l+3];o[l]=u,o[l+1]=c}return this._setCurvePoint(o,n,a,i)}}},{key:"endBatch",value:function(){var r=this.gl,n=this.vao,a=this.vertexCount,i=this.instanceCount;if(i!==0){var o=this.renderTarget.picking?this.pickingProgram:this.program;r.useProgram(o),r.bindVertexArray(n);var l=Nn(this.buffers),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;c.bufferSubData(i)}}catch(m){l.e(m)}finally{l.f()}for(var d=this.batchManager.getAtlases(),h=0;h<d.length;h++)d[h].bufferIfNeeded(r);for(var v=0;v<d.length;v++)r.activeTexture(r.TEXTURE0+v),r.bindTexture(r.TEXTURE_2D,d[v].texture),r.uniform1i(o.uTextures[v],v);r.uniform1f(o.uZoom,Ure(this.r)),r.uniformMatrix3fv(o.uPanZoomMatrix,!1,this.panZoomMatrix),r.uniform1i(o.uAtlasSize,this.batchManager.getAtlasSize());var g=ms(this.bgColor,1);r.uniform4fv(o.uBGColor,g),r.drawArraysInstanced(r.TRIANGLES,0,a,i),r.bindVertexArray(null),r.bindTexture(r.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:i,atlasCount:d.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var r=this.atlasManager.getDebugInfo(),n=r.reduce(function(o,l){return o+l.atlasCount},0),a=this.batchDebugInfo,i=a.reduce(function(o,l){return o+l.count},0);return{atlasInfo:r,totalAtlases:n,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:a.length,batchInfo:a,totalInstances:i}}}])})(),Zz={};Zz.initWebgl=function(e,t){var r=this,n=r.data.contexts[r.WEBGL];e.bgColor=une(r),e.webglTexSize=Math.min(e.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),e.webglTexRows=Math.min(e.webglTexRows,54),e.webglTexRowsNodes=Math.min(e.webglTexRowsNodes,54),e.webglBatchSize=Math.min(e.webglBatchSize,16384),e.webglTexPerBatch=Math.min(e.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=e.webglDebug,r.webglDebugShowAtlases=e.webglDebugShowAtlases,r.pickingFrameBuffer=Wre(n),r.pickingFrameBuffer.needsDraw=!0,r.drawing=new lne(r,n,e);var a=function(h){return function(v){return r.getTextAngle(v,h)}},i=function(h){return function(v){var g=v.pstyle(h);return g&&g.value}},o=function(h){return function(v){return v.pstyle("".concat(h,"-opacity")).value>0}},l=function(h){var v=h.pstyle("text-events").strValue==="yes";return v?Qv.USE_BB:Qv.IGNORE},u=function(h){var v=h.position(),g=v.x,m=v.y,b=h.outerWidth(),x=h.outerHeight();return{w:b,h:x,x1:g-b/2,y1:m-x/2}};r.drawing.addAtlasCollection("node",{texRows:e.webglTexRowsNodes}),r.drawing.addAtlasCollection("label",{texRows:e.webglTexRows}),r.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:t.getStyleKey,getBoundingBox:t.getElementBox,drawElement:t.drawElement}),r.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:u,isSimple:qre,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),r.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:u,isVisible:o("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),r.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:u,isVisible:o("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),r.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:l,getKey:g1(t.getLabelKey,null),getBoundingBox:m1(t.getLabelBox,null),drawClipped:!0,drawElement:t.drawLabel,getRotation:a(null),getRotationPoint:t.getLabelRotationPoint,getRotationOffset:t.getLabelRotationOffset,isVisible:i("label")}),r.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:l,getKey:g1(t.getSourceLabelKey,"source"),getBoundingBox:m1(t.getSourceLabelBox,"source"),drawClipped:!0,drawElement:t.drawSourceLabel,getRotation:a("source"),getRotationPoint:t.getSourceLabelRotationPoint,getRotationOffset:t.getSourceLabelRotationOffset,isVisible:i("source-label")}),r.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:l,getKey:g1(t.getTargetLabelKey,"target"),getBoundingBox:m1(t.getTargetLabelBox,"target"),drawClipped:!0,drawElement:t.drawTargetLabel,getRotation:a("target"),getRotationPoint:t.getTargetLabelRotationPoint,getRotationOffset:t.getTargetLabelRotationOffset,isVisible:i("target-label")});var c=If(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(d,h){var v=!1;h&&h.length>0&&(v|=r.drawing.invalidate(h)),v&&c()}),cne(r)};function une(e){var t=e.cy.container(),r=t&&t.style&&t.style.backgroundColor||"white";return CI(r)}function Qz(e,t){var r=e._private.rscratch;return Mn(r,"labelWrapCachedLines",t)||[]}var g1=function(t,r){return function(n){var a=t(n),i=Qz(n,r);return i.length>1?i.map(function(o,l){return"".concat(a,"_").concat(l)}):a}},m1=function(t,r){return function(n,a){var i=t(n);if(typeof a=="string"){var o=a.indexOf("_");if(o>0){var l=Number(a.substring(o+1)),u=Qz(n,r),c=i.h/u.length,d=c*l,h=i.y1+d;return{x1:i.x1,w:i.w,y1:h,h:c,yOffset:d}}}return i}};function cne(e){{var t=e.render;e.render=function(i){i=i||{};var o=e.cy;e.webgl&&(o.zoom()>Hz?(fne(e),t.call(e,i)):(dne(e),e3(e,i,Kc.SCREEN)))}}{var r=e.matchCanvasSize;e.matchCanvasSize=function(i){r.call(e,i),e.pickingFrameBuffer.setFramebufferAttachmentSizes(e.canvasWidth,e.canvasHeight),e.pickingFrameBuffer.needsDraw=!0}}e.findNearestElements=function(i,o,l,u){return yne(e,i,o)};{var n=e.invalidateCachedZSortedEles;e.invalidateCachedZSortedEles=function(){n.call(e),e.pickingFrameBuffer.needsDraw=!0}}{var a=e.notify;e.notify=function(i,o){a.call(e,i,o),i==="viewport"||i==="bounds"?e.pickingFrameBuffer.needsDraw=!0:i==="background"&&e.drawing.invalidate(o,{type:"node-body"})}}}function fne(e){var t=e.data.contexts[e.WEBGL];t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}function dne(e){var t=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.canvasWidth,e.canvasHeight),n.restore()};t(e.data.contexts[e.NODE]),t(e.data.contexts[e.DRAG])}function hne(e){var t=e.canvasWidth,r=e.canvasHeight,n=jE(e),a=n.pan,i=n.zoom,o=h1();Zh(o,o,[a.x,a.y]),Dx(o,o,[i,i]);var l=h1();Qre(l,t,r);var u=h1();return Zre(u,l,o),u}function Jz(e,t){var r=e.canvasWidth,n=e.canvasHeight,a=jE(e),i=a.pan,o=a.zoom;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,r,n),t.translate(i.x,i.y),t.scale(o,o)}function vne(e,t){e.drawSelectionRectangle(t,function(r){return Jz(e,r)})}function pne(e){var t=e.data.contexts[e.NODE];t.save(),Jz(e,t),t.strokeStyle="rgba(0, 0, 0, 0.3)",t.beginPath(),t.moveTo(-1e3,0),t.lineTo(1e3,0),t.stroke(),t.beginPath(),t.moveTo(0,-1e3),t.lineTo(0,1e3),t.stroke(),t.restore()}function gne(e){var t=function(a,i,o){for(var l=a.atlasManager.getAtlasCollection(i),u=e.data.contexts[e.NODE],c=l.atlases,d=0;d<c.length;d++){var h=c[d],v=h.canvas;if(v){var g=v.width,m=v.height,b=g*d,x=v.height*o,w=.4;u.save(),u.scale(w,w),u.drawImage(v,b,x),u.strokeStyle="black",u.rect(b,x,g,m),u.stroke(),u.restore()}}},r=0;t(e.drawing,"node",r++),t(e.drawing,"label",r++)}function mne(e,t,r,n,a){var i,o,l,u,c=jE(e),d=c.pan,h=c.zoom;{var v=Fre(e,d,h,t,r),g=gr(v,2),m=g[0],b=g[1],x=6;i=m-x/2,o=b-x/2,l=x,u=x}if(l===0||u===0)return[];var w=e.data.contexts[e.WEBGL];w.bindFramebuffer(w.FRAMEBUFFER,e.pickingFrameBuffer),e.pickingFrameBuffer.needsDraw&&(w.viewport(0,0,w.canvas.width,w.canvas.height),e3(e,null,Kc.PICKING),e.pickingFrameBuffer.needsDraw=!1);var S=l*u,E=new Uint8Array(S*4);w.readPixels(i,o,l,u,w.RGBA,w.UNSIGNED_BYTE,E),w.bindFramebuffer(w.FRAMEBUFFER,null);for(var O=new Set,D=0;D<S;D++){var k=E.slice(D*4,D*4+4),T=Vre(k)-1;T>=0&&O.add(T)}return O}function yne(e,t,r){var n=mne(e,t,r),a=e.getCachedZSortedEles(),i,o,l=Nn(n),u;try{for(l.s();!(u=l.n()).done;){var c=u.value,d=a[c];if(!i&&d.isNode()&&(i=d),!o&&d.isEdge()&&(o=d),i&&o)break}}catch(h){l.e(h)}finally{l.f()}return[i,o].filter(Boolean)}function y1(e,t,r){var n=e.drawing;t+=1,r.isNode()?(n.drawNode(r,t,"node-underlay"),n.drawNode(r,t,"node-body"),n.drawTexture(r,t,"label"),n.drawNode(r,t,"node-overlay")):(n.drawEdgeLine(r,t),n.drawEdgeArrow(r,t,"source"),n.drawEdgeArrow(r,t,"target"),n.drawTexture(r,t,"label"),n.drawTexture(r,t,"edge-source-label"),n.drawTexture(r,t,"edge-target-label"))}function e3(e,t,r){var n;e.webglDebug&&(n=performance.now());var a=e.drawing,i=0;if(r.screen&&e.data.canvasNeedsRedraw[e.SELECT_BOX]&&vne(e,t),e.data.canvasNeedsRedraw[e.NODE]||r.picking){var o=e.data.contexts[e.WEBGL];r.screen?(o.clearColor(0,0,0,0),o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA)):o.disable(o.BLEND),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),o.viewport(0,0,o.canvas.width,o.canvas.height);var l=hne(e),u=e.getCachedZSortedEles();if(i=u.length,a.startFrame(l,r),r.screen){for(var c=0;c<u.nondrag.length;c++)y1(e,c,u.nondrag[c]);for(var d=0;d<u.drag.length;d++)y1(e,d,u.drag[d])}else if(r.picking)for(var h=0;h<u.length;h++)y1(e,h,u[h]);a.endFrame(),r.screen&&e.webglDebugShowAtlases&&(pne(e),gne(e)),e.data.canvasNeedsRedraw[e.NODE]=!1,e.data.canvasNeedsRedraw[e.DRAG]=!1}if(e.webglDebug){var v=performance.now(),g=!1,m=Math.ceil(v-n),b=a.getDebugInfo(),x=["".concat(i," elements"),"".concat(b.totalInstances," instances"),"".concat(b.batchCount," batches"),"".concat(b.totalAtlases," atlases"),"".concat(b.wrappedCount," wrapped textures"),"".concat(b.simpleCount," simple shapes")].join(", ");if(g)console.log("WebGL (".concat(r.name,") - time ").concat(m,"ms, ").concat(x));else{console.log("WebGL (".concat(r.name,") - frame time ").concat(m,"ms")),console.log("Totals:"),console.log("  ".concat(x)),console.log("Texture Atlases Used:");var w=b.atlasInfo,S=Nn(w),E;try{for(S.s();!(E=S.n()).done;){var O=E.value;console.log("  ".concat(O.type,": ").concat(O.keyCount," keys, ").concat(O.atlasCount," atlases"))}}catch(D){S.e(D)}finally{S.f()}console.log("")}}e.data.gc&&(console.log("Garbage Collect!"),e.data.gc=!1,a.gc())}var Wo={};Wo.drawPolygonPath=function(e,t,r,n,a,i){var o=n/2,l=a/2;e.beginPath&&e.beginPath(),e.moveTo(t+o*i[0],r+l*i[1]);for(var u=1;u<i.length/2;u++)e.lineTo(t+o*i[u*2],r+l*i[u*2+1]);e.closePath()};Wo.drawRoundPolygonPath=function(e,t,r,n,a,i,o){o.forEach(function(l){return Lz(e,l)}),e.closePath()};Wo.drawRoundRectanglePath=function(e,t,r,n,a,i){var o=n/2,l=a/2,u=i==="auto"?zo(n,a):Math.min(i,l,o);e.beginPath&&e.beginPath(),e.moveTo(t,r-l),e.arcTo(t+o,r-l,t+o,r,u),e.arcTo(t+o,r+l,t,r+l,u),e.arcTo(t-o,r+l,t-o,r,u),e.arcTo(t-o,r-l,t,r-l,u),e.lineTo(t,r-l),e.closePath()};Wo.drawBottomRoundRectanglePath=function(e,t,r,n,a,i){var o=n/2,l=a/2,u=i==="auto"?zo(n,a):i;e.beginPath&&e.beginPath(),e.moveTo(t,r-l),e.lineTo(t+o,r-l),e.lineTo(t+o,r),e.arcTo(t+o,r+l,t,r+l,u),e.arcTo(t-o,r+l,t-o,r,u),e.lineTo(t-o,r-l),e.lineTo(t,r-l),e.closePath()};Wo.drawCutRectanglePath=function(e,t,r,n,a,i,o){var l=n/2,u=a/2,c=o==="auto"?CE():o;e.beginPath&&e.beginPath(),e.moveTo(t-l+c,r-u),e.lineTo(t+l-c,r-u),e.lineTo(t+l,r-u+c),e.lineTo(t+l,r+u-c),e.lineTo(t+l-c,r+u),e.lineTo(t-l+c,r+u),e.lineTo(t-l,r+u-c),e.lineTo(t-l,r-u+c),e.closePath()};Wo.drawBarrelPath=function(e,t,r,n,a){var i=n/2,o=a/2,l=t-i,u=t+i,c=r-o,d=r+o,h=gx(n,a),v=h.widthOffset,g=h.heightOffset,m=h.ctrlPtOffsetPct*v;e.beginPath&&e.beginPath(),e.moveTo(l,c+g),e.lineTo(l,d-g),e.quadraticCurveTo(l+m,d,l+v,d),e.lineTo(u-v,d),e.quadraticCurveTo(u-m,d,u,d-g),e.lineTo(u,c+g),e.quadraticCurveTo(u-m,c,u-v,c),e.lineTo(l+v,c),e.quadraticCurveTo(l+m,c,l,c+g),e.closePath()};var Vk=Math.sin(0),Yk=Math.cos(0),kx={},Px={},t3=Math.PI/40;for(var Hl=0*Math.PI;Hl<2*Math.PI;Hl+=t3)kx[Hl]=Math.sin(Hl),Px[Hl]=Math.cos(Hl);Wo.drawEllipsePath=function(e,t,r,n,a){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,r,n/2,a/2,0,0,2*Math.PI);else for(var i,o,l=n/2,u=a/2,c=0*Math.PI;c<2*Math.PI;c+=t3)i=t-l*kx[c]*Vk+l*Px[c]*Yk,o=r+u*Px[c]*Vk+u*kx[c]*Yk,c===0?e.moveTo(i,o):e.lineTo(i,o);e.closePath()};var qf={};qf.createBuffer=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,[r,r.getContext("2d")]};qf.bufferCanvasImage=function(e){var t=this.cy,r=t.mutableElements(),n=r.boundingBox(),a=this.findContainerClientCoords(),i=e.full?Math.ceil(n.w):a[2],o=e.full?Math.ceil(n.h):a[3],l=Te(e.maxWidth)||Te(e.maxHeight),u=this.getPixelRatio(),c=1;if(e.scale!==void 0)i*=e.scale,o*=e.scale,c=e.scale;else if(l){var d=1/0,h=1/0;Te(e.maxWidth)&&(d=c*e.maxWidth/i),Te(e.maxHeight)&&(h=c*e.maxHeight/o),c=Math.min(d,h),i*=c,o*=c}l||(i*=u,o*=u,c*=u);var v=document.createElement("canvas");v.width=i,v.height=o,v.style.width=i+"px",v.style.height=o+"px";var g=v.getContext("2d");if(i>0&&o>0){g.clearRect(0,0,i,o),g.globalCompositeOperation="source-over";var m=this.getCachedZSortedEles();if(e.full)g.translate(-n.x1*c,-n.y1*c),g.scale(c,c),this.drawElements(g,m),g.scale(1/c,1/c),g.translate(n.x1*c,n.y1*c);else{var b=t.pan(),x={x:b.x*c,y:b.y*c};c*=t.zoom(),g.translate(x.x,x.y),g.scale(c,c),this.drawElements(g,m),g.scale(1/c,1/c),g.translate(-x.x,-x.y)}e.bg&&(g.globalCompositeOperation="destination-over",g.fillStyle=e.bg,g.rect(0,0,i,o),g.fill())}return v};function bne(e,t){for(var r=atob(e),n=new ArrayBuffer(r.length),a=new Uint8Array(n),i=0;i<r.length;i++)a[i]=r.charCodeAt(i);return new Blob([n],{type:t})}function $k(e){var t=e.indexOf(",");return e.substr(t+1)}function r3(e,t,r){var n=function(){return t.toDataURL(r,e.quality)};switch(e.output){case"blob-promise":return new _u(function(a,i){try{t.toBlob(function(o){o!=null?a(o):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,e.quality)}catch(o){i(o)}});case"blob":return bne($k(n()),r);case"base64":return $k(n());case"base64uri":default:return n()}}qf.png=function(e){return r3(e,this.bufferCanvasImage(e),"image/png")};qf.jpg=function(e){return r3(e,this.bufferCanvasImage(e),"image/jpeg")};var n3={};n3.nodeShapeImpl=function(e,t,r,n,a,i,o,l){switch(e){case"ellipse":return this.drawEllipsePath(t,r,n,a,i);case"polygon":return this.drawPolygonPath(t,r,n,a,i,o);case"round-polygon":return this.drawRoundPolygonPath(t,r,n,a,i,o,l);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,r,n,a,i,l);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,r,n,a,i,o,l);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,r,n,a,i,l);case"barrel":return this.drawBarrelPath(t,r,n,a,i)}};var xne=a3,st=a3.prototype;st.CANVAS_LAYERS=3;st.SELECT_BOX=0;st.DRAG=1;st.NODE=2;st.WEBGL=3;st.CANVAS_TYPES=["2d","2d","2d","webgl2"];st.BUFFER_COUNT=3;st.TEXTURE_BUFFER=0;st.MOTIONBLUR_BUFFER_NODE=1;st.MOTIONBLUR_BUFFER_DRAG=2;function a3(e){var t=this,r=t.cy.window(),n=r.document;e.webgl&&(st.CANVAS_LAYERS=t.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),t.data={canvases:new Array(st.CANVAS_LAYERS),contexts:new Array(st.CANVAS_LAYERS),canvasNeedsRedraw:new Array(st.CANVAS_LAYERS),bufferCanvases:new Array(st.BUFFER_COUNT),bufferContexts:new Array(st.CANVAS_LAYERS)};var a="-webkit-tap-highlight-color",i="rgba(0,0,0,0)";t.data.canvasContainer=n.createElement("div");var o=t.data.canvasContainer.style;t.data.canvasContainer.style[a]=i,o.position="relative",o.zIndex="0",o.overflow="hidden";var l=e.cy.container();l.appendChild(t.data.canvasContainer),l.style[a]=i;var u={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};vZ()&&(u["-ms-touch-action"]="none",u["touch-action"]="none");for(var c=0;c<st.CANVAS_LAYERS;c++){var d=t.data.canvases[c]=n.createElement("canvas"),h=st.CANVAS_TYPES[c];t.data.contexts[c]=d.getContext(h),t.data.contexts[c]||Wt("Could not create canvas of type "+h),Object.keys(u).forEach(function(Z){d.style[Z]=u[Z]}),d.style.position="absolute",d.setAttribute("data-id","layer"+c),d.style.zIndex=String(st.CANVAS_LAYERS-c),t.data.canvasContainer.appendChild(d),t.data.canvasNeedsRedraw[c]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[st.NODE].setAttribute("data-id","layer"+st.NODE+"-node"),t.data.canvases[st.SELECT_BOX].setAttribute("data-id","layer"+st.SELECT_BOX+"-selectbox"),t.data.canvases[st.DRAG].setAttribute("data-id","layer"+st.DRAG+"-drag"),t.data.canvases[st.WEBGL]&&t.data.canvases[st.WEBGL].setAttribute("data-id","layer"+st.WEBGL+"-webgl");for(var c=0;c<st.BUFFER_COUNT;c++)t.data.bufferCanvases[c]=n.createElement("canvas"),t.data.bufferContexts[c]=t.data.bufferCanvases[c].getContext("2d"),t.data.bufferCanvases[c].style.position="absolute",t.data.bufferCanvases[c].setAttribute("data-id","buffer"+c),t.data.bufferCanvases[c].style.zIndex=String(-c-1),t.data.bufferCanvases[c].style.visibility="hidden";t.pathsEnabled=!0;var v=mn(),g=function(re){return{x:(re.x1+re.x2)/2,y:(re.y1+re.y2)/2}},m=function(re){return{x:-re.w/2,y:-re.h/2}},b=function(re){var J=re[0]._private,W=J.oldBackgroundTimestamp===J.backgroundTimestamp;return!W},x=function(re){return re[0]._private.nodeKey},w=function(re){return re[0]._private.labelStyleKey},S=function(re){return re[0]._private.sourceLabelStyleKey},E=function(re){return re[0]._private.targetLabelStyleKey},O=function(re,J,W,se,he){return t.drawElement(re,J,W,!1,!1,he)},D=function(re,J,W,se,he){return t.drawElementText(re,J,W,se,"main",he)},k=function(re,J,W,se,he){return t.drawElementText(re,J,W,se,"source",he)},T=function(re,J,W,se,he){return t.drawElementText(re,J,W,se,"target",he)},_=function(re){return re.boundingBox(),re[0]._private.bodyBounds},M=function(re){return re.boundingBox(),re[0]._private.labelBounds.main||v},R=function(re){return re.boundingBox(),re[0]._private.labelBounds.source||v},P=function(re){return re.boundingBox(),re[0]._private.labelBounds.target||v},L=function(re,J){return J},N=function(re){return g(_(re))},B=function(re,J,W){var se=re?re+"-":"";return{x:J.x+W.pstyle(se+"text-margin-x").pfValue,y:J.y+W.pstyle(se+"text-margin-y").pfValue}},G=function(re,J,W){var se=re[0]._private.rscratch;return{x:se[J],y:se[W]}},I=function(re){return B("",G(re,"labelX","labelY"),re)},z=function(re){return B("source",G(re,"sourceLabelX","sourceLabelY"),re)},q=function(re){return B("target",G(re,"targetLabelX","targetLabelY"),re)},H=function(re){return m(_(re))},X=function(re){return m(R(re))},U=function(re){return m(P(re))},V=function(re){var J=M(re),W=m(M(re));if(re.isNode()){switch(re.pstyle("text-halign").value){case"left":W.x=-J.w-(J.leftPad||0);break;case"right":W.x=-(J.rightPad||0);break}switch(re.pstyle("text-valign").value){case"top":W.y=-J.h-(J.topPad||0);break;case"bottom":W.y=-(J.botPad||0);break}}return W},Q=t.data.eleTxrCache=new Vc(t,{getKey:x,doesEleInvalidateKey:b,drawElement:O,getBoundingBox:_,getRotationPoint:N,getRotationOffset:H,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),ee=t.data.lblTxrCache=new Vc(t,{getKey:w,drawElement:D,getBoundingBox:M,getRotationPoint:I,getRotationOffset:V,isVisible:L}),te=t.data.slbTxrCache=new Vc(t,{getKey:S,drawElement:k,getBoundingBox:R,getRotationPoint:z,getRotationOffset:X,isVisible:L}),ie=t.data.tlbTxrCache=new Vc(t,{getKey:E,drawElement:T,getBoundingBox:P,getRotationPoint:q,getRotationOffset:U,isVisible:L}),ue=t.data.lyrTxrCache=new Vz(t);t.onUpdateEleCalcs(function(re,J){Q.invalidateElements(J),ee.invalidateElements(J),te.invalidateElements(J),ie.invalidateElements(J),ue.invalidateElements(J);for(var W=0;W<J.length;W++){var se=J[W]._private;se.oldBackgroundTimestamp=se.backgroundTimestamp}});var xe=function(re){for(var J=0;J<re.length;J++)ue.enqueueElementRefinement(re[J].ele)};Q.onDequeue(xe),ee.onDequeue(xe),te.onDequeue(xe),ie.onDequeue(xe),e.webgl&&t.initWebgl(e,{getStyleKey:x,getLabelKey:w,getSourceLabelKey:S,getTargetLabelKey:E,drawElement:O,drawLabel:D,drawSourceLabel:k,drawTargetLabel:T,getElementBox:_,getLabelBox:M,getSourceLabelBox:R,getTargetLabelBox:P,getElementRotationPoint:N,getElementRotationOffset:H,getLabelRotationPoint:I,getSourceLabelRotationPoint:z,getTargetLabelRotationPoint:q,getLabelRotationOffset:V,getSourceLabelRotationOffset:X,getTargetLabelRotationOffset:U})}st.redrawHint=function(e,t){var r=this;switch(e){case"eles":r.data.canvasNeedsRedraw[st.NODE]=t;break;case"drag":r.data.canvasNeedsRedraw[st.DRAG]=t;break;case"select":r.data.canvasNeedsRedraw[st.SELECT_BOX]=t;break;case"gc":r.data.gc=!0;break}};var wne=typeof Path2D<"u";st.path2dEnabled=function(e){if(e===void 0)return this.pathsEnabled;this.pathsEnabled=!!e};st.usePaths=function(){return wne&&this.pathsEnabled};st.setImgSmoothing=function(e,t){e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)};st.getImgSmoothing=function(e){return e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled};st.makeOffscreenCanvas=function(e,t){var r;if((typeof OffscreenCanvas>"u"?"undefined":Ar(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(e,t);else{var n=this.cy.window(),a=n.document;r=a.createElement("canvas"),r.width=e,r.height=t}return r};[Yz,ei,Vi,zE,Js,Ko,bn,Zz,Wo,qf,n3].forEach(function(e){Xe(st,e)});var Ene=[{name:"null",impl:Pz},{name:"base",impl:Fz},{name:"canvas",impl:xne}],Sne=[{type:"layout",extensions:Xte},{type:"renderer",extensions:Ene}],i3={},o3={};function s3(e,t,r){var n=r,a=function(_){Ct("Can not register `"+t+"` for `"+e+"` since `"+_+"` already exists in the prototype and can not be overridden")};if(e==="core"){if(gf.prototype[t])return a(t);gf.prototype[t]=r}else if(e==="collection"){if(Qr.prototype[t])return a(t);Qr.prototype[t]=r}else if(e==="layout"){for(var i=function(_){this.options=_,r.call(this,_),mt(this._private)||(this._private={}),this._private.cy=_.cy,this._private.listeners=[],this.createEmitter()},o=i.prototype=Object.create(r.prototype),l=[],u=0;u<l.length;u++){var c=l[u];o[c]=o[c]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var d=r.prototype.stop;o.stop=function(){var T=this.options;if(T&&T.animate){var _=this.animations;if(_)for(var M=0;M<_.length;M++)_[M].stop()}return d?d.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var h=function(_){return _._private.cy},v={addEventFields:function(_,M){M.layout=_,M.cy=h(_),M.target=_},bubble:function(){return!0},parent:function(_){return h(_)}};Xe(o,{createEmitter:function(){return this._private.emitter=new Yp(v,this),this},emitter:function(){return this._private.emitter},on:function(_,M){return this.emitter().on(_,M),this},one:function(_,M){return this.emitter().one(_,M),this},once:function(_,M){return this.emitter().one(_,M),this},removeListener:function(_,M){return this.emitter().removeListener(_,M),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(_,M){return this.emitter().emit(_,M),this}}),At.eventAliasesOn(o),n=i}else if(e==="renderer"&&t!=="null"&&t!=="base"){var g=l3("renderer","base"),m=g.prototype,b=r,x=r.prototype,w=function(){g.apply(this,arguments),b.apply(this,arguments)},S=w.prototype;for(var E in m){var O=m[E],D=x[E]!=null;if(D)return a(E);S[E]=O}for(var k in x)S[k]=x[k];m.clientFunctions.forEach(function(T){S[T]=S[T]||function(){Wt("Renderer does not implement `renderer."+T+"()` on its prototype")}}),n=w}else if(e==="__proto__"||e==="constructor"||e==="prototype")return Wt(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return TI({map:i3,keys:[e,t],value:n})}function l3(e,t){return OI({map:i3,keys:[e,t]})}function Ane(e,t,r,n,a){return TI({map:o3,keys:[e,t,r,n],value:a})}function Cne(e,t,r,n){return OI({map:o3,keys:[e,t,r,n]})}var Nx=function(){if(arguments.length===2)return l3.apply(null,arguments);if(arguments.length===3)return s3.apply(null,arguments);if(arguments.length===4)return Cne.apply(null,arguments);if(arguments.length===5)return Ane.apply(null,arguments);Wt("Invalid extension access syntax")};gf.prototype.extension=Nx;Sne.forEach(function(e){e.extensions.forEach(function(t){s3(e.type,t.name,t.impl)})});var Jv=function(){if(!(this instanceof Jv))return new Jv;this.length=0},Xs=Jv.prototype;Xs.instanceString=function(){return"stylesheet"};Xs.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this};Xs.css=function(e,t){var r=this.length-1;if(Ve(e))this[r].properties.push({name:e,value:t});else if(mt(e))for(var n=e,a=Object.keys(n),i=0;i<a.length;i++){var o=a[i],l=n[o];if(l!=null){var u=Gr.properties[o]||Gr.properties[Bp(o)];if(u!=null){var c=u.name,d=l;this[r].properties.push({name:c,value:d})}}}return this};Xs.style=Xs.css;Xs.generateStyle=function(e){var t=new Gr(e);return this.appendToStyle(t)};Xs.appendToStyle=function(e){for(var t=0;t<this.length;t++){var r=this[t],n=r.selector,a=r.properties;e.selector(n);for(var i=0;i<a.length;i++){var o=a[i];e.css(o.name,o.value)}}return e};var Tne="3.33.1",Ii=function(t){if(t===void 0&&(t={}),mt(t))return new gf(t);if(Ve(t))return Nx.apply(Nx,arguments)};Ii.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(Ii),e.apply(null,t),this};Ii.warnings=function(e){return RI(e)};Ii.version=Tne;Ii.stylesheet=Ii.Stylesheet=Jv;var Qh={exports:{}},b1={},ys={},x1={},bi={},Xk;function u3(){if(Xk)return bi;Xk=1,Object.defineProperty(bi,"__esModule",{value:!0});var e=(function(){function u(c,d,h){this.source=c,this.target=d,this.type=h}return u})();bi.PowerEdge=e;var t=(function(){function u(c,d,h,v){var g=this;if(this.linkAccessor=h,this.modules=new Array(c),this.roots=[],v)this.initModulesFromGroup(v);else{this.roots.push(new i);for(var m=0;m<c;++m)this.roots[0].add(this.modules[m]=new n(m))}this.R=d.length,d.forEach(function(b){var x=g.modules[h.getSourceIndex(b)],w=g.modules[h.getTargetIndex(b)],S=h.getType(b);x.outgoing.add(S,w),w.incoming.add(S,x)})}return u.prototype.initModulesFromGroup=function(c){var d=new i;this.roots.push(d);for(var h=0;h<c.leaves.length;++h){var v=c.leaves[h],g=new n(v.id);this.modules[v.id]=g,d.add(g)}if(c.groups)for(var m=0;m<c.groups.length;++m){var b=c.groups[m],x={};for(var w in b)w!=="leaves"&&w!=="groups"&&b.hasOwnProperty(w)&&(x[w]=b[w]);d.add(new n(-1-m,new o,new o,this.initModulesFromGroup(b),x))}return d},u.prototype.merge=function(c,d,h){h===void 0&&(h=0);var v=c.incoming.intersection(d.incoming),g=c.outgoing.intersection(d.outgoing),m=new i;m.add(c),m.add(d);var b=new n(this.modules.length,g,v,m);this.modules.push(b);var x=function(w,S,E){w.forAll(function(O,D){O.forAll(function(k){var T=k[S];T.add(D,b),T.remove(D,c),T.remove(D,d),c[E].remove(D,k),d[E].remove(D,k)})})};return x(g,"incoming","outgoing"),x(v,"outgoing","incoming"),this.R-=v.count()+g.count(),this.roots[h].remove(c),this.roots[h].remove(d),this.roots[h].add(b),b},u.prototype.rootMerges=function(c){c===void 0&&(c=0);for(var d=this.roots[c].modules(),h=d.length,v=new Array(h*(h-1)),g=0,m=0,b=h-1;m<b;++m)for(var x=m+1;x<h;++x){var w=d[m],S=d[x];v[g]={id:g,nEdges:this.nEdges(w,S),a:w,b:S},g++}return v},u.prototype.greedyMerge=function(){for(var c=0;c<this.roots.length;++c)if(!(this.roots[c].modules().length<2)){var d=this.rootMerges(c).sort(function(v,g){return v.nEdges==g.nEdges?v.id-g.id:v.nEdges-g.nEdges}),h=d[0];if(!(h.nEdges>=this.R))return this.merge(h.a,h.b,c),!0}},u.prototype.nEdges=function(c,d){var h=c.incoming.intersection(d.incoming),v=c.outgoing.intersection(d.outgoing);return this.R-h.count()-v.count()},u.prototype.getGroupHierarchy=function(c){var d=this,h=[],v={};r(this.roots[0],v,h);var g=this.allEdges();return g.forEach(function(m){var b=d.modules[m.source],x=d.modules[m.target];c.push(new e(typeof b.gid>"u"?m.source:h[b.gid],typeof x.gid>"u"?m.target:h[x.gid],m.type))}),h},u.prototype.allEdges=function(){var c=[];return u.getEdges(this.roots[0],c),c},u.getEdges=function(c,d){c.forAll(function(h){h.getEdges(d),u.getEdges(h.children,d)})},u})();bi.Configuration=t;function r(u,c,d){u.forAll(function(h){if(h.isLeaf())c.leaves||(c.leaves=[]),c.leaves.push(h.id);else{var v=c;if(h.gid=d.length,!h.isIsland()||h.isPredefined()){if(v={id:h.gid},h.isPredefined())for(var g in h.definition)v[g]=h.definition[g];c.groups||(c.groups=[]),c.groups.push(h.gid),d.push(v)}r(h.children,v,d)}})}var n=(function(){function u(c,d,h,v,g){d===void 0&&(d=new o),h===void 0&&(h=new o),v===void 0&&(v=new i),this.id=c,this.outgoing=d,this.incoming=h,this.children=v,this.definition=g}return u.prototype.getEdges=function(c){var d=this;this.outgoing.forAll(function(h,v){h.forAll(function(g){c.push(new e(d.id,g.id,v))})})},u.prototype.isLeaf=function(){return this.children.count()===0},u.prototype.isIsland=function(){return this.outgoing.count()===0&&this.incoming.count()===0},u.prototype.isPredefined=function(){return typeof this.definition<"u"},u})();bi.Module=n;function a(u,c){var d={};for(var h in u)h in c&&(d[h]=u[h]);return d}var i=(function(){function u(){this.table={}}return u.prototype.count=function(){return Object.keys(this.table).length},u.prototype.intersection=function(c){var d=new u;return d.table=a(this.table,c.table),d},u.prototype.intersectionCount=function(c){return this.intersection(c).count()},u.prototype.contains=function(c){return c in this.table},u.prototype.add=function(c){this.table[c.id]=c},u.prototype.remove=function(c){delete this.table[c.id]},u.prototype.forAll=function(c){for(var d in this.table)c(this.table[d])},u.prototype.modules=function(){var c=[];return this.forAll(function(d){d.isPredefined()||c.push(d)}),c},u})();bi.ModuleSet=i;var o=(function(){function u(){this.sets={},this.n=0}return u.prototype.count=function(){return this.n},u.prototype.contains=function(c){var d=!1;return this.forAllModules(function(h){!d&&h.id==c&&(d=!0)}),d},u.prototype.add=function(c,d){var h=c in this.sets?this.sets[c]:this.sets[c]=new i;h.add(d),++this.n},u.prototype.remove=function(c,d){var h=this.sets[c];h.remove(d),h.count()===0&&delete this.sets[c],--this.n},u.prototype.forAll=function(c){for(var d in this.sets)c(this.sets[d],Number(d))},u.prototype.forAllModules=function(c){this.forAll(function(d,h){return d.forAll(c)})},u.prototype.intersection=function(c){var d=new u;return this.forAll(function(h,v){if(v in c.sets){var g=h.intersection(c.sets[v]),m=g.count();m>0&&(d.sets[v]=g,d.n+=m)}}),d},u})();bi.LinkSets=o;function l(u,c,d,h){for(var v=u.length,g=new t(v,c,d,h);g.greedyMerge(););var m=[],b=g.getGroupHierarchy(m);return m.forEach(function(x){var w=function(S){var E=x[S];typeof E=="number"&&(x[S]=u[E])};w("source"),w("target")}),{groups:b,powerEdges:m}}return bi.getGroups=l,bi}var bs={},Kk;function GE(){if(Kk)return bs;Kk=1,Object.defineProperty(bs,"__esModule",{value:!0});function e(u,c){var d={};for(var h in u)d[h]={};for(var h in c)d[h]={};return Object.keys(d).length}function t(u,c){var d=0;for(var h in u)typeof c[h]<"u"&&++d;return d}function r(u,c){var d={},h=function(v,g){typeof d[v]>"u"&&(d[v]={}),d[v][g]={}};return u.forEach(function(v){var g=c.getSourceIndex(v),m=c.getTargetIndex(v);h(g,m),h(m,g)}),d}function n(u,c,d,h){var v=r(u,h);u.forEach(function(g){var m=v[h.getSourceIndex(g)],b=v[h.getTargetIndex(g)];h.setLength(g,1+c*d(m,b))})}function a(u,c,d){d===void 0&&(d=1),n(u,d,function(h,v){return Math.sqrt(e(h,v)-t(h,v))},c)}bs.symmetricDiffLinkLengths=a;function i(u,c,d){d===void 0&&(d=1),n(u,d,function(h,v){return Math.min(Object.keys(h).length,Object.keys(v).length)<1.1?0:t(h,v)/e(h,v)},c)}bs.jaccardLinkLengths=i;function o(u,c,d,h){var v=l(u,c,h),g={};v.forEach(function(b,x){return b.forEach(function(w){return g[w]=x})});var m=[];return c.forEach(function(b){var x=h.getSourceIndex(b),w=h.getTargetIndex(b),S=g[x],E=g[w];S!==E&&m.push({axis:d,left:x,right:w,gap:h.getMinSeparation(b)})}),m}bs.generateDirectedEdgeConstraints=o;function l(u,c,d){var h=[],v=0,g=[],m=[];function b(M){M.index=M.lowlink=v++,g.push(M),M.onStack=!0;for(var R=0,P=M.out;R<P.length;R++){var L=P[R];typeof L.index>"u"?(b(L),M.lowlink=Math.min(M.lowlink,L.lowlink)):L.onStack&&(M.lowlink=Math.min(M.lowlink,L.index))}if(M.lowlink===M.index){for(var N=[];g.length&&(L=g.pop(),L.onStack=!1,N.push(L),L!==M););m.push(N.map(function(B){return B.id}))}}for(var x=0;x<u;x++)h.push({id:x,out:[]});for(var w=0,S=c;w<S.length;w++){var E=S[w],O=h[d.getSourceIndex(E)],D=h[d.getTargetIndex(E)];O.out.push(D)}for(var k=0,T=h;k<T.length;k++){var _=T[k];typeof _.index>"u"&&b(_)}return m}return bs.stronglyConnectedComponents=l,bs}var Vl={},Wk;function UE(){if(Wk)return Vl;Wk=1,Object.defineProperty(Vl,"__esModule",{value:!0});var e=(function(){function n(){this.locks={}}return n.prototype.add=function(a,i){this.locks[a]=i},n.prototype.clear=function(){this.locks={}},n.prototype.isEmpty=function(){for(var a in this.locks)return!1;return!0},n.prototype.apply=function(a){for(var i in this.locks)a(Number(i),this.locks[i])},n})();Vl.Locks=e;var t=(function(){function n(a,i,o){o===void 0&&(o=null),this.D=i,this.G=o,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new r,this.project=null,this.x=a,this.k=a.length;var l=this.n=a[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new e,this.minD=Number.MAX_VALUE;for(var u=l,c;u--;)for(c=l;--c>u;){var d=i[u][c];d>0&&d<this.minD&&(this.minD=d)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),u=this.k;u--;){for(this.g[u]=new Array(l),this.H[u]=new Array(l),c=l;c--;)this.H[u][c]=new Array(l);this.Hd[u]=new Array(l),this.a[u]=new Array(l),this.b[u]=new Array(l),this.c[u]=new Array(l),this.d[u]=new Array(l),this.e[u]=new Array(l),this.ia[u]=new Array(l),this.ib[u]=new Array(l),this.xtmp[u]=new Array(l)}}return n.createSquareMatrix=function(a,i){for(var o=new Array(a),l=0;l<a;++l){o[l]=new Array(a);for(var u=0;u<a;++u)o[l][u]=i(l,u)}return o},n.prototype.offsetDir=function(){for(var a=this,i=new Array(this.k),o=0,l=0;l<this.k;++l){var u=i[l]=this.random.getNextBetween(.01,1)-.5;o+=u*u}return o=Math.sqrt(o),i.map(function(c){return c*=a.minD/o})},n.prototype.computeDerivatives=function(a){var i=this,o=this.n;if(!(o<1)){for(var l,u=new Array(this.k),c=new Array(this.k),d=new Array(this.k),h=0,v=0;v<o;++v){for(l=0;l<this.k;++l)d[l]=this.g[l][v]=0;for(var g=0;g<o;++g)if(v!==g){for(var m=o;m--;){var b=0;for(l=0;l<this.k;++l){var x=u[l]=a[l][v]-a[l][g];b+=c[l]=x*x}if(b>1e-9)break;var w=this.offsetDir();for(l=0;l<this.k;++l)a[l][g]+=w[l]}var S=Math.sqrt(b),E=this.D[v][g],O=this.G!=null?this.G[v][g]:1;if(O>1&&S>E||!isFinite(E)){for(l=0;l<this.k;++l)this.H[l][v][g]=0;continue}O>1&&(O=1);var D=E*E,k=2*O*(S-E)/(D*S),T=S*S*S,_=2*-O/(D*T);for(isFinite(k)||console.log(k),l=0;l<this.k;++l)this.g[l][v]+=u[l]*k,d[l]-=this.H[l][v][g]=_*(T+E*(c[l]-b)+S*b)}for(l=0;l<this.k;++l)h=Math.max(h,this.H[l][v][v]=d[l])}for(var M=this.snapGridSize/2,R=this.snapGridSize,P=this.snapStrength,L=P/(M*M),N=this.numGridSnapNodes,v=0;v<N;++v)for(l=0;l<this.k;++l){var B=this.x[l][v],G=B/R,I=G%1,z=G-I,q=Math.abs(I),x=q<=.5?B-z*R:B>0?B-(z+1)*R:B-(z-1)*R;-M<x&&x<=M&&(this.scaleSnapByMaxH?(this.g[l][v]+=h*L*x,this.H[l][v][v]+=h*L):(this.g[l][v]+=L*x,this.H[l][v][v]+=L))}this.locks.isEmpty()||this.locks.apply(function(H,X){for(l=0;l<i.k;++l)i.H[l][H][H]+=h,i.g[l][H]-=h*(X[l]-a[l][H])})}},n.dotProd=function(a,i){for(var o=0,l=a.length;l--;)o+=a[l]*i[l];return o},n.rightMultiply=function(a,i,o){for(var l=a.length;l--;)o[l]=n.dotProd(a[l],i)},n.prototype.computeStepSize=function(a){for(var i=0,o=0,l=0;l<this.k;++l)i+=n.dotProd(this.g[l],a[l]),n.rightMultiply(this.H[l],a[l],this.Hd[l]),o+=n.dotProd(a[l],this.Hd[l]);return o===0||!isFinite(o)?0:1*i/o},n.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var a=this.computeStepSize(this.g),i=0;i<this.k;++i)this.takeDescentStep(this.x[i],this.g[i],a);return this.computeStress()},n.copy=function(a,i){for(var o=a.length,l=i[0].length,u=0;u<o;++u)for(var c=0;c<l;++c)i[u][c]=a[u][c]},n.prototype.stepAndProject=function(a,i,o,l){n.copy(a,i),this.takeDescentStep(i[0],o[0],l),this.project&&this.project[0](a[0],a[1],i[0]),this.takeDescentStep(i[1],o[1],l),this.project&&this.project[1](i[0],a[1],i[1]);for(var u=2;u<this.k;u++)this.takeDescentStep(i[u],o[u],l)},n.mApply=function(a,i,o){for(var l=a;l-- >0;)for(var u=i;u-- >0;)o(l,u)},n.prototype.matrixApply=function(a){n.mApply(this.k,this.n,a)},n.prototype.computeNextPosition=function(a,i){var o=this;this.computeDerivatives(a);var l=this.computeStepSize(this.g);if(this.stepAndProject(a,i,this.g,l),this.project){this.matrixApply(function(c,d){return o.e[c][d]=a[c][d]-i[c][d]});var u=this.computeStepSize(this.e);u=Math.max(.2,Math.min(u,1)),this.stepAndProject(a,i,this.e,u)}},n.prototype.run=function(a){for(var i=Number.MAX_VALUE,o=!1;!o&&a-- >0;){var l=this.rungeKutta();o=Math.abs(i/l-1)<this.threshold,i=l}return i},n.prototype.rungeKutta=function(){var a=this;this.computeNextPosition(this.x,this.a),n.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),n.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var i=0;return this.matrixApply(function(o,l){var u=(a.a[o][l]+2*a.b[o][l]+2*a.c[o][l]+a.d[o][l])/6,c=a.x[o][l]-u;i+=c*c,a.x[o][l]=u}),i},n.mid=function(a,i,o){n.mApply(a.length,a[0].length,function(l,u){return o[l][u]=a[l][u]+(i[l][u]-a[l][u])/2})},n.prototype.takeDescentStep=function(a,i,o){for(var l=0;l<this.n;++l)a[l]=a[l]-o*i[l]},n.prototype.computeStress=function(){for(var a=0,i=0,o=this.n-1;i<o;++i)for(var l=i+1,u=this.n;l<u;++l){for(var c=0,d=0;d<this.k;++d){var h=this.x[d][i]-this.x[d][l];c+=h*h}c=Math.sqrt(c);var v=this.D[i][l];if(isFinite(v)){var g=v-c,m=v*v;a+=g*g/m}}return a},n.zeroDistance=1e-10,n})();Vl.Descent=t;var r=(function(){function n(a){a===void 0&&(a=1),this.seed=a,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return n.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},n.prototype.getNextBetween=function(a,i){return a+this.getNext()*(i-a)},n})();return Vl.PseudoRandom=r,Vl}var on={},Ha={},Zk;function FE(){if(Zk)return Ha;Zk=1,Object.defineProperty(Ha,"__esModule",{value:!0});var e=(function(){function l(u){this.scale=u,this.AB=0,this.AD=0,this.A2=0}return l.prototype.addVariable=function(u){var c=this.scale/u.scale,d=u.offset/u.scale,h=u.weight;this.AB+=h*c*d,this.AD+=h*c*u.desiredPosition,this.A2+=h*c*c},l.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},l})();Ha.PositionStats=e;var t=(function(){function l(u,c,d,h){h===void 0&&(h=!1),this.left=u,this.right=c,this.gap=d,this.equality=h,this.active=!1,this.unsatisfiable=!1,this.left=u,this.right=c,this.gap=d,this.equality=h}return l.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},l})();Ha.Constraint=t;var r=(function(){function l(u,c,d){c===void 0&&(c=1),d===void 0&&(d=1),this.desiredPosition=u,this.weight=c,this.scale=d,this.offset=0}return l.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},l.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},l.prototype.visitNeighbours=function(u,c){var d=function(h,v){return h.active&&u!==v&&c(h,v)};this.cOut.forEach(function(h){return d(h,h.right)}),this.cIn.forEach(function(h){return d(h,h.left)})},l})();Ha.Variable=r;var n=(function(){function l(u){this.vars=[],u.offset=0,this.ps=new e(u.scale),this.addVariable(u)}return l.prototype.addVariable=function(u){u.block=this,this.vars.push(u),this.ps.addVariable(u),this.posn=this.ps.getPosn()},l.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var u=0,c=this.vars.length;u<c;++u)this.ps.addVariable(this.vars[u]);this.posn=this.ps.getPosn()},l.prototype.compute_lm=function(u,c,d){var h=this,v=u.dfdv();return u.visitNeighbours(c,function(g,m){var b=h.compute_lm(m,u,d);m===g.right?(v+=b*g.left.scale,g.lm=b):(v+=b*g.right.scale,g.lm=-b),d(g)}),v/u.scale},l.prototype.populateSplitBlock=function(u,c){var d=this;u.visitNeighbours(c,function(h,v){v.offset=u.offset+(v===h.right?h.gap:-h.gap),d.addVariable(v),d.populateSplitBlock(v,u)})},l.prototype.traverse=function(u,c,d,h){var v=this;d===void 0&&(d=this.vars[0]),h===void 0&&(h=null),d.visitNeighbours(h,function(g,m){c.push(u(g)),v.traverse(u,c,m,d)})},l.prototype.findMinLM=function(){var u=null;return this.compute_lm(this.vars[0],null,function(c){!c.equality&&(u===null||c.lm<u.lm)&&(u=c)}),u},l.prototype.findMinLMBetween=function(u,c){this.compute_lm(u,null,function(){});var d=null;return this.findPath(u,null,c,function(h,v){!h.equality&&h.right===v&&(d===null||h.lm<d.lm)&&(d=h)}),d},l.prototype.findPath=function(u,c,d,h){var v=this,g=!1;return u.visitNeighbours(c,function(m,b){!g&&(b===d||v.findPath(b,u,d,h))&&(g=!0,h(m,b))}),g},l.prototype.isActiveDirectedPathBetween=function(u,c){if(u===c)return!0;for(var d=u.cOut.length;d--;){var h=u.cOut[d];if(h.active&&this.isActiveDirectedPathBetween(h.right,c))return!0}return!1},l.split=function(u){return u.active=!1,[l.createSplitBlock(u.left),l.createSplitBlock(u.right)]},l.createSplitBlock=function(u){var c=new l(u);return c.populateSplitBlock(u,null),c},l.prototype.splitBetween=function(u,c){var d=this.findMinLMBetween(u,c);if(d!==null){var h=l.split(d);return{constraint:d,lb:h[0],rb:h[1]}}return null},l.prototype.mergeAcross=function(u,c,d){c.active=!0;for(var h=0,v=u.vars.length;h<v;++h){var g=u.vars[h];g.offset+=d,this.addVariable(g)}this.posn=this.ps.getPosn()},l.prototype.cost=function(){for(var u=0,c=this.vars.length;c--;){var d=this.vars[c],h=d.position()-d.desiredPosition;u+=h*h*d.weight}return u},l})();Ha.Block=n;var a=(function(){function l(u){this.vs=u;var c=u.length;for(this.list=new Array(c);c--;){var d=new n(u[c]);this.list[c]=d,d.blockInd=c}}return l.prototype.cost=function(){for(var u=0,c=this.list.length;c--;)u+=this.list[c].cost();return u},l.prototype.insert=function(u){u.blockInd=this.list.length,this.list.push(u)},l.prototype.remove=function(u){var c=this.list.length-1,d=this.list[c];this.list.length=c,u!==d&&(this.list[u.blockInd]=d,d.blockInd=u.blockInd)},l.prototype.merge=function(u){var c=u.left.block,d=u.right.block,h=u.right.offset-u.left.offset-u.gap;c.vars.length<d.vars.length?(d.mergeAcross(c,u,h),this.remove(c)):(c.mergeAcross(d,u,-h),this.remove(d))},l.prototype.forEach=function(u){this.list.forEach(u)},l.prototype.updateBlockPositions=function(){this.list.forEach(function(u){return u.updateWeightedPosition()})},l.prototype.split=function(u){var c=this;this.updateBlockPositions(),this.list.forEach(function(d){var h=d.findMinLM();h!==null&&h.lm<i.LAGRANGIAN_TOLERANCE&&(d=h.left.block,n.split(h).forEach(function(v){return c.insert(v)}),c.remove(d),u.push(h))})},l})();Ha.Blocks=a;var i=(function(){function l(u,c){this.vs=u,this.cs=c,this.vs=u,u.forEach(function(d){d.cIn=[],d.cOut=[]}),this.cs=c,c.forEach(function(d){d.left.cOut.push(d),d.right.cIn.push(d)}),this.inactive=c.map(function(d){return d.active=!1,d}),this.bs=null}return l.prototype.cost=function(){return this.bs.cost()},l.prototype.setStartingPositions=function(u){this.inactive=this.cs.map(function(c){return c.active=!1,c}),this.bs=new a(this.vs),this.bs.forEach(function(c,d){return c.posn=u[d]})},l.prototype.setDesiredPositions=function(u){this.vs.forEach(function(c,d){return c.desiredPosition=u[d]})},l.prototype.mostViolated=function(){for(var u=Number.MAX_VALUE,c=null,d=this.inactive,h=d.length,v=h,g=0;g<h;++g){var m=d[g];if(!m.unsatisfiable){var b=m.slack();if((m.equality||b<u)&&(u=b,c=m,v=g,m.equality))break}}return v!==h&&(u<l.ZERO_UPPERBOUND&&!c.active||c.equality)&&(d[v]=d[h-1],d.length=h-1),c},l.prototype.satisfy=function(){this.bs==null&&(this.bs=new a(this.vs)),this.bs.split(this.inactive);for(var u=null;(u=this.mostViolated())&&(u.equality||u.slack()<l.ZERO_UPPERBOUND&&!u.active);){var c=u.left.block,d=u.right.block;if(c!==d)this.bs.merge(u);else{if(c.isActiveDirectedPathBetween(u.right,u.left)){u.unsatisfiable=!0;continue}var h=c.splitBetween(u.left,u.right);if(h!==null)this.bs.insert(h.lb),this.bs.insert(h.rb),this.bs.remove(c),this.inactive.push(h.constraint);else{u.unsatisfiable=!0;continue}u.slack()>=0?this.inactive.push(u):this.bs.merge(u)}}},l.prototype.solve=function(){this.satisfy();for(var u=Number.MAX_VALUE,c=this.bs.cost();Math.abs(u-c)>1e-4;)this.satisfy(),u=c,c=this.bs.cost();return c},l.LAGRANGIAN_TOLERANCE=-1e-4,l.ZERO_UPPERBOUND=-1e-10,l})();Ha.Solver=i;function o(l,u,c){for(var d=l.map(function(T){return new r(T.desiredCenter)}),h=[],v=l.length,g=0;g<v-1;g++){var m=l[g],b=l[g+1];h.push(new t(d[g],d[g+1],(m.size+b.size)/2))}var x=d[0],w=d[v-1],S=l[0].size/2,E=l[v-1].size/2,O=null,D=null;u&&(O=new r(u,x.weight*1e3),d.push(O),h.push(new t(O,x,S))),c&&(D=new r(c,w.weight*1e3),d.push(D),h.push(new t(w,D,E)));var k=new i(d,h);return k.solve(),{newCenters:d.slice(0,l.length).map(function(T){return T.position()}),lowerBound:O?O.position():x.position()-S,upperBound:D?D.position():w.position()+E}}return Ha.removeOverlapInOneDimension=o,Ha}var So={},Qk;function c3(){if(Qk)return So;Qk=1;var e=So&&So.__extends||(function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])},i(o,l)};return function(o,l){i(o,l);function u(){this.constructor=o}o.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}})();Object.defineProperty(So,"__esModule",{value:!0});var t=(function(){function i(){this.findIter=function(o){for(var l=this._root,u=this.iterator();l!==null;){var c=this._comparator(o,l.data);if(c===0)return u._cursor=l,u;u._ancestors.push(l),l=l.get_child(c>0)}return null}}return i.prototype.clear=function(){this._root=null,this.size=0},i.prototype.find=function(o){for(var l=this._root;l!==null;){var u=this._comparator(o,l.data);if(u===0)return l.data;l=l.get_child(u>0)}return null},i.prototype.lowerBound=function(o){return this._bound(o,this._comparator)},i.prototype.upperBound=function(o){var l=this._comparator;function u(c,d){return l(d,c)}return this._bound(o,u)},i.prototype.min=function(){var o=this._root;if(o===null)return null;for(;o.left!==null;)o=o.left;return o.data},i.prototype.max=function(){var o=this._root;if(o===null)return null;for(;o.right!==null;)o=o.right;return o.data},i.prototype.iterator=function(){return new r(this)},i.prototype.each=function(o){for(var l=this.iterator(),u;(u=l.next())!==null;)o(u)},i.prototype.reach=function(o){for(var l=this.iterator(),u;(u=l.prev())!==null;)o(u)},i.prototype._bound=function(o,l){for(var u=this._root,c=this.iterator();u!==null;){var d=this._comparator(o,u.data);if(d===0)return c._cursor=u,c;c._ancestors.push(u),u=u.get_child(d>0)}for(var h=c._ancestors.length-1;h>=0;--h)if(u=c._ancestors[h],l(o,u.data)>0)return c._cursor=u,c._ancestors.length=h,c;return c._ancestors.length=0,c},i})();So.TreeBase=t;var r=(function(){function i(o){this._tree=o,this._ancestors=[],this._cursor=null}return i.prototype.data=function(){return this._cursor!==null?this._cursor.data:null},i.prototype.next=function(){if(this._cursor===null){var o=this._tree._root;o!==null&&this._minNode(o)}else if(this._cursor.right===null){var l;do if(l=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.right===l)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return this._cursor!==null?this._cursor.data:null},i.prototype.prev=function(){if(this._cursor===null){var o=this._tree._root;o!==null&&this._maxNode(o)}else if(this._cursor.left===null){var l;do if(l=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.left===l)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return this._cursor!==null?this._cursor.data:null},i.prototype._minNode=function(o){for(;o.left!==null;)this._ancestors.push(o),o=o.left;this._cursor=o},i.prototype._maxNode=function(o){for(;o.right!==null;)this._ancestors.push(o),o=o.right;this._cursor=o},i})();So.Iterator=r;var n=(function(){function i(o){this.data=o,this.left=null,this.right=null,this.red=!0}return i.prototype.get_child=function(o){return o?this.right:this.left},i.prototype.set_child=function(o,l){o?this.right=l:this.left=l},i})(),a=(function(i){e(o,i);function o(l){var u=i.call(this)||this;return u._root=null,u._comparator=l,u.size=0,u}return o.prototype.insert=function(l){var u=!1;if(this._root===null)this._root=new n(l),u=!0,this.size++;else{var c=new n(void 0),d=!1,h=!1,v=null,g=c,m=null,b=this._root;for(g.right=this._root;;){if(b===null?(b=new n(l),m.set_child(d,b),u=!0,this.size++):o.is_red(b.left)&&o.is_red(b.right)&&(b.red=!0,b.left.red=!1,b.right.red=!1),o.is_red(b)&&o.is_red(m)){var x=g.right===v;b===m.get_child(h)?g.set_child(x,o.single_rotate(v,!h)):g.set_child(x,o.double_rotate(v,!h))}var w=this._comparator(b.data,l);if(w===0)break;h=d,d=w<0,v!==null&&(g=v),v=m,m=b,b=b.get_child(d)}this._root=c.right}return this._root.red=!1,u},o.prototype.remove=function(l){if(this._root===null)return!1;var u=new n(void 0),c=u;c.right=this._root;for(var d=null,h=null,v=null,g=!0;c.get_child(g)!==null;){var m=g;h=d,d=c,c=c.get_child(g);var b=this._comparator(l,c.data);if(g=b>0,b===0&&(v=c),!o.is_red(c)&&!o.is_red(c.get_child(g))){if(o.is_red(c.get_child(!g))){var x=o.single_rotate(c,g);d.set_child(m,x),d=x}else if(!o.is_red(c.get_child(!g))){var w=d.get_child(!m);if(w!==null)if(!o.is_red(w.get_child(!m))&&!o.is_red(w.get_child(m)))d.red=!1,w.red=!0,c.red=!0;else{var S=h.right===d;o.is_red(w.get_child(m))?h.set_child(S,o.double_rotate(d,m)):o.is_red(w.get_child(!m))&&h.set_child(S,o.single_rotate(d,m));var E=h.get_child(S);E.red=!0,c.red=!0,E.left.red=!1,E.right.red=!1}}}}return v!==null&&(v.data=c.data,d.set_child(d.right===c,c.get_child(c.left===null)),this.size--),this._root=u.right,this._root!==null&&(this._root.red=!1),v!==null},o.is_red=function(l){return l!==null&&l.red},o.single_rotate=function(l,u){var c=l.get_child(!u);return l.set_child(!u,c.get_child(u)),c.set_child(u,l),l.red=!0,c.red=!1,c},o.double_rotate=function(l,u){return l.set_child(!u,o.single_rotate(l.get_child(!u),!u)),o.single_rotate(l,u)},o})(t);return So.RBTree=a,So}var Jk;function Hf(){if(Jk)return on;Jk=1;var e=on&&on.__extends||(function(){var _=function(M,R){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,L){P.__proto__=L}||function(P,L){for(var N in L)L.hasOwnProperty(N)&&(P[N]=L[N])},_(M,R)};return function(M,R){_(M,R);function P(){this.constructor=M}M.prototype=R===null?Object.create(R):(P.prototype=R.prototype,new P)}})();Object.defineProperty(on,"__esModule",{value:!0});var t=FE(),r=c3();function n(_){return _.bounds=typeof _.leaves<"u"?_.leaves.reduce(function(M,R){return R.bounds.union(M)},a.empty()):a.empty(),typeof _.groups<"u"&&(_.bounds=_.groups.reduce(function(M,R){return n(R).union(M)},_.bounds)),_.bounds=_.bounds.inflate(_.padding),_.bounds}on.computeGroupBounds=n;var a=(function(){function _(M,R,P,L){this.x=M,this.X=R,this.y=P,this.Y=L}return _.empty=function(){return new _(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},_.prototype.cx=function(){return(this.x+this.X)/2},_.prototype.cy=function(){return(this.y+this.Y)/2},_.prototype.overlapX=function(M){var R=this.cx(),P=M.cx();return R<=P&&M.x<this.X?this.X-M.x:P<=R&&this.x<M.X?M.X-this.x:0},_.prototype.overlapY=function(M){var R=this.cy(),P=M.cy();return R<=P&&M.y<this.Y?this.Y-M.y:P<=R&&this.y<M.Y?M.Y-this.y:0},_.prototype.setXCentre=function(M){var R=M-this.cx();this.x+=R,this.X+=R},_.prototype.setYCentre=function(M){var R=M-this.cy();this.y+=R,this.Y+=R},_.prototype.width=function(){return this.X-this.x},_.prototype.height=function(){return this.Y-this.y},_.prototype.union=function(M){return new _(Math.min(this.x,M.x),Math.max(this.X,M.X),Math.min(this.y,M.y),Math.max(this.Y,M.Y))},_.prototype.lineIntersections=function(M,R,P,L){for(var N=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],B=[],G=0;G<4;++G){var I=_.lineIntersection(M,R,P,L,N[G][0],N[G][1],N[G][2],N[G][3]);I!==null&&B.push({x:I.x,y:I.y})}return B},_.prototype.rayIntersection=function(M,R){var P=this.lineIntersections(this.cx(),this.cy(),M,R);return P.length>0?P[0]:null},_.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},_.lineIntersection=function(M,R,P,L,N,B,G,I){var z=P-M,q=G-N,H=L-R,X=I-B,U=X*z-q*H;if(U==0)return null;var V=M-N,Q=R-B,ee=q*Q-X*V,te=ee/U,ie=z*Q-H*V,ue=ie/U;return te>=0&&te<=1&&ue>=0&&ue<=1?{x:M+te*z,y:R+te*H}:null},_.prototype.inflate=function(M){return new _(this.x-M,this.X+M,this.y-M,this.Y+M)},_})();on.Rectangle=a;function i(_,M,R){var P=_.rayIntersection(M.cx(),M.cy())||{x:_.cx(),y:_.cy()},L=M.rayIntersection(_.cx(),_.cy())||{x:M.cx(),y:M.cy()},N=L.x-P.x,B=L.y-P.y,G=Math.sqrt(N*N+B*B),I=G-R;return{sourceIntersection:P,targetIntersection:L,arrowStart:{x:P.x+I*N/G,y:P.y+I*B/G}}}on.makeEdgeBetween=i;function o(_,M,R){var P=M.rayIntersection(_.x,_.y);P||(P={x:M.cx(),y:M.cy()});var L=P.x-_.x,N=P.y-_.y,B=Math.sqrt(L*L+N*N);return{x:P.x-R*L/B,y:P.y-R*N/B}}on.makeEdgeTo=o;var l=(function(){function _(M,R,P){this.v=M,this.r=R,this.pos=P,this.prev=d(),this.next=d()}return _})(),u=(function(){function _(M,R,P){this.isOpen=M,this.v=R,this.pos=P}return _})();function c(_,M){return _.pos>M.pos?1:_.pos<M.pos||_.isOpen?-1:M.isOpen?1:0}function d(){return new r.RBTree(function(_,M){return _.pos-M.pos})}var h={getCentre:function(_){return _.cx()},getOpen:function(_){return _.y},getClose:function(_){return _.Y},getSize:function(_){return _.width()},makeRect:function(_,M,R,P){return new a(R-P/2,R+P/2,_,M)},findNeighbours:b},v={getCentre:function(_){return _.cy()},getOpen:function(_){return _.x},getClose:function(_){return _.X},getSize:function(_){return _.height()},makeRect:function(_,M,R,P){return new a(_,M,R-P/2,R+P/2)},findNeighbours:x};function g(_,M,R,P){P===void 0&&(P=!1);var L=_.padding,N=typeof _.groups<"u"?_.groups.length:0,B=typeof _.leaves<"u"?_.leaves.length:0,G=N?_.groups.reduce(function(Z,re){return Z.concat(g(re,M,R,!0))},[]):[],I=(P?2:0)+B+N,z=new Array(I),q=new Array(I),H=0,X=function(Z,re){q[H]=Z,z[H++]=re};if(P){var U=_.bounds,V=M.getCentre(U),Q=M.getSize(U)/2,ee=M.getOpen(U),te=M.getClose(U),ie=V-Q+L/2,ue=V+Q-L/2;_.minVar.desiredPosition=ie,X(M.makeRect(ee,te,ie,L),_.minVar),_.maxVar.desiredPosition=ue,X(M.makeRect(ee,te,ue,L),_.maxVar)}B&&_.leaves.forEach(function(Z){return X(Z.bounds,Z.variable)}),N&&_.groups.forEach(function(Z){var re=Z.bounds;X(M.makeRect(M.getOpen(re),M.getClose(re),M.getCentre(re),M.getSize(re)),Z.minVar)});var xe=m(q,z,M,R);return N&&(z.forEach(function(Z){Z.cOut=[],Z.cIn=[]}),xe.forEach(function(Z){Z.left.cOut.push(Z),Z.right.cIn.push(Z)}),_.groups.forEach(function(Z){var re=(Z.padding-M.getSize(Z.bounds))/2;Z.minVar.cIn.forEach(function(J){return J.gap+=re}),Z.minVar.cOut.forEach(function(J){J.left=Z.maxVar,J.gap+=re})})),G.concat(xe)}function m(_,M,R,P){var L,N=_.length,B=2*N;console.assert(M.length>=N);var G=new Array(B);for(L=0;L<N;++L){var I=_[L],z=new l(M[L],I,R.getCentre(I));G[L]=new u(!0,z,R.getOpen(I)),G[L+N]=new u(!1,z,R.getClose(I))}G.sort(c);var q=new Array,H=d();for(L=0;L<B;++L){var X=G[L],z=X.v;if(X.isOpen)H.insert(z),R.findNeighbours(z,H);else{H.remove(z);var U=function(ee,te){var ie=(R.getSize(ee.r)+R.getSize(te.r))/2+P;q.push(new t.Constraint(ee.v,te.v,ie))},V=function(ee,te,ie){for(var ue,xe=z[ee].iterator();(ue=xe[ee]())!==null;)ie(ue,z),ue[te].remove(z)};V("prev","next",function(ee,te){return U(ee,te)}),V("next","prev",function(ee,te){return U(te,ee)})}}return console.assert(H.size===0),q}function b(_,M){var R=function(P,L){for(var N=M.findIter(_),B;(B=N[P]())!==null;){var G=B.r.overlapX(_.r);if((G<=0||G<=B.r.overlapY(_.r))&&(_[P].insert(B),B[L].insert(_)),G<=0)break}};R("next","prev"),R("prev","next")}function x(_,M){var R=function(P,L){var N=M.findIter(_)[P]();N!==null&&N.r.overlapX(_.r)>0&&(_[P].insert(N),N[L].insert(_))};R("next","prev"),R("prev","next")}function w(_,M){return m(_,M,h,1e-6)}on.generateXConstraints=w;function S(_,M){return m(_,M,v,1e-6)}on.generateYConstraints=S;function E(_){return g(_,h,1e-6)}on.generateXGroupConstraints=E;function O(_){return g(_,v,1e-6)}on.generateYGroupConstraints=O;function D(_){var M=_.map(function(L){return new t.Variable(L.cx())}),R=w(_,M),P=new t.Solver(M,R);P.solve(),M.forEach(function(L,N){return _[N].setXCentre(L.position())}),M=_.map(function(L){return new t.Variable(L.cy())}),R=S(_,M),P=new t.Solver(M,R),P.solve(),M.forEach(function(L,N){return _[N].setYCentre(L.position())})}on.removeOverlaps=D;var k=(function(_){e(M,_);function M(R,P){var L=_.call(this,0,P)||this;return L.index=R,L}return M})(t.Variable);on.IndexedVariable=k;var T=(function(){function _(M,R,P,L,N){var B=this;if(P===void 0&&(P=null),L===void 0&&(L=null),N===void 0&&(N=!1),this.nodes=M,this.groups=R,this.rootGroup=P,this.avoidOverlaps=N,this.variables=M.map(function(I,z){return I.variable=new k(z,1)}),L&&this.createConstraints(L),N&&P&&typeof P.groups<"u"){M.forEach(function(I){if(!I.width||!I.height){I.bounds=new a(I.x,I.x,I.y,I.y);return}var z=I.width/2,q=I.height/2;I.bounds=new a(I.x-z,I.x+z,I.y-q,I.y+q)}),n(P);var G=M.length;R.forEach(function(I){B.variables[G]=I.minVar=new k(G++,typeof I.stiffness<"u"?I.stiffness:.01),B.variables[G]=I.maxVar=new k(G++,typeof I.stiffness<"u"?I.stiffness:.01)})}}return _.prototype.createSeparation=function(M){return new t.Constraint(this.nodes[M.left].variable,this.nodes[M.right].variable,M.gap,typeof M.equality<"u"?M.equality:!1)},_.prototype.makeFeasible=function(M){var R=this;if(this.avoidOverlaps){var P="x",L="width";M.axis==="x"&&(P="y",L="height");var N=M.offsets.map(function(G){return R.nodes[G.node]}).sort(function(G,I){return G[P]-I[P]}),B=null;N.forEach(function(G){if(B){var I=B[P]+B[L];I>G[P]&&(G[P]=I)}B=G})}},_.prototype.createAlignment=function(M){var R=this,P=this.nodes[M.offsets[0].node].variable;this.makeFeasible(M);var L=M.axis==="x"?this.xConstraints:this.yConstraints;M.offsets.slice(1).forEach(function(N){var B=R.nodes[N.node].variable;L.push(new t.Constraint(P,B,N.offset,!0))})},_.prototype.createConstraints=function(M){var R=this,P=function(L){return typeof L.type>"u"||L.type==="separation"};this.xConstraints=M.filter(function(L){return L.axis==="x"&&P(L)}).map(function(L){return R.createSeparation(L)}),this.yConstraints=M.filter(function(L){return L.axis==="y"&&P(L)}).map(function(L){return R.createSeparation(L)}),M.filter(function(L){return L.type==="alignment"}).forEach(function(L){return R.createAlignment(L)})},_.prototype.setupVariablesAndBounds=function(M,R,P,L){this.nodes.forEach(function(N,B){N.fixed?(N.variable.weight=N.fixedWeight?N.fixedWeight:1e3,P[B]=L(N)):N.variable.weight=1;var G=(N.width||0)/2,I=(N.height||0)/2,z=M[B],q=R[B];N.bounds=new a(z-G,z+G,q-I,q+I)})},_.prototype.xProject=function(M,R,P){!this.rootGroup&&!(this.avoidOverlaps||this.xConstraints)||this.project(M,R,M,P,function(L){return L.px},this.xConstraints,E,function(L){return L.bounds.setXCentre(P[L.variable.index]=L.variable.position())},function(L){var N=P[L.minVar.index]=L.minVar.position(),B=P[L.maxVar.index]=L.maxVar.position(),G=L.padding/2;L.bounds.x=N-G,L.bounds.X=B+G})},_.prototype.yProject=function(M,R,P){!this.rootGroup&&!this.yConstraints||this.project(M,R,R,P,function(L){return L.py},this.yConstraints,O,function(L){return L.bounds.setYCentre(P[L.variable.index]=L.variable.position())},function(L){var N=P[L.minVar.index]=L.minVar.position(),B=P[L.maxVar.index]=L.maxVar.position(),G=L.padding/2;L.bounds.y=N-G,L.bounds.Y=B+G})},_.prototype.projectFunctions=function(){var M=this;return[function(R,P,L){return M.xProject(R,P,L)},function(R,P,L){return M.yProject(R,P,L)}]},_.prototype.project=function(M,R,P,L,N,B,G,I,z){this.setupVariablesAndBounds(M,R,L,N),this.rootGroup&&this.avoidOverlaps&&(n(this.rootGroup),B=B.concat(G(this.rootGroup))),this.solve(this.variables,B,P,L),this.nodes.forEach(I),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(z),n(this.rootGroup))},_.prototype.solve=function(M,R,P,L){var N=new t.Solver(M,R);N.setStartingPositions(P),N.setDesiredPositions(L),N.solve()},_})();return on.Projection=T,on}var Bh={},zc={},eP;function f3(){if(eP)return zc;eP=1,Object.defineProperty(zc,"__esModule",{value:!0});var e=(function(){function r(n){this.elem=n,this.subheaps=[]}return r.prototype.toString=function(n){for(var a="",i=!1,o=0;o<this.subheaps.length;++o){var l=this.subheaps[o];if(!l.elem){i=!1;continue}i&&(a=a+","),a=a+l.toString(n),i=!0}return a!==""&&(a="("+a+")"),(this.elem?n(this.elem):"")+a},r.prototype.forEach=function(n){this.empty()||(n(this.elem,this),this.subheaps.forEach(function(a){return a.forEach(n)}))},r.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(n,a){return n+a.count()},0)},r.prototype.min=function(){return this.elem},r.prototype.empty=function(){return this.elem==null},r.prototype.contains=function(n){if(this===n)return!0;for(var a=0;a<this.subheaps.length;a++)if(this.subheaps[a].contains(n))return!0;return!1},r.prototype.isHeap=function(n){var a=this;return this.subheaps.every(function(i){return n(a.elem,i.elem)&&i.isHeap(n)})},r.prototype.insert=function(n,a){return this.merge(new r(n),a)},r.prototype.merge=function(n,a){return this.empty()?n:n.empty()?this:a(this.elem,n.elem)?(this.subheaps.push(n),this):(n.subheaps.push(this),n)},r.prototype.removeMin=function(n){return this.empty()?null:this.mergePairs(n)},r.prototype.mergePairs=function(n){if(this.subheaps.length==0)return new r(null);if(this.subheaps.length==1)return this.subheaps[0];var a=this.subheaps.pop().merge(this.subheaps.pop(),n),i=this.mergePairs(n);return a.merge(i,n)},r.prototype.decreaseKey=function(n,a,i,o){var l=n.removeMin(o);n.elem=l.elem,n.subheaps=l.subheaps,i!==null&&l.elem!==null&&i(n.elem,n);var u=new r(a);return i!==null&&i(a,u),this.merge(u,o)},r})();zc.PairingHeap=e;var t=(function(){function r(n){this.lessThan=n}return r.prototype.top=function(){return this.empty()?null:this.root.elem},r.prototype.push=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];for(var i,o=0,l;l=n[o];++o)i=new e(l),this.root=this.empty()?i:this.root.merge(i,this.lessThan);return i},r.prototype.empty=function(){return!this.root||!this.root.elem},r.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},r.prototype.forEach=function(n){this.root.forEach(n)},r.prototype.pop=function(){if(this.empty())return null;var n=this.root.min();return this.root=this.root.removeMin(this.lessThan),n},r.prototype.reduceKey=function(n,a,i){i===void 0&&(i=null),this.root=this.root.decreaseKey(n,a,i,this.lessThan)},r.prototype.toString=function(n){return this.root.toString(n)},r.prototype.count=function(){return this.root.count()},r})();return zc.PriorityQueue=t,zc}var tP;function eg(){if(tP)return Bh;tP=1,Object.defineProperty(Bh,"__esModule",{value:!0});var e=f3(),t=(function(){function i(o,l){this.id=o,this.distance=l}return i})(),r=(function(){function i(o){this.id=o,this.neighbours=[]}return i})(),n=(function(){function i(o,l,u){this.node=o,this.prev=l,this.d=u}return i})(),a=(function(){function i(o,l,u,c,d){this.n=o,this.es=l,this.neighbours=new Array(this.n);for(var h=this.n;h--;)this.neighbours[h]=new r(h);for(h=this.es.length;h--;){var v=this.es[h],g=u(v),m=c(v),b=d(v);this.neighbours[g].neighbours.push(new t(m,b)),this.neighbours[m].neighbours.push(new t(g,b))}}return i.prototype.DistanceMatrix=function(){for(var o=new Array(this.n),l=0;l<this.n;++l)o[l]=this.dijkstraNeighbours(l);return o},i.prototype.DistancesFromNode=function(o){return this.dijkstraNeighbours(o)},i.prototype.PathFromNodeToNode=function(o,l){return this.dijkstraNeighbours(o,l)},i.prototype.PathFromNodeToNodeWithPrevCost=function(o,l,u){var c=new e.PriorityQueue(function(O,D){return O.d<=D.d}),d=this.neighbours[o],h=new n(d,null,0),v={};for(c.push(h);!c.empty()&&(h=c.pop(),d=h.node,d.id!==l);)for(var g=d.neighbours.length;g--;){var m=d.neighbours[g],b=this.neighbours[m.id];if(!(h.prev&&b.id===h.prev.node.id)){var x=b.id+","+d.id;if(!(x in v&&v[x]<=h.d)){var w=h.prev?u(h.prev.node.id,d.id,b.id):0,S=h.d+m.distance+w;v[x]=S,c.push(new n(b,h,S))}}}for(var E=[];h.prev;)h=h.prev,E.push(h.node.id);return E},i.prototype.dijkstraNeighbours=function(o,l){l===void 0&&(l=-1);for(var u=new e.PriorityQueue(function(w,S){return w.d<=S.d}),c=this.neighbours.length,d=new Array(c);c--;){var h=this.neighbours[c];h.d=c===o?0:Number.POSITIVE_INFINITY,h.q=u.push(h)}for(;!u.empty();){var v=u.pop();if(d[v.id]=v.d,v.id===l){for(var g=[],m=v;typeof m.prev<"u";)g.push(m.prev.id),m=m.prev;return g}for(c=v.neighbours.length;c--;){var b=v.neighbours[c],m=this.neighbours[b.id],x=v.d+b.distance;v.d!==Number.MAX_VALUE&&m.d>x&&(m.d=x,m.prev=v,u.reduceKey(m.q,m,function(S,E){return S.q=E}))}}return d},i})();return Bh.Calculator=a,Bh}var Xt={},rP;function h3(){if(rP)return Xt;rP=1;var e=Xt&&Xt.__extends||(function(){var N=function(B,G){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,z){I.__proto__=z}||function(I,z){for(var q in z)z.hasOwnProperty(q)&&(I[q]=z[q])},N(B,G)};return function(B,G){N(B,G);function I(){this.constructor=B}B.prototype=G===null?Object.create(G):(I.prototype=G.prototype,new I)}})();Object.defineProperty(Xt,"__esModule",{value:!0});var t=Hf(),r=(function(){function N(){}return N})();Xt.Point=r;var n=(function(){function N(B,G,I,z){this.x1=B,this.y1=G,this.x2=I,this.y2=z}return N})();Xt.LineSegment=n;var a=(function(N){e(B,N);function B(){return N!==null&&N.apply(this,arguments)||this}return B})(r);Xt.PolyPoint=a;function i(N,B,G){return(B.x-N.x)*(G.y-N.y)-(G.x-N.x)*(B.y-N.y)}Xt.isLeft=i;function o(N,B,G){return i(N,B,G)>0}function l(N,B,G){return i(N,B,G)<0}function u(N){var B=N.slice(0).sort(function(te,ie){return te.x!==ie.x?ie.x-te.x:ie.y-te.y}),G=N.length,I,z=0,q=B[0].x;for(I=1;I<G&&B[I].x===q;++I);var H=I-1,X=[];if(X.push(B[z]),H===G-1)B[H].y!==B[z].y&&X.push(B[H]);else{var U,V=G-1,Q=B[G-1].x;for(I=G-2;I>=0&&B[I].x===Q;I--);for(U=I+1,I=H;++I<=U;)if(!(i(B[z],B[U],B[I])>=0&&I<U)){for(;X.length>1&&!(i(X[X.length-2],X[X.length-1],B[I])>0);)X.length-=1;I!=z&&X.push(B[I])}V!=U&&X.push(B[V]);var ee=X.length;for(I=U;--I>=H;)if(!(i(B[V],B[H],B[I])>=0&&I>H)){for(;X.length>ee&&!(i(X[X.length-2],X[X.length-1],B[I])>0);)X.length-=1;I!=z&&X.push(B[I])}}return X}Xt.ConvexHull=u;function c(N,B,G){B.slice(0).sort(function(I,z){return Math.atan2(I.y-N.y,I.x-N.x)-Math.atan2(z.y-N.y,z.x-N.x)}).forEach(G)}Xt.clockwiseRadialSweep=c;function d(N,B){var G=B.slice(0);return G.push(B[0]),{rtan:h(N,G),ltan:v(N,G)}}function h(N,B){var G=B.length-1,I,z,q,H,X;if(l(N,B[1],B[0])&&!o(N,B[G-1],B[0]))return 0;for(I=0,z=G;;){if(z-I===1)return o(N,B[I],B[z])?I:z;if(q=Math.floor((I+z)/2),X=l(N,B[q+1],B[q]),X&&!o(N,B[q-1],B[q]))return q;H=o(N,B[I+1],B[I]),H?X||o(N,B[I],B[q])?z=q:I=q:X&&l(N,B[I],B[q])?z=q:I=q}}function v(N,B){var G=B.length-1,I,z,q,H,X;if(o(N,B[G-1],B[0])&&!l(N,B[1],B[0]))return 0;for(I=0,z=G;;){if(z-I===1)return l(N,B[I],B[z])?I:z;if(q=Math.floor((I+z)/2),X=l(N,B[q+1],B[q]),o(N,B[q-1],B[q])&&!X)return q;H=l(N,B[I+1],B[I]),H?X?l(N,B[I],B[q])?z=q:I=q:z=q:X?I=q:o(N,B[I],B[q])?z=q:I=q}}function g(N,B,G,I,z,q){var H,X;H=G(B[0],N),X=I(N[H],B);for(var U=!1;!U;){for(U=!0;H===N.length-1&&(H=0),!z(B[X],N[H],N[H+1]);)++H;for(;X===0&&(X=B.length-1),!q(N[H],B[X],B[X-1]);)--X,U=!1}return{t1:H,t2:X}}Xt.tangent_PolyPolyC=g;function m(N,B){var G=b(B,N);return{t1:G.t2,t2:G.t1}}Xt.LRtangent_PolyPolyC=m;function b(N,B){return g(N,B,h,v,o,l)}Xt.RLtangent_PolyPolyC=b;function x(N,B){return g(N,B,v,v,l,l)}Xt.LLtangent_PolyPolyC=x;function w(N,B){return g(N,B,h,h,o,o)}Xt.RRtangent_PolyPolyC=w;var S=(function(){function N(B,G){this.t1=B,this.t2=G}return N})();Xt.BiTangent=S;var E=(function(){function N(){}return N})();Xt.BiTangents=E;var O=(function(N){e(B,N);function B(){return N!==null&&N.apply(this,arguments)||this}return B})(r);Xt.TVGPoint=O;var D=(function(){function N(B,G,I,z){this.id=B,this.polyid=G,this.polyvertid=I,this.p=z,z.vv=this}return N})();Xt.VisibilityVertex=D;var k=(function(){function N(B,G){this.source=B,this.target=G}return N.prototype.length=function(){var B=this.source.p.x-this.target.p.x,G=this.source.p.y-this.target.p.y;return Math.sqrt(B*B+G*G)},N})();Xt.VisibilityEdge=k;var T=(function(){function N(B,G){if(this.P=B,this.V=[],this.E=[],G)this.V=G.V.slice(0),this.E=G.E.slice(0);else{for(var I=B.length,z=0;z<I;z++){for(var q=B[z],H=0;H<q.length;++H){var X=q[H],U=new D(this.V.length,z,H,X);this.V.push(U),H>0&&this.E.push(new k(q[H-1].vv,U))}q.length>1&&this.E.push(new k(q[0].vv,q[q.length-1].vv))}for(var z=0;z<I-1;z++)for(var V=B[z],H=z+1;H<I;H++){var Q=B[H],ee=M(V,Q);for(var te in ee){var ie=ee[te],ue=V[ie.t1],xe=Q[ie.t2];this.addEdgeIfVisible(ue,xe,z,H)}}}}return N.prototype.addEdgeIfVisible=function(B,G,I,z){this.intersectsPolys(new n(B.x,B.y,G.x,G.y),I,z)||this.E.push(new k(B.vv,G.vv))},N.prototype.addPoint=function(B,G){var I=this.P.length;this.V.push(new D(this.V.length,I,0,B));for(var z=0;z<I;++z)if(z!==G){var q=this.P[z],H=d(B,q);this.addEdgeIfVisible(B,q[H.ltan],G,z),this.addEdgeIfVisible(B,q[H.rtan],G,z)}return B.vv},N.prototype.intersectsPolys=function(B,G,I){for(var z=0,q=this.P.length;z<q;++z)if(z!=G&&z!=I&&_(B,this.P[z]).length>0)return!0;return!1},N})();Xt.TangentVisibilityGraph=T;function _(N,B){for(var G=[],I=1,z=B.length;I<z;++I){var q=t.Rectangle.lineIntersection(N.x1,N.y1,N.x2,N.y2,B[I-1].x,B[I-1].y,B[I].x,B[I].y);q&&G.push(q)}return G}function M(N,B){for(var G=N.length-1,I=B.length-1,z=new E,q=0;q<G;++q)for(var H=0;H<I;++H){var X=N[q==0?G-1:q-1],U=N[q],V=N[q+1],Q=B[H==0?I-1:H-1],ee=B[H],te=B[H+1],ie=i(X,U,ee),ue=i(U,Q,ee),xe=i(U,ee,te),Z=i(Q,ee,U),re=i(ee,X,U),J=i(ee,U,V);ie>=0&&ue>=0&&xe<0&&Z>=0&&re>=0&&J<0?z.ll=new S(q,H):ie<=0&&ue<=0&&xe>0&&Z<=0&&re<=0&&J>0?z.rr=new S(q,H):ie<=0&&ue>0&&xe<=0&&Z>=0&&re<0&&J>=0?z.rl=new S(q,H):ie>=0&&ue<0&&xe>=0&&Z<=0&&re>0&&J<=0&&(z.lr=new S(q,H))}return z}Xt.tangents=M;function R(N,B){for(var G=1,I=B.length;G<I;++G)if(l(B[G-1],B[G],N))return!1;return!0}function P(N,B){return!N.every(function(G){return!R(G,B)})}function L(N,B){if(P(N,B)||P(B,N))return!0;for(var G=1,I=N.length;G<I;++G){var z=N[G],q=N[G-1];if(_(new n(q.x,q.y,z.x,z.y),B).length>0)return!0}return!1}return Xt.polysOverlap=L,Xt}var jc={},nP;function v3(){if(nP)return jc;nP=1,Object.defineProperty(jc,"__esModule",{value:!0});var e={PADDING:10,GOLDEN_SECTION:(1+Math.sqrt(5))/2,FLOAT_EPSILON:1e-4};function t(n,a,i,m,g,u){g===void 0&&(g=1),u===void 0&&(u=!0);var c=0,d=0,h=a,v=i,g=typeof g<"u"?g:1,m=typeof m<"u"?m:0,b=0,x=0,w=0,S=0,E=[];if(n.length==0)return;O(n),k(n),u&&D(n);function O(P){P.forEach(function(N){L(N)});function L(N){var B=Number.MAX_VALUE,G=Number.MAX_VALUE,I=0,z=0;N.array.forEach(function(q){var H=typeof q.width<"u"?q.width:m,X=typeof q.height<"u"?q.height:m;H/=2,X/=2,I=Math.max(q.x+H,I),B=Math.min(q.x-H,B),z=Math.max(q.y+X,z),G=Math.min(q.y-X,G)}),N.width=I-B,N.height=z-G}}function D(P){P.forEach(function(L){var N={x:0,y:0};L.array.forEach(function(I){N.x+=I.x,N.y+=I.y}),N.x/=L.array.length,N.y/=L.array.length;var B={x:N.x-L.width/2,y:N.y-L.height/2},G={x:L.x-B.x+h/2-b/2,y:L.y-B.y+v/2-x/2};L.array.forEach(function(I){I.x+=G.x,I.y+=G.y})})}function k(P,L){var N=Number.POSITIVE_INFINITY,B=0;P.sort(function(te,ie){return ie.height-te.height}),w=P.reduce(function(te,ie){return te.width<ie.width?te.width:ie.width});for(var G=Q=w,I=ee=M(P),z=0,q=Number.MAX_VALUE,H=Number.MAX_VALUE,X=-1,U=Number.MAX_VALUE,V=Number.MAX_VALUE;U>w||V>e.FLOAT_EPSILON;){if(X!=1)var Q=I-(I-G)/e.GOLDEN_SECTION,q=T(P,Q);if(X!=0)var ee=G+(I-G)/e.GOLDEN_SECTION,H=T(P,ee);if(U=Math.abs(Q-ee),V=Math.abs(q-H),q<N&&(N=q,B=Q),H<N&&(N=H,B=ee),q>H?(G=Q,Q=ee,q=H,X=1):(I=ee,ee=Q,H=q,X=0),z++>100)break}T(P,B)}function T(P,L){E=[],b=0,x=0,S=d;for(var N=0;N<P.length;N++){var B=P[N];_(B,L)}return Math.abs(R()-g)}function _(P,L){for(var N=void 0,B=0;B<E.length;B++)if(E[B].space_left>=P.height&&E[B].x+E[B].width+P.width+e.PADDING-L<=e.FLOAT_EPSILON){N=E[B];break}E.push(P),N!==void 0?(P.x=N.x+N.width+e.PADDING,P.y=N.bottom,P.space_left=P.height,P.bottom=P.y,N.space_left-=P.height+e.PADDING,N.bottom+=P.height+e.PADDING):(P.y=S,S+=P.height+e.PADDING,P.x=c,P.bottom=P.y,P.space_left=P.height),P.y+P.height-x>-1e-4&&(x=P.y+P.height-d),P.x+P.width-b>-1e-4&&(b=P.x+P.width-c)}function M(P){var L=0;return P.forEach(function(N){return L+=N.width+e.PADDING}),L}function R(){return b/x}}jc.applyPacking=t;function r(n,a){for(var i={},o={},l=[],u=0,c=0;c<a.length;c++){var d=a[c],h=d.source,v=d.target;o[h.index]?o[h.index].push(v):o[h.index]=[v],o[v.index]?o[v.index].push(h):o[v.index]=[h]}for(var c=0;c<n.length;c++){var g=n[c];i[g.index]||m(g,!0)}function m(b,x){if(i[b.index]===void 0){x&&(u++,l.push({array:[]})),i[b.index]=u,l[u-1].array.push(b);var w=o[b.index];if(w)for(var S=0;S<w.length;S++)m(w[S],!1)}}return l}return jc.separateGraphs=r,jc}var aP;function Vf(){return aP||(aP=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=u3(),r=GE(),n=UE(),a=Hf(),i=eg(),o=h3(),l=v3(),u;(function(h){h[h.start=0]="start",h[h.tick=1]="tick",h[h.end=2]="end"})(u=e.EventType||(e.EventType={}));function c(h){return typeof h.leaves<"u"||typeof h.groups<"u"}var d=(function(){function h(){var v=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:h.getSourceIndex,getTargetIndex:h.getTargetIndex,setLength:h.setLinkLength,getType:function(g){return typeof v._linkType=="function"?v._linkType(g):0}}}return h.prototype.on=function(v,g){return this.event||(this.event={}),typeof v=="string"?this.event[u[v]]=g:this.event[v]=g,this},h.prototype.trigger=function(v){this.event&&typeof this.event[v.type]<"u"&&this.event[v.type](v)},h.prototype.kick=function(){for(;!this.tick(););},h.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:u.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var v=this._nodes.length;this._links.length;var g,m;for(this._descent.locks.clear(),m=0;m<v;++m)if(g=this._nodes[m],g.fixed){(typeof g.px>"u"||typeof g.py>"u")&&(g.px=g.x,g.py=g.y);var b=[g.px,g.py];this._descent.locks.add(m,b)}var x=this._descent.rungeKutta();return x===0?this._alpha=0:typeof this._lastStress<"u"&&(this._alpha=x),this._lastStress=x,this.updateNodePositions(),this.trigger({type:u.tick,alpha:this._alpha,stress:this._lastStress}),!1},h.prototype.updateNodePositions=function(){for(var v=this._descent.x[0],g=this._descent.x[1],m,b=this._nodes.length;b--;)m=this._nodes[b],m.x=v[b],m.y=g[b]},h.prototype.nodes=function(v){if(!v){if(this._nodes.length===0&&this._links.length>0){var g=0;this._links.forEach(function(b){g=Math.max(g,b.source,b.target)}),this._nodes=new Array(++g);for(var m=0;m<g;++m)this._nodes[m]={}}return this._nodes}return this._nodes=v,this},h.prototype.groups=function(v){var g=this;return v?(this._groups=v,this._rootGroup={},this._groups.forEach(function(m){typeof m.padding>"u"&&(m.padding=1),typeof m.leaves<"u"&&m.leaves.forEach(function(b,x){typeof b=="number"&&((m.leaves[x]=g._nodes[b]).parent=m)}),typeof m.groups<"u"&&m.groups.forEach(function(b,x){typeof b=="number"&&((m.groups[x]=g._groups[b]).parent=m)})}),this._rootGroup.leaves=this._nodes.filter(function(m){return typeof m.parent>"u"}),this._rootGroup.groups=this._groups.filter(function(m){return typeof m.parent>"u"}),this):this._groups},h.prototype.powerGraphGroups=function(v){var g=t.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(g.groups),v(g),this},h.prototype.avoidOverlaps=function(v){return arguments.length?(this._avoidOverlaps=v,this):this._avoidOverlaps},h.prototype.handleDisconnected=function(v){return arguments.length?(this._handleDisconnected=v,this):this._handleDisconnected},h.prototype.flowLayout=function(v,g){return arguments.length||(v="y"),this._directedLinkConstraints={axis:v,getMinSeparation:typeof g=="number"?function(){return g}:g},this},h.prototype.links=function(v){return arguments.length?(this._links=v,this):this._links},h.prototype.constraints=function(v){return arguments.length?(this._constraints=v,this):this._constraints},h.prototype.distanceMatrix=function(v){return arguments.length?(this._distanceMatrix=v,this):this._distanceMatrix},h.prototype.size=function(v){return v?(this._canvasSize=v,this):this._canvasSize},h.prototype.defaultNodeSize=function(v){return v?(this._defaultNodeSize=v,this):this._defaultNodeSize},h.prototype.groupCompactness=function(v){return v?(this._groupCompactness=v,this):this._groupCompactness},h.prototype.linkDistance=function(v){return v?(this._linkDistance=typeof v=="function"?v:+v,this._linkLengthCalculator=null,this):this._linkDistance},h.prototype.linkType=function(v){return this._linkType=v,this},h.prototype.convergenceThreshold=function(v){return v?(this._threshold=typeof v=="function"?v:+v,this):this._threshold},h.prototype.alpha=function(v){return arguments.length?(v=+v,this._alpha?v>0?this._alpha=v:this._alpha=0:v>0&&(this._running||(this._running=!0,this.trigger({type:u.start,alpha:this._alpha=v}),this.kick())),this):this._alpha},h.prototype.getLinkLength=function(v){return typeof this._linkDistance=="function"?+this._linkDistance(v):this._linkDistance},h.setLinkLength=function(v,g){v.length=g},h.prototype.getLinkType=function(v){return typeof this._linkType=="function"?this._linkType(v):0},h.prototype.symmetricDiffLinkLengths=function(v,g){var m=this;return g===void 0&&(g=1),this.linkDistance(function(b){return v*b.length}),this._linkLengthCalculator=function(){return r.symmetricDiffLinkLengths(m._links,m.linkAccessor,g)},this},h.prototype.jaccardLinkLengths=function(v,g){var m=this;return g===void 0&&(g=1),this.linkDistance(function(b){return v*b.length}),this._linkLengthCalculator=function(){return r.jaccardLinkLengths(m._links,m.linkAccessor,g)},this},h.prototype.start=function(v,g,m,b,x,w){var S=this;v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=0),b===void 0&&(b=0),x===void 0&&(x=!0),w===void 0&&(w=!0);var E,O=this.nodes().length,D=O+2*this._groups.length;this._links.length;var k=this._canvasSize[0],T=this._canvasSize[1],_=new Array(D),M=new Array(D),R=null,P=this._avoidOverlaps;this._nodes.forEach(function(H,X){H.index=X,typeof H.x>"u"&&(H.x=k/2,H.y=T/2),_[X]=H.x,M[X]=H.y}),this._linkLengthCalculator&&this._linkLengthCalculator();var L;this._distanceMatrix?L=this._distanceMatrix:(L=new i.Calculator(D,this._links,h.getSourceIndex,h.getTargetIndex,function(H){return S.getLinkLength(H)}).DistanceMatrix(),R=n.Descent.createSquareMatrix(D,function(){return 2}),this._links.forEach(function(H){typeof H.source=="number"&&(H.source=S._nodes[H.source]),typeof H.target=="number"&&(H.target=S._nodes[H.target])}),this._links.forEach(function(H){var X=h.getSourceIndex(H),U=h.getTargetIndex(H);R[X][U]=R[U][X]=H.weight||1}));var N=n.Descent.createSquareMatrix(D,function(H,X){return L[H][X]});if(this._rootGroup&&typeof this._rootGroup.groups<"u"){var E=O,B=function(X,U,V,Q){R[X][U]=R[U][X]=V,N[X][U]=N[U][X]=Q};this._groups.forEach(function(X){B(E,E+1,S._groupCompactness,.1),_[E]=0,M[E++]=0,_[E]=0,M[E++]=0})}else this._rootGroup={leaves:this._nodes,groups:[]};var G=this._constraints||[];this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,G=G.concat(r.generateDirectedEdgeConstraints(O,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new n.Descent([_,M],N),this._descent.locks.clear();for(var E=0;E<O;++E){var I=this._nodes[E];if(I.fixed){I.px=I.x,I.py=I.y;var z=[I.x,I.y];this._descent.locks.add(E,z)}}if(this._descent.threshold=this._threshold,this.initialLayout(v,_,M),G.length>0&&(this._descent.project=new a.Projection(this._nodes,this._groups,this._rootGroup,G).projectFunctions()),this._descent.run(g),this.separateOverlappingComponents(k,T,w),this.avoidOverlaps(P),P&&(this._nodes.forEach(function(H,X){H.x=_[X],H.y=M[X]}),this._descent.project=new a.Projection(this._nodes,this._groups,this._rootGroup,G,!0).projectFunctions(),this._nodes.forEach(function(H,X){_[X]=H.x,M[X]=H.y})),this._descent.G=R,this._descent.run(m),b){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=O,this._descent.scaleSnapByMaxH=O!=D;var q=n.Descent.createSquareMatrix(D,function(H,X){return H>=O||X>=O?R[H][X]:0});this._descent.G=q,this._descent.run(b)}return this.updateNodePositions(),this.separateOverlappingComponents(k,T,w),x?this.resume():this},h.prototype.initialLayout=function(v,g,m){if(this._groups.length>0&&v>0){var b=this._nodes.length,x=this._links.map(function(S){return{source:S.source.index,target:S.target.index}}),w=this._nodes.map(function(S){return{index:S.index}});this._groups.forEach(function(S,E){w.push({index:S.index=b+E})}),this._groups.forEach(function(S,E){typeof S.leaves<"u"&&S.leaves.forEach(function(O){return x.push({source:S.index,target:O.index})}),typeof S.groups<"u"&&S.groups.forEach(function(O){return x.push({source:S.index,target:O.index})})}),new h().size(this.size()).nodes(w).links(x).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(v,0,0,0,!1),this._nodes.forEach(function(S){g[S.index]=w[S.index].x,m[S.index]=w[S.index].y})}else this._descent.run(v)},h.prototype.separateOverlappingComponents=function(v,g,m){var b=this;if(m===void 0&&(m=!0),!this._distanceMatrix&&this._handleDisconnected){var x=this._descent.x[0],w=this._descent.x[1];this._nodes.forEach(function(E,O){E.x=x[O],E.y=w[O]});var S=l.separateGraphs(this._nodes,this._links);l.applyPacking(S,v,g,this._defaultNodeSize,1,m),this._nodes.forEach(function(E,O){b._descent.x[0][O]=E.x,b._descent.x[1][O]=E.y,E.bounds&&(E.bounds.setXCentre(E.x),E.bounds.setYCentre(E.y))})}},h.prototype.resume=function(){return this.alpha(.1)},h.prototype.stop=function(){return this.alpha(0)},h.prototype.prepareEdgeRouting=function(v){v===void 0&&(v=0),this._visibilityGraph=new o.TangentVisibilityGraph(this._nodes.map(function(g){return g.bounds.inflate(-v).vertices()}))},h.prototype.routeEdge=function(v,g,m){g===void 0&&(g=5);var b=[],x=new o.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),w={x:v.source.x,y:v.source.y},S={x:v.target.x,y:v.target.y},E=x.addPoint(w,v.source.index),O=x.addPoint(S,v.target.index);x.addEdgeIfVisible(w,S,v.source.index,v.target.index),typeof m<"u"&&m(x);var D=function(G){return G.source.id},k=function(G){return G.target.id},T=function(G){return G.length()},_=new i.Calculator(x.V.length,x.E,D,k,T),M=_.PathFromNodeToNode(E.id,O.id);if(M.length===1||M.length===x.V.length){var R=a.makeEdgeBetween(v.source.innerBounds,v.target.innerBounds,g);b=[R.sourceIntersection,R.arrowStart]}else{for(var P=M.length-2,L=x.V[M[P]].p,N=x.V[M[0]].p,b=[v.source.innerBounds.rayIntersection(L.x,L.y)],B=P;B>=0;--B)b.push(x.V[M[B]].p);b.push(a.makeEdgeTo(N,v.target.innerBounds,g))}return b},h.getSourceIndex=function(v){return typeof v.source=="number"?v.source:v.source.index},h.getTargetIndex=function(v){return typeof v.target=="number"?v.target:v.target.index},h.linkId=function(v){return h.getSourceIndex(v)+"-"+h.getTargetIndex(v)},h.dragStart=function(v){c(v)?h.storeOffset(v,h.dragOrigin(v)):(h.stopNode(v),v.fixed|=2)},h.stopNode=function(v){v.px=v.x,v.py=v.y},h.storeOffset=function(v,g){typeof v.leaves<"u"&&v.leaves.forEach(function(m){m.fixed|=2,h.stopNode(m),m._dragGroupOffsetX=m.x-g.x,m._dragGroupOffsetY=m.y-g.y}),typeof v.groups<"u"&&v.groups.forEach(function(m){return h.storeOffset(m,g)})},h.dragOrigin=function(v){return c(v)?{x:v.bounds.cx(),y:v.bounds.cy()}:v},h.drag=function(v,g){c(v)?(typeof v.leaves<"u"&&v.leaves.forEach(function(m){v.bounds.setXCentre(g.x),v.bounds.setYCentre(g.y),m.px=m._dragGroupOffsetX+g.x,m.py=m._dragGroupOffsetY+g.y}),typeof v.groups<"u"&&v.groups.forEach(function(m){return h.drag(m,g)})):(v.px=g.x,v.py=g.y)},h.dragEnd=function(v){c(v)?(typeof v.leaves<"u"&&v.leaves.forEach(function(g){h.dragEnd(g),delete g._dragGroupOffsetX,delete g._dragGroupOffsetY}),typeof v.groups<"u"&&v.groups.forEach(h.dragEnd)):v.fixed&=-7},h.mouseOver=function(v){v.fixed|=4,v.px=v.x,v.py=v.y},h.mouseOut=function(v){v.fixed&=-5},h})();e.Layout=d})(x1)),x1}var iP;function One(){if(iP)return ys;iP=1;var e=ys&&ys.__extends||(function(){var a=function(i,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var c in u)u.hasOwnProperty(c)&&(l[c]=u[c])},a(i,o)};return function(i,o){a(i,o);function l(){this.constructor=i}i.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}})();Object.defineProperty(ys,"__esModule",{value:!0});var t=Vf(),r=(function(a){e(i,a);function i(o){var l=a.call(this)||this,u=o;return u.trigger&&(l.trigger=u.trigger),u.kick&&(l.kick=u.kick),u.drag&&(l.drag=u.drag),u.on&&(l.on=u.on),l.dragstart=l.dragStart=t.Layout.dragStart,l.dragend=l.dragEnd=t.Layout.dragEnd,l}return i.prototype.trigger=function(o){},i.prototype.kick=function(){},i.prototype.drag=function(){},i.prototype.on=function(o,l){return this},i})(t.Layout);ys.LayoutAdaptor=r;function n(a){return new r(a)}return ys.adaptor=n,ys}var Ih={},xs={},oP;function _ne(){if(oP)return xs;oP=1;var e=xs&&xs.__extends||(function(){var a=function(i,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var c in u)u.hasOwnProperty(c)&&(l[c]=u[c])},a(i,o)};return function(i,o){a(i,o);function l(){this.constructor=i}i.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}})();Object.defineProperty(xs,"__esModule",{value:!0});var t=Vf(),r=(function(a){e(i,a);function i(){var o=a.call(this)||this;o.event=d3.dispatch(t.EventType[t.EventType.start],t.EventType[t.EventType.tick],t.EventType[t.EventType.end]);var l=o;return o.drag=function(){if(!u)var u=d3.behavior.drag().origin(t.Layout.dragOrigin).on("dragstart.d3adaptor",t.Layout.dragStart).on("drag.d3adaptor",function(c){t.Layout.drag(c,d3.event),l.resume()}).on("dragend.d3adaptor",t.Layout.dragEnd);if(!arguments.length)return u;this.call(u)},o}return i.prototype.trigger=function(o){var l={type:t.EventType[o.type],alpha:o.alpha,stress:o.stress};this.event[l.type](l)},i.prototype.kick=function(){var o=this;d3.timer(function(){return a.prototype.tick.call(o)})},i.prototype.on=function(o,l){return typeof o=="string"?this.event.on(o,l):this.event.on(t.EventType[o],l),this},i})(t.Layout);xs.D3StyleLayoutAdaptor=r;function n(){return new r}return xs.d3adaptor=n,xs}var Yl={},sP;function Mne(){if(sP)return Yl;sP=1;var e=Yl&&Yl.__extends||(function(){var n=function(a,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var u in l)l.hasOwnProperty(u)&&(o[u]=l[u])},n(a,i)};return function(a,i){n(a,i);function o(){this.constructor=a}a.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}})();Object.defineProperty(Yl,"__esModule",{value:!0});var t=Vf(),r=(function(n){e(a,n);function a(i){var o=n.call(this)||this;o.d3Context=i,o.event=i.dispatch(t.EventType[t.EventType.start],t.EventType[t.EventType.tick],t.EventType[t.EventType.end]);var l=o;return o.drag=function(){if(!u)var u=i.drag().subject(t.Layout.dragOrigin).on("start.d3adaptor",t.Layout.dragStart).on("drag.d3adaptor",function(c){t.Layout.drag(c,i.event),l.resume()}).on("end.d3adaptor",t.Layout.dragEnd);if(!arguments.length)return u;arguments[0].call(u)},o}return a.prototype.trigger=function(i){var o={type:t.EventType[i.type],alpha:i.alpha,stress:i.stress};this.event.call(o.type,o)},a.prototype.kick=function(){var i=this,o=this.d3Context.timer(function(){return n.prototype.tick.call(i)&&o.stop()})},a.prototype.on=function(i,o){return typeof i=="string"?this.event.on(i,o):this.event.on(t.EventType[i],o),this},a})(t.Layout);return Yl.D3StyleLayoutAdaptor=r,Yl}var lP;function Dne(){if(lP)return Ih;lP=1,Object.defineProperty(Ih,"__esModule",{value:!0});var e=_ne(),t=Mne();function r(a){return!a||n(a)?new e.D3StyleLayoutAdaptor:new t.D3StyleLayoutAdaptor(a)}Ih.d3adaptor=r;function n(a){var i=/^3\./;return a.version&&a.version.match(i)!==null}return Ih}var ws={},uP;function p3(){if(uP)return ws;uP=1,Object.defineProperty(ws,"__esModule",{value:!0});var e=Hf(),t=FE(),r=eg(),n=(function(){function l(u,c,d){this.id=u,this.rect=c,this.children=d,this.leaf=typeof d>"u"||d.length===0}return l})();ws.NodeWrapper=n;var a=(function(){function l(u,c,d,h,v){h===void 0&&(h=null),v===void 0&&(v=null),this.id=u,this.x=c,this.y=d,this.node=h,this.line=v}return l})();ws.Vert=a;var i=(function(){function l(u,c){this.s=u,this.t=c;var d=l.findMatch(u,c),h=c.slice(0).reverse(),v=l.findMatch(u,h);d.length>=v.length?(this.length=d.length,this.si=d.si,this.ti=d.ti,this.reversed=!1):(this.length=v.length,this.si=v.si,this.ti=c.length-v.ti-v.length,this.reversed=!0)}return l.findMatch=function(u,c){for(var d=u.length,h=c.length,v={length:0,si:-1,ti:-1},g=new Array(d),m=0;m<d;m++){g[m]=new Array(h);for(var b=0;b<h;b++)if(u[m]===c[b]){var x=g[m][b]=m===0||b===0?1:g[m-1][b-1]+1;x>v.length&&(v.length=x,v.si=m-x+1,v.ti=b-x+1)}else g[m][b]=0}return v},l.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},l})();ws.LongestCommonSubsequence=i;var o=(function(){function l(u,c,d){var h=this;d===void 0&&(d=12),this.originalnodes=u,this.groupPadding=d,this.leaves=null,this.nodes=u.map(function(k,T){return new n(T,c.getBounds(k),c.getChildren(k))}),this.leaves=this.nodes.filter(function(k){return k.leaf}),this.groups=this.nodes.filter(function(k){return!k.leaf}),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(function(k){return k.children.forEach(function(T){return h.nodes[T].parent=k})}),this.root={children:[]},this.nodes.forEach(function(k){typeof k.parent>"u"&&(k.parent=h.root,h.root.children.push(k.id)),k.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort(function(k,T){return h.getDepth(k)-h.getDepth(T)});var v=this.backToFront.slice(0).reverse().filter(function(k){return!k.leaf});v.forEach(function(k){var T=e.Rectangle.empty();k.children.forEach(function(_){return T=T.union(h.nodes[_].rect)}),k.rect=T.inflate(h.groupPadding)});var g=this.midPoints(this.cols.map(function(k){return k.pos})),m=this.midPoints(this.rows.map(function(k){return k.pos})),b=g[0],x=g[g.length-1],w=m[0],S=m[m.length-1],E=this.rows.map(function(k){return{x1:b,x2:x,y1:k.pos,y2:k.pos}}).concat(m.map(function(k){return{x1:b,x2:x,y1:k,y2:k}})),O=this.cols.map(function(k){return{x1:k.pos,x2:k.pos,y1:w,y2:S}}).concat(g.map(function(k){return{x1:k,x2:k,y1:w,y2:S}})),D=E.concat(O);D.forEach(function(k){return k.verts=[]}),this.verts=[],this.edges=[],E.forEach(function(k){return O.forEach(function(T){var _=new a(h.verts.length,T.x1,k.y1);k.verts.push(_),T.verts.push(_),h.verts.push(_);for(var M=h.backToFront.length;M-- >0;){var R=h.backToFront[M],P=R.rect,L=Math.abs(_.x-P.cx()),N=Math.abs(_.y-P.cy());if(L<P.width()/2&&N<P.height()/2){_.node=R;break}}})}),D.forEach(function(k,T){h.nodes.forEach(function(N,B){N.rect.lineIntersections(k.x1,k.y1,k.x2,k.y2).forEach(function(G,I){var z=new a(h.verts.length,G.x,G.y,N,k);h.verts.push(z),k.verts.push(z),N.ports.push(z)})});var _=Math.abs(k.y1-k.y2)<.1,M=function(N,B){return _?B.x-N.x:B.y-N.y};k.verts.sort(M);for(var R=1;R<k.verts.length;R++){var P=k.verts[R-1],L=k.verts[R];P.node&&P.node===L.node&&P.node.leaf||h.edges.push({source:P.id,target:L.id,length:Math.abs(M(P,L))})}})}return l.prototype.avg=function(u){return u.reduce(function(c,d){return c+d})/u.length},l.prototype.getGridLines=function(u){for(var c=[],d=this.leaves.slice(0,this.leaves.length);d.length>0;){var h=d.filter(function(g){return g.rect["overlap"+u.toUpperCase()](d[0].rect)}),v={nodes:h,pos:this.avg(h.map(function(g){return g.rect["c"+u]()}))};c.push(v),v.nodes.forEach(function(g){return d.splice(d.indexOf(g),1)})}return c.sort(function(g,m){return g.pos-m.pos}),c},l.prototype.getDepth=function(u){for(var c=0;u.parent!==this.root;)c++,u=u.parent;return c},l.prototype.midPoints=function(u){for(var c=u[1]-u[0],d=[u[0]-c/2],h=1;h<u.length;h++)d.push((u[h]+u[h-1])/2);return d.push(u[u.length-1]+c/2),d},l.prototype.findLineage=function(u){var c=[u];do u=u.parent,c.push(u);while(u!==this.root);return c.reverse()},l.prototype.findAncestorPathBetween=function(u,c){for(var d=this.findLineage(u),h=this.findLineage(c),v=0;d[v]===h[v];)v++;return{commonAncestor:d[v-1],lineages:d.slice(v).concat(h.slice(v))}},l.prototype.siblingObstacles=function(u,c){var d=this,h=this.findAncestorPathBetween(u,c),v={};h.lineages.forEach(function(m){return v[m.id]={}});var g=h.commonAncestor.children.filter(function(m){return!(m in v)});return h.lineages.filter(function(m){return m.parent!==h.commonAncestor}).forEach(function(m){return g=g.concat(m.parent.children.filter(function(b){return b!==m.id}))}),g.map(function(m){return d.nodes[m]})},l.getSegmentSets=function(u,c,d){for(var h=[],v=0;v<u.length;v++)for(var g=u[v],m=0;m<g.length;m++){var b=g[m];b.edgeid=v,b.i=m;var x=b[1][c]-b[0][c];Math.abs(x)<.1&&h.push(b)}h.sort(function(O,D){return O[0][c]-D[0][c]});for(var w=[],S=null,E=0;E<h.length;E++){var b=h[E];(!S||Math.abs(b[0][c]-S.pos)>.1)&&(S={pos:b[0][c],segments:[]},w.push(S)),S.segments.push(b)}return w},l.nudgeSegs=function(u,c,d,h,v,g){var m=h.length;if(!(m<=1)){for(var b=h.map(function(R){return new t.Variable(R[0][u])}),x=[],w=0;w<m;w++)for(var S=0;S<m;S++)if(w!==S){var E=h[w],O=h[S],D=E.edgeid,k=O.edgeid,T=-1,_=-1;u=="x"?v(D,k)&&(E[0][c]<E[1][c]?(T=S,_=w):(T=w,_=S)):v(D,k)&&(E[0][c]<E[1][c]?(T=w,_=S):(T=S,_=w)),T>=0&&x.push(new t.Constraint(b[T],b[_],g))}var M=new t.Solver(b,x);M.solve(),b.forEach(function(R,P){var L=h[P],N=R.position();L[0][u]=L[1][u]=N;var B=d[L.edgeid];L.i>0&&(B[L.i-1][1][u]=N),L.i<B.length-1&&(B[L.i+1][0][u]=N)})}},l.nudgeSegments=function(u,c,d,h,v){for(var g=l.getSegmentSets(u,c,d),m=0;m<g.length;m++){for(var b=g[m],x=[],w=0;w<b.segments.length;w++){var S=b.segments[w];x.push({type:0,s:S,pos:Math.min(S[0][d],S[1][d])}),x.push({type:1,s:S,pos:Math.max(S[0][d],S[1][d])})}x.sort(function(D,k){return D.pos-k.pos+D.type-k.type});var E=[],O=0;x.forEach(function(D){D.type===0?(E.push(D.s),O++):O--,O==0&&(l.nudgeSegs(c,d,u,E,h,v),E=[])})}},l.prototype.routeEdges=function(u,c,d,h){var v=this,g=u.map(function(x){return v.route(d(x),h(x))}),m=l.orderEdges(g),b=g.map(function(x){return l.makeSegments(x)});return l.nudgeSegments(b,"x","y",m,c),l.nudgeSegments(b,"y","x",m,c),l.unreverseEdges(b,g),b},l.unreverseEdges=function(u,c){u.forEach(function(d,h){var v=c[h];v.reversed&&(d.reverse(),d.forEach(function(g){g.reverse()}))})},l.angleBetween2Lines=function(u,c){var d=Math.atan2(u[0].y-u[1].y,u[0].x-u[1].x),h=Math.atan2(c[0].y-c[1].y,c[0].x-c[1].x),v=d-h;return(v>Math.PI||v<-Math.PI)&&(v=h-d),v},l.isLeft=function(u,c,d){return(c.x-u.x)*(d.y-u.y)-(c.y-u.y)*(d.x-u.x)<=0},l.getOrder=function(u){for(var c={},d=0;d<u.length;d++){var h=u[d];typeof c[h.l]>"u"&&(c[h.l]={}),c[h.l][h.r]=!0}return function(v,g){return typeof c[v]<"u"&&c[v][g]}},l.orderEdges=function(u){for(var c=[],d=0;d<u.length-1;d++)for(var h=d+1;h<u.length;h++){var v=u[d],g=u[h],m=new i(v,g),b,x,w;if(m.length!==0){if(m.reversed&&(g.reverse(),g.reversed=!0,m=new i(v,g)),(m.si<=0||m.ti<=0)&&(m.si+m.length>=v.length||m.ti+m.length>=g.length)){c.push({l:d,r:h});continue}m.si+m.length>=v.length||m.ti+m.length>=g.length?(b=v[m.si+1],w=v[m.si-1],x=g[m.ti-1]):(b=v[m.si+m.length-2],x=v[m.si+m.length],w=g[m.ti+m.length]),l.isLeft(b,x,w)?c.push({l:h,r:d}):c.push({l:d,r:h})}}return l.getOrder(c)},l.makeSegments=function(u){function c(x){return{x:x.x,y:x.y}}for(var d=function(x,w,S){return Math.abs((w.x-x.x)*(S.y-x.y)-(w.y-x.y)*(S.x-x.x))<.001},h=[],v=c(u[0]),g=1;g<u.length;g++){var m=c(u[g]),b=g<u.length-1?u[g+1]:null;(!b||!d(v,m,b))&&(h.push([v,m]),v=m)}return h},l.prototype.route=function(u,c){var d=this,h=this.nodes[u],v=this.nodes[c];this.obstacles=this.siblingObstacles(h,v);var g={};this.obstacles.forEach(function(_){return g[_.id]=_}),this.passableEdges=this.edges.filter(function(_){var M=d.verts[_.source],R=d.verts[_.target];return!(M.node&&M.node.id in g||R.node&&R.node.id in g)});for(var m=1;m<h.ports.length;m++){var b=h.ports[0].id,x=h.ports[m].id;this.passableEdges.push({source:b,target:x,length:0})}for(var m=1;m<v.ports.length;m++){var b=v.ports[0].id,x=v.ports[m].id;this.passableEdges.push({source:b,target:x,length:0})}var w=function(_){return _.source},S=function(_){return _.target},E=function(_){return _.length},O=new r.Calculator(this.verts.length,this.passableEdges,w,S,E),D=function(_,M,R){var P=d.verts[_],L=d.verts[M],N=d.verts[R],B=Math.abs(N.x-P.x),G=Math.abs(N.y-P.y);return P.node===h&&P.node===L.node||L.node===v&&L.node===N.node?0:B>1&&G>1?1e3:0},k=O.PathFromNodeToNodeWithPrevCost(h.ports[0].id,v.ports[0].id,D),T=k.reverse().map(function(_){return d.verts[_]});return T.push(this.nodes[v.id].ports[0]),T.filter(function(_,M){return!(M<T.length-1&&T[M+1].node===h&&_.node===h||M>0&&_.node===v&&T[M-1].node===v)})},l.getRoutePath=function(u,c,d,h){var v={routepath:"M "+u[0][0].x+" "+u[0][0].y+" ",arrowpath:""};if(u.length>1)for(var g=0;g<u.length;g++){var m=u[g],b=m[1].x,x=m[1].y,w=b-m[0].x,S=x-m[0].y;if(g<u.length-1){Math.abs(w)>0?b-=w/Math.abs(w)*c:x-=S/Math.abs(S)*c,v.routepath+="L "+b+" "+x+" ";var E=u[g+1],O=E[0].x,D=E[0].y,k=E[1].x,T=E[1].y;w=k-O,S=T-D;var _=l.angleBetween2Lines(m,E)<0?1:0,M,R;Math.abs(w)>0?(M=O+w/Math.abs(w)*c,R=D):(M=O,R=D+S/Math.abs(S)*c);var P=Math.abs(M-b),L=Math.abs(R-x);v.routepath+="A "+P+" "+L+" 0 0 "+_+" "+M+" "+R+" "}else{var N=[b,x],B,G;Math.abs(w)>0?(b-=w/Math.abs(w)*h,B=[b,x+d],G=[b,x-d]):(x-=S/Math.abs(S)*h,B=[b+d,x],G=[b-d,x]),v.routepath+="L "+b+" "+x+" ",h>0&&(v.arrowpath="M "+N[0]+" "+N[1]+" L "+B[0]+" "+B[1]+" L "+G[0]+" "+G[1])}}else{var m=u[0],b=m[1].x,x=m[1].y,w=b-m[0].x,S=x-m[0].y,N=[b,x],B,G;Math.abs(w)>0?(b-=w/Math.abs(w)*h,B=[b,x+d],G=[b,x-d]):(x-=S/Math.abs(S)*h,B=[b+d,x],G=[b-d,x]),v.routepath+="L "+b+" "+x+" ",h>0&&(v.arrowpath="M "+N[0]+" "+N[1]+" L "+B[0]+" "+B[1]+" L "+G[0]+" "+G[1])}return v},l})();return ws.GridRouter=o,ws}var $l={},cP;function kne(){if(cP)return $l;cP=1,Object.defineProperty($l,"__esModule",{value:!0});var e=eg(),t=UE(),r=Hf(),n=GE(),a=(function(){function u(c,d){this.source=c,this.target=d}return u.prototype.actualLength=function(c){var d=this;return Math.sqrt(c.reduce(function(h,v){var g=v[d.target]-v[d.source];return h+g*g},0))},u})();$l.Link3D=a;var i=(function(){function u(c,d,h){c===void 0&&(c=0),d===void 0&&(d=0),h===void 0&&(h=0),this.x=c,this.y=d,this.z=h}return u})();$l.Node3D=i;var o=(function(){function u(c,d,h){var v=this;h===void 0&&(h=1),this.nodes=c,this.links=d,this.idealLinkLength=h,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(u.k);for(var g=0;g<u.k;++g)this.result[g]=new Array(c.length);c.forEach(function(m,b){for(var x=0,w=u.dims;x<w.length;x++){var S=w[x];typeof m[S]>"u"&&(m[S]=Math.random())}v.result[0][b]=m.x,v.result[1][b]=m.y,v.result[2][b]=m.z})}return u.prototype.linkLength=function(c){return c.actualLength(this.result)},u.prototype.start=function(c){var d=this;c===void 0&&(c=100);var h=this.nodes.length,v=new l;this.useJaccardLinkLengths&&n.jaccardLinkLengths(this.links,v,1.5),this.links.forEach(function(S){return S.length*=d.idealLinkLength});var g=new e.Calculator(h,this.links,function(S){return S.source},function(S){return S.target},function(S){return S.length}).DistanceMatrix(),m=t.Descent.createSquareMatrix(h,function(S,E){return g[S][E]}),b=t.Descent.createSquareMatrix(h,function(){return 2});this.links.forEach(function(S){var E=S.source,O=S.target;return b[E][O]=b[O][E]=1}),this.descent=new t.Descent(this.result,m),this.descent.threshold=.001,this.descent.G=b,this.constraints&&(this.descent.project=new r.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var x=0;x<this.nodes.length;x++){var w=this.nodes[x];w.fixed&&this.descent.locks.add(x,[w.x,w.y,w.z])}return this.descent.run(c),this},u.prototype.tick=function(){this.descent.locks.clear();for(var c=0;c<this.nodes.length;c++){var d=this.nodes[c];d.fixed&&this.descent.locks.add(c,[d.x,d.y,d.z])}return this.descent.rungeKutta()},u.dims=["x","y","z"],u.k=u.dims.length,u})();$l.Layout3D=o;var l=(function(){function u(){}return u.prototype.getSourceIndex=function(c){return c.source},u.prototype.getTargetIndex=function(c){return c.target},u.prototype.getLength=function(c){return c.length},u.prototype.setLength=function(c,d){c.length=d},u})();return $l}var Gc={},fP;function Pne(){if(fP)return Gc;fP=1,Object.defineProperty(Gc,"__esModule",{value:!0});var e=Vf(),t=p3();function r(i,o,l,u){i.cola.start(0,0,0,10,!1);var c=n(i.cola.nodes(),i.cola.groups(),l,u);return c.routeEdges(i.powerGraph.powerEdges,o,function(d){return d.source.routerNode.id},function(d){return d.target.routerNode.id})}Gc.gridify=r;function n(i,o,l,u){i.forEach(function(d){d.routerNode={name:d.name,bounds:d.bounds.inflate(-l)}}),o.forEach(function(d){d.routerNode={bounds:d.bounds.inflate(-u),children:(typeof d.groups<"u"?d.groups.map(function(h){return i.length+h.id}):[]).concat(typeof d.leaves<"u"?d.leaves.map(function(h){return h.index}):[])}});var c=i.concat(o).map(function(d,h){return d.routerNode.id=h,d.routerNode});return new t.GridRouter(c,{getChildren:function(d){return d.children},getBounds:function(d){return d.bounds}},l-u)}function a(i,o,l){var u;i.nodes.forEach(function(v,g){return v.index=g}),new e.Layout().avoidOverlaps(!1).nodes(i.nodes).links(i.links).powerGraphGroups(function(v){u=v,u.groups.forEach(function(g){return g.padding=l})});var c=i.nodes.length,d=[],h=i.nodes.slice(0);return h.forEach(function(v,g){return v.index=g}),u.groups.forEach(function(v){var g=v.index=v.id+c;h.push(v),typeof v.leaves<"u"&&v.leaves.forEach(function(m){return d.push({source:g,target:m.index})}),typeof v.groups<"u"&&v.groups.forEach(function(m){return d.push({source:g,target:m.id+c})})}),u.powerEdges.forEach(function(v){d.push({source:v.source.index,target:v.target.index})}),new e.Layout().size(o).nodes(h).links(d).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:new e.Layout().convergenceThreshold(.001).size(o).avoidOverlaps(!0).nodes(i.nodes).links(i.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(v){u=v,u.groups.forEach(function(g){g.padding=l})}).start(50,0,100,0,!1),powerGraph:u}}return Gc.powerGraphGridLayout=a,Gc}var dP;function Nne(){return dP||(dP=1,(function(e){function t(r){for(var n in r)e.hasOwnProperty(n)||(e[n]=r[n])}Object.defineProperty(e,"__esModule",{value:!0}),t(One()),t(Dne()),t(UE()),t(h3()),t(p3()),t(v3()),t(Vf()),t(kne()),t(GE()),t(u3()),t(f3()),t(c3()),t(Hf()),t(eg()),t(FE()),t(Pne())})(b1)),b1}var Rne=Qh.exports,hP;function Lne(){return hP||(hP=1,(function(e,t){(function(n,a){e.exports=a(Nne())})(Rne,function(r){return(function(n){var a={};function i(o){if(a[o])return a[o].exports;var l=a[o]={i:o,l:!1,exports:{}};return n[o].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=n,i.c=a,i.i=function(o){return o},i.d=function(o,l,u){i.o(o,l)||Object.defineProperty(o,l,{configurable:!1,enumerable:!0,get:u})},i.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(l,"a",l),l},i.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},i.p="",i(i.s=3)})([(function(n,a,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},l=i(1),u=i(2),c=i(5)||(typeof window<"u"?window.cola:null),d=i(4),h=function(E){return(typeof E>"u"?"undefined":o(E))===o("")},v=function(E){return(typeof E>"u"?"undefined":o(E))===o(0)},g=function(E){return E!=null&&(typeof E>"u"?"undefined":o(E))===o({})},m=function(E){return E!=null&&(typeof E>"u"?"undefined":o(E))===o(function(){})},b=function(){},x=function(E,O){if(m(E)){var D=E;return D.apply(O,[O])}else return E};function w(S){this.options=l({},u,S)}w.prototype.run=function(){var S=this,E=this.options;S.manuallyStopped=!1;var O=E.cy,D=E.eles,k=D.nodes(),T=D.edges(),_=!1,M=function(W){return W.isParent()},R=k.filter(M),P=k.subtract(R),L=E.boundingBox||{x1:0,y1:0,w:O.width(),h:O.height()};L.x2===void 0&&(L.x2=L.x1+L.w),L.w===void 0&&(L.w=L.x2-L.x1),L.y2===void 0&&(L.y2=L.y1+L.h),L.h===void 0&&(L.h=L.y2-L.y1);var N=function(){for(var W=0;W<k.length;W++){var se=k[W],he=se.layoutDimensions(E),Ce=se.scratch("cola");if(!Ce.updatedDims){var _e=x(E.nodeSpacing,se);Ce.width=he.w+2*_e,Ce.height=he.h+2*_e}}k.positions(function(Me){var Ie=Me.scratch().cola,Ne=void 0;return!Me.grabbed()&&P.contains(Me)&&(Ne={x:L.x1+Ie.x,y:L.y1+Ie.y},(!v(Ne.x)||!v(Ne.y))&&(Ne=void 0)),Ne}),k.updateCompoundBounds(),_||(G(),_=!0),E.fit&&O.fit(E.padding)},B=function(){E.ungrabifyWhileSimulating&&q.grabify(),O.off("destroy",H),k.off("grab free position",X),k.off("lock unlock",U),S.one("layoutstop",E.stop),S.trigger({type:"layoutstop",layout:S})},G=function(){S.one("layoutready",E.ready),S.trigger({type:"layoutready",layout:S})},I=E.refresh;E.refresh<0?I=1:I=Math.max(1,I);var z=S.adaptor=c.adaptor({trigger:function(W){var se=c.EventType?c.EventType.tick:null,he=c.EventType?c.EventType.end:null;switch(W.type){case"tick":case se:E.animate&&N();break;case"end":case he:N(),E.infinite||B();break}},kick:function(){var W=!0,se=function(){if(S.manuallyStopped)return B(),!0;var Me=z.tick();return!E.infinite&&!W&&z.convergenceThreshold(E.convergenceThreshold),W=!1,Me&&E.infinite&&z.resume(),Me},he=function(){for(var Me=void 0,Ie=0;Ie<I&&!Me;Ie++)Me=Me||se();return Me};if(E.animate){var Ce=function _e(){he()||d(_e)};d(Ce)}else for(;!se(););},on:b,drag:b});S.adaptor=z;var q=k.filter(":grabbable");E.ungrabifyWhileSimulating&&q.ungrabify();var H=void 0;O.one("destroy",H=function(){S.stop()});var X=void 0;k.on("grab free position",X=function(W){var se=this,he=se.scratch().cola,Ce=se.position(),_e=W.cyTarget===se||W.target===se;if(_e)switch(W.type){case"grab":z.dragstart(he);break;case"free":z.dragend(he);break;case"position":(he.px!==Ce.x-L.x1||he.py!==Ce.y-L.y1)&&(he.px=Ce.x-L.x1,he.py=Ce.y-L.y1);break}});var U=void 0;k.on("lock unlock",U=function(){var W=this,se=W.scratch().cola;se.fixed=W.locked(),W.locked()?z.dragstart(se):z.dragend(se)}),z.nodes(P.map(function(J,W){var se=x(E.nodeSpacing,J),he=J.position(),Ce=J.layoutDimensions(E),_e=J.scratch().cola={x:E.randomize&&!J.locked()||he.x===void 0?Math.round(Math.random()*L.w):he.x,y:E.randomize&&!J.locked()||he.y===void 0?Math.round(Math.random()*L.h):he.y,width:Ce.w+2*se,height:Ce.h+2*se,index:W,fixed:J.locked()};return _e}));var V=[];if(E.alignment){if(E.alignment.vertical){var Q=E.alignment.vertical;Q.forEach(function(J){var W=[];J.forEach(function(se){var he=se.node,Ce=he.scratch().cola,_e=Ce.index;W.push({node:_e,offset:se.offset?se.offset:0})}),V.push({type:"alignment",axis:"x",offsets:W})})}if(E.alignment.horizontal){var ee=E.alignment.horizontal;ee.forEach(function(J){var W=[];J.forEach(function(se){var he=se.node,Ce=he.scratch().cola,_e=Ce.index;W.push({node:_e,offset:se.offset?se.offset:0})}),V.push({type:"alignment",axis:"y",offsets:W})})}}E.gapInequalities&&E.gapInequalities.forEach(function(J){var W=J.left.scratch().cola.index,se=J.right.scratch().cola.index;V.push({axis:J.axis,left:W,right:se,gap:J.gap,equality:J.equality})}),V.length>0&&z.constraints(V),z.groups(R.map(function(J,W){var se=x(E.nodeSpacing,J),he=function(Oe){return parseFloat(J.style("padding-"+Oe))},Ce=he("left")+se,_e=he("right")+se,Me=he("top")+se,Ie=he("bottom")+se;return J.scratch().cola={index:W,padding:Math.max(Ce,_e,Me,Ie),leaves:J.children().intersection(P).map(function(Ne){return Ne[0].scratch().cola.index}),fixed:J.locked()},J}).map(function(J){return J.scratch().cola.groups=J.children().intersection(R).map(function(W){return W.scratch().cola.index}),J.scratch().cola}));var te=void 0,ie=void 0;E.edgeLength!=null?(te=E.edgeLength,ie="linkDistance"):E.edgeSymDiffLength!=null?(te=E.edgeSymDiffLength,ie="symmetricDiffLinkLengths"):E.edgeJaccardLength!=null?(te=E.edgeJaccardLength,ie="jaccardLinkLengths"):(te=100,ie="linkDistance");var ue=function(W){return W.calcLength};if(z.links(T.stdFilter(function(J){return P.contains(J.source())&&P.contains(J.target())}).map(function(J){var W=J.scratch().cola={source:J.source()[0].scratch().cola.index,target:J.target()[0].scratch().cola.index};return te!=null&&(W.calcLength=x(te,J)),W})),z.size([L.w,L.h]),te!=null&&z[ie](ue),E.flow){var xe=void 0,Z="y",re=50;h(E.flow)?xe={axis:E.flow,minSeparation:re}:v(E.flow)?xe={axis:Z,minSeparation:E.flow}:g(E.flow)?(xe=E.flow,xe.axis=xe.axis||Z,xe.minSeparation=xe.minSeparation!=null?xe.minSeparation:re):xe={axis:Z,minSeparation:re},z.flowLayout(xe.axis,xe.minSeparation)}return S.trigger({type:"layoutstart",layout:S}),z.avoidOverlaps(E.avoidOverlap).handleDisconnected(E.handleDisconnected).start(E.unconstrIter,E.userConstIter,E.allConstIter,void 0,void 0,E.centerGraph),E.infinite||setTimeout(function(){S.manuallyStopped||z.stop()},E.maxSimulationTime),this},w.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},n.exports=w}),(function(n,a,i){n.exports=Object.assign!=null?Object.assign.bind(Object):function(o){for(var l=arguments.length,u=Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];return u.filter(function(d){return d!=null}).forEach(function(d){Object.keys(d).forEach(function(h){return o[h]=d[h]})}),o}}),(function(n,a,i){var o={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,convergenceThreshold:.01,nodeSpacing:function(u){return 10},flow:void 0,alignment:void 0,gapInequalities:void 0,centerGraph:!0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1};n.exports=o}),(function(n,a,i){var o=i(0),l=function(c){c&&c("layout","cola",o)};typeof cytoscape<"u"&&l(cytoscape),n.exports=l}),(function(n,a,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},l=void 0;(typeof window>"u"?"undefined":o(window))!=="undefined"?l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(u){return setTimeout(u,16)}:l=function(c){c()},n.exports=l}),(function(n,a){n.exports=r})])})})(Qh)),Qh.exports}var Bne=Lne();const Ine=La(Bne);var Jh={exports:{}},ev={exports:{}},tv={exports:{}},zne=tv.exports,vP;function jne(){return vP||(vP=1,(function(e,t){(function(n,a){e.exports=a()})(zne,function(){return(function(r){var n={};function a(i){if(n[i])return n[i].exports;var o=n[i]={i,l:!1,exports:{}};return r[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=r,a.c=n,a.i=function(i){return i},a.d=function(i,o,l){a.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:l})},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=26)})([(function(r,n,a){function i(){}i.QUALITY=1,i.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,i.DEFAULT_INCREMENTAL=!1,i.DEFAULT_ANIMATION_ON_LAYOUT=!0,i.DEFAULT_ANIMATION_DURING_LAYOUT=!1,i.DEFAULT_ANIMATION_PERIOD=50,i.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,i.DEFAULT_GRAPH_MARGIN=15,i.NODE_DIMENSIONS_INCLUDE_LABELS=!1,i.SIMPLE_NODE_SIZE=40,i.SIMPLE_NODE_HALF_SIZE=i.SIMPLE_NODE_SIZE/2,i.EMPTY_COMPOUND_NODE_SIZE=40,i.MIN_EDGE_LENGTH=1,i.WORLD_BOUNDARY=1e6,i.INITIAL_WORLD_BOUNDARY=i.WORLD_BOUNDARY/1e3,i.WORLD_CENTER_X=1200,i.WORLD_CENTER_Y=900,r.exports=i}),(function(r,n,a){var i=a(2),o=a(8),l=a(9);function u(d,h,v){i.call(this,v),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=v,this.bendpoints=[],this.source=d,this.target=h}u.prototype=Object.create(i.prototype);for(var c in i)u[c]=i[c];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(d){if(this.source===d)return this.target;if(this.target===d)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(d,h){for(var v=this.getOtherEnd(d),g=h.getGraphManager().getRoot();;){if(v.getOwner()==h)return v;if(v.getOwner()==g)break;v=v.getOwner().getParent()}return null},u.prototype.updateLength=function(){var d=new Array(4);this.isOverlapingSourceAndTarget=o.getIntersection(this.target.getRect(),this.source.getRect(),d),this.isOverlapingSourceAndTarget||(this.lengthX=d[0]-d[2],this.lengthY=d[1]-d[3],Math.abs(this.lengthX)<1&&(this.lengthX=l.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=l.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=l.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=l.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=u}),(function(r,n,a){function i(o){this.vGraphObject=o}r.exports=i}),(function(r,n,a){var i=a(2),o=a(10),l=a(13),u=a(0),c=a(16),d=a(4);function h(g,m,b,x){b==null&&x==null&&(x=m),i.call(this,x),g.graphManager!=null&&(g=g.graphManager),this.estimatedSize=o.MIN_VALUE,this.inclusionTreeDepth=o.MAX_VALUE,this.vGraphObject=x,this.edges=[],this.graphManager=g,b!=null&&m!=null?this.rect=new l(m.x,m.y,b.width,b.height):this.rect=new l}h.prototype=Object.create(i.prototype);for(var v in i)h[v]=i[v];h.prototype.getEdges=function(){return this.edges},h.prototype.getChild=function(){return this.child},h.prototype.getOwner=function(){return this.owner},h.prototype.getWidth=function(){return this.rect.width},h.prototype.setWidth=function(g){this.rect.width=g},h.prototype.getHeight=function(){return this.rect.height},h.prototype.setHeight=function(g){this.rect.height=g},h.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},h.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},h.prototype.getCenter=function(){return new d(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},h.prototype.getLocation=function(){return new d(this.rect.x,this.rect.y)},h.prototype.getRect=function(){return this.rect},h.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},h.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},h.prototype.setRect=function(g,m){this.rect.x=g.x,this.rect.y=g.y,this.rect.width=m.width,this.rect.height=m.height},h.prototype.setCenter=function(g,m){this.rect.x=g-this.rect.width/2,this.rect.y=m-this.rect.height/2},h.prototype.setLocation=function(g,m){this.rect.x=g,this.rect.y=m},h.prototype.moveBy=function(g,m){this.rect.x+=g,this.rect.y+=m},h.prototype.getEdgeListToNode=function(g){var m=[],b=this;return b.edges.forEach(function(x){if(x.target==g){if(x.source!=b)throw"Incorrect edge source!";m.push(x)}}),m},h.prototype.getEdgesBetween=function(g){var m=[],b=this;return b.edges.forEach(function(x){if(!(x.source==b||x.target==b))throw"Incorrect edge source and/or target";(x.target==g||x.source==g)&&m.push(x)}),m},h.prototype.getNeighborsList=function(){var g=new Set,m=this;return m.edges.forEach(function(b){if(b.source==m)g.add(b.target);else{if(b.target!=m)throw"Incorrect incidency!";g.add(b.source)}}),g},h.prototype.withChildren=function(){var g=new Set,m,b;if(g.add(this),this.child!=null)for(var x=this.child.getNodes(),w=0;w<x.length;w++)m=x[w],b=m.withChildren(),b.forEach(function(S){g.add(S)});return g},h.prototype.getNoOfChildren=function(){var g=0,m;if(this.child==null)g=1;else for(var b=this.child.getNodes(),x=0;x<b.length;x++)m=b[x],g+=m.getNoOfChildren();return g==0&&(g=1),g},h.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},h.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},h.prototype.scatter=function(){var g,m,b=-u.INITIAL_WORLD_BOUNDARY,x=u.INITIAL_WORLD_BOUNDARY;g=u.WORLD_CENTER_X+c.nextDouble()*(x-b)+b;var w=-u.INITIAL_WORLD_BOUNDARY,S=u.INITIAL_WORLD_BOUNDARY;m=u.WORLD_CENTER_Y+c.nextDouble()*(S-w)+w,this.rect.x=g,this.rect.y=m},h.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var g=this.getChild();if(g.updateBounds(!0),this.rect.x=g.getLeft(),this.rect.y=g.getTop(),this.setWidth(g.getRight()-g.getLeft()),this.setHeight(g.getBottom()-g.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var m=g.getRight()-g.getLeft(),b=g.getBottom()-g.getTop();this.labelWidth>m&&(this.rect.x-=(this.labelWidth-m)/2,this.setWidth(this.labelWidth)),this.labelHeight>b&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-b)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-b),this.setHeight(this.labelHeight))}}},h.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==o.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},h.prototype.transform=function(g){var m=this.rect.x;m>u.WORLD_BOUNDARY?m=u.WORLD_BOUNDARY:m<-u.WORLD_BOUNDARY&&(m=-u.WORLD_BOUNDARY);var b=this.rect.y;b>u.WORLD_BOUNDARY?b=u.WORLD_BOUNDARY:b<-u.WORLD_BOUNDARY&&(b=-u.WORLD_BOUNDARY);var x=new d(m,b),w=g.inverseTransformPoint(x);this.setLocation(w.x,w.y)},h.prototype.getLeft=function(){return this.rect.x},h.prototype.getRight=function(){return this.rect.x+this.rect.width},h.prototype.getTop=function(){return this.rect.y},h.prototype.getBottom=function(){return this.rect.y+this.rect.height},h.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=h}),(function(r,n,a){function i(o,l){o==null&&l==null?(this.x=0,this.y=0):(this.x=o,this.y=l)}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.setX=function(o){this.x=o},i.prototype.setY=function(o){this.y=o},i.prototype.getDifference=function(o){return new DimensionD(this.x-o.x,this.y-o.y)},i.prototype.getCopy=function(){return new i(this.x,this.y)},i.prototype.translate=function(o){return this.x+=o.width,this.y+=o.height,this},r.exports=i}),(function(r,n,a){var i=a(2),o=a(10),l=a(0),u=a(6),c=a(3),d=a(1),h=a(13),v=a(12),g=a(11);function m(x,w,S){i.call(this,S),this.estimatedSize=o.MIN_VALUE,this.margin=l.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=x,w!=null&&w instanceof u?this.graphManager=w:w!=null&&w instanceof Layout&&(this.graphManager=w.graphManager)}m.prototype=Object.create(i.prototype);for(var b in i)m[b]=i[b];m.prototype.getNodes=function(){return this.nodes},m.prototype.getEdges=function(){return this.edges},m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getParent=function(){return this.parent},m.prototype.getLeft=function(){return this.left},m.prototype.getRight=function(){return this.right},m.prototype.getTop=function(){return this.top},m.prototype.getBottom=function(){return this.bottom},m.prototype.isConnected=function(){return this.isConnected},m.prototype.add=function(x,w,S){if(w==null&&S==null){var E=x;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(E)>-1)throw"Node already in graph!";return E.owner=this,this.getNodes().push(E),E}else{var O=x;if(!(this.getNodes().indexOf(w)>-1&&this.getNodes().indexOf(S)>-1))throw"Source or target not in graph!";if(!(w.owner==S.owner&&w.owner==this))throw"Both owners must be this graph!";return w.owner!=S.owner?null:(O.source=w,O.target=S,O.isInterGraph=!1,this.getEdges().push(O),w.edges.push(O),S!=w&&S.edges.push(O),O)}},m.prototype.remove=function(x){var w=x;if(x instanceof c){if(w==null)throw"Node is null!";if(!(w.owner!=null&&w.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var S=w.edges.slice(),E,O=S.length,D=0;D<O;D++)E=S[D],E.isInterGraph?this.graphManager.remove(E):E.source.owner.remove(E);var k=this.nodes.indexOf(w);if(k==-1)throw"Node not in owner node list!";this.nodes.splice(k,1)}else if(x instanceof d){var E=x;if(E==null)throw"Edge is null!";if(!(E.source!=null&&E.target!=null))throw"Source and/or target is null!";if(!(E.source.owner!=null&&E.target.owner!=null&&E.source.owner==this&&E.target.owner==this))throw"Source and/or target owner is invalid!";var T=E.source.edges.indexOf(E),_=E.target.edges.indexOf(E);if(!(T>-1&&_>-1))throw"Source and/or target doesn't know this edge!";E.source.edges.splice(T,1),E.target!=E.source&&E.target.edges.splice(_,1);var k=E.source.owner.getEdges().indexOf(E);if(k==-1)throw"Not in owner's edge list!";E.source.owner.getEdges().splice(k,1)}},m.prototype.updateLeftTop=function(){for(var x=o.MAX_VALUE,w=o.MAX_VALUE,S,E,O,D=this.getNodes(),k=D.length,T=0;T<k;T++){var _=D[T];S=_.getTop(),E=_.getLeft(),x>S&&(x=S),w>E&&(w=E)}return x==o.MAX_VALUE?null:(D[0].getParent().paddingLeft!=null?O=D[0].getParent().paddingLeft:O=this.margin,this.left=w-O,this.top=x-O,new v(this.left,this.top))},m.prototype.updateBounds=function(x){for(var w=o.MAX_VALUE,S=-o.MAX_VALUE,E=o.MAX_VALUE,O=-o.MAX_VALUE,D,k,T,_,M,R=this.nodes,P=R.length,L=0;L<P;L++){var N=R[L];x&&N.child!=null&&N.updateBounds(),D=N.getLeft(),k=N.getRight(),T=N.getTop(),_=N.getBottom(),w>D&&(w=D),S<k&&(S=k),E>T&&(E=T),O<_&&(O=_)}var B=new h(w,E,S-w,O-E);w==o.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),R[0].getParent().paddingLeft!=null?M=R[0].getParent().paddingLeft:M=this.margin,this.left=B.x-M,this.right=B.x+B.width+M,this.top=B.y-M,this.bottom=B.y+B.height+M},m.calculateBounds=function(x){for(var w=o.MAX_VALUE,S=-o.MAX_VALUE,E=o.MAX_VALUE,O=-o.MAX_VALUE,D,k,T,_,M=x.length,R=0;R<M;R++){var P=x[R];D=P.getLeft(),k=P.getRight(),T=P.getTop(),_=P.getBottom(),w>D&&(w=D),S<k&&(S=k),E>T&&(E=T),O<_&&(O=_)}var L=new h(w,E,S-w,O-E);return L},m.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},m.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},m.prototype.calcEstimatedSize=function(){for(var x=0,w=this.nodes,S=w.length,E=0;E<S;E++){var O=w[E];x+=O.calcEstimatedSize()}return x==0?this.estimatedSize=l.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=x/Math.sqrt(this.nodes.length),this.estimatedSize},m.prototype.updateConnected=function(){var x=this;if(this.nodes.length==0){this.isConnected=!0;return}var w=new g,S=new Set,E=this.nodes[0],O,D,k=E.withChildren();for(k.forEach(function(L){w.push(L),S.add(L)});w.length!==0;){E=w.shift(),O=E.getEdges();for(var T=O.length,_=0;_<T;_++){var M=O[_];if(D=M.getOtherEndInGraph(E,this),D!=null&&!S.has(D)){var R=D.withChildren();R.forEach(function(L){w.push(L),S.add(L)})}}}if(this.isConnected=!1,S.size>=this.nodes.length){var P=0;S.forEach(function(L){L.owner==x&&P++}),P==this.nodes.length&&(this.isConnected=!0)}},r.exports=m}),(function(r,n,a){var i,o=a(1);function l(u){i=a(5),this.layout=u,this.graphs=[],this.edges=[]}l.prototype.addRoot=function(){var u=this.layout.newGraph(),c=this.layout.newNode(null),d=this.add(u,c);return this.setRootGraph(d),this.rootGraph},l.prototype.add=function(u,c,d,h,v){if(d==null&&h==null&&v==null){if(u==null)throw"Graph is null!";if(c==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(c.child!=null)throw"Already has a child!";return u.parent=c,c.child=u,u}else{v=d,h=c,d=u;var g=h.getOwner(),m=v.getOwner();if(!(g!=null&&g.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(m!=null&&m.getGraphManager()==this))throw"Target not in this graph mgr!";if(g==m)return d.isInterGraph=!1,g.add(d,h,v);if(d.isInterGraph=!0,d.source=h,d.target=v,this.edges.indexOf(d)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(d),!(d.source!=null&&d.target!=null))throw"Edge source and/or target is null!";if(!(d.source.edges.indexOf(d)==-1&&d.target.edges.indexOf(d)==-1))throw"Edge already in source and/or target incidency list!";return d.source.edges.push(d),d.target.edges.push(d),d}},l.prototype.remove=function(u){if(u instanceof i){var c=u;if(c.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(c==this.rootGraph||c.parent!=null&&c.parent.graphManager==this))throw"Invalid parent node!";var d=[];d=d.concat(c.getEdges());for(var h,v=d.length,g=0;g<v;g++)h=d[g],c.remove(h);var m=[];m=m.concat(c.getNodes());var b;v=m.length;for(var g=0;g<v;g++)b=m[g],c.remove(b);c==this.rootGraph&&this.setRootGraph(null);var x=this.graphs.indexOf(c);this.graphs.splice(x,1),c.parent=null}else if(u instanceof o){if(h=u,h==null)throw"Edge is null!";if(!h.isInterGraph)throw"Not an inter-graph edge!";if(!(h.source!=null&&h.target!=null))throw"Source and/or target is null!";if(!(h.source.edges.indexOf(h)!=-1&&h.target.edges.indexOf(h)!=-1))throw"Source and/or target doesn't know this edge!";var x=h.source.edges.indexOf(h);if(h.source.edges.splice(x,1),x=h.target.edges.indexOf(h),h.target.edges.splice(x,1),!(h.source.owner!=null&&h.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(h.source.owner.getGraphManager().edges.indexOf(h)==-1)throw"Not in owner graph manager's edge list!";var x=h.source.owner.getGraphManager().edges.indexOf(h);h.source.owner.getGraphManager().edges.splice(x,1)}},l.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},l.prototype.getGraphs=function(){return this.graphs},l.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],c=this.getGraphs(),d=c.length,h=0;h<d;h++)u=u.concat(c[h].getNodes());this.allNodes=u}return this.allNodes},l.prototype.resetAllNodes=function(){this.allNodes=null},l.prototype.resetAllEdges=function(){this.allEdges=null},l.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},l.prototype.getAllEdges=function(){if(this.allEdges==null){var u=[],c=this.getGraphs();c.length;for(var d=0;d<c.length;d++)u=u.concat(c[d].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},l.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},l.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},l.prototype.getRoot=function(){return this.rootGraph},l.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},l.prototype.getLayout=function(){return this.layout},l.prototype.isOneAncestorOfOther=function(u,c){if(!(u!=null&&c!=null))throw"assert failed";if(u==c)return!0;var d=u.getOwner(),h;do{if(h=d.getParent(),h==null)break;if(h==c)return!0;if(d=h.getOwner(),d==null)break}while(!0);d=c.getOwner();do{if(h=d.getParent(),h==null)break;if(h==u)return!0;if(d=h.getOwner(),d==null)break}while(!0);return!1},l.prototype.calcLowestCommonAncestors=function(){for(var u,c,d,h,v,g=this.getAllEdges(),m=g.length,b=0;b<m;b++){if(u=g[b],c=u.source,d=u.target,u.lca=null,u.sourceInLca=c,u.targetInLca=d,c==d){u.lca=c.getOwner();continue}for(h=c.getOwner();u.lca==null;){for(u.targetInLca=d,v=d.getOwner();u.lca==null;){if(v==h){u.lca=v;break}if(v==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=v.getParent(),v=u.targetInLca.getOwner()}if(h==this.rootGraph)break;u.lca==null&&(u.sourceInLca=h.getParent(),h=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},l.prototype.calcLowestCommonAncestor=function(u,c){if(u==c)return u.getOwner();var d=u.getOwner();do{if(d==null)break;var h=c.getOwner();do{if(h==null)break;if(h==d)return h;h=h.getParent().getOwner()}while(!0);d=d.getParent().getOwner()}while(!0);return d},l.prototype.calcInclusionTreeDepths=function(u,c){u==null&&c==null&&(u=this.rootGraph,c=1);for(var d,h=u.getNodes(),v=h.length,g=0;g<v;g++)d=h[g],d.inclusionTreeDepth=c,d.child!=null&&this.calcInclusionTreeDepths(d.child,c+1)},l.prototype.includesInvalidEdge=function(){for(var u,c=this.edges.length,d=0;d<c;d++)if(u=this.edges[d],this.isOneAncestorOfOther(u.source,u.target))return!0;return!1},r.exports=l}),(function(r,n,a){var i=a(0);function o(){}for(var l in i)o[l]=i[l];o.MAX_ITERATIONS=2500,o.DEFAULT_EDGE_LENGTH=50,o.DEFAULT_SPRING_STRENGTH=.45,o.DEFAULT_REPULSION_STRENGTH=4500,o.DEFAULT_GRAVITY_STRENGTH=.4,o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,o.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,o.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,o.COOLING_ADAPTATION_FACTOR=.33,o.ADAPTATION_LOWER_NODE_LIMIT=1e3,o.ADAPTATION_UPPER_NODE_LIMIT=5e3,o.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,o.MAX_NODE_DISPLACEMENT=o.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,o.MIN_REPULSION_DIST=o.DEFAULT_EDGE_LENGTH/10,o.CONVERGENCE_CHECK_PERIOD=100,o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,o.MIN_EDGE_LENGTH=1,o.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=o}),(function(r,n,a){var i=a(12);function o(){}o.calcSeparationAmount=function(l,u,c,d){if(!l.intersects(u))throw"assert failed";var h=new Array(2);this.decideDirectionsForOverlappingNodes(l,u,h),c[0]=Math.min(l.getRight(),u.getRight())-Math.max(l.x,u.x),c[1]=Math.min(l.getBottom(),u.getBottom())-Math.max(l.y,u.y),l.getX()<=u.getX()&&l.getRight()>=u.getRight()?c[0]+=Math.min(u.getX()-l.getX(),l.getRight()-u.getRight()):u.getX()<=l.getX()&&u.getRight()>=l.getRight()&&(c[0]+=Math.min(l.getX()-u.getX(),u.getRight()-l.getRight())),l.getY()<=u.getY()&&l.getBottom()>=u.getBottom()?c[1]+=Math.min(u.getY()-l.getY(),l.getBottom()-u.getBottom()):u.getY()<=l.getY()&&u.getBottom()>=l.getBottom()&&(c[1]+=Math.min(l.getY()-u.getY(),u.getBottom()-l.getBottom()));var v=Math.abs((u.getCenterY()-l.getCenterY())/(u.getCenterX()-l.getCenterX()));u.getCenterY()===l.getCenterY()&&u.getCenterX()===l.getCenterX()&&(v=1);var g=v*c[0],m=c[1]/v;c[0]<m?m=c[0]:g=c[1],c[0]=-1*h[0]*(m/2+d),c[1]=-1*h[1]*(g/2+d)},o.decideDirectionsForOverlappingNodes=function(l,u,c){l.getCenterX()<u.getCenterX()?c[0]=-1:c[0]=1,l.getCenterY()<u.getCenterY()?c[1]=-1:c[1]=1},o.getIntersection2=function(l,u,c){var d=l.getCenterX(),h=l.getCenterY(),v=u.getCenterX(),g=u.getCenterY();if(l.intersects(u))return c[0]=d,c[1]=h,c[2]=v,c[3]=g,!0;var m=l.getX(),b=l.getY(),x=l.getRight(),w=l.getX(),S=l.getBottom(),E=l.getRight(),O=l.getWidthHalf(),D=l.getHeightHalf(),k=u.getX(),T=u.getY(),_=u.getRight(),M=u.getX(),R=u.getBottom(),P=u.getRight(),L=u.getWidthHalf(),N=u.getHeightHalf(),B=!1,G=!1;if(d===v){if(h>g)return c[0]=d,c[1]=b,c[2]=v,c[3]=R,!1;if(h<g)return c[0]=d,c[1]=S,c[2]=v,c[3]=T,!1}else if(h===g){if(d>v)return c[0]=m,c[1]=h,c[2]=_,c[3]=g,!1;if(d<v)return c[0]=x,c[1]=h,c[2]=k,c[3]=g,!1}else{var I=l.height/l.width,z=u.height/u.width,q=(g-h)/(v-d),H=void 0,X=void 0,U=void 0,V=void 0,Q=void 0,ee=void 0;if(-I===q?d>v?(c[0]=w,c[1]=S,B=!0):(c[0]=x,c[1]=b,B=!0):I===q&&(d>v?(c[0]=m,c[1]=b,B=!0):(c[0]=E,c[1]=S,B=!0)),-z===q?v>d?(c[2]=M,c[3]=R,G=!0):(c[2]=_,c[3]=T,G=!0):z===q&&(v>d?(c[2]=k,c[3]=T,G=!0):(c[2]=P,c[3]=R,G=!0)),B&&G)return!1;if(d>v?h>g?(H=this.getCardinalDirection(I,q,4),X=this.getCardinalDirection(z,q,2)):(H=this.getCardinalDirection(-I,q,3),X=this.getCardinalDirection(-z,q,1)):h>g?(H=this.getCardinalDirection(-I,q,1),X=this.getCardinalDirection(-z,q,3)):(H=this.getCardinalDirection(I,q,2),X=this.getCardinalDirection(z,q,4)),!B)switch(H){case 1:V=b,U=d+-D/q,c[0]=U,c[1]=V;break;case 2:U=E,V=h+O*q,c[0]=U,c[1]=V;break;case 3:V=S,U=d+D/q,c[0]=U,c[1]=V;break;case 4:U=w,V=h+-O*q,c[0]=U,c[1]=V;break}if(!G)switch(X){case 1:ee=T,Q=v+-N/q,c[2]=Q,c[3]=ee;break;case 2:Q=P,ee=g+L*q,c[2]=Q,c[3]=ee;break;case 3:ee=R,Q=v+N/q,c[2]=Q,c[3]=ee;break;case 4:Q=M,ee=g+-L*q,c[2]=Q,c[3]=ee;break}}return!1},o.getCardinalDirection=function(l,u,c){return l>u?c:1+c%4},o.getIntersection=function(l,u,c,d){if(d==null)return this.getIntersection2(l,u,c);var h=l.x,v=l.y,g=u.x,m=u.y,b=c.x,x=c.y,w=d.x,S=d.y,E=void 0,O=void 0,D=void 0,k=void 0,T=void 0,_=void 0,M=void 0,R=void 0,P=void 0;return D=m-v,T=h-g,M=g*v-h*m,k=S-x,_=b-w,R=w*x-b*S,P=D*_-k*T,P===0?null:(E=(T*R-_*M)/P,O=(k*M-D*R)/P,new i(E,O))},o.angleOfVector=function(l,u,c,d){var h=void 0;return l!==c?(h=Math.atan((d-u)/(c-l)),c<l?h+=Math.PI:d<u&&(h+=this.TWO_PI)):d<u?h=this.ONE_AND_HALF_PI:h=this.HALF_PI,h},o.doIntersect=function(l,u,c,d){var h=l.x,v=l.y,g=u.x,m=u.y,b=c.x,x=c.y,w=d.x,S=d.y,E=(g-h)*(S-x)-(w-b)*(m-v);if(E===0)return!1;var O=((S-x)*(w-h)+(b-w)*(S-v))/E,D=((v-m)*(w-h)+(g-h)*(S-v))/E;return 0<O&&O<1&&0<D&&D<1},o.HALF_PI=.5*Math.PI,o.ONE_AND_HALF_PI=1.5*Math.PI,o.TWO_PI=2*Math.PI,o.THREE_PI=3*Math.PI,r.exports=o}),(function(r,n,a){function i(){}i.sign=function(o){return o>0?1:o<0?-1:0},i.floor=function(o){return o<0?Math.ceil(o):Math.floor(o)},i.ceil=function(o){return o<0?Math.floor(o):Math.ceil(o)},r.exports=i}),(function(r,n,a){function i(){}i.MAX_VALUE=2147483647,i.MIN_VALUE=-2147483648,r.exports=i}),(function(r,n,a){var i=(function(){function h(v,g){for(var m=0;m<g.length;m++){var b=g[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,g,m){return g&&h(v.prototype,g),m&&h(v,m),v}})();function o(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}var l=function(v){return{value:v,next:null,prev:null}},u=function(v,g,m,b){return v!==null?v.next=g:b.head=g,m!==null?m.prev=g:b.tail=g,g.prev=v,g.next=m,b.length++,g},c=function(v,g){var m=v.prev,b=v.next;return m!==null?m.next=b:g.head=b,b!==null?b.prev=m:g.tail=m,v.prev=v.next=null,g.length--,v},d=(function(){function h(v){var g=this;o(this,h),this.length=0,this.head=null,this.tail=null,v!=null&&v.forEach(function(m){return g.push(m)})}return i(h,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(g,m){return u(m.prev,l(g),m,this)}},{key:"insertAfter",value:function(g,m){return u(m,l(g),m.next,this)}},{key:"insertNodeBefore",value:function(g,m){return u(m.prev,g,m,this)}},{key:"insertNodeAfter",value:function(g,m){return u(m,g,m.next,this)}},{key:"push",value:function(g){return u(this.tail,l(g),null,this)}},{key:"unshift",value:function(g){return u(null,l(g),this.head,this)}},{key:"remove",value:function(g){return c(g,this)}},{key:"pop",value:function(){return c(this.tail,this).value}},{key:"popNode",value:function(){return c(this.tail,this)}},{key:"shift",value:function(){return c(this.head,this).value}},{key:"shiftNode",value:function(){return c(this.head,this)}},{key:"get_object_at",value:function(g){if(g<=this.length()){for(var m=1,b=this.head;m<g;)b=b.next,m++;return b.value}}},{key:"set_object_at",value:function(g,m){if(g<=this.length()){for(var b=1,x=this.head;b<g;)x=x.next,b++;x.value=m}}}]),h})();r.exports=d}),(function(r,n,a){function i(o,l,u){this.x=null,this.y=null,o==null&&l==null&&u==null?(this.x=0,this.y=0):typeof o=="number"&&typeof l=="number"&&u==null?(this.x=o,this.y=l):o.constructor.name=="Point"&&l==null&&u==null&&(u=o,this.x=u.x,this.y=u.y)}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.getLocation=function(){return new i(this.x,this.y)},i.prototype.setLocation=function(o,l,u){o.constructor.name=="Point"&&l==null&&u==null?(u=o,this.setLocation(u.x,u.y)):typeof o=="number"&&typeof l=="number"&&u==null&&(parseInt(o)==o&&parseInt(l)==l?this.move(o,l):(this.x=Math.floor(o+.5),this.y=Math.floor(l+.5)))},i.prototype.move=function(o,l){this.x=o,this.y=l},i.prototype.translate=function(o,l){this.x+=o,this.y+=l},i.prototype.equals=function(o){if(o.constructor.name=="Point"){var l=o;return this.x==l.x&&this.y==l.y}return this==o},i.prototype.toString=function(){return new i().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=i}),(function(r,n,a){function i(o,l,u,c){this.x=0,this.y=0,this.width=0,this.height=0,o!=null&&l!=null&&u!=null&&c!=null&&(this.x=o,this.y=l,this.width=u,this.height=c)}i.prototype.getX=function(){return this.x},i.prototype.setX=function(o){this.x=o},i.prototype.getY=function(){return this.y},i.prototype.setY=function(o){this.y=o},i.prototype.getWidth=function(){return this.width},i.prototype.setWidth=function(o){this.width=o},i.prototype.getHeight=function(){return this.height},i.prototype.setHeight=function(o){this.height=o},i.prototype.getRight=function(){return this.x+this.width},i.prototype.getBottom=function(){return this.y+this.height},i.prototype.intersects=function(o){return!(this.getRight()<o.x||this.getBottom()<o.y||o.getRight()<this.x||o.getBottom()<this.y)},i.prototype.getCenterX=function(){return this.x+this.width/2},i.prototype.getMinX=function(){return this.getX()},i.prototype.getMaxX=function(){return this.getX()+this.width},i.prototype.getCenterY=function(){return this.y+this.height/2},i.prototype.getMinY=function(){return this.getY()},i.prototype.getMaxY=function(){return this.getY()+this.height},i.prototype.getWidthHalf=function(){return this.width/2},i.prototype.getHeightHalf=function(){return this.height/2},r.exports=i}),(function(r,n,a){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};function o(){}o.lastID=0,o.createID=function(l){return o.isPrimitive(l)?l:(l.uniqueID!=null||(l.uniqueID=o.getString(),o.lastID++),l.uniqueID)},o.getString=function(l){return l==null&&(l=o.lastID),"Object#"+l},o.isPrimitive=function(l){var u=typeof l>"u"?"undefined":i(l);return l==null||u!="object"&&u!="function"},r.exports=o}),(function(r,n,a){function i(b){if(Array.isArray(b)){for(var x=0,w=Array(b.length);x<b.length;x++)w[x]=b[x];return w}else return Array.from(b)}var o=a(0),l=a(6),u=a(3),c=a(1),d=a(5),h=a(4),v=a(17),g=a(27);function m(b){g.call(this),this.layoutQuality=o.QUALITY,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=o.DEFAULT_INCREMENTAL,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new l(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,b!=null&&(this.isRemoteUse=b)}m.RANDOM_SEED=1,m.prototype=Object.create(g.prototype),m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},m.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},m.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},m.prototype.newGraphManager=function(){var b=new l(this);return this.graphManager=b,b},m.prototype.newGraph=function(b){return new d(null,this.graphManager,b)},m.prototype.newNode=function(b){return new u(this.graphManager,b)},m.prototype.newEdge=function(b){return new c(null,null,b)},m.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},m.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var b;return this.checkLayoutSuccess()?b=!1:b=this.layout(),o.ANIMATE==="during"?!1:(b&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,b)},m.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},m.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var b=this.graphManager.getAllEdges(),x=0;x<b.length;x++)b[x];for(var w=this.graphManager.getRoot().getNodes(),x=0;x<w.length;x++)w[x];this.update(this.graphManager.getRoot())}},m.prototype.update=function(b){if(b==null)this.update2();else if(b instanceof u){var x=b;if(x.getChild()!=null)for(var w=x.getChild().getNodes(),S=0;S<w.length;S++)update(w[S]);if(x.vGraphObject!=null){var E=x.vGraphObject;E.update(x)}}else if(b instanceof c){var O=b;if(O.vGraphObject!=null){var D=O.vGraphObject;D.update(O)}}else if(b instanceof d){var k=b;if(k.vGraphObject!=null){var T=k.vGraphObject;T.update(k)}}},m.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=o.QUALITY,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=o.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},m.prototype.transform=function(b){if(b==null)this.transform(new h(0,0));else{var x=new v,w=this.graphManager.getRoot().updateLeftTop();if(w!=null){x.setWorldOrgX(b.x),x.setWorldOrgY(b.y),x.setDeviceOrgX(w.x),x.setDeviceOrgY(w.y);for(var S=this.getAllNodes(),E,O=0;O<S.length;O++)E=S[O],E.transform(x)}}},m.prototype.positionNodesRandomly=function(b){if(b==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var x,w,S=b.getNodes(),E=0;E<S.length;E++)x=S[E],w=x.getChild(),w==null||w.getNodes().length==0?x.scatter():(this.positionNodesRandomly(w),x.updateBounds())},m.prototype.getFlatForest=function(){for(var b=[],x=!0,w=this.graphManager.getRoot().getNodes(),S=!0,E=0;E<w.length;E++)w[E].getChild()!=null&&(S=!1);if(!S)return b;var O=new Set,D=[],k=new Map,T=[];for(T=T.concat(w);T.length>0&&x;){for(D.push(T[0]);D.length>0&&x;){var _=D[0];D.splice(0,1),O.add(_);for(var M=_.getEdges(),E=0;E<M.length;E++){var R=M[E].getOtherEnd(_);if(k.get(_)!=R)if(!O.has(R))D.push(R),k.set(R,_);else{x=!1;break}}}if(!x)b=[];else{var P=[].concat(i(O));b.push(P);for(var E=0;E<P.length;E++){var L=P[E],N=T.indexOf(L);N>-1&&T.splice(N,1)}O=new Set,k=new Map}}return b},m.prototype.createDummyNodesForBendpoints=function(b){for(var x=[],w=b.source,S=this.graphManager.calcLowestCommonAncestor(b.source,b.target),E=0;E<b.bendpoints.length;E++){var O=this.newNode(null);O.setRect(new Point(0,0),new Dimension(1,1)),S.add(O);var D=this.newEdge(null);this.graphManager.add(D,w,O),x.add(O),w=O}var D=this.newEdge(null);return this.graphManager.add(D,w,b.target),this.edgeToDummyNodes.set(b,x),b.isInterGraph()?this.graphManager.remove(b):S.remove(b),x},m.prototype.createBendpointsFromDummyNodes=function(){var b=[];b=b.concat(this.graphManager.getAllEdges()),b=[].concat(i(this.edgeToDummyNodes.keys())).concat(b);for(var x=0;x<b.length;x++){var w=b[x];if(w.bendpoints.length>0){for(var S=this.edgeToDummyNodes.get(w),E=0;E<S.length;E++){var O=S[E],D=new h(O.getCenterX(),O.getCenterY()),k=w.bendpoints.get(E);k.x=D.x,k.y=D.y,O.getOwner().remove(O)}this.graphManager.add(w,w.source,w.target)}}},m.transform=function(b,x,w,S){if(w!=null&&S!=null){var E=x;if(b<=50){var O=x/w;E-=(x-O)/50*(50-b)}else{var D=x*S;E+=(D-x)/50*(b-50)}return E}else{var k,T;return b<=50?(k=9*x/500,T=x/10):(k=9*x/50,T=-8*x),k*b+T}},m.findCenterOfTree=function(b){var x=[];x=x.concat(b);var w=[],S=new Map,E=!1,O=null;(x.length==1||x.length==2)&&(E=!0,O=x[0]);for(var D=0;D<x.length;D++){var k=x[D],T=k.getNeighborsList().size;S.set(k,k.getNeighborsList().size),T==1&&w.push(k)}var _=[];for(_=_.concat(w);!E;){var M=[];M=M.concat(_),_=[];for(var D=0;D<x.length;D++){var k=x[D],R=x.indexOf(k);R>=0&&x.splice(R,1);var P=k.getNeighborsList();P.forEach(function(B){if(w.indexOf(B)<0){var G=S.get(B),I=G-1;I==1&&_.push(B),S.set(B,I)}})}w=w.concat(_),(x.length==1||x.length==2)&&(E=!0,O=x[0])}return O},m.prototype.setGraphManager=function(b){this.graphManager=b},r.exports=m}),(function(r,n,a){function i(){}i.seed=1,i.x=0,i.nextDouble=function(){return i.x=Math.sin(i.seed++)*1e4,i.x-Math.floor(i.x)},r.exports=i}),(function(r,n,a){var i=a(4);function o(l,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}o.prototype.getWorldOrgX=function(){return this.lworldOrgX},o.prototype.setWorldOrgX=function(l){this.lworldOrgX=l},o.prototype.getWorldOrgY=function(){return this.lworldOrgY},o.prototype.setWorldOrgY=function(l){this.lworldOrgY=l},o.prototype.getWorldExtX=function(){return this.lworldExtX},o.prototype.setWorldExtX=function(l){this.lworldExtX=l},o.prototype.getWorldExtY=function(){return this.lworldExtY},o.prototype.setWorldExtY=function(l){this.lworldExtY=l},o.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},o.prototype.setDeviceOrgX=function(l){this.ldeviceOrgX=l},o.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},o.prototype.setDeviceOrgY=function(l){this.ldeviceOrgY=l},o.prototype.getDeviceExtX=function(){return this.ldeviceExtX},o.prototype.setDeviceExtX=function(l){this.ldeviceExtX=l},o.prototype.getDeviceExtY=function(){return this.ldeviceExtY},o.prototype.setDeviceExtY=function(l){this.ldeviceExtY=l},o.prototype.transformX=function(l){var u=0,c=this.lworldExtX;return c!=0&&(u=this.ldeviceOrgX+(l-this.lworldOrgX)*this.ldeviceExtX/c),u},o.prototype.transformY=function(l){var u=0,c=this.lworldExtY;return c!=0&&(u=this.ldeviceOrgY+(l-this.lworldOrgY)*this.ldeviceExtY/c),u},o.prototype.inverseTransformX=function(l){var u=0,c=this.ldeviceExtX;return c!=0&&(u=this.lworldOrgX+(l-this.ldeviceOrgX)*this.lworldExtX/c),u},o.prototype.inverseTransformY=function(l){var u=0,c=this.ldeviceExtY;return c!=0&&(u=this.lworldOrgY+(l-this.ldeviceOrgY)*this.lworldExtY/c),u},o.prototype.inverseTransformPoint=function(l){var u=new i(this.inverseTransformX(l.x),this.inverseTransformY(l.y));return u},r.exports=o}),(function(r,n,a){function i(g){if(Array.isArray(g)){for(var m=0,b=Array(g.length);m<g.length;m++)b[m]=g[m];return b}else return Array.from(g)}var o=a(15),l=a(7),u=a(0),c=a(8),d=a(9);function h(){o.call(this),this.useSmartIdealEdgeLengthCalculation=l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=l.DEFAULT_EDGE_LENGTH,this.springConstant=l.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=l.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=l.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=l.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=l.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*l.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=l.MAX_ITERATIONS}h.prototype=Object.create(o.prototype);for(var v in o)h[v]=o[v];h.prototype.initParameters=function(){o.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=l.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},h.prototype.calcIdealEdgeLengths=function(){for(var g,m,b,x,w,S,E=this.getGraphManager().getAllEdges(),O=0;O<E.length;O++)g=E[O],g.idealLength=this.idealEdgeLength,g.isInterGraph&&(b=g.getSource(),x=g.getTarget(),w=g.getSourceInLca().getEstimatedSize(),S=g.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(g.idealLength+=w+S-2*u.SIMPLE_NODE_SIZE),m=g.getLca().getInclusionTreeDepth(),g.idealLength+=l.DEFAULT_EDGE_LENGTH*l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(b.getInclusionTreeDepth()+x.getInclusionTreeDepth()-2*m))},h.prototype.initSpringEmbedder=function(){var g=this.getAllNodes().length;this.incremental?(g>l.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*l.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(g-l.ADAPTATION_LOWER_NODE_LIMIT)/(l.ADAPTATION_UPPER_NODE_LIMIT-l.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-l.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=l.MAX_NODE_DISPLACEMENT_INCREMENTAL):(g>l.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(l.COOLING_ADAPTATION_FACTOR,1-(g-l.ADAPTATION_LOWER_NODE_LIMIT)/(l.ADAPTATION_UPPER_NODE_LIMIT-l.ADAPTATION_LOWER_NODE_LIMIT)*(1-l.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=l.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},h.prototype.calcSpringForces=function(){for(var g=this.getAllEdges(),m,b=0;b<g.length;b++)m=g[b],this.calcSpringForce(m,m.idealLength)},h.prototype.calcRepulsionForces=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b,x,w,S,E=this.getAllNodes(),O;if(this.useFRGridVariant)for(this.totalIterations%l.GRID_CALCULATION_CHECK_PERIOD==1&&g&&this.updateGrid(),O=new Set,b=0;b<E.length;b++)w=E[b],this.calculateRepulsionForceOfANode(w,O,g,m),O.add(w);else for(b=0;b<E.length;b++)for(w=E[b],x=b+1;x<E.length;x++)S=E[x],w.getOwner()==S.getOwner()&&this.calcRepulsionForce(w,S)},h.prototype.calcGravitationalForces=function(){for(var g,m=this.getAllNodesToApplyGravitation(),b=0;b<m.length;b++)g=m[b],this.calcGravitationalForce(g)},h.prototype.moveNodes=function(){for(var g=this.getAllNodes(),m,b=0;b<g.length;b++)m=g[b],m.move()},h.prototype.calcSpringForce=function(g,m){var b=g.getSource(),x=g.getTarget(),w,S,E,O;if(this.uniformLeafNodeSizes&&b.getChild()==null&&x.getChild()==null)g.updateLengthSimple();else if(g.updateLength(),g.isOverlapingSourceAndTarget)return;w=g.getLength(),w!=0&&(S=this.springConstant*(w-m),E=S*(g.lengthX/w),O=S*(g.lengthY/w),b.springForceX+=E,b.springForceY+=O,x.springForceX-=E,x.springForceY-=O)},h.prototype.calcRepulsionForce=function(g,m){var b=g.getRect(),x=m.getRect(),w=new Array(2),S=new Array(4),E,O,D,k,T,_,M;if(b.intersects(x)){c.calcSeparationAmount(b,x,w,l.DEFAULT_EDGE_LENGTH/2),_=2*w[0],M=2*w[1];var R=g.noOfChildren*m.noOfChildren/(g.noOfChildren+m.noOfChildren);g.repulsionForceX-=R*_,g.repulsionForceY-=R*M,m.repulsionForceX+=R*_,m.repulsionForceY+=R*M}else this.uniformLeafNodeSizes&&g.getChild()==null&&m.getChild()==null?(E=x.getCenterX()-b.getCenterX(),O=x.getCenterY()-b.getCenterY()):(c.getIntersection(b,x,S),E=S[2]-S[0],O=S[3]-S[1]),Math.abs(E)<l.MIN_REPULSION_DIST&&(E=d.sign(E)*l.MIN_REPULSION_DIST),Math.abs(O)<l.MIN_REPULSION_DIST&&(O=d.sign(O)*l.MIN_REPULSION_DIST),D=E*E+O*O,k=Math.sqrt(D),T=this.repulsionConstant*g.noOfChildren*m.noOfChildren/D,_=T*E/k,M=T*O/k,g.repulsionForceX-=_,g.repulsionForceY-=M,m.repulsionForceX+=_,m.repulsionForceY+=M},h.prototype.calcGravitationalForce=function(g){var m,b,x,w,S,E,O,D;m=g.getOwner(),b=(m.getRight()+m.getLeft())/2,x=(m.getTop()+m.getBottom())/2,w=g.getCenterX()-b,S=g.getCenterY()-x,E=Math.abs(w)+g.getWidth()/2,O=Math.abs(S)+g.getHeight()/2,g.getOwner()==this.graphManager.getRoot()?(D=m.getEstimatedSize()*this.gravityRangeFactor,(E>D||O>D)&&(g.gravitationForceX=-this.gravityConstant*w,g.gravitationForceY=-this.gravityConstant*S)):(D=m.getEstimatedSize()*this.compoundGravityRangeFactor,(E>D||O>D)&&(g.gravitationForceX=-this.gravityConstant*w*this.compoundGravityConstant,g.gravitationForceY=-this.gravityConstant*S*this.compoundGravityConstant))},h.prototype.isConverged=function(){var g,m=!1;return this.totalIterations>this.maxIterations/3&&(m=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),g=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,g||m},h.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},h.prototype.calcNoOfChildrenForAllNodes=function(){for(var g,m=this.graphManager.getAllNodes(),b=0;b<m.length;b++)g=m[b],g.noOfChildren=g.getNoOfChildren()},h.prototype.calcGrid=function(g){var m=0,b=0;m=parseInt(Math.ceil((g.getRight()-g.getLeft())/this.repulsionRange)),b=parseInt(Math.ceil((g.getBottom()-g.getTop())/this.repulsionRange));for(var x=new Array(m),w=0;w<m;w++)x[w]=new Array(b);for(var w=0;w<m;w++)for(var S=0;S<b;S++)x[w][S]=new Array;return x},h.prototype.addNodeToGrid=function(g,m,b){var x=0,w=0,S=0,E=0;x=parseInt(Math.floor((g.getRect().x-m)/this.repulsionRange)),w=parseInt(Math.floor((g.getRect().width+g.getRect().x-m)/this.repulsionRange)),S=parseInt(Math.floor((g.getRect().y-b)/this.repulsionRange)),E=parseInt(Math.floor((g.getRect().height+g.getRect().y-b)/this.repulsionRange));for(var O=x;O<=w;O++)for(var D=S;D<=E;D++)this.grid[O][D].push(g),g.setGridCoordinates(x,w,S,E)},h.prototype.updateGrid=function(){var g,m,b=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),g=0;g<b.length;g++)m=b[g],this.addNodeToGrid(m,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},h.prototype.calculateRepulsionForceOfANode=function(g,m,b,x){if(this.totalIterations%l.GRID_CALCULATION_CHECK_PERIOD==1&&b||x){var w=new Set;g.surrounding=new Array;for(var S,E=this.grid,O=g.startX-1;O<g.finishX+2;O++)for(var D=g.startY-1;D<g.finishY+2;D++)if(!(O<0||D<0||O>=E.length||D>=E[0].length)){for(var k=0;k<E[O][D].length;k++)if(S=E[O][D][k],!(g.getOwner()!=S.getOwner()||g==S)&&!m.has(S)&&!w.has(S)){var T=Math.abs(g.getCenterX()-S.getCenterX())-(g.getWidth()/2+S.getWidth()/2),_=Math.abs(g.getCenterY()-S.getCenterY())-(g.getHeight()/2+S.getHeight()/2);T<=this.repulsionRange&&_<=this.repulsionRange&&w.add(S)}}g.surrounding=[].concat(i(w))}for(O=0;O<g.surrounding.length;O++)this.calcRepulsionForce(g,g.surrounding[O])},h.prototype.calcRepulsionRange=function(){return 0},r.exports=h}),(function(r,n,a){var i=a(1),o=a(7);function l(c,d,h){i.call(this,c,d,h),this.idealLength=o.DEFAULT_EDGE_LENGTH}l.prototype=Object.create(i.prototype);for(var u in i)l[u]=i[u];r.exports=l}),(function(r,n,a){var i=a(3);function o(u,c,d,h){i.call(this,u,c,d,h),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}o.prototype=Object.create(i.prototype);for(var l in i)o[l]=i[l];o.prototype.setGridCoordinates=function(u,c,d,h){this.startX=u,this.finishX=c,this.startY=d,this.finishY=h},r.exports=o}),(function(r,n,a){function i(o,l){this.width=0,this.height=0,o!==null&&l!==null&&(this.height=l,this.width=o)}i.prototype.getWidth=function(){return this.width},i.prototype.setWidth=function(o){this.width=o},i.prototype.getHeight=function(){return this.height},i.prototype.setHeight=function(o){this.height=o},r.exports=i}),(function(r,n,a){var i=a(14);function o(){this.map={},this.keys=[]}o.prototype.put=function(l,u){var c=i.createID(l);this.contains(c)||(this.map[c]=u,this.keys.push(l))},o.prototype.contains=function(l){return i.createID(l),this.map[l]!=null},o.prototype.get=function(l){var u=i.createID(l);return this.map[u]},o.prototype.keySet=function(){return this.keys},r.exports=o}),(function(r,n,a){var i=a(14);function o(){this.set={}}o.prototype.add=function(l){var u=i.createID(l);this.contains(u)||(this.set[u]=l)},o.prototype.remove=function(l){delete this.set[i.createID(l)]},o.prototype.clear=function(){this.set={}},o.prototype.contains=function(l){return this.set[i.createID(l)]==l},o.prototype.isEmpty=function(){return this.size()===0},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAllTo=function(l){for(var u=Object.keys(this.set),c=u.length,d=0;d<c;d++)l.push(this.set[u[d]])},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAll=function(l){for(var u=l.length,c=0;c<u;c++){var d=l[c];this.add(d)}},r.exports=o}),(function(r,n,a){var i=(function(){function c(d,h){for(var v=0;v<h.length;v++){var g=h[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,h,v){return h&&c(d.prototype,h),v&&c(d,v),d}})();function o(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var l=a(11),u=(function(){function c(d,h){o(this,c),(h!==null||h!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var v=void 0;d instanceof l?v=d.size():v=d.length,this._quicksort(d,0,v-1)}return i(c,[{key:"_quicksort",value:function(h,v,g){if(v<g){var m=this._partition(h,v,g);this._quicksort(h,v,m),this._quicksort(h,m+1,g)}}},{key:"_partition",value:function(h,v,g){for(var m=this._get(h,v),b=v,x=g;;){for(;this.compareFunction(m,this._get(h,x));)x--;for(;this.compareFunction(this._get(h,b),m);)b++;if(b<x)this._swap(h,b,x),b++,x--;else return x}}},{key:"_get",value:function(h,v){return h instanceof l?h.get_object_at(v):h[v]}},{key:"_set",value:function(h,v,g){h instanceof l?h.set_object_at(v,g):h[v]=g}},{key:"_swap",value:function(h,v,g){var m=this._get(h,v);this._set(h,v,this._get(h,g)),this._set(h,g,m)}},{key:"_defaultCompareFunction",value:function(h,v){return v>h}}]),c})();r.exports=u}),(function(r,n,a){var i=(function(){function u(c,d){for(var h=0;h<d.length;h++){var v=d[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,v.key,v)}}return function(c,d,h){return d&&u(c.prototype,d),h&&u(c,h),c}})();function o(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}var l=(function(){function u(c,d){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;o(this,u),this.sequence1=c,this.sequence2=d,this.match_score=h,this.mismatch_penalty=v,this.gap_penalty=g,this.iMax=c.length+1,this.jMax=d.length+1,this.grid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.grid[m]=new Array(this.jMax);for(var b=0;b<this.jMax;b++)this.grid[m][b]=0}this.tracebackGrid=new Array(this.iMax);for(var x=0;x<this.iMax;x++){this.tracebackGrid[x]=new Array(this.jMax);for(var w=0;w<this.jMax;w++)this.tracebackGrid[x][w]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return i(u,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var d=1;d<this.jMax;d++)this.grid[0][d]=this.grid[0][d-1]+this.gap_penalty,this.tracebackGrid[0][d]=[!1,!1,!0];for(var h=1;h<this.iMax;h++)this.grid[h][0]=this.grid[h-1][0]+this.gap_penalty,this.tracebackGrid[h][0]=[!1,!0,!1];for(var v=1;v<this.iMax;v++)for(var g=1;g<this.jMax;g++){var m=void 0;this.sequence1[v-1]===this.sequence2[g-1]?m=this.grid[v-1][g-1]+this.match_score:m=this.grid[v-1][g-1]+this.mismatch_penalty;var b=this.grid[v-1][g]+this.gap_penalty,x=this.grid[v][g-1]+this.gap_penalty,w=[m,b,x],S=this.arrayAllMaxIndexes(w);this.grid[v][g]=w[S[0]],this.tracebackGrid[v][g]=[S.includes(0),S.includes(1),S.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var d=[];for(d.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});d[0];){var h=d[0],v=this.tracebackGrid[h.pos[0]][h.pos[1]];v[0]&&d.push({pos:[h.pos[0]-1,h.pos[1]-1],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),v[1]&&d.push({pos:[h.pos[0]-1,h.pos[1]],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:"-"+h.seq2}),v[2]&&d.push({pos:[h.pos[0],h.pos[1]-1],seq1:"-"+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),h.pos[0]===0&&h.pos[1]===0&&this.alignments.push({sequence1:h.seq1,sequence2:h.seq2}),d.shift()}return this.alignments}},{key:"getAllIndexes",value:function(d,h){for(var v=[],g=-1;(g=d.indexOf(h,g+1))!==-1;)v.push(g);return v}},{key:"arrayAllMaxIndexes",value:function(d){return this.getAllIndexes(d,Math.max.apply(null,d))}}]),u})();r.exports=l}),(function(r,n,a){var i=function(){};i.FDLayout=a(18),i.FDLayoutConstants=a(7),i.FDLayoutEdge=a(19),i.FDLayoutNode=a(20),i.DimensionD=a(21),i.HashMap=a(22),i.HashSet=a(23),i.IGeometry=a(8),i.IMath=a(9),i.Integer=a(10),i.Point=a(12),i.PointD=a(4),i.RandomSeed=a(16),i.RectangleD=a(13),i.Transform=a(17),i.UniqueIDGeneretor=a(14),i.Quicksort=a(24),i.LinkedList=a(11),i.LGraphObject=a(2),i.LGraph=a(5),i.LEdge=a(1),i.LGraphManager=a(6),i.LNode=a(3),i.Layout=a(15),i.LayoutConstants=a(0),i.NeedlemanWunsch=a(25),r.exports=i}),(function(r,n,a){function i(){this.listeners=[]}var o=i.prototype;o.addListener=function(l,u){this.listeners.push({event:l,callback:u})},o.removeListener=function(l,u){for(var c=this.listeners.length;c>=0;c--){var d=this.listeners[c];d.event===l&&d.callback===u&&this.listeners.splice(c,1)}},o.emit=function(l,u){for(var c=0;c<this.listeners.length;c++){var d=this.listeners[c];l===d.event&&d.callback(u)}},r.exports=i})])})})(tv)),tv.exports}var Gne=ev.exports,pP;function Une(){return pP||(pP=1,(function(e,t){(function(n,a){e.exports=a(jne())})(Gne,function(r){return(function(n){var a={};function i(o){if(a[o])return a[o].exports;var l=a[o]={i:o,l:!1,exports:{}};return n[o].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=n,i.c=a,i.i=function(o){return o},i.d=function(o,l,u){i.o(o,l)||Object.defineProperty(o,l,{configurable:!1,enumerable:!0,get:u})},i.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(l,"a",l),l},i.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},i.p="",i(i.s=7)})([(function(n,a){n.exports=r}),(function(n,a,i){var o=i(0).FDLayoutConstants;function l(){}for(var u in o)l[u]=o[u];l.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,l.DEFAULT_RADIAL_SEPARATION=o.DEFAULT_EDGE_LENGTH,l.DEFAULT_COMPONENT_SEPERATION=60,l.TILE=!0,l.TILING_PADDING_VERTICAL=10,l.TILING_PADDING_HORIZONTAL=10,l.TREE_REDUCTION_ON_INCREMENTAL=!1,n.exports=l}),(function(n,a,i){var o=i(0).FDLayoutEdge;function l(c,d,h){o.call(this,c,d,h)}l.prototype=Object.create(o.prototype);for(var u in o)l[u]=o[u];n.exports=l}),(function(n,a,i){var o=i(0).LGraph;function l(c,d,h){o.call(this,c,d,h)}l.prototype=Object.create(o.prototype);for(var u in o)l[u]=o[u];n.exports=l}),(function(n,a,i){var o=i(0).LGraphManager;function l(c){o.call(this,c)}l.prototype=Object.create(o.prototype);for(var u in o)l[u]=o[u];n.exports=l}),(function(n,a,i){var o=i(0).FDLayoutNode,l=i(0).IMath;function u(d,h,v,g){o.call(this,d,h,v,g)}u.prototype=Object.create(o.prototype);for(var c in o)u[c]=o[c];u.prototype.move=function(){var d=this.graphManager.getLayout();this.displacementX=d.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=d.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>d.coolingFactor*d.maxNodeDisplacement&&(this.displacementX=d.coolingFactor*d.maxNodeDisplacement*l.sign(this.displacementX)),Math.abs(this.displacementY)>d.coolingFactor*d.maxNodeDisplacement&&(this.displacementY=d.coolingFactor*d.maxNodeDisplacement*l.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),d.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},u.prototype.propogateDisplacementToChildren=function(d,h){for(var v=this.getChild().getNodes(),g,m=0;m<v.length;m++)g=v[m],g.getChild()==null?(g.moveBy(d,h),g.displacementX+=d,g.displacementY+=h):g.propogateDisplacementToChildren(d,h)},u.prototype.setPred1=function(d){this.pred1=d},u.prototype.getPred1=function(){return pred1},u.prototype.getPred2=function(){return pred2},u.prototype.setNext=function(d){this.next=d},u.prototype.getNext=function(){return next},u.prototype.setProcessed=function(d){this.processed=d},u.prototype.isProcessed=function(){return processed},n.exports=u}),(function(n,a,i){var o=i(0).FDLayout,l=i(4),u=i(3),c=i(5),d=i(2),h=i(1),v=i(0).FDLayoutConstants,g=i(0).LayoutConstants,m=i(0).Point,b=i(0).PointD,x=i(0).Layout,w=i(0).Integer,S=i(0).IGeometry,E=i(0).LGraph,O=i(0).Transform;function D(){o.call(this),this.toBeTiled={}}D.prototype=Object.create(o.prototype);for(var k in o)D[k]=o[k];D.prototype.newGraphManager=function(){var T=new l(this);return this.graphManager=T,T},D.prototype.newGraph=function(T){return new u(null,this.graphManager,T)},D.prototype.newNode=function(T){return new c(this.graphManager,T)},D.prototype.newEdge=function(T){return new d(null,null,T)},D.prototype.initParameters=function(){o.prototype.initParameters.call(this,arguments),this.isSubLayout||(h.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=h.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=h.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=v.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=v.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=v.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=v.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=v.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/v.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=v.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},D.prototype.layout=function(){var T=g.DEFAULT_CREATE_BENDS_AS_NEEDED;return T&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},D.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(h.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var _=new Set(this.getAllNodes()),M=this.nodesWithGravity.filter(function(L){return _.has(L)});this.graphManager.setAllNodesToApplyGravitation(M)}}else{var T=this.getFlatForest();if(T.length>0)this.positionNodesRadially(T);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var _=new Set(this.getAllNodes()),M=this.nodesWithGravity.filter(function(R){return _.has(R)});this.graphManager.setAllNodesToApplyGravitation(M),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},D.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%v.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var T=new Set(this.getAllNodes()),_=this.nodesWithGravity.filter(function(P){return T.has(P)});this.graphManager.setAllNodesToApplyGravitation(_),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var M=!this.isTreeGrowing&&!this.isGrowthFinished,R=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(M,R),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},D.prototype.getPositionsData=function(){for(var T=this.graphManager.getAllNodes(),_={},M=0;M<T.length;M++){var R=T[M].rect,P=T[M].id;_[P]={id:P,x:R.getCenterX(),y:R.getCenterY(),w:R.width,h:R.height}}return _},D.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var T=!1;if(v.ANIMATE==="during")this.emit("layoutstarted");else{for(;!T;)T=this.tick();this.graphManager.updateBounds()}},D.prototype.calculateNodesToApplyGravitationTo=function(){var T=[],_,M=this.graphManager.getGraphs(),R=M.length,P;for(P=0;P<R;P++)_=M[P],_.updateConnected(),_.isConnected||(T=T.concat(_.getNodes()));return T},D.prototype.createBendpoints=function(){var T=[];T=T.concat(this.graphManager.getAllEdges());var _=new Set,M;for(M=0;M<T.length;M++){var R=T[M];if(!_.has(R)){var P=R.getSource(),L=R.getTarget();if(P==L)R.getBendpoints().push(new b),R.getBendpoints().push(new b),this.createDummyNodesForBendpoints(R),_.add(R);else{var N=[];if(N=N.concat(P.getEdgeListToNode(L)),N=N.concat(L.getEdgeListToNode(P)),!_.has(N[0])){if(N.length>1){var B;for(B=0;B<N.length;B++){var G=N[B];G.getBendpoints().push(new b),this.createDummyNodesForBendpoints(G)}}N.forEach(function(I){_.add(I)})}}}if(_.size==T.length)break}},D.prototype.positionNodesRadially=function(T){for(var _=new m(0,0),M=Math.ceil(Math.sqrt(T.length)),R=0,P=0,L=0,N=new b(0,0),B=0;B<T.length;B++){B%M==0&&(L=0,P=R,B!=0&&(P+=h.DEFAULT_COMPONENT_SEPERATION),R=0);var G=T[B],I=x.findCenterOfTree(G);_.x=L,_.y=P,N=D.radialLayout(G,I,_),N.y>R&&(R=Math.floor(N.y)),L=Math.floor(N.x+h.DEFAULT_COMPONENT_SEPERATION)}this.transform(new b(g.WORLD_CENTER_X-N.x/2,g.WORLD_CENTER_Y-N.y/2))},D.radialLayout=function(T,_,M){var R=Math.max(this.maxDiagonalInTree(T),h.DEFAULT_RADIAL_SEPARATION);D.branchRadialLayout(_,null,0,359,0,R);var P=E.calculateBounds(T),L=new O;L.setDeviceOrgX(P.getMinX()),L.setDeviceOrgY(P.getMinY()),L.setWorldOrgX(M.x),L.setWorldOrgY(M.y);for(var N=0;N<T.length;N++){var B=T[N];B.transform(L)}var G=new b(P.getMaxX(),P.getMaxY());return L.inverseTransformPoint(G)},D.branchRadialLayout=function(T,_,M,R,P,L){var N=(R-M+1)/2;N<0&&(N+=180);var B=(N+M)%360,G=B*S.TWO_PI/360,I=P*Math.cos(G),z=P*Math.sin(G);T.setCenter(I,z);var q=[];q=q.concat(T.getEdges());var H=q.length;_!=null&&H--;for(var X=0,U=q.length,V,Q=T.getEdgesBetween(_);Q.length>1;){var ee=Q[0];Q.splice(0,1);var te=q.indexOf(ee);te>=0&&q.splice(te,1),U--,H--}_!=null?V=(q.indexOf(Q[0])+1)%U:V=0;for(var ie=Math.abs(R-M)/H,ue=V;X!=H;ue=++ue%U){var xe=q[ue].getOtherEnd(T);if(xe!=_){var Z=(M+X*ie)%360,re=(Z+ie)%360;D.branchRadialLayout(xe,T,Z,re,P+L,L),X++}}},D.maxDiagonalInTree=function(T){for(var _=w.MIN_VALUE,M=0;M<T.length;M++){var R=T[M],P=R.getDiagonal();P>_&&(_=P)}return _},D.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},D.prototype.groupZeroDegreeMembers=function(){var T=this,_={};this.memberGroups={},this.idToDummyNode={};for(var M=[],R=this.graphManager.getAllNodes(),P=0;P<R.length;P++){var L=R[P],N=L.getParent();this.getNodeDegreeWithChildren(L)===0&&(N.id==null||!this.getToBeTiled(N))&&M.push(L)}for(var P=0;P<M.length;P++){var L=M[P],B=L.getParent().id;typeof _[B]>"u"&&(_[B]=[]),_[B]=_[B].concat(L)}Object.keys(_).forEach(function(G){if(_[G].length>1){var I="DummyCompound_"+G;T.memberGroups[I]=_[G];var z=_[G][0].getParent(),q=new c(T.graphManager);q.id=I,q.paddingLeft=z.paddingLeft||0,q.paddingRight=z.paddingRight||0,q.paddingBottom=z.paddingBottom||0,q.paddingTop=z.paddingTop||0,T.idToDummyNode[I]=q;var H=T.getGraphManager().add(T.newGraph(),q),X=z.getChild();X.add(q);for(var U=0;U<_[G].length;U++){var V=_[G][U];X.remove(V),H.add(V)}}})},D.prototype.clearCompounds=function(){var T={},_={};this.performDFSOnCompounds();for(var M=0;M<this.compoundOrder.length;M++)_[this.compoundOrder[M].id]=this.compoundOrder[M],T[this.compoundOrder[M].id]=[].concat(this.compoundOrder[M].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[M].getChild()),this.compoundOrder[M].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(T,_)},D.prototype.clearZeroDegreeMembers=function(){var T=this,_=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(M){var R=T.idToDummyNode[M];_[M]=T.tileNodes(T.memberGroups[M],R.paddingLeft+R.paddingRight),R.rect.width=_[M].width,R.rect.height=_[M].height})},D.prototype.repopulateCompounds=function(){for(var T=this.compoundOrder.length-1;T>=0;T--){var _=this.compoundOrder[T],M=_.id,R=_.paddingLeft,P=_.paddingTop;this.adjustLocations(this.tiledMemberPack[M],_.rect.x,_.rect.y,R,P)}},D.prototype.repopulateZeroDegreeMembers=function(){var T=this,_=this.tiledZeroDegreePack;Object.keys(_).forEach(function(M){var R=T.idToDummyNode[M],P=R.paddingLeft,L=R.paddingTop;T.adjustLocations(_[M],R.rect.x,R.rect.y,P,L)})},D.prototype.getToBeTiled=function(T){var _=T.id;if(this.toBeTiled[_]!=null)return this.toBeTiled[_];var M=T.getChild();if(M==null)return this.toBeTiled[_]=!1,!1;for(var R=M.getNodes(),P=0;P<R.length;P++){var L=R[P];if(this.getNodeDegree(L)>0)return this.toBeTiled[_]=!1,!1;if(L.getChild()==null){this.toBeTiled[L.id]=!1;continue}if(!this.getToBeTiled(L))return this.toBeTiled[_]=!1,!1}return this.toBeTiled[_]=!0,!0},D.prototype.getNodeDegree=function(T){T.id;for(var _=T.getEdges(),M=0,R=0;R<_.length;R++){var P=_[R];P.getSource().id!==P.getTarget().id&&(M=M+1)}return M},D.prototype.getNodeDegreeWithChildren=function(T){var _=this.getNodeDegree(T);if(T.getChild()==null)return _;for(var M=T.getChild().getNodes(),R=0;R<M.length;R++){var P=M[R];_+=this.getNodeDegreeWithChildren(P)}return _},D.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},D.prototype.fillCompexOrderByDFS=function(T){for(var _=0;_<T.length;_++){var M=T[_];M.getChild()!=null&&this.fillCompexOrderByDFS(M.getChild().getNodes()),this.getToBeTiled(M)&&this.compoundOrder.push(M)}},D.prototype.adjustLocations=function(T,_,M,R,P){_+=R,M+=P;for(var L=_,N=0;N<T.rows.length;N++){var B=T.rows[N];_=L;for(var G=0,I=0;I<B.length;I++){var z=B[I];z.rect.x=_,z.rect.y=M,_+=z.rect.width+T.horizontalPadding,z.rect.height>G&&(G=z.rect.height)}M+=G+T.verticalPadding}},D.prototype.tileCompoundMembers=function(T,_){var M=this;this.tiledMemberPack=[],Object.keys(T).forEach(function(R){var P=_[R];M.tiledMemberPack[R]=M.tileNodes(T[R],P.paddingLeft+P.paddingRight),P.rect.width=M.tiledMemberPack[R].width,P.rect.height=M.tiledMemberPack[R].height})},D.prototype.tileNodes=function(T,_){var M=h.TILING_PADDING_VERTICAL,R=h.TILING_PADDING_HORIZONTAL,P={rows:[],rowWidth:[],rowHeight:[],width:0,height:_,verticalPadding:M,horizontalPadding:R};T.sort(function(B,G){return B.rect.width*B.rect.height>G.rect.width*G.rect.height?-1:B.rect.width*B.rect.height<G.rect.width*G.rect.height?1:0});for(var L=0;L<T.length;L++){var N=T[L];P.rows.length==0?this.insertNodeToRow(P,N,0,_):this.canAddHorizontal(P,N.rect.width,N.rect.height)?this.insertNodeToRow(P,N,this.getShortestRowIndex(P),_):this.insertNodeToRow(P,N,P.rows.length,_),this.shiftToLastRow(P)}return P},D.prototype.insertNodeToRow=function(T,_,M,R){var P=R;if(M==T.rows.length){var L=[];T.rows.push(L),T.rowWidth.push(P),T.rowHeight.push(0)}var N=T.rowWidth[M]+_.rect.width;T.rows[M].length>0&&(N+=T.horizontalPadding),T.rowWidth[M]=N,T.width<N&&(T.width=N);var B=_.rect.height;M>0&&(B+=T.verticalPadding);var G=0;B>T.rowHeight[M]&&(G=T.rowHeight[M],T.rowHeight[M]=B,G=T.rowHeight[M]-G),T.height+=G,T.rows[M].push(_)},D.prototype.getShortestRowIndex=function(T){for(var _=-1,M=Number.MAX_VALUE,R=0;R<T.rows.length;R++)T.rowWidth[R]<M&&(_=R,M=T.rowWidth[R]);return _},D.prototype.getLongestRowIndex=function(T){for(var _=-1,M=Number.MIN_VALUE,R=0;R<T.rows.length;R++)T.rowWidth[R]>M&&(_=R,M=T.rowWidth[R]);return _},D.prototype.canAddHorizontal=function(T,_,M){var R=this.getShortestRowIndex(T);if(R<0)return!0;var P=T.rowWidth[R];if(P+T.horizontalPadding+_<=T.width)return!0;var L=0;T.rowHeight[R]<M&&R>0&&(L=M+T.verticalPadding-T.rowHeight[R]);var N;T.width-P>=_+T.horizontalPadding?N=(T.height+L)/(P+_+T.horizontalPadding):N=(T.height+L)/T.width,L=M+T.verticalPadding;var B;return T.width<_?B=(T.height+L)/_:B=(T.height+L)/T.width,B<1&&(B=1/B),N<1&&(N=1/N),N<B},D.prototype.shiftToLastRow=function(T){var _=this.getLongestRowIndex(T),M=T.rowWidth.length-1,R=T.rows[_],P=R[R.length-1],L=P.width+T.horizontalPadding;if(T.width-T.rowWidth[M]>L&&_!=M){R.splice(-1,1),T.rows[M].push(P),T.rowWidth[_]=T.rowWidth[_]-L,T.rowWidth[M]=T.rowWidth[M]+L,T.width=T.rowWidth[instance.getLongestRowIndex(T)];for(var N=Number.MIN_VALUE,B=0;B<R.length;B++)R[B].height>N&&(N=R[B].height);_>0&&(N+=T.verticalPadding);var G=T.rowHeight[_]+T.rowHeight[M];T.rowHeight[_]=N,T.rowHeight[M]<P.height+T.verticalPadding&&(T.rowHeight[M]=P.height+T.verticalPadding);var I=T.rowHeight[_]+T.rowHeight[M];T.height+=I-G,this.shiftToLastRow(T)}},D.prototype.tilingPreLayout=function(){h.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},D.prototype.tilingPostLayout=function(){h.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},D.prototype.reduceTrees=function(){for(var T=[],_=!0,M;_;){var R=this.graphManager.getAllNodes(),P=[];_=!1;for(var L=0;L<R.length;L++)M=R[L],M.getEdges().length==1&&!M.getEdges()[0].isInterGraph&&M.getChild()==null&&(P.push([M,M.getEdges()[0],M.getOwner()]),_=!0);if(_==!0){for(var N=[],B=0;B<P.length;B++)P[B][0].getEdges().length==1&&(N.push(P[B]),P[B][0].getOwner().remove(P[B][0]));T.push(N),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=T},D.prototype.growTree=function(T){for(var _=T.length,M=T[_-1],R,P=0;P<M.length;P++)R=M[P],this.findPlaceforPrunedNode(R),R[2].add(R[0]),R[2].add(R[1],R[1].source,R[1].target);T.splice(T.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},D.prototype.findPlaceforPrunedNode=function(T){var _,M,R=T[0];R==T[1].source?M=T[1].target:M=T[1].source;var P=M.startX,L=M.finishX,N=M.startY,B=M.finishY,G=0,I=0,z=0,q=0,H=[G,z,I,q];if(N>0)for(var X=P;X<=L;X++)H[0]+=this.grid[X][N-1].length+this.grid[X][N].length-1;if(L<this.grid.length-1)for(var X=N;X<=B;X++)H[1]+=this.grid[L+1][X].length+this.grid[L][X].length-1;if(B<this.grid[0].length-1)for(var X=P;X<=L;X++)H[2]+=this.grid[X][B+1].length+this.grid[X][B].length-1;if(P>0)for(var X=N;X<=B;X++)H[3]+=this.grid[P-1][X].length+this.grid[P][X].length-1;for(var U=w.MAX_VALUE,V,Q,ee=0;ee<H.length;ee++)H[ee]<U?(U=H[ee],V=1,Q=ee):H[ee]==U&&V++;if(V==3&&U==0)H[0]==0&&H[1]==0&&H[2]==0?_=1:H[0]==0&&H[1]==0&&H[3]==0?_=0:H[0]==0&&H[2]==0&&H[3]==0?_=3:H[1]==0&&H[2]==0&&H[3]==0&&(_=2);else if(V==2&&U==0){var te=Math.floor(Math.random()*2);H[0]==0&&H[1]==0?te==0?_=0:_=1:H[0]==0&&H[2]==0?te==0?_=0:_=2:H[0]==0&&H[3]==0?te==0?_=0:_=3:H[1]==0&&H[2]==0?te==0?_=1:_=2:H[1]==0&&H[3]==0?te==0?_=1:_=3:te==0?_=2:_=3}else if(V==4&&U==0){var te=Math.floor(Math.random()*4);_=te}else _=Q;_==0?R.setCenter(M.getCenterX(),M.getCenterY()-M.getHeight()/2-v.DEFAULT_EDGE_LENGTH-R.getHeight()/2):_==1?R.setCenter(M.getCenterX()+M.getWidth()/2+v.DEFAULT_EDGE_LENGTH+R.getWidth()/2,M.getCenterY()):_==2?R.setCenter(M.getCenterX(),M.getCenterY()+M.getHeight()/2+v.DEFAULT_EDGE_LENGTH+R.getHeight()/2):R.setCenter(M.getCenterX()-M.getWidth()/2-v.DEFAULT_EDGE_LENGTH-R.getWidth()/2,M.getCenterY())},n.exports=D}),(function(n,a,i){var o={};o.layoutBase=i(0),o.CoSEConstants=i(1),o.CoSEEdge=i(2),o.CoSEGraph=i(3),o.CoSEGraphManager=i(4),o.CoSELayout=i(6),o.CoSENode=i(5),n.exports=o})])})})(ev)),ev.exports}var Fne=Jh.exports,gP;function qne(){return gP||(gP=1,(function(e,t){(function(n,a){e.exports=a(Une())})(Fne,function(r){return(function(n){var a={};function i(o){if(a[o])return a[o].exports;var l=a[o]={i:o,l:!1,exports:{}};return n[o].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=n,i.c=a,i.i=function(o){return o},i.d=function(o,l,u){i.o(o,l)||Object.defineProperty(o,l,{configurable:!1,enumerable:!0,get:u})},i.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(l,"a",l),l},i.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},i.p="",i(i.s=1)})([(function(n,a){n.exports=r}),(function(n,a,i){var o=i(0).layoutBase.LayoutConstants,l=i(0).layoutBase.FDLayoutConstants,u=i(0).CoSEConstants,c=i(0).CoSELayout,d=i(0).CoSENode,h=i(0).layoutBase.PointD,v=i(0).layoutBase.DimensionD,g={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function m(S,E){var O={};for(var D in S)O[D]=S[D];for(var D in E)O[D]=E[D];return O}function b(S){this.options=m(g,S),x(this.options)}var x=function(E){E.nodeRepulsion!=null&&(u.DEFAULT_REPULSION_STRENGTH=l.DEFAULT_REPULSION_STRENGTH=E.nodeRepulsion),E.idealEdgeLength!=null&&(u.DEFAULT_EDGE_LENGTH=l.DEFAULT_EDGE_LENGTH=E.idealEdgeLength),E.edgeElasticity!=null&&(u.DEFAULT_SPRING_STRENGTH=l.DEFAULT_SPRING_STRENGTH=E.edgeElasticity),E.nestingFactor!=null&&(u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=E.nestingFactor),E.gravity!=null&&(u.DEFAULT_GRAVITY_STRENGTH=l.DEFAULT_GRAVITY_STRENGTH=E.gravity),E.numIter!=null&&(u.MAX_ITERATIONS=l.MAX_ITERATIONS=E.numIter),E.gravityRange!=null&&(u.DEFAULT_GRAVITY_RANGE_FACTOR=l.DEFAULT_GRAVITY_RANGE_FACTOR=E.gravityRange),E.gravityCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=l.DEFAULT_COMPOUND_GRAVITY_STRENGTH=E.gravityCompound),E.gravityRangeCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=E.gravityRangeCompound),E.initialEnergyOnIncremental!=null&&(u.DEFAULT_COOLING_FACTOR_INCREMENTAL=l.DEFAULT_COOLING_FACTOR_INCREMENTAL=E.initialEnergyOnIncremental),E.quality=="draft"?o.QUALITY=0:E.quality=="proof"?o.QUALITY=2:o.QUALITY=1,u.NODE_DIMENSIONS_INCLUDE_LABELS=l.NODE_DIMENSIONS_INCLUDE_LABELS=o.NODE_DIMENSIONS_INCLUDE_LABELS=E.nodeDimensionsIncludeLabels,u.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=o.DEFAULT_INCREMENTAL=!E.randomize,u.ANIMATE=l.ANIMATE=o.ANIMATE=E.animate,u.TILE=E.tile,u.TILING_PADDING_VERTICAL=typeof E.tilingPaddingVertical=="function"?E.tilingPaddingVertical.call():E.tilingPaddingVertical,u.TILING_PADDING_HORIZONTAL=typeof E.tilingPaddingHorizontal=="function"?E.tilingPaddingHorizontal.call():E.tilingPaddingHorizontal};b.prototype.run=function(){var S,E,O=this.options;this.idToLNode={};var D=this.layout=new c,k=this;k.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var T=D.newGraphManager();this.gm=T;var _=this.options.eles.nodes(),M=this.options.eles.edges();this.root=T.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(_),D);for(var R=0;R<M.length;R++){var P=M[R],L=this.idToLNode[P.data("source")],N=this.idToLNode[P.data("target")];if(L!==N&&L.getEdgesBetween(N).length==0){var B=T.add(D.newEdge(),L,N);B.id=P.id()}}var G=function(q,H){typeof q=="number"&&(q=H);var X=q.data("id"),U=k.idToLNode[X];return{x:U.getRect().getCenterX(),y:U.getRect().getCenterY()}},I=function z(){for(var q=function(){O.fit&&O.cy.fit(O.eles,O.padding),S||(S=!0,k.cy.one("layoutready",O.ready),k.cy.trigger({type:"layoutready",layout:k}))},H=k.options.refresh,X,U=0;U<H&&!X;U++)X=k.stopped||k.layout.tick();if(X){D.checkLayoutSuccess()&&!D.isSubLayout&&D.doPostLayout(),D.tilingPostLayout&&D.tilingPostLayout(),D.isLayoutFinished=!0,k.options.eles.nodes().positions(G),q(),k.cy.one("layoutstop",k.options.stop),k.cy.trigger({type:"layoutstop",layout:k}),E&&cancelAnimationFrame(E),S=!1;return}var V=k.layout.getPositionsData();O.eles.nodes().positions(function(Q,ee){if(typeof Q=="number"&&(Q=ee),!Q.isParent()){for(var te=Q.id(),ie=V[te],ue=Q;ie==null&&(ie=V[ue.data("parent")]||V["DummyCompound_"+ue.data("parent")],V[te]=ie,ue=ue.parent()[0],ue!=null););return ie!=null?{x:ie.x,y:ie.y}:{x:Q.position("x"),y:Q.position("y")}}}),q(),E=requestAnimationFrame(z)};return D.addListener("layoutstarted",function(){k.options.animate==="during"&&(E=requestAnimationFrame(I))}),D.runLayout(),this.options.animate!=="during"&&(k.options.eles.nodes().not(":parent").layoutPositions(k,k.options,G),S=!1),this},b.prototype.getTopMostNodes=function(S){for(var E={},O=0;O<S.length;O++)E[S[O].id()]=!0;var D=S.filter(function(k,T){typeof k=="number"&&(k=T);for(var _=k.parent()[0];_!=null;){if(E[_.id()])return!1;_=_.parent()[0]}return!0});return D},b.prototype.processChildrenList=function(S,E,O){for(var D=E.length,k=0;k<D;k++){var T=E[k],_=T.children(),M,R=T.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(T.outerWidth()!=null&&T.outerHeight()!=null?M=S.add(new d(O.graphManager,new h(T.position("x")-R.w/2,T.position("y")-R.h/2),new v(parseFloat(R.w),parseFloat(R.h)))):M=S.add(new d(this.graphManager)),M.id=T.data("id"),M.paddingLeft=parseInt(T.css("padding")),M.paddingTop=parseInt(T.css("padding")),M.paddingRight=parseInt(T.css("padding")),M.paddingBottom=parseInt(T.css("padding")),this.options.nodeDimensionsIncludeLabels&&T.isParent()){var P=T.boundingBox({includeLabels:!0,includeNodes:!1}).w,L=T.boundingBox({includeLabels:!0,includeNodes:!1}).h,N=T.css("text-halign");M.labelWidth=P,M.labelHeight=L,M.labelPos=N}if(this.idToLNode[T.data("id")]=M,isNaN(M.rect.x)&&(M.rect.x=0),isNaN(M.rect.y)&&(M.rect.y=0),_!=null&&_.length>0){var B;B=O.getGraphManager().add(O.newGraph(),M),this.processChildrenList(B,_,O)}}},b.prototype.stop=function(){return this.stopped=!0,this};var w=function(E){E("layout","cose-bilkent",b)};typeof cytoscape<"u"&&w(cytoscape),n.exports=w})])})})(Jh)),Jh.exports}var Hne=qne();const Vne=La(Hne),Yne=({children:e,content:t})=>K.jsxs("div",{className:"relative group flex items-center",children:[e,K.jsx("div",{className:"absolute bottom-full mb-2 w-max max-w-xs bg-slate-800 text-white text-xs rounded-md px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none z-10",children:t})]});Ii.use(Ine);Ii.use(Vne);const mP="#90e0ef",yP="#f94144";function $ne(e,t,r){const n=parseInt(e.substring(1,3),16),a=parseInt(e.substring(3,5),16),i=parseInt(e.substring(5,7),16),o=parseInt(t.substring(1,3),16),l=parseInt(t.substring(3,5),16),u=parseInt(t.substring(5,7),16),c=Math.round(n+r*(o-n)),d=Math.round(a+r*(l-a)),h=Math.round(i+r*(u-i));return`#${c.toString(16).padStart(2,"0")}${d.toString(16).padStart(2,"0")}${h.toString(16).padStart(2,"0")}`}const Xne=({model:e,results:t})=>{const r=F.useRef(null),n=F.useRef(null),[a,i]=F.useState("cose"),[o,l]=F.useState("default"),[u,c]=F.useState("uniform"),[d,h]=F.useState(null),[v,g]=F.useState(null),[m,b]=F.useState(""),x=F.useMemo(()=>{if(!e)return null;const E=new Map,O=new Set;e.species.forEach(M=>{const R=M.name.split("(")[0];E.set(M.name,R),O.add(R)});const D=new Map;[...O].forEach((M,R)=>{D.set(M,Kl[R%Kl.length])});const k=e.reactions.map(M=>M.rateConstant).filter(M=>M>0),T=k.length>0?Math.min(...k):0,_=k.length>0?Math.max(...k):0;return{speciesToMoleculeType:E,typeColorMap:D,minRate:T,maxRate:_}},[e]),w=()=>{const E=n.current;if(!E||!m)return;E.elements().style({"border-width":0,opacity:1});const O=E.nodes(`[id @* "${m}"]`);O.length>0&&(E.animate({center:{eles:O},zoom:2},{duration:500}),O.style({"border-width":4,"border-color":"#f97316"}))},S=()=>{const E=n.current;E&&(E.fit(void 0,30),E.elements().style({opacity:1,"border-width":0}),b(""))};return F.useEffect(()=>{var D;if(!e||!r.current){(D=n.current)==null||D.destroy(),n.current=null;return}const E=e.species.map(k=>({data:{id:k.name,label:k.name.replace(/\./g,`.
`)}}));e.reactions.forEach(k=>{k.reactants.forEach(T=>{k.products.forEach(_=>{e.species.find(M=>M.name===T)&&e.species.find(M=>M.name===_)&&E.push({data:{source:T,target:_,rate:k.rateConstant}})})})}),n.current=Ii({container:r.current,elements:E,style:[{selector:"node",style:{label:"data(label)",color:"white","text-outline-color":"#333","text-outline-width":2,"font-size":10,"text-valign":"center","text-halign":"center",width:60,height:60,"text-wrap":"wrap","text-max-width":"80","border-width":0,"border-color":"#f97316","transition-property":"background-color, opacity, border-width","transition-duration":.3}},{selector:"edge",style:{"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier","transition-property":"width, line-color, target-arrow-color, opacity","transition-duration":.3}}]});const O=n.current;return O.on("tap","node",k=>{const T=k.target;O.elements().animate({style:{opacity:.2},duration:200}),T.neighborhood().add(T).animate({style:{opacity:1},duration:200})}),O.on("tap",k=>{k.target===O&&O.elements().animate({style:{opacity:1},duration:200})}),O.on("mouseover","node, edge",k=>{const T=k.target,_=T.isNode()?`<b>Species:</b> ${T.id()}`:`<b>Rate:</b> ${T.data("rate")}`;g({content:_,x:k.renderedPosition.x,y:k.renderedPosition.y})}),O.on("mouseout","node, edge",()=>g(null)),O.on("drag","node",()=>g(null)),O.on("zoom pan",()=>g(null)),()=>{var k;(k=n.current)==null||k.destroy(),n.current=null}},[e]),F.useEffect(()=>{const E=n.current;if(!(!E||!e||!x)){if(o==="concentration"&&t){const O=t.data[t.data.length-1];if(O){const D=e.species.map(_=>O[_.name]).filter(_=>typeof _<"u"),k=D.length>0?Math.min(...D):0,T=D.length>0?Math.max(...D):0;h({min:k,max:T}),E.nodes().forEach(_=>{const M=_.id(),R=O[M];let P="#ccc";if(typeof R<"u"&&R!==null){const L=T>k?(R-k)/(T-k):.5;P=$ne(mP,yP,L)}_.style("background-color",P)})}}else o==="moleculeType"?(h(null),E.nodes().forEach(O=>{const D=O.id(),k=x.speciesToMoleculeType.get(D),T=k?x.typeColorMap.get(k):"#ccc";O.style("background-color",T)})):(h(null),E.nodes().forEach((O,D)=>{O.style("background-color",Kl[D%Kl.length])}));if(u==="rate"){const{minRate:O,maxRate:D}=x;E.edges().forEach(k=>{const T=k.data("rate");let _=2;typeof T<"u"&&T!==null&&D>O?_=1+(T-O)/(D-O)*7:D>0&&D===O&&(_=4),k.style("width",_)})}else E.edges().style("width",2);E.layout({name:a==="cose"?"cose-bilkent":a,animate:!0,animationDuration:500,padding:30,nodeRepulsion:4500,idealEdgeLength:100,edgeLength:120}).run()}},[e,t,o,u,a,x]),e?K.jsxs("div",{className:"w-full flex flex-col",children:[K.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-2 p-2 bg-slate-50 dark:bg-slate-800 border border-stone-200 dark:border-slate-700 rounded-md",children:[K.jsxs("div",{className:"flex items-center gap-2",children:[K.jsx("span",{className:"text-sm font-medium",children:"Layout:"}),K.jsx(xr,{variant:a==="cose"?"secondary":"ghost",onClick:()=>i("cose"),className:"text-xs px-2 py-1",children:"Cose"}),K.jsx(xr,{variant:a==="cola"?"secondary":"ghost",onClick:()=>i("cola"),className:"text-xs px-2 py-1",children:"Cola"}),K.jsx(xr,{variant:a==="circle"?"secondary":"ghost",onClick:()=>i("circle"),className:"text-xs px-2 py-1",children:"Circle"})]}),K.jsxs("div",{className:"flex items-center gap-2",children:[K.jsx("span",{className:"text-sm font-medium",children:"Node Color:"}),K.jsx(xr,{variant:o==="moleculeType"?"secondary":"ghost",onClick:()=>l("moleculeType"),className:"text-xs px-2 py-1",children:"Type"}),K.jsx(Yne,{content:t?"Color by final concentration":"Run simulation to enable",children:K.jsx("span",{className:t?"":"cursor-not-allowed",children:K.jsx(xr,{variant:o==="concentration"?"secondary":"ghost",onClick:()=>l("concentration"),disabled:!t,className:"text-xs px-2 py-1",children:"Conc."})})})]}),K.jsxs("div",{className:"flex items-center gap-2",children:[K.jsx("span",{className:"text-sm font-medium",children:"Edge Width:"}),K.jsx(xr,{variant:u==="uniform"?"secondary":"ghost",onClick:()=>c("uniform"),className:"text-xs px-2 py-1",children:"Uniform"}),K.jsx(xr,{variant:u==="rate"?"secondary":"ghost",onClick:()=>c("rate"),className:"text-xs px-2 py-1",children:"Rate"})]}),K.jsxs("div",{className:"lg:col-span-2 xl:col-span-1 flex items-center gap-2",children:[K.jsx(Ya,{type:"text",placeholder:"Find species...",className:"h-8 text-xs",value:m,onChange:E=>b(E.target.value),onKeyPress:E=>E.key==="Enter"&&w()}),K.jsx(xr,{onClick:w,variant:"secondary",className:"text-xs px-2 py-1 h-8",children:K.jsx(OP,{className:"w-4 h-4"})})]}),K.jsx("div",{className:"flex items-center gap-2",children:K.jsx(xr,{onClick:S,variant:"subtle",className:"text-xs px-2 py-1 h-8",children:"Reset View"})})]}),K.jsxs("div",{className:"relative w-full",children:[K.jsx("div",{ref:r,className:"w-full h-96 border border-stone-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-900"}),v&&K.jsx("div",{style:{position:"absolute",top:v.y,left:v.x,pointerEvents:"none"},className:"p-1 px-2 bg-slate-800 text-white text-xs rounded-md shadow-lg z-10 transform -translate-y-full -translate-x-1/2",dangerouslySetInnerHTML:{__html:v.content}}),K.jsx("div",{className:"absolute bottom-2 right-2 flex flex-col items-end gap-2",children:o==="concentration"&&d&&t&&K.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 p-2 rounded-md shadow-lg text-slate-800 dark:text-slate-200",children:[K.jsx("div",{className:"text-xs font-bold mb-1 text-center",children:"Concentration"}),K.jsxs("div",{className:"flex items-center gap-2",children:[K.jsx("span",{className:"text-xs w-12 text-left",children:d.min.toPrecision(2)}),K.jsx("div",{className:"w-24 h-3 rounded-full",style:{background:`linear-gradient(to right, ${mP}, ${yP})`}}),K.jsx("span",{className:"text-xs w-12 text-right",children:d.max.toPrecision(2)})]})]})}),K.jsx("div",{className:"absolute bottom-2 left-2 flex flex-col items-start gap-2",children:o==="moleculeType"&&x&&K.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 p-2 rounded-md shadow-lg",children:[K.jsx("div",{className:"text-xs font-bold mb-1 text-slate-800 dark:text-slate-200",children:"Molecule Types"}),K.jsx("div",{className:"flex flex-col gap-1 max-h-32 overflow-y-auto",children:[...x.typeColorMap.entries()].map(([E,O])=>K.jsxs("div",{className:"flex items-center gap-2",children:[K.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:O}}),K.jsx("span",{className:"text-xs text-slate-800 dark:text-slate-200",children:E})]},E))})]})})]})]}):K.jsx("div",{className:"h-96 flex items-center justify-center text-slate-500 bg-white dark:bg-slate-900 border border-stone-200 dark:border-slate-700 rounded-lg",children:"Parse a model to generate network graph."})},g3=({headers:e,rows:t})=>K.jsx("div",{className:"overflow-x-auto border border-stone-200 dark:border-slate-700 rounded-lg",children:K.jsxs("table",{className:"min-w-full divide-y divide-stone-200 dark:divide-slate-700",children:[K.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800",children:K.jsx("tr",{children:e.map((r,n)=>K.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:r},n))})}),K.jsx("tbody",{className:"bg-white dark:bg-slate-900 divide-y divide-stone-200 dark:divide-slate-700",children:t.length>0?t.map((r,n)=>K.jsx("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50",children:r.map((a,i)=>K.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700 dark:text-slate-200",children:a},i))},n)):K.jsx("tr",{children:K.jsx("td",{colSpan:e.length,className:"text-center px-6 py-4 text-sm text-slate-500 dark:text-slate-400",children:"No data available."})})})]})}),Kne=({model:e,onModelUpdate:t})=>{const[r,n]=F.useState({}),a=F.useCallback(()=>{if(e){const l={};for(const u in e.parameters)l[u]=String(e.parameters[u]);n(l)}},[e]);if(F.useEffect(()=>{a()},[e,a]),!e)return K.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:"Parse a model to view its parameters."});const i=(l,u)=>{n(c=>({...c,[l]:u}))},o=()=>{const l={};let u=!1;for(const c in r){const d=parseFloat(r[c]);if(isNaN(d)){console.error(`Invalid number for parameter ${c}: ${r[c]}`),u=!0;break}l[c]=d}if(!u&&e){const c=JSON.parse(JSON.stringify(e));c.parameters=l,c.reactions=[],c.reactionRules.forEach(d=>{const h=c.parameters[d.rate]??parseFloat(d.rate);if(isNaN(h)||c.reactions.push({reactants:d.reactants,products:d.products,rate:d.rate,rateConstant:h}),d.isBidirectional&&d.reverseRate){const v=c.parameters[d.reverseRate]??parseFloat(d.reverseRate);isNaN(v)||c.reactions.push({reactants:d.products,products:d.reactants,rate:d.reverseRate,rateConstant:v})}}),t(c)}};return K.jsxs("div",{className:"space-y-4",children:[K.jsx(g3,{headers:["Parameter","Value"],rows:Object.keys(r).map(l=>[K.jsx("span",{className:"font-mono",children:l},`${l}-label`),K.jsx(Ya,{type:"text",value:r[l],onChange:u=>i(l,u.target.value),className:"font-mono text-sm"},`${l}-input`)])}),K.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[K.jsx(xr,{variant:"subtle",onClick:a,children:"Reset"}),K.jsx(xr,{onClick:o,children:"Apply Changes & Update Reactions"})]})]})};function Wne(e){const t=[],r=new Map;e.species.forEach(a=>r.set(a.name,0)),e.reactions.forEach(a=>{new Set([...a.reactants,...a.products]).forEach(o=>{r.has(o)&&r.set(o,r.get(o)+1)})}),r.forEach((a,i)=>{t.push({species:i,degree:a})});const n=[];return e.moleculeTypes.forEach(a=>{const i=e.species.filter(o=>o.name.startsWith(a.name+"(")||o.name===a.name).map(o=>o.name);if(i.length>1){let o=!0;e.reactions.forEach(l=>{const u=l.reactants.some(d=>i.includes(d)),c=l.products.some(d=>i.includes(d));if(u||c){const d=new Set([...l.reactants,...l.products]);for(const h of d)if(!i.includes(h)){o=!1;break}}}),o&&n.push(`${a.name}_total = ${i.join(" + ")}`)}}),{connectivity:t,conservationLaws:n}}const Zne=({model:e})=>{const t=F.useMemo(()=>e?Wne(e):null,[e]);return e?t?K.jsxs("div",{className:"space-y-6",children:[K.jsxs("div",{children:[K.jsx("h3",{className:"text-lg font-medium mb-2 text-slate-800 dark:text-slate-200",children:"Species Connectivity"}),K.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:'The "degree" of a species is the number of reactions it participates in (as either a reactant or a product).'}),K.jsx(g3,{headers:["Species","Degree"],rows:t.connectivity.sort((r,n)=>n.degree-r.degree).map(r=>[r.species,r.degree])})]}),K.jsxs("div",{children:[K.jsx("h3",{className:"text-lg font-medium mb-2 text-slate-800 dark:text-slate-200",children:"Conservation Laws (Approximated)"}),K.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Lists of species whose total concentration remains constant throughout the simulation. This is a simplified analysis for basic cases."}),t.conservationLaws.length>0?K.jsx("ul",{className:"list-disc list-inside bg-slate-100 dark:bg-slate-800 p-4 rounded-md text-slate-700 dark:text-slate-200 font-mono text-sm",children:t.conservationLaws.map((r,n)=>K.jsx("li",{children:r},n))}):K.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No simple conservation laws were detected."})]})]}):K.jsx("div",{children:"Calculating properties..."}):K.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:"Parse a model to analyze its structure."})},qE=e=>K.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:K.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),Qne=({model:e,onSimulate:t,isSimulating:r})=>{if(!e)return K.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:"Parse a model to run a steady-state analysis."});const n=()=>{t({method:"ode",t_end:2e3,n_steps:800,steadyState:!0,steadyStateTolerance:1e-6,steadyStateWindow:12})};return K.jsxs("div",{className:"space-y-4",children:[K.jsxs("div",{className:"p-4 rounded-md bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-200 flex items-start gap-3",children:[K.jsx(qE,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),K.jsxs("p",{className:"text-sm",children:[K.jsx("b",{children:"Steady-state finder:"}),' Runs an adaptive ODE sweep until consecutive RK4 sub-steps change by less than 1e-6 (12 times in a row). The final point in the "Time Course" tab is the detected steady state.']})]}),K.jsx("div",{className:"mt-6",children:K.jsxs(xr,{onClick:n,disabled:r,children:[r&&K.jsx(AP,{className:"w-4 h-4 mr-2"}),"Run to Steady State"]})})]})},Rx=Mi.forwardRef(({className:e,children:t,...r},n)=>K.jsx("select",{className:`block w-full rounded-md border-stone-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${e}`,ref:n,...r,children:t}));Rx.displayName="Select";const Jne=({model:e})=>{const[t,r]=F.useState("1d");if(!e)return K.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:"Parse a model to set up a parameter scan."});const n=Object.keys(e.parameters);return K.jsxs("div",{children:[K.jsxs("div",{className:"p-4 rounded-md bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-200 flex items-start gap-3",children:[K.jsx(qE,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),K.jsxs("p",{className:"text-sm",children:[K.jsx("b",{children:"Feature Under Development:"})," The UI for parameter scans is complete, but the backend simulation logic is not yet implemented."]})]}),K.jsxs("div",{className:"mt-6",children:[K.jsx("label",{className:"font-medium text-slate-700 dark:text-slate-200",children:"Scan Type"}),K.jsxs("div",{className:"flex gap-4 mt-2",children:[K.jsxs("label",{className:"flex items-center gap-2",children:[K.jsx("input",{type:"radio",value:"1d",checked:t==="1d",onChange:()=>r("1d")})," 1D Scan"]}),K.jsxs("label",{className:"flex items-center gap-2",children:[K.jsx("input",{type:"radio",value:"2d",checked:t==="2d",onChange:()=>r("2d")})," 2D Scan"]})]})]}),K.jsxs("div",{className:"mt-6 space-y-4",children:[K.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-100",children:"Parameter 1"}),K.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[K.jsxs(Rx,{children:[K.jsx("option",{children:"Select Parameter..."}),n.map(a=>K.jsx("option",{value:a,children:a},a))]}),K.jsx(Ya,{type:"number",placeholder:"Start Value"}),K.jsx(Ya,{type:"number",placeholder:"End Value"}),K.jsx(Ya,{type:"number",placeholder:"Number of Steps"})]})]}),t==="2d"&&K.jsxs("div",{className:"mt-6 space-y-4",children:[K.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-100",children:"Parameter 2"}),K.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[K.jsxs(Rx,{children:[K.jsx("option",{children:"Select Parameter..."}),n.map(a=>K.jsx("option",{value:a,children:a},a))]}),K.jsx(Ya,{type:"number",placeholder:"Start Value"}),K.jsx(Ya,{type:"number",placeholder:"End Value"}),K.jsx(Ya,{type:"number",placeholder:"Number of Steps"})]})]}),K.jsx("div",{className:"mt-8 flex justify-end",children:K.jsx(xr,{disabled:!0,children:"Run Scan"})})]})},bP=e=>{var a;const t=e.split("("),r=t[0],n=((a=t[1])==null?void 0:a.replace(")","").split(",").map(i=>i.trim()).filter(Boolean))||[];return K.jsxs("div",{className:"flex items-center gap-1 p-2 border border-slate-300 dark:border-slate-600 rounded-md bg-slate-100 dark:bg-slate-800",children:[K.jsx("span",{className:"font-bold text-primary-600 dark:text-primary-400",children:r}),n.length>0&&K.jsx("div",{className:"flex gap-1",children:n.map(i=>{const o=i.includes("!"),l=i.includes("~")?i.split("~")[1]:null,u=i.split("~")[0].split("!")[0];return K.jsxs("div",{className:`px-2 py-0.5 text-xs rounded-full ${o?"bg-red-200 dark:bg-red-800":"bg-green-200 dark:bg-green-800"}`,children:[u,l&&`~${l}`]},u)})})]})},eae=({rule:e})=>K.jsx("div",{className:"p-4 border border-stone-200 dark:border-slate-700 rounded-lg",children:K.jsxs("div",{className:"flex items-center justify-center gap-4 flex-wrap",children:[K.jsx("div",{className:"flex items-center gap-2",children:e.reactants.map((t,r)=>K.jsxs(Mi.Fragment,{children:[bP(t),r<e.reactants.length-1&&K.jsx("span",{className:"text-2xl font-light text-slate-400",children:"+"})]},r))}),K.jsxs("div",{className:"flex flex-col items-center",children:[K.jsx("span",{className:"text-sm font-mono text-slate-500",children:e.rate}),K.jsx("svg",{className:"w-12 h-6",viewBox:"0 0 24 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:K.jsx("path",{d:"M1 6H22M22 6L17 1M22 6L17 11",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.isBidirectional&&e.reverseRate&&K.jsxs(K.Fragment,{children:[K.jsx("svg",{className:"w-12 h-6 rotate-180",viewBox:"0 0 24 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:K.jsx("path",{d:"M1 6H22M22 6L17 1M22 6L17 11",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),K.jsx("span",{className:"text-sm font-mono text-slate-500",children:e.reverseRate})]})]}),K.jsx("div",{className:"flex items-center gap-2",children:e.products.map((t,r)=>K.jsxs(Mi.Fragment,{children:[bP(t),r<e.products.length-1&&K.jsx("span",{className:"text-2xl font-light text-slate-400",children:"+"})]},r))})]})}),tae=({model:e})=>e?e.reactionRules.length===0?K.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:"This model has no reaction rules defined."}):K.jsx("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto pr-2",children:e.reactionRules.map((t,r)=>K.jsx(eae,{rule:t},r))}):K.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:"Parse a model to visualize reaction rules."}),rae=({model:e,results:t,onSimulate:r,isSimulating:n,onModelChange:a})=>{const[i,o]=F.useState(new Set),[l,u]=F.useState(e);return Mi.useEffect(()=>{e?(u(JSON.parse(JSON.stringify(e))),o(new Set(e.observables.map(c=>c.name)))):(u(null),o(new Set))},[e]),K.jsx("div",{className:"h-full",children:K.jsxs(Vj,{children:[K.jsxs(Yj,{children:[K.jsx(vs,{children:"Time Course"}),K.jsx(vs,{children:"Network Graph"}),K.jsx(vs,{children:"Rule Cartoons"}),K.jsx(vs,{children:"Parameters"}),K.jsx(vs,{children:"Structure"}),K.jsx(vs,{children:"Steady State"}),K.jsx(vs,{children:"Parameter Scan"})]}),K.jsxs($j,{children:[K.jsx(ps,{children:K.jsx(WW,{results:t,model:e,visibleSpecies:i,onVisibleSpeciesChange:o})}),K.jsx(ps,{children:K.jsx(Xne,{model:e,results:t})}),K.jsx(ps,{children:K.jsx(tae,{model:e})}),K.jsx(ps,{children:K.jsx(Kne,{model:l,onModelUpdate:c=>{u(c),a(c)}})}),K.jsx(ps,{children:K.jsx(Zne,{model:e})}),K.jsx(ps,{children:K.jsx(Qne,{model:l??e,onSimulate:r,isSimulating:n})}),K.jsx(ps,{children:K.jsx(Jne,{model:l??e})})]})]})})},nae=e=>K.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:K.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),aae=e=>K.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[K.jsx("circle",{cx:"12",cy:"12",r:"5"}),K.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),K.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),K.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),K.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),K.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),K.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),K.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),K.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),iae=({onAboutClick:e})=>{const[t,r]=DP();return K.jsx("header",{className:"bg-white dark:bg-slate-800 border-b border-stone-200 dark:border-slate-700 shadow-sm sticky top-0 z-40",children:K.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:K.jsxs("div",{className:"flex justify-between items-center py-3",children:[K.jsxs("div",{className:"flex items-center gap-2",children:[K.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",className:"text-primary",children:[K.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"currentColor",strokeWidth:"10"}),K.jsx("path",{d:"M25 50 A 25 25 0 0 1 75 50",fill:"none",stroke:"currentColor",strokeWidth:"8"}),K.jsx("path",{d:"M50 25 A 25 25 0 0 1 50 75",fill:"none",stroke:"currentColor",strokeWidth:"8"})]}),K.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"BioNetGen Playground"})]}),K.jsxs("div",{className:"flex items-center gap-4",children:[K.jsx(xr,{onClick:e,variant:"ghost",children:"About"}),K.jsx("button",{onClick:r,className:"p-2 rounded-full text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700","aria-label":"Toggle theme",children:t==="light"?K.jsx(nae,{className:"w-6 h-6"}):K.jsx(aae,{className:"w-6 h-6"})})]})]})})})},oae=e=>K.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:K.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),xP=e=>K.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:K.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),sae={success:K.jsx(oae,{className:"w-6 h-6 text-green-500"}),error:K.jsx(xP,{className:"w-6 h-6 text-red-500"}),warning:K.jsx(xP,{className:"w-6 h-6 text-yellow-500"}),info:K.jsx(qE,{className:"w-6 h-6 text-blue-500"})},lae={success:"bg-green-100 dark:bg-green-900/50 border-green-400 dark:border-green-600 text-green-800 dark:text-green-200",error:"bg-red-100 dark:bg-red-900/50 border-red-400 dark:border-red-600 text-red-800 dark:text-red-200",warning:"bg-yellow-100 dark:bg-yellow-900/50 border-yellow-400 dark:border-yellow-600 text-yellow-800 dark:text-yellow-200",info:"bg-blue-100 dark:bg-blue-900/50 border-blue-400 dark:border-blue-600 text-blue-800 dark:text-blue-200"},uae=({status:e,onClose:t})=>(F.useEffect(()=>{const r=setTimeout(()=>{t()},5e3);return()=>clearTimeout(r)},[t,e]),K.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border shadow-lg ${lae[e.type]} animate-fade-in-up`,children:[sae[e.type],K.jsx("p",{className:"text-sm font-medium",children:e.message}),K.jsx("button",{onClick:t,className:"ml-auto -mx-1.5 -my-1.5 p-1.5 rounded-lg focus:ring-2 inline-flex h-8 w-8 hover:bg-black/10 dark:hover:bg-white/10","aria-label":"Dismiss",children:K.jsx(CP,{className:"w-5 h-5"})})]})),cae=({isOpen:e,onClose:t})=>K.jsx(TP,{isOpen:e,onClose:t,title:"About BioNetGen Playground",children:K.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[K.jsx("p",{children:"This is an interactive web-based playground for the BioNetGen Language (BNGL), a language for specifying rule-based models of biochemical systems."}),K.jsx("p",{children:"You can write, edit, and simulate BNGL models directly in your browser. The application provides visualizations of simulation results and the underlying reaction network."}),K.jsx("h4",{children:"Features:"}),K.jsxs("ul",{children:[K.jsx("li",{children:"BNGL code editor with example gallery."}),K.jsx("li",{children:"ODE-based simulation performed in a web worker."}),K.jsx("li",{children:"Interactive time-course plots of species concentrations."}),K.jsx("li",{children:"Network graph visualization of species and reactions."}),K.jsx("li",{children:"Steady-state finder that automatically stops when concentrations converge."})]}),K.jsx("p",{children:"This project is for educational and demonstration purposes. The BNGL parser and simulator are simplified and may not support all features of the official BioNetGen software."})]})}),wP=String.raw`
self.addEventListener('error', (event) => {
    const payload = {
        message: event.message || (event.error && event.error.message) || 'Unknown worker error',
        filename: event.filename,
        lineno: event.lineno,
        colno: event.colno,
        stack: event.error && event.error.stack
    };
    try {
        self.postMessage({ id: -1, type: 'worker_internal_error', payload });
    } catch (postError) {
        // Last resort: log to console inside worker
        console.error('Failed to post worker error message', postError);
    }
    event.preventDefault();
});

self.addEventListener('unhandledrejection', (event) => {
    const reason = event.reason || {};
    const payload = {
        message: typeof reason === 'string' ? reason : reason.message || 'Unhandled rejection in worker',
        stack: reason && reason.stack ? reason.stack : undefined
    };
    try {
        self.postMessage({ id: -1, type: 'worker_internal_error', payload });
    } catch (postError) {
        console.error('Failed to post worker rejection', postError);
    }
    event.preventDefault();
});

function parseBNGL(bnglCode) {
    const model = {
        parameters: {},
        moleculeTypes: [],
        species: [],
        observables: [],
        reactions: [],
        reactionRules: []
    };

    const getBlockContent = (blockName, code) => {
        const escapeRegex = (value) => {
            const ESCAPE_CODES = {
                92: true,  // \
                94: true,  // ^
                36: true,  // $
                42: true,  // *
                43: true,  // +
                63: true,  // ?
                46: true,  // .
                40: true,  // (
                41: true,  // )
                124: true, // |
                91: true,  // [
                93: true,  // ]
                123: true, // {
                125: true  // }
            };

            let result = '';
            for (let i = 0; i < value.length; i++) {
                const code = value.charCodeAt(i);
                if (ESCAPE_CODES[code]) {
                    result += '\\\\';
                }
                result += value[i];
            }
            return result;
        };

        const escapedBlock = escapeRegex(blockName);
        const beginPattern = new RegExp('^\\s*begin\\s+' + escapedBlock + '\\b', 'i');
        const endPattern = new RegExp('^\\s*end\\s+' + escapedBlock + '\\b', 'i');

        const lines = code.split(/\r?\n/);
        const collected = [];
        let inBlock = false;

        for (const rawLine of lines) {
            const lineWithoutComments = rawLine.split('#')[0];
            if (!inBlock) {
                if (beginPattern.test(lineWithoutComments)) {
                    inBlock = true;
                }
                continue;
            }

            if (endPattern.test(lineWithoutComments)) {
                break;
            }

            collected.push(rawLine);
        }

        return collected.join('\n').trim();
    };

    const cleanLine = (line) => line.trim().split('#')[0].trim();


    const splitProductsAndRates = (segment, parameters) => {
        const tokens = segment.trim().split(/\s+/);
        if (tokens.length === 0) {
            return { productChunk: '', rateChunk: '' };
        }

        const rateTokens = [];
        // Walk tokens from the right, capturing trailing rate constants while leaving complex species intact.
        while (tokens.length > 0) {
            let token = tokens[tokens.length - 1];
            const cleaned = token.replace(/,$/, '');
            const isParam = Object.prototype.hasOwnProperty.call(parameters, cleaned);
            const numeric = cleaned !== '' && !isNaN(parseFloat(cleaned));
            const singleZeroProduct = tokens.length === 1 && cleaned === '0';
            if ((!isParam && !numeric) || singleZeroProduct) break;

            rateTokens.push(cleaned);
            tokens.pop();
        }

        return {
            productChunk: tokens.join(' ').trim(),
            rateChunk: rateTokens.reverse().join(' ').trim()
        };
    };

    const parseEntityList = (segment) => {
        const parts = [];
        let current = '';
        let depth = 0;
        for (let i = 0; i < segment.length; i++) {
            const ch = segment[i];
            if (ch === '(') depth++;
            else if (ch === ')') depth--;
            else if (ch === '+' && depth === 0) {
                if (current.trim()) parts.push(current.trim());
                current = '';
                continue;
            }
            current += ch;
        }
        if (current.trim()) parts.push(current.trim());
        return parts;
    };

    // 1. Parse Parameters
    const paramsContent = getBlockContent('parameters', bnglCode);
    if (paramsContent) {
        paramsContent.split(/\r?\n/).forEach(line => {
            const cleaned = cleanLine(line);
            if (cleaned) {
                const parts = cleaned.split(/\s+/);
                if (parts.length >= 2) {
                    model.parameters[parts[0]] = parseFloat(parts[1]);
                }
            }
        });
    }

    // 2. Parse Molecule Types
    const molTypesContent = getBlockContent('molecule types', bnglCode);
    if (molTypesContent) {
        molTypesContent.split(/\r?\n/).forEach(line => {
            const cleaned = cleanLine(line);
            if (cleaned) {
                const match = cleaned.match(/(\\w+)\\((.*?)\\)/);
                if (match) {
                    const name = match[1];
                    const components = match[2].split(',').map(c => c.trim()).filter(Boolean);
                    model.moleculeTypes.push({ name, components });
                } else {
                     model.moleculeTypes.push({ name: cleaned, components: [] });
                }
            }
        });
    }

    // 3. Parse Seed Species
    const speciesContent = getBlockContent('seed species', bnglCode);
    if (speciesContent) {
        speciesContent.split(/\r?\n/).forEach(line => {
            const cleaned = cleanLine(line);
            if (cleaned) {
                const parts = cleaned.split(/\s+/);
                const concentrationStr = parts.pop();
                const name = parts.join(' ');
                let concentration;
                if (concentrationStr in model.parameters) {
                    concentration = model.parameters[concentrationStr];
                } else {
                    concentration = parseFloat(concentrationStr);
                }
                
                if (name && !isNaN(concentration)) {
                    model.species.push({ name, initialConcentration: concentration });
                }
            }
        });
    }

    // 4. Parse Observables
    const observablesContent = getBlockContent('observables', bnglCode);
    if (observablesContent) {
        observablesContent.split(/\r?\n/).forEach(line => {
            const cleaned = cleanLine(line);
            if (cleaned) {
                const parts = cleaned.split(/\s+/);
                if (parts.length >= 3 && (parts[0].toLowerCase() === 'molecules' || parts[0].toLowerCase() === 'species')) {
                    model.observables.push({ name: parts[1], pattern: parts.slice(2).join(' ') });
                }
            }
        });
    }

    // 5. Parse Reaction Rules
    const rulesContent = getBlockContent('reaction rules', bnglCode);
    if (rulesContent) {
        const statements = [];
        let current = '';

        rulesContent.split(/\r?\n/).forEach(line => {
            const cleaned = cleanLine(line);
            if (!cleaned) return;

            if (cleaned.endsWith('\\\\')) {
                current += cleaned.slice(0, -1).trim() + ' ';
            } else {
                current += cleaned;
                statements.push(current.trim());
                current = '';
            }
        });

        if (current.trim()) {
            statements.push(current.trim());
        }

        statements.forEach(statement => {
            let ruleLine = statement;
            const labelMatch = ruleLine.match(/^[^:]+:\s*(.*)$/);
            if (labelMatch) {
                ruleLine = labelMatch[1];
            }

            const isBidirectional = ruleLine.includes('<->');
            const parts = ruleLine.split(isBidirectional ? '<->' : '->');
            if (parts.length < 2) {
                console.log('[Worker] Rule parsing failed - not enough parts:', statement);
                return;
            }

            const reactantsPart = parts[0].trim();
            const productsAndRatesPart = parts[1].trim();

            const reactants = parseEntityList(reactantsPart);
            if (reactants.length === 0) {
                return;
            }

            const { productChunk, rateChunk } = splitProductsAndRates(productsAndRatesPart, model.parameters);
            if (!rateChunk) {
                return;
            }

            const products = parseEntityList(productChunk);
            if (products.length === 0) {
                return;
            }

            const rateConstants = rateChunk
                .split(',')
                .reduce((acc, part) => {
                    part
                        .trim()
                        .split(/\s+/)
                        .filter(Boolean)
                        .forEach(token => acc.push(token));
                    return acc;
                }, []);
            if (rateConstants.length === 0) {
                return;
            }

            const forwardRateLabel = rateConstants[0];
            const reverseRateLabel = rateConstants[1] || undefined;

            const rule = {
                reactants,
                products,
                rate: forwardRateLabel,
                isBidirectional,
                reverseRate: isBidirectional ? reverseRateLabel : undefined
            };
            model.reactionRules.push(rule);
        });
    }

    // 6. Generate Reactions from Rules for simulation
    model.reactionRules.forEach(rule => {
        const forwardRate = model.parameters[rule.rate] ?? parseFloat(rule.rate);
        if (!isNaN(forwardRate)) {
            model.reactions.push({
                reactants: rule.reactants,
                products: rule.products,
                rate: rule.rate,
                rateConstant: forwardRate
            });
        }
        
        if (rule.isBidirectional && rule.reverseRate) {
            const reverseRate = model.parameters[rule.reverseRate] ?? parseFloat(rule.reverseRate);
             if (!isNaN(reverseRate)) {
                model.reactions.push({
                    reactants: rule.products,
                    products: rule.reactants,
                    rate: rule.reverseRate,
                    rateConstant: reverseRate
                });
            }
        }
    });

    // Note: Network generation (expanding reaction rules into concrete reactions)
    // happens in the simulate() function, not here during parsing.
    // This prevents double-expansion when simulate() is called multiple times.

    return model;
}

function generateNetwork(inputModel) {
    const model = JSON.parse(JSON.stringify(inputModel));

    function trim(str) {
        return typeof str === 'string' ? str.trim() : '';
    }

    function splitComponents(compStr) {
        if (!compStr) return [];
        return compStr.split(',').map(function(c) {
            return c.trim();
        }).filter(function(c) {
            return c.length > 0;
        });
    }

    function componentBase(comp) {
        return comp.split('~')[0].split('!')[0];
    }

    function completeComponentDefaults(typedComp) {
        const compMatch = typedComp.match(/^([^~]+)~(.+)$/);
        if (compMatch) {
            const compName = compMatch[1];
            const firstState = compMatch[2].split('~')[0];
            return compName + '~' + firstState;
        }
        return typedComp;
    }

    function completeSpeciesName(partialSpec) {
        if (partialSpec.includes('.')) {
            return partialSpec
                .split('.')
                .map(mol => completeSpeciesName(mol.trim()))
                .join('.');
        }

        const molMatch = partialSpec.match(/^([A-Za-z0-9_]+)[(]([^)]*)[)]/);
        if (!molMatch) {
            const molType = model.moleculeTypes.find(m => m.name === partialSpec);
            if (molType && molType.components.length > 0) {
                const defaultComps = molType.components.map(completeComponentDefaults);
                return partialSpec + '(' + defaultComps.join(',') + ')';
            }
            return partialSpec;
        }

        const molName = molMatch[1];
        const specifiedComps = molMatch[2].split(',').map(c => c.trim()).filter(Boolean);
        const molType = model.moleculeTypes.find(m => m.name === molName);
        if (!molType) return partialSpec;

        const completedComps = [];
        molType.components.forEach(typedComp => {
            const compName = componentBase(typedComp);
            const specifiedComp = specifiedComps.find(sc => componentBase(sc) === compName);
            if (specifiedComp) {
                completedComps.push(specifiedComp);
            } else {
                completedComps.push(completeComponentDefaults(typedComp));
            }
        });

        specifiedComps.forEach(specComp => {
            const specName = componentBase(specComp);
            if (!completedComps.some(c => componentBase(c) === specName)) {
                completedComps.push(specComp);
            }
        });

        return molName + '(' + completedComps.join(',') + ')';
    }

    function patternMatchesSpecies(pattern, speciesName) {
        if (pattern === speciesName) return true;

        const matchesSingleMolecule = function(patternMolStr, speciesMolStr) {
            const patternMol = patternMolStr.match(/^([A-Za-z0-9_]+)[(]([^)]*)[)]/);
            const speciesMol = speciesMolStr.match(/^([A-Za-z0-9_]+)[(]([^)]*)[)]/);
            if (!patternMol || !speciesMol) {
                return patternMolStr === speciesMolStr;
            }

            if (patternMol[1] !== speciesMol[1]) return false;

            const patternComps = splitComponents(patternMol[2]);
            const speciesComps = splitComponents(speciesMol[2]);

            return patternComps.every(function(pComp) {
                const pBase = componentBase(pComp);
                return speciesComps.some(function(sComp) {
                    const sBase = componentBase(sComp);
                    if (pBase !== sBase) return false;
                    if (pComp.includes('~') || pComp.includes('!')) {
                        return pComp === sComp;
                    }
                    if (sComp.includes('!')) {
                        return false;
                    }
                    return true;
                });
            });
        };

        const patternHasComplex = pattern.includes('.');
        const speciesHasComplex = speciesName.includes('.');

        if (patternHasComplex) {
            const patternMols = pattern.split('.').map(trim);
            if (!speciesHasComplex) return false;
            const speciesMols = speciesName.split('.').map(trim);
            if (patternMols.length !== speciesMols.length) return false;
            for (let i = 0; i < patternMols.length; i++) {
                if (!matchesSingleMolecule(patternMols[i], speciesMols[i])) return false;
            }
            return true;
        }

        if (speciesHasComplex) {
            const speciesMols = speciesName.split('.').map(trim);
            for (let i = 0; i < speciesMols.length; i++) {
                if (matchesSingleMolecule(pattern, speciesMols[i])) return true;
            }
            return false;
        }

        return matchesSingleMolecule(pattern, speciesName);
    }

    function applyUnimolecularProductToSpecies(reactantName, productPattern) {
        if (!reactantName || !productPattern || productPattern.includes('.')) return null;

        const prodMatch = productPattern.match(/^([A-Za-z0-9_]+)[(]([^)]*)[)]$/);
        if (!prodMatch) return null;

        const prodMolName = prodMatch[1];
        const prodComponents = splitComponents(prodMatch[2]);
        const molecules = reactantName.split('.').map(trim);
        let replaced = false;

        const newMolecules = molecules.map(function(mol) {
            const molMatch = mol.match(/^([A-Za-z0-9_]+)[(]([^)]*)[)]/);
            if (!molMatch || molMatch[1] !== prodMolName) return mol;

            const reactantComps = splitComponents(molMatch[2]);
            const compMap = {};

            reactantComps.forEach(function(c) {
                compMap[componentBase(c)] = c;
            });

            prodComponents.forEach(function(c) {
                compMap[componentBase(c)] = c;
            });

            const finalComponents = [];
            reactantComps.forEach(function(c) {
                const base = componentBase(c);
                if (Object.prototype.hasOwnProperty.call(compMap, base)) {
                    finalComponents.push(compMap[base]);
                    delete compMap[base];
                } else {
                    finalComponents.push(c);
                }
            });

            Object.keys(compMap).forEach(function(base) {
                finalComponents.push(compMap[base]);
            });

            replaced = true;
            return prodMolName + '(' + finalComponents.join(',') + ')';
        });

        if (!replaced) return null;
        return newMolecules.join('.');
    }

    function generateCombinations(arrays, index, current) {
        const nextIndex = typeof index === 'number' ? index : 0;
        const nextCurrent = Array.isArray(current) ? current : [];
        if (nextIndex === arrays.length) return [nextCurrent];
        const results = [];
        const level = arrays[nextIndex] || [];
        for (let i = 0; i < level.length; i++) {
            const item = level[i];
            const newCurrent = nextCurrent.concat([item]);
            const combos = generateCombinations(arrays, nextIndex + 1, newCurrent);
            for (let j = 0; j < combos.length; j++) {
                results.push(combos[j]);
            }
        }
        return results;
    }

    const rules = JSON.parse(JSON.stringify(model.reactions));
    const speciesMap = new Map(model.species.map(s => [s.name, { name: s.name, initialConcentration: s.initialConcentration } ]));
    const expandedReactionMap = new Map();

    let iteration = 0;
    let speciesAdded = true;

    while (speciesAdded) {
        iteration += 1;
        speciesAdded = false;
        const speciesArray = Array.from(speciesMap.values());

        rules.forEach(rule => {
            const reactantMatches = rule.reactants.map(reactantPattern => {
                const matches = speciesArray.filter(function(s) {
                    return patternMatchesSpecies(reactantPattern, s.name);
                });

                if (matches.length === 0 && (reactantPattern.includes('!') || reactantPattern.includes('.'))) {
                    return [{ name: reactantPattern, initialConcentration: 0 }];
                }

                return matches;
            });

            if (reactantMatches.some(m => m.length === 0)) {
                return;
            }

            const combinations = generateCombinations(reactantMatches);

            combinations.forEach(reactantSpecies => {
                const concreteReaction = {
                    reactants: reactantSpecies.map(s => s.name),
                    products: rule.products.map(productPattern => {
                        if (rule.reactants.length === 1 && rule.products.length === 1 && reactantSpecies.length === 1) {
                            const updated = applyUnimolecularProductToSpecies(reactantSpecies[0].name, productPattern);
                            if (updated) {
                                return updated;
                            }
                        }
                        if (productPattern.includes('(')) {
                            const productMolecules = productPattern.split('.');
                            const newProductMolecules = productMolecules.map(prodMol => {
                                const prodMolMatch = prodMol.match(/^([A-Za-z0-9_]+)[(]([^)]*)[)]/);
                                if (!prodMolMatch) return prodMol;

                                const prodMolName = prodMolMatch[1];
                                const prodComponents = prodMolMatch[2];

                                let matchingReactant = reactantSpecies.find(r => r.name.startsWith(prodMolName + '('));
                                if (!matchingReactant) {
                                    for (const r of reactantSpecies) {
                                        if (r.name.includes('.')) {
                                            const mols = r.name.split('.');
                                            const foundMol = mols.find(m => m.startsWith(prodMolName + '('));
                                            if (foundMol) {
                                                matchingReactant = { name: foundMol };
                                                break;
                                            }
                                        }
                                    }
                                }

                                if (matchingReactant) {
                                    const reactantMatch = matchingReactant.name.match(/^([A-Za-z0-9_]+)[(]([^)]*)[)]/);
                                    if (reactantMatch) {
                                        const reactantComponents = reactantMatch[2].split(',').map(c => c.trim()).filter(Boolean);
                                        const prodCompList = prodComponents.split(',').map(c => c.trim()).filter(Boolean);
                                        const compBase = function(comp) {
                                            return comp.split('~')[0].split('!')[0];
                                        };
                                        const newCompList = prodCompList.slice();

                                        const specifiedBases = prodCompList.reduce(function(map, comp) {
                                            map[compBase(comp)] = comp;
                                            return map;
                                        }, {});

                                        reactantComponents.forEach(function(rComp) {
                                            const rBase = compBase(rComp);
                                            if (!Object.prototype.hasOwnProperty.call(specifiedBases, rBase)) {
                                                const alreadyPresent = newCompList.some(function(c) {
                                                    return compBase(c) === rBase;
                                                });
                                                if (!alreadyPresent) {
                                                    newCompList.push(rComp);
                                                }
                                            }
                                        });

                                        return prodMolName + '(' + newCompList.join(',') + ')';
                                    }
                                }
                                return prodMol;
                            });

                            return newProductMolecules.join('.');
                        }
                        return productPattern;
                    }),
                    rate: rule.rate,
                    rateConstant: rule.rateConstant
                };

                const key = JSON.stringify({
                    reactants: concreteReaction.reactants,
                    products: concreteReaction.products,
                    rate: concreteReaction.rate,
                    rateConstant: concreteReaction.rateConstant
                });

                if (!expandedReactionMap.has(key)) {
                    expandedReactionMap.set(key, concreteReaction);
                }

                concreteReaction.products.forEach(productPattern => {
                    const completed = completeSpeciesName(productPattern);
                    if (!speciesMap.has(completed)) {
                        speciesMap.set(completed, { name: completed, initialConcentration: 0 });
                        speciesAdded = true;
                    }
                });
            });
        });
    }

    model.reactions = Array.from(expandedReactionMap.values());
    model.species = Array.from(speciesMap.values());

    const speciesList = model.species.map(s => s.name);

    model.reactions.forEach((rxn, idx) => {
        rxn.reactants = rxn.reactants.map(r => {
            const completed = completeSpeciesName(r);
            if (speciesList.includes(completed)) return completed;
            if (speciesList.includes(r)) return r;
            const found = speciesList.find(s => patternMatchesSpecies(completed, s) || patternMatchesSpecies(r, s));
            if (found && found !== r) {
                return found;
            }
            return completed !== r ? completed : r;
        });
        rxn.products = rxn.products.map(p => {
            if (speciesList.includes(p)) return p;
            const found = speciesList.find(s => patternMatchesSpecies(p, s));
            if (found && found !== p) {
                return found;
            }
            return p;
        });
    });

    const allProductSpecies = new Set();
    model.reactions.forEach((r, idx) => {
        r.products.forEach(s => {
            const completed = completeSpeciesName(s);
            allProductSpecies.add(completed);
            r.products = r.products.map(function(prod) {
                return prod === s ? completed : prod;
            });
        });
    });

    const speciesNames = new Set(model.species.map(s => s.name));

    allProductSpecies.forEach(name => {
        if (!speciesNames.has(name)) {
            model.species.push({ name, initialConcentration: 0 });
            speciesNames.add(name);
        }
    });

    return model;
}

function simulate(inputModel, options) {
    // Perform network generation first to expand rules into concrete reactions
    const expandedModel = generateNetwork(inputModel);
    
    // Create a deep copy to avoid mutating the expanded model
    const model = JSON.parse(JSON.stringify(expandedModel));
    
    const { t_end, n_steps } = options;
    const speciesNames = model.species.map(s => s.name);
    
    const headers = ['time', ...model.observables.map(o => o.name)];
    
    const evaluateObservables = (concs) => {
        const obsValues = {};
        model.observables.forEach(obs => {
            let total = 0;
            const pattern = obs.pattern.trim();
            const matchedSpecies = [];
            
            // For each species, check if it matches the observable pattern
            for (const [speciesName, concentration] of Object.entries(concs)) {
                const speciesStr = speciesName.trim();
                let matched = false;
                
                // Try exact match first
                if (speciesStr === pattern) {
                    total += concentration;
                    matched = true;
                    matchedSpecies.push(speciesStr + ':' + concentration.toFixed(2));
                    continue;
                }
                
                // Handle wildcard patterns like EGFR(l!+) - match any species with bound l
                if (pattern.includes('!+')) {
                    // Pattern like EGFR(l!+) means EGFR with a bond on l (regardless of other components/states)
                    // Must match species that have the molecule with a bond on that component
                    const patternMol = pattern.match(/^([A-Za-z0-9_]+)[(]([^)]+)[)]/);
                    if (patternMol) {
                        const molName = patternMol[1];
                        const componentWithWildcard = patternMol[2]; // e.g., "l!+"
                        const componentName = componentWithWildcard.split('!')[0]; // e.g., "l"
                        
                        // Only match species that contain this molecule (as a free molecule or in a complex)
                        if (speciesStr.includes(molName + '(')) {
                            // Check if this molecule in the species has a bond on the specified component
                            // e.g., for EGFR(l!+), look for EGFR(...,l!... or EGFR(l!...
                            const molRegex = new RegExp(molName + '\\(([^)]*)\\)');
                            const molMatch = speciesStr.match(molRegex);
                            if (molMatch) {
                                const molComponents = molMatch[1];
                                // Check if the component has a bond
                                const componentRegex = new RegExp(componentName + '!');
                                if (componentRegex.test(molComponents)) {
                                    total += concentration;
                                    matched = true;
                                    matchedSpecies.push(speciesStr + ':' + concentration.toFixed(2));
                                }
                            }
                        }
                    }
                    continue;
                }
                
                // Handle patterns with specific bonds like A(b!1).B(a!1)
                if (pattern.includes('!') && !pattern.includes('!+')) {
                    if (speciesStr === pattern) {
                        total += concentration;
                        matched = true;
                        matchedSpecies.push(speciesStr + ':' + concentration.toFixed(2));
                    }
                    continue;
                }
                
                // Handle molecule patterns like S(), EGFR(l), or EGFR(y~P)
                if (pattern.includes('(')) {
                    const molMatch = pattern.match(/^([A-Za-z0-9_]+)[(]([^)]*)[)]/);
                    if (molMatch) {
                        const molName = molMatch[1];
                        const componentSpec = molMatch[2].trim();

                        if (speciesStr.includes(molName + '(')) {
                            const molRegex = new RegExp(molName + '\\(([^)]*)\\)');
                            const molMatchResult = speciesStr.match(molRegex);
                            if (molMatchResult) {
                                const speciesComponents = molMatchResult[1]
                                    .split(',')
                                    .map(part => part.trim())
                                    .filter(Boolean);

                                const requiredComponents = componentSpec
                                    ? componentSpec.split(',').map(part => part.trim()).filter(Boolean)
                                    : [];

                                const satisfiesComponents = requiredComponents.every(reqComp => {
                                    const compBase = reqComp.split('~')[0].split('!')[0];
                                    const stateRequired = reqComp.includes('~')
                                        ? reqComp.split('~')[1].split('!')[0]
                                        : null;
                                    const bondRequired = reqComp.includes('!')
                                        ? reqComp.split('!')[1]
                                        : null;
                                    const requiresUnbound = reqComp.length > 0 && !reqComp.includes('!') && !reqComp.includes('~');

                                    return speciesComponents.some(specComp => {
                                        const specBase = specComp.split('~')[0].split('!')[0];
                                        if (specBase !== compBase) return false;

                                        if (stateRequired && !specComp.includes('~' + stateRequired)) {
                                            return false;
                                        }

                                        if (requiresUnbound && specComp.includes('!')) {
                                            return false;
                                        }

                                        if (bondRequired && !specComp.includes('!' + bondRequired)) {
                                            return false;
                                        }

                                        return true;
                                    });
                                });

                                if (satisfiesComponents || requiredComponents.length === 0) {
                                    total += concentration;
                                    matched = true;
                                    matchedSpecies.push(speciesStr + ':' + concentration.toFixed(2));
                                }
                            }
                        }
                    }
                } else {
                    // Simple molecule name only - exact match
                    if (speciesStr === pattern) {
                        total += concentration;
                        matched = true;
                        matchedSpecies.push(speciesStr + ':' + concentration.toFixed(2));
                    }
                }
            }
            obsValues[obs.name] = total;
        });
        return obsValues;
    };
    
    const data = [];
    
    if (options.method === 'ssa') {
        let counts = Object.fromEntries(model.species.map(s => [s.name, Math.round(s.initialConcentration)]));
        const dt_out = t_end / n_steps;
        let t = 0;
        let next_t_out = 0;
        
        data.push({ time: t, ...evaluateObservables(counts) });

        while (t < t_end) {
            const propensities = model.reactions.map(reaction => {
                let a = reaction.rateConstant;
                reaction.reactants.forEach(r => { 
                    const count = counts[r];
                    if (count === undefined) {
                        console.warn('[SSA] Missing reactant in counts:', r, 'Available:', Object.keys(counts));
                    }
                    a *= count || 0;
                });
                return a;
            });

            // Debug: log propensities and total so we can trace why events may not fire
            const a_total = propensities.reduce((sum, a) => sum + a, 0);
            if (a_total === 0) {
                break;
            }

            const r1 = Math.random();
            const tau = (1 / a_total) * Math.log(1 / r1);
            
            t += tau;

            const r2 = Math.random() * a_total;
            let sum_a = 0;
            let reaction_index = propensities.length - 1;
            for(let j=0; j < propensities.length; j++) {
                sum_a += propensities[j];
                if (r2 <= sum_a) {
                    reaction_index = j;
                    break;
                }
            }
            
            const fired_reaction = model.reactions[reaction_index];
            // Update counts for the affected species
            fired_reaction.reactants.forEach(r => { 
                const before = counts[r] || 0;
                counts[r] = before - 1;
            });
            fired_reaction.products.forEach(p => { 
                const before = counts[p] || 0;
                counts[p] = before + 1;
            });

            while(t >= next_t_out && next_t_out <= t_end) {
                data.push({ time: Math.round(next_t_out * 1e10) / 1e10, ...evaluateObservables(counts) });
                next_t_out += dt_out;
            }
        }
        
        while(next_t_out <= t_end) {
             data.push({ time: Math.round(next_t_out * 1e10) / 1e10, ...evaluateObservables(counts) });
             next_t_out += dt_out;
        }

        return { headers, data };

    } else if (options.method === 'ode') {
        let y = model.species.map(s => s.initialConcentration);

        const matchSpeciesPattern = (pattern, speciesName) => {
            // Exact match first
            if (pattern === speciesName) return true;
            
            // If pattern has no bonds, don't match complexes (species with bonds)
            const patternHasBonds = pattern.includes('!');
            const speciesIsComplex = speciesName.includes('!') || speciesName.includes('.');
            
            if (!patternHasBonds && speciesIsComplex) {
                return false; // Pattern asks for free molecule, species is in a complex
            }
            
            // Check if pattern is a partial specification that matches the full species
            // e.g., pattern "EGFR(l)" should match species "EGFR(l,y~U)"
            const patternMol = pattern.match(/^([A-Za-z0-9_]+)[(]([^)]*)[)]/);
            const speciesMol = speciesName.match(/^([A-Za-z0-9_]+)[(]([^)]*)[)]/);
            
            if (patternMol && speciesMol && patternMol[1] === speciesMol[1]) {
                // Same molecule type, check if all components in pattern exist in species
                const patternComps = patternMol[2].split(',').map(c => c.trim()).filter(Boolean);
                const speciesComps = speciesMol[2].split(',').map(c => c.trim()).filter(Boolean);
                
                // For each component in pattern, check if it exists in species
                return patternComps.every(pComp => {
                    const pCompName = pComp.split('~')[0].split('!')[0];
                    return speciesComps.some(sComp => {
                        const sCompName = sComp.split('~')[0].split('!')[0];
                        if (pCompName !== sCompName) return false;
                        
                        // If pattern specifies state, check state matches
                        if (pComp.includes('~')) {
                            return pComp === sComp;
                        }
                        // If pattern specifies bond, check bond matches
                        if (pComp.includes('!')) {
                            return pComp === sComp;
                        }
                        return true;
                    });
                });
            }
            
            return false;
        };
        
        const derivatives = (y_in, logStep) => {
            const rates = {};
            speciesNames.forEach((name, i) => rates[name] = y_in[i]);
            const dydt = new Array(speciesNames.length).fill(0);

            model.reactions.forEach((reaction, rxnIdx) => {
                // Try exact match first
                let hasExactMatch = reaction.reactants.every(r => speciesNames.includes(r));
                
                if (hasExactMatch) {
                    // Exact species match - calculate velocity normally
                    let velocity = reaction.rateConstant;
                    reaction.reactants.forEach(r => { velocity *= rates[r] || 0; });
                    
                    reaction.reactants.forEach(r => {
                        const r_idx = speciesNames.indexOf(r);
                        if (r_idx !== -1) dydt[r_idx] -= velocity;
                    });
                    reaction.products.forEach(p => {
                        const p_idx = speciesNames.indexOf(p);
                        if (p_idx !== -1) {
                            dydt[p_idx] += velocity;
                        } else {
                            // Product doesn't exist as exact match, try pattern matching
                            // Only add to the FIRST matching species to prevent explosion
                            for (let idx = 0; idx < speciesNames.length; idx++) {
                                if (matchSpeciesPattern(p, speciesNames[idx])) {
                                    dydt[idx] += velocity;
                                    break; // Only match first species
                                }
                            }
                        }
                    });
                } else {
                    // Need pattern matching - find which actual species match the reactant patterns
                    const matchedSpecies = reaction.reactants.map(reactantPattern => {
                        // Find all species that match this pattern
                        const matches = [];
                        speciesNames.forEach((speciesName, idx) => {
                            if (matchSpeciesPattern(reactantPattern, speciesName)) {
                                matches.push({ name: speciesName, idx: idx });
                            }
                        });
                        return matches;
                    });
                    
                    // If multiple matches, just skip this reaction for now
                    // Proper BNGL would require network generation to handle this correctly
                    // For now, only apply if we have exactly one match per reactant
                    if (!matchedSpecies.every(m => m.length === 1)) {
                        return;
                    }
                    
                    // Single match per reactant - apply the reaction
                    let velocity = reaction.rateConstant;
                    matchedSpecies.forEach(matches => {
                        velocity *= rates[matches[0].name] || 0;
                    });
                    
                    if (velocity === 0) return;
                    
                    // Consume reactants
                    matchedSpecies.forEach(matches => {
                        dydt[matches[0].idx] -= velocity;
                    });
                    
                    // Produce products
                    reaction.products.forEach(productPattern => {
                        // Try exact match first
                        const p_idx = speciesNames.indexOf(productPattern);
                        if (p_idx !== -1) {
                            dydt[p_idx] += velocity;
                        } else {
                            // For pattern matching products, only match ONE species (the first match)
                            // This prevents creating multiple products from a single reaction
                            for (let idx = 0; idx < speciesNames.length; idx++) {
                                if (matchSpeciesPattern(productPattern, speciesNames[idx])) {
                                    dydt[idx] += velocity;
                                    break; // Only match the first species
                                }
                            }
                        }
                    });
                }
            });
            return dydt;
        };

        const rk4Step = (y_curr, h, logStep) => {
            const k1 = derivatives(y_curr, logStep);
            const y_k1 = y_curr.map((y_i, i) => y_i + 0.5 * h * k1[i]);
            const k2 = derivatives(y_k1);
            const y_k2 = y_curr.map((y_i, i) => y_i + 0.5 * h * k2[i]);
            const k3 = derivatives(y_k2);
            const y_k3 = y_curr.map((y_i, i) => y_i + h * k3[i]);
            const k4 = derivatives(y_k3);
            const y_next = y_curr.map((y_i, i) => y_i + (h / 6) * (k1[i] + 2 * k2[i] + 2 * k3[i] + k4[i]));
            return y_next.map(val => Math.max(0, val));
        };
        
        const dt_out = t_end / n_steps;
        let t = 0;

        const currentConcs = {};
        speciesNames.forEach((name, i) => currentConcs[name] = y[i]);
        data.push({ time: t, ...evaluateObservables(currentConcs) });
        
        const tolerance = options.steadyStateTolerance ?? 1e-6;
        const window = options.steadyStateWindow ?? 5;
        const enforceSteadyState = !!options.steadyState;
        let consecutiveStable = 0;
        let shouldStop = false;
        
        for (let i = 1; i <= n_steps && !shouldStop; i++) {
            const t_target = i * dt_out;
            // Find maximum rate constant to adjust time step for faster kinetics
            const maxRate = model.reactions.reduce((max, rxn) => Math.max(max, rxn.rateConstant || 0), 0);
            
            // Rate-aware adaptive sub_steps that scales with rate constants
            // Base: h  0.1 when k0.1; increase density aggressively for faster kinetics
            // so that stiff systems stay stable without switching to SSA automatically
            const rateFactor = Math.max(1, maxRate * 100);
            const sub_steps = Math.max(10, Math.ceil(dt_out * 10 * rateFactor));
            const baseStep = (t_target - t) / sub_steps;
            let localTime = t;
            let firstSubstep = true;

            while (localTime < t_target - 1e-12) {
                let stepSize = Math.min(baseStep, t_target - localTime);
                let attempts = 0;
                let nextY = null;
                const maxAdaptiveAttempts = 12;
                const overflowThreshold = 1e12;

                while (attempts < maxAdaptiveAttempts) {
                    const candidate = rk4Step(y, stepSize, firstSubstep && attempts === 0);

                    const hasOverflow = candidate.some(val => !isFinite(val) || Math.abs(val) > overflowThreshold);
                    if (!hasOverflow) {
                        nextY = candidate;
                        break;
                    }

                    stepSize /= 2;
                    attempts += 1;
                    if (stepSize < 1e-12) {
                        break;
                    }
                }

                if (!nextY) {
                    throw new Error('Simulation became unstable (adaptive RK4 step failed). Try adjusting parameters or using the SSA solver.');
                }

                const maxDelta = Math.max(...nextY.map((val, idx) => Math.abs(val - y[idx])));
                y = nextY;
                localTime += stepSize;
                firstSubstep = false;

                if (enforceSteadyState) {
                    if (maxDelta <= tolerance) {
                        consecutiveStable++;
                        if (consecutiveStable >= window) {
                            shouldStop = true;
                            break;
                        }
                    } else {
                        consecutiveStable = 0;
                    }
                }
            }
            t = localTime;
            const stepConcs = {};
            speciesNames.forEach((name, k) => stepConcs[name] = y[k]);
            
            data.push({ time: Math.round(t * 1e10) / 1e10, ...evaluateObservables(stepConcs) });

            if (shouldStop) {
                break;
            }
        }

        return { headers, data };
    } else {
        throw new Error('Unsupported simulation method: ' + options.method);
    }
}

self.onmessage = (e) => {
    const { id, type, payload } = e.data;
    try {
        if (type === 'parse') {
            const model = parseBNGL(payload);

            self.postMessage({ id, type: 'parse_success', payload: model });
        } else if (type === 'simulate') {
            const results = simulate(payload.model, payload.options);
            self.postMessage({ id, type: 'simulate_success', payload: results });
        }
    } catch (error) {
        console.error('[Worker] Caught error:', error);
        self.postMessage({ id, type: type + '_error', payload: error.message });
    }
};
`;class fae{constructor(){this.messageId=0,this.promises=new Map;try{new Function(wP)}catch(n){throw console.error("[BnglService] Worker script has syntax error:",n),n}const t=new Blob([wP],{type:"application/javascript"}),r=URL.createObjectURL(t);this.worker=new Worker(r),this.worker.onmessage=n=>{const{id:a,type:i,payload:o}=n.data;if(a===-1&&i==="worker_internal_error"){const l=o!=null&&o.message?`${o.message} (${o.filename??"unknown"}:${o.lineno??"?"}:${o.colno??"?"})`:"Worker internal error";o!=null&&o.stack?console.error(l,`
`,o.stack):console.error(l);return}if(this.promises.has(a)){const{resolve:l,reject:u}=this.promises.get(a);i.endsWith("_success")?l(o):u(new Error(o)),this.promises.delete(a)}},this.worker.onerror=n=>{const i=`Worker error: ${n.message||n.error&&n.error.message||"unknown error"} at ${n.filename??"unknown file"}:${n.lineno??"?"}:${n.colno??"?"}`;n.error&&n.error.stack?console.error(i,`
`,n.error.stack):console.error(i,n),this.promises.forEach(({reject:o})=>o(new Error(i))),this.promises.clear()}}postMessage(t,r){const n=this.messageId++;return new Promise((a,i)=>{this.promises.set(n,{resolve:a,reject:i}),this.worker.postMessage({id:n,type:t,payload:r})})}parse(t){return this.postMessage("parse",t)}simulate(t,r){return this.postMessage("simulate",{model:t,options:r})}}const EP=new fae;function dae(){const[e,t]=F.useState(_P),[r,n]=F.useState(null),[a,i]=F.useState(null),[o,l]=F.useState(null),[u,c]=F.useState(!1),[d,h]=F.useState(!1),v=F.useCallback(async()=>{i(null);try{const w=await EP.parse(e);n(w),l({type:"success",message:"Model parsed successfully!"})}catch(w){n(null);const S=w instanceof Error?w.message:"An unknown error occurred.";l({type:"error",message:`Parsing failed: ${S}`})}},[e]),g=F.useCallback(async w=>{if(!r){l({type:"warning",message:"Please parse a model before simulating."});return}c(!0);try{const S=await EP.simulate(r,w);i(S),l({type:"success",message:`Simulation (${w.method}) completed.`})}catch(S){i(null);const E=S instanceof Error?S.message:"An unknown error occurred.";l({type:"error",message:`Simulation failed: ${E}`})}finally{c(!1)}},[r]),m=w=>{t(w),n(null),i(null)},b=F.useCallback(w=>{n(w),i(null)},[]),x=()=>{l(null)};return K.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 font-sans",children:[K.jsx(iae,{onAboutClick:()=>h(!0)}),K.jsxs("main",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[K.jsx("div",{className:"fixed top-20 right-8 z-50 w-full max-w-sm",children:o&&K.jsx(uae,{status:o,onClose:x})}),K.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-full",children:[K.jsx("div",{className:"lg:h-[calc(100vh-120px)]",children:K.jsx(Hj,{code:e,onCodeChange:m,onParse:v,onSimulate:g,isSimulating:u,modelExists:!!r})}),K.jsx("div",{className:"lg:h-[calc(100vh-120px)] overflow-y-auto",children:K.jsx(rae,{model:r,results:a,onSimulate:g,isSimulating:u,onModelChange:b})})]})]}),K.jsx(cae,{isOpen:d,onClose:()=>h(!1)})]})}const m3=document.getElementById("root");if(!m3)throw new Error("Could not find root element to mount to");const hae=Bj.createRoot(m3);hae.render(K.jsx(dae,{}));

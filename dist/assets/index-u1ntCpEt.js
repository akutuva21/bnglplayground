var Kz=Object.defineProperty;var WA=e=>{throw TypeError(e)};var Wz=(e,t,r)=>t in e?Kz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Cd=(e,t,r)=>Wz(e,typeof t!="symbol"?t+"":t,r),Ny=(e,t,r)=>t.has(e)||WA("Cannot "+r);var Ja=(e,t,r)=>(Ny(e,t,"read from private field"),r?r.call(e):t.get(e)),Py=(e,t,r)=>t.has(e)?WA("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Md=(e,t,r,n)=>(Ny(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ry=(e,t,r)=>(Ny(e,t,"access private method"),r);function Zz(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Ha(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function QN(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Ly={exports:{}},Ic={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZA;function Qz(){if(ZA)return Ic;ZA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var l in a)l!=="key"&&(i[l]=a[l])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:o,ref:a!==void 0?a:null,props:i}}return Ic.Fragment=t,Ic.jsx=r,Ic.jsxs=r,Ic}var QA;function Jz(){return QA||(QA=1,Ly.exports=Qz()),Ly.exports}var B=Jz(),jy={exports:{}},zc={},By={exports:{}},Iy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA;function e4(){return JA||(JA=1,(function(e){function t(q,V){var W=q.length;q.push(V);e:for(;0<W;){var J=W-1>>>1,ie=q[J];if(0<a(ie,V))q[J]=V,q[W]=ie,W=J;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var V=q[0],W=q.pop();if(W!==V){q[0]=W;e:for(var J=0,ie=q.length,K=ie>>>1;J<K;){var Z=2*(J+1)-1,fe=q[Z],he=Z+1,oe=q[he];if(0>a(fe,W))he<ie&&0>a(oe,fe)?(q[J]=oe,q[he]=W,J=he):(q[J]=fe,q[Z]=W,J=Z);else if(he<ie&&0>a(oe,W))q[J]=oe,q[he]=W,J=he;else break e}}return V}function a(q,V){var W=q.sortIndex-V.sortIndex;return W!==0?W:q.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,d=null,v=3,p=!1,m=!1,b=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function D(q){for(var V=r(c);V!==null;){if(V.callback===null)n(c);else if(V.startTime<=q)n(c),V.sortIndex=V.expirationTime,t(u,V);else break;V=r(c)}}function R(q){if(b=!1,D(q),!m)if(r(u)!==null)m=!0,L||(L=!0,F());else{var V=r(c);V!==null&&Y(R,V.startTime-q)}}var L=!1,_=-1,N=5,P=-1;function U(){return x?!0:!(e.unstable_now()-P<N)}function j(){if(x=!1,L){var q=e.unstable_now();P=q;var V=!0;try{e:{m=!1,b&&(b=!1,T(_),_=-1),p=!0;var W=v;try{t:{for(D(q),d=r(u);d!==null&&!(d.expirationTime>q&&U());){var J=d.callback;if(typeof J=="function"){d.callback=null,v=d.priorityLevel;var ie=J(d.expirationTime<=q);if(q=e.unstable_now(),typeof ie=="function"){d.callback=ie,D(q),V=!0;break t}d===r(u)&&n(u),D(q)}else n(u);d=r(u)}if(d!==null)V=!0;else{var K=r(c);K!==null&&Y(R,K.startTime-q),V=!1}}break e}finally{d=null,v=W,p=!1}V=void 0}}finally{V?F():L=!1}}}var F;if(typeof S=="function")F=function(){S(j)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,G=I.port2;I.port1.onmessage=j,F=function(){G.postMessage(null)}}else F=function(){w(j,0)};function Y(q,V){_=w(function(){q(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(q){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var W=v;v=V;try{return q()}finally{v=W}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(q,V){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var W=v;v=q;try{return V()}finally{v=W}},e.unstable_scheduleCallback=function(q,V,W){var J=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?J+W:J):W=J,q){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=W+ie,q={id:h++,callback:V,priorityLevel:q,startTime:W,expirationTime:ie,sortIndex:-1},W>J?(q.sortIndex=W,t(c,q),r(u)===null&&q===r(c)&&(b?(T(_),_=-1):b=!0,Y(R,W-J))):(q.sortIndex=ie,t(u,q),m||p||(m=!0,L||(L=!0,F()))),q},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(q){var V=v;return function(){var W=v;v=V;try{return q.apply(this,arguments)}finally{v=W}}}})(Iy)),Iy}var eC;function t4(){return eC||(eC=1,By.exports=e4()),By.exports}var zy={exports:{}},jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tC;function r4(){if(tC)return jt;tC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.for("react.activity"),v=Symbol.iterator;function p(K){return K===null||typeof K!="object"?null:(K=v&&K[v]||K["@@iterator"],typeof K=="function"?K:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function w(K,Z,fe){this.props=K,this.context=Z,this.refs=x,this.updater=fe||m}w.prototype.isReactComponent={},w.prototype.setState=function(K,Z){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,Z,"setState")},w.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function T(){}T.prototype=w.prototype;function S(K,Z,fe){this.props=K,this.context=Z,this.refs=x,this.updater=fe||m}var D=S.prototype=new T;D.constructor=S,b(D,w.prototype),D.isPureReactComponent=!0;var R=Array.isArray;function L(){}var _={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function P(K,Z,fe){var he=fe.ref;return{$$typeof:e,type:K,key:Z,ref:he!==void 0?he:null,props:fe}}function U(K,Z){return P(K.type,Z,K.props)}function j(K){return typeof K=="object"&&K!==null&&K.$$typeof===e}function F(K){var Z={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(fe){return Z[fe]})}var I=/\/+/g;function G(K,Z){return typeof K=="object"&&K!==null&&K.key!=null?F(""+K.key):Z.toString(36)}function Y(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(L,L):(K.status="pending",K.then(function(Z){K.status==="pending"&&(K.status="fulfilled",K.value=Z)},function(Z){K.status==="pending"&&(K.status="rejected",K.reason=Z)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function q(K,Z,fe,he,oe){var be=typeof K;(be==="undefined"||be==="boolean")&&(K=null);var Ae=!1;if(K===null)Ae=!0;else switch(be){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(K.$$typeof){case e:case t:Ae=!0;break;case h:return Ae=K._init,q(Ae(K._payload),Z,fe,he,oe)}}if(Ae)return oe=oe(K),Ae=he===""?"."+G(K,0):he,R(oe)?(fe="",Ae!=null&&(fe=Ae.replace(I,"$&/")+"/"),q(oe,Z,fe,"",function(ae){return ae})):oe!=null&&(j(oe)&&(oe=U(oe,fe+(oe.key==null||K&&K.key===oe.key?"":(""+oe.key).replace(I,"$&/")+"/")+Ae)),Z.push(oe)),1;Ae=0;var Le=he===""?".":he+":";if(R(K))for(var ce=0;ce<K.length;ce++)he=K[ce],be=Le+G(he,ce),Ae+=q(he,Z,fe,be,oe);else if(ce=p(K),typeof ce=="function")for(K=ce.call(K),ce=0;!(he=K.next()).done;)he=he.value,be=Le+G(he,ce++),Ae+=q(he,Z,fe,be,oe);else if(be==="object"){if(typeof K.then=="function")return q(Y(K),Z,fe,he,oe);throw Z=String(K),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function V(K,Z,fe){if(K==null)return K;var he=[],oe=0;return q(K,he,"","",function(be){return Z.call(fe,be,oe++)}),he}function W(K){if(K._status===-1){var Z=K._result;Z=Z(),Z.then(function(fe){(K._status===0||K._status===-1)&&(K._status=1,K._result=fe)},function(fe){(K._status===0||K._status===-1)&&(K._status=2,K._result=fe)}),K._status===-1&&(K._status=0,K._result=Z)}if(K._status===1)return K._result.default;throw K._result}var J=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},ie={map:V,forEach:function(K,Z,fe){V(K,function(){Z.apply(this,arguments)},fe)},count:function(K){var Z=0;return V(K,function(){Z++}),Z},toArray:function(K){return V(K,function(Z){return Z})||[]},only:function(K){if(!j(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return jt.Activity=d,jt.Children=ie,jt.Component=w,jt.Fragment=r,jt.Profiler=a,jt.PureComponent=S,jt.StrictMode=n,jt.Suspense=u,jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,jt.__COMPILER_RUNTIME={__proto__:null,c:function(K){return _.H.useMemoCache(K)}},jt.cache=function(K){return function(){return K.apply(null,arguments)}},jt.cacheSignal=function(){return null},jt.cloneElement=function(K,Z,fe){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var he=b({},K.props),oe=K.key;if(Z!=null)for(be in Z.key!==void 0&&(oe=""+Z.key),Z)!N.call(Z,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&Z.ref===void 0||(he[be]=Z[be]);var be=arguments.length-2;if(be===1)he.children=fe;else if(1<be){for(var Ae=Array(be),Le=0;Le<be;Le++)Ae[Le]=arguments[Le+2];he.children=Ae}return P(K.type,oe,he)},jt.createContext=function(K){return K={$$typeof:o,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:i,_context:K},K},jt.createElement=function(K,Z,fe){var he,oe={},be=null;if(Z!=null)for(he in Z.key!==void 0&&(be=""+Z.key),Z)N.call(Z,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(oe[he]=Z[he]);var Ae=arguments.length-2;if(Ae===1)oe.children=fe;else if(1<Ae){for(var Le=Array(Ae),ce=0;ce<Ae;ce++)Le[ce]=arguments[ce+2];oe.children=Le}if(K&&K.defaultProps)for(he in Ae=K.defaultProps,Ae)oe[he]===void 0&&(oe[he]=Ae[he]);return P(K,be,oe)},jt.createRef=function(){return{current:null}},jt.forwardRef=function(K){return{$$typeof:l,render:K}},jt.isValidElement=j,jt.lazy=function(K){return{$$typeof:h,_payload:{_status:-1,_result:K},_init:W}},jt.memo=function(K,Z){return{$$typeof:c,type:K,compare:Z===void 0?null:Z}},jt.startTransition=function(K){var Z=_.T,fe={};_.T=fe;try{var he=K(),oe=_.S;oe!==null&&oe(fe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(L,J)}catch(be){J(be)}finally{Z!==null&&fe.types!==null&&(Z.types=fe.types),_.T=Z}},jt.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},jt.use=function(K){return _.H.use(K)},jt.useActionState=function(K,Z,fe){return _.H.useActionState(K,Z,fe)},jt.useCallback=function(K,Z){return _.H.useCallback(K,Z)},jt.useContext=function(K){return _.H.useContext(K)},jt.useDebugValue=function(){},jt.useDeferredValue=function(K,Z){return _.H.useDeferredValue(K,Z)},jt.useEffect=function(K,Z){return _.H.useEffect(K,Z)},jt.useEffectEvent=function(K){return _.H.useEffectEvent(K)},jt.useId=function(){return _.H.useId()},jt.useImperativeHandle=function(K,Z,fe){return _.H.useImperativeHandle(K,Z,fe)},jt.useInsertionEffect=function(K,Z){return _.H.useInsertionEffect(K,Z)},jt.useLayoutEffect=function(K,Z){return _.H.useLayoutEffect(K,Z)},jt.useMemo=function(K,Z){return _.H.useMemo(K,Z)},jt.useOptimistic=function(K,Z){return _.H.useOptimistic(K,Z)},jt.useReducer=function(K,Z,fe){return _.H.useReducer(K,Z,fe)},jt.useRef=function(K){return _.H.useRef(K)},jt.useState=function(K){return _.H.useState(K)},jt.useSyncExternalStore=function(K,Z,fe){return _.H.useSyncExternalStore(K,Z,fe)},jt.useTransition=function(){return _.H.useTransition()},jt.version="19.2.0",jt}var rC;function Pu(){return rC||(rC=1,zy.exports=r4()),zy.exports}var Fy={exports:{}},Nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nC;function n4(){if(nC)return Nn;nC=1;var e=Pu();function t(u){var c="https://react.dev/errors/"+u;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(u,c,h){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:d==null?null:""+d,children:u,containerInfo:c,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,c){if(u==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Nn.createPortal=function(u,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return i(u,c,null,h)},Nn.flushSync=function(u){var c=o.T,h=n.p;try{if(o.T=null,n.p=2,u)return u()}finally{o.T=c,n.p=h,n.d.f()}},Nn.preconnect=function(u,c){typeof u=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,n.d.C(u,c))},Nn.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Nn.preinit=function(u,c){if(typeof u=="string"&&c&&typeof c.as=="string"){var h=c.as,d=l(h,c.crossOrigin),v=typeof c.integrity=="string"?c.integrity:void 0,p=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;h==="style"?n.d.S(u,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:d,integrity:v,fetchPriority:p}):h==="script"&&n.d.X(u,{crossOrigin:d,integrity:v,fetchPriority:p,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Nn.preinitModule=function(u,c){if(typeof u=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var h=l(c.as,c.crossOrigin);n.d.M(u,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&n.d.M(u)},Nn.preload=function(u,c){if(typeof u=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var h=c.as,d=l(h,c.crossOrigin);n.d.L(u,h,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Nn.preloadModule=function(u,c){if(typeof u=="string")if(c){var h=l(c.as,c.crossOrigin);n.d.m(u,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else n.d.m(u)},Nn.requestFormReset=function(u){n.d.r(u)},Nn.unstable_batchedUpdates=function(u,c){return u(c)},Nn.useFormState=function(u,c,h){return o.H.useFormState(u,c,h)},Nn.useFormStatus=function(){return o.H.useHostTransitionStatus()},Nn.version="19.2.0",Nn}var aC;function JN(){if(aC)return Fy.exports;aC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Fy.exports=n4(),Fy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iC;function a4(){if(iC)return zc;iC=1;var e=t4(),t=Pu(),r=JN();function n(s){var f="https://react.dev/errors/"+s;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+s+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function i(s){var f=s,g=s;if(s.alternate)for(;f.return;)f=f.return;else{s=f;do f=s,(f.flags&4098)!==0&&(g=f.return),s=f.return;while(s)}return f.tag===3?g:null}function o(s){if(s.tag===13){var f=s.memoizedState;if(f===null&&(s=s.alternate,s!==null&&(f=s.memoizedState)),f!==null)return f.dehydrated}return null}function l(s){if(s.tag===31){var f=s.memoizedState;if(f===null&&(s=s.alternate,s!==null&&(f=s.memoizedState)),f!==null)return f.dehydrated}return null}function u(s){if(i(s)!==s)throw Error(n(188))}function c(s){var f=s.alternate;if(!f){if(f=i(s),f===null)throw Error(n(188));return f!==s?null:s}for(var g=s,y=f;;){var C=g.return;if(C===null)break;var k=C.alternate;if(k===null){if(y=C.return,y!==null){g=y;continue}break}if(C.child===k.child){for(k=C.child;k;){if(k===g)return u(C),s;if(k===y)return u(C),f;k=k.sibling}throw Error(n(188))}if(g.return!==y.return)g=C,y=k;else{for(var $=!1,ne=C.child;ne;){if(ne===g){$=!0,g=C,y=k;break}if(ne===y){$=!0,y=C,g=k;break}ne=ne.sibling}if(!$){for(ne=k.child;ne;){if(ne===g){$=!0,g=k,y=C;break}if(ne===y){$=!0,y=k,g=C;break}ne=ne.sibling}if(!$)throw Error(n(189))}}if(g.alternate!==y)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?s:f}function h(s){var f=s.tag;if(f===5||f===26||f===27||f===6)return s;for(s=s.child;s!==null;){if(f=h(s),f!==null)return f;s=s.sibling}return null}var d=Object.assign,v=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),S=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=j&&s[j]||s["@@iterator"],typeof s=="function"?s:null)}var I=Symbol.for("react.client.reference");function G(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===I?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case b:return"Fragment";case w:return"Profiler";case x:return"StrictMode";case R:return"Suspense";case L:return"SuspenseList";case P:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case m:return"Portal";case S:return s.displayName||"Context";case T:return(s._context.displayName||"Context")+".Consumer";case D:var f=s.render;return s=s.displayName,s||(s=f.displayName||f.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case _:return f=s.displayName||null,f!==null?f:G(s.type)||"Memo";case N:f=s._payload,s=s._init;try{return G(s(f))}catch{}}return null}var Y=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},J=[],ie=-1;function K(s){return{current:s}}function Z(s){0>ie||(s.current=J[ie],J[ie]=null,ie--)}function fe(s,f){ie++,J[ie]=s.current,s.current=f}var he=K(null),oe=K(null),be=K(null),Ae=K(null);function Le(s,f){switch(fe(be,f),fe(oe,s),fe(he,null),f.nodeType){case 9:case 11:s=(s=f.documentElement)&&(s=s.namespaceURI)?bA(s):0;break;default:if(s=f.tagName,f=f.namespaceURI)f=bA(f),s=xA(f,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Z(he),fe(he,s)}function ce(){Z(he),Z(oe),Z(be)}function ae(s){s.memoizedState!==null&&fe(Ae,s);var f=he.current,g=xA(f,s.type);f!==g&&(fe(oe,s),fe(he,g))}function le(s){oe.current===s&&(Z(he),Z(oe)),Ae.current===s&&(Z(Ae),Rc._currentValue=W)}var re,ge;function Se(s){if(re===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);re=f&&f[1]||"",ge=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+re+s+ge}var ze=!1;function Qe(s,f){if(!s||ze)return"";ze=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(f){var He=function(){throw Error()};if(Object.defineProperty(He.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(He,[])}catch(Be){var Re=Be}Reflect.construct(s,[],He)}else{try{He.call()}catch(Be){Re=Be}s.call(He.prototype)}}else{try{throw Error()}catch(Be){Re=Be}(He=s())&&typeof He.catch=="function"&&He.catch(function(){})}}catch(Be){if(Be&&Re&&typeof Be.stack=="string")return[Be.stack,Re.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=y.DetermineComponentFrameRoot(),$=k[0],ne=k[1];if($&&ne){var me=$.split(`
`),ke=ne.split(`
`);for(C=y=0;y<me.length&&!me[y].includes("DetermineComponentFrameRoot");)y++;for(;C<ke.length&&!ke[C].includes("DetermineComponentFrameRoot");)C++;if(y===me.length||C===ke.length)for(y=me.length-1,C=ke.length-1;1<=y&&0<=C&&me[y]!==ke[C];)C--;for(;1<=y&&0<=C;y--,C--)if(me[y]!==ke[C]){if(y!==1||C!==1)do if(y--,C--,0>C||me[y]!==ke[C]){var Ve=`
`+me[y].replace(" at new "," at ");return s.displayName&&Ve.includes("<anonymous>")&&(Ve=Ve.replace("<anonymous>",s.displayName)),Ve}while(1<=y&&0<=C);break}}}finally{ze=!1,Error.prepareStackTrace=g}return(g=s?s.displayName||s.name:"")?Se(g):""}function Oe(s,f){switch(s.tag){case 26:case 27:case 5:return Se(s.type);case 16:return Se("Lazy");case 13:return s.child!==f&&f!==null?Se("Suspense Fallback"):Se("Suspense");case 19:return Se("SuspenseList");case 0:case 15:return Qe(s.type,!1);case 11:return Qe(s.type.render,!1);case 1:return Qe(s.type,!0);case 31:return Se("Activity");default:return""}}function je(s){try{var f="",g=null;do f+=Oe(s,g),g=s,s=s.return;while(s);return f}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var Ue=Object.prototype.hasOwnProperty,qe=e.unstable_scheduleCallback,Ke=e.unstable_cancelCallback,Xe=e.unstable_shouldYield,ot=e.unstable_requestPaint,Ye=e.unstable_now,ct=e.unstable_getCurrentPriorityLevel,ht=e.unstable_ImmediatePriority,dt=e.unstable_UserBlockingPriority,yt=e.unstable_NormalPriority,bt=e.unstable_LowPriority,mt=e.unstable_IdlePriority,vt=e.log,de=e.unstable_setDisableYieldValue,Q=null,ye=null;function Te(s){if(typeof vt=="function"&&de(s),ye&&typeof ye.setStrictMode=="function")try{ye.setStrictMode(Q,s)}catch{}}var Me=Math.clz32?Math.clz32:Ie,Pe=Math.log,lt=Math.LN2;function Ie(s){return s>>>=0,s===0?32:31-(Pe(s)/lt|0)|0}var tt=256,rt=262144,nt=4194304;function at(s){var f=s&42;if(f!==0)return f;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function gt(s,f,g){var y=s.pendingLanes;if(y===0)return 0;var C=0,k=s.suspendedLanes,$=s.pingedLanes;s=s.warmLanes;var ne=y&134217727;return ne!==0?(y=ne&~k,y!==0?C=at(y):($&=ne,$!==0?C=at($):g||(g=ne&~s,g!==0&&(C=at(g))))):(ne=y&~k,ne!==0?C=at(ne):$!==0?C=at($):g||(g=y&~s,g!==0&&(C=at(g)))),C===0?0:f!==0&&f!==C&&(f&k)===0&&(k=C&-C,g=f&-f,k>=g||k===32&&(g&4194048)!==0)?f:C}function Je(s,f){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&f)===0}function xt(s,f){switch(s){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H(){var s=nt;return nt<<=1,(nt&62914560)===0&&(nt=4194304),s}function O(s){for(var f=[],g=0;31>g;g++)f.push(s);return f}function A(s,f){s.pendingLanes|=f,f!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function E(s,f,g,y,C,k){var $=s.pendingLanes;s.pendingLanes=g,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=g,s.entangledLanes&=g,s.errorRecoveryDisabledLanes&=g,s.shellSuspendCounter=0;var ne=s.entanglements,me=s.expirationTimes,ke=s.hiddenUpdates;for(g=$&~g;0<g;){var Ve=31-Me(g),He=1<<Ve;ne[Ve]=0,me[Ve]=-1;var Re=ke[Ve];if(Re!==null)for(ke[Ve]=null,Ve=0;Ve<Re.length;Ve++){var Be=Re[Ve];Be!==null&&(Be.lane&=-536870913)}g&=~He}y!==0&&M(s,y,0),k!==0&&C===0&&s.tag!==0&&(s.suspendedLanes|=k&~($&~f))}function M(s,f,g){s.pendingLanes|=f,s.suspendedLanes&=~f;var y=31-Me(f);s.entangledLanes|=f,s.entanglements[y]=s.entanglements[y]|1073741824|g&261930}function z(s,f){var g=s.entangledLanes|=f;for(s=s.entanglements;g;){var y=31-Me(g),C=1<<y;C&f|s[y]&f&&(s[y]|=f),g&=~C}}function ee(s,f){var g=f&-f;return g=(g&42)!==0?1:te(g),(g&(s.suspendedLanes|f))!==0?0:g}function te(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ue(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function se(){var s=V.p;return s!==0?s:(s=window.event,s===void 0?32:qA(s.type))}function Ee(s,f){var g=V.p;try{return V.p=s,f()}finally{V.p=g}}var ve=Math.random().toString(36).slice(2),Ne="__reactFiber$"+ve,We="__reactProps$"+ve,_e="__reactContainer$"+ve,Fe="__reactEvents$"+ve,st="__reactListeners$"+ve,pe="__reactHandles$"+ve,it="__reactResources$"+ve,ut="__reactMarker$"+ve;function Dt(s){delete s[Ne],delete s[We],delete s[Fe],delete s[st],delete s[pe]}function kt(s){var f=s[Ne];if(f)return f;for(var g=s.parentNode;g;){if(f=g[_e]||g[Ne]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(s=MA(s);s!==null;){if(g=s[Ne])return g;s=MA(s)}return f}s=g,g=s.parentNode}return null}function Kt(s){if(s=s[Ne]||s[_e]){var f=s.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return s}return null}function St(s){var f=s.tag;if(f===5||f===26||f===27||f===6)return s.stateNode;throw Error(n(33))}function At(s){var f=s[it];return f||(f=s[it]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Lt(s){s[ut]=!0}var we=new Set,Ze={};function ft(s,f){et(s,f),et(s+"Capture",f)}function et(s,f){for(Ze[s]=f,s=0;s<f.length;s++)we.add(f[s])}var nr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yt={},ar={};function hr(s){return Ue.call(ar,s)?!0:Ue.call(Yt,s)?!1:nr.test(s)?ar[s]=!0:(Yt[s]=!0,!1)}function Xt(s,f,g){if(hr(f))if(g===null)s.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":s.removeAttribute(f);return;case"boolean":var y=f.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){s.removeAttribute(f);return}}s.setAttribute(f,""+g)}}function Vr(s,f,g){if(g===null)s.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(f);return}s.setAttribute(f,""+g)}}function Qt(s,f,g,y){if(y===null)s.removeAttribute(g);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(g);return}s.setAttributeNS(f,g,""+y)}}function lr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function _r(s){var f=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function zt(s,f,g){var y=Object.getOwnPropertyDescriptor(s.constructor.prototype,f);if(!s.hasOwnProperty(f)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var C=y.get,k=y.set;return Object.defineProperty(s,f,{configurable:!0,get:function(){return C.call(this)},set:function($){g=""+$,k.call(this,$)}}),Object.defineProperty(s,f,{enumerable:y.enumerable}),{getValue:function(){return g},setValue:function($){g=""+$},stopTracking:function(){s._valueTracker=null,delete s[f]}}}}function jr(s){if(!s._valueTracker){var f=_r(s)?"checked":"value";s._valueTracker=zt(s,f,""+s[f])}}function cn(s){if(!s)return!1;var f=s._valueTracker;if(!f)return!0;var g=f.getValue(),y="";return s&&(y=_r(s)?s.checked?"true":"false":s.value),s=y,s!==g?(f.setValue(s),!0):!1}function fn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Fr=/[\n"\\]/g;function Xn(s){return s.replace(Fr,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Ku(s,f,g,y,C,k,$,ne){s.name="",$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?s.type=$:s.removeAttribute("type"),f!=null?$==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+lr(f)):s.value!==""+lr(f)&&(s.value=""+lr(f)):$!=="submit"&&$!=="reset"||s.removeAttribute("value"),f!=null?Wu(s,$,lr(f)):g!=null?Wu(s,$,lr(g)):y!=null&&s.removeAttribute("value"),C==null&&k!=null&&(s.defaultChecked=!!k),C!=null&&(s.checked=C&&typeof C!="function"&&typeof C!="symbol"),ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?s.name=""+lr(ne):s.removeAttribute("name")}function vh(s,f,g,y,C,k,$,ne){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(s.type=k),f!=null||g!=null){if(!(k!=="submit"&&k!=="reset"||f!=null)){jr(s);return}g=g!=null?""+lr(g):"",f=f!=null?""+lr(f):g,ne||f===s.value||(s.value=f),s.defaultValue=f}y=y??C,y=typeof y!="function"&&typeof y!="symbol"&&!!y,s.checked=ne?s.checked:!!y,s.defaultChecked=!!y,$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(s.name=$),jr(s)}function Wu(s,f,g){f==="number"&&fn(s.ownerDocument)===s||s.defaultValue===""+g||(s.defaultValue=""+g)}function po(s,f,g,y){if(s=s.options,f){f={};for(var C=0;C<g.length;C++)f["$"+g[C]]=!0;for(g=0;g<s.length;g++)C=f.hasOwnProperty("$"+s[g].value),s[g].selected!==C&&(s[g].selected=C),C&&y&&(s[g].defaultSelected=!0)}else{for(g=""+lr(g),f=null,C=0;C<s.length;C++){if(s[C].value===g){s[C].selected=!0,y&&(s[C].defaultSelected=!0);return}f!==null||s[C].disabled||(f=s[C])}f!==null&&(f.selected=!0)}}function gh(s,f,g){if(f!=null&&(f=""+lr(f),f!==s.value&&(s.value=f),g==null)){s.defaultValue!==f&&(s.defaultValue=f);return}s.defaultValue=g!=null?""+lr(g):""}function ph(s,f,g,y){if(f==null){if(y!=null){if(g!=null)throw Error(n(92));if(Y(y)){if(1<y.length)throw Error(n(93));y=y[0]}g=y}g==null&&(g=""),f=g}g=lr(f),s.defaultValue=g,y=s.textContent,y===g&&y!==""&&y!==null&&(s.value=y),jr(s)}function mo(s,f){if(f){var g=s.firstChild;if(g&&g===s.lastChild&&g.nodeType===3){g.nodeValue=f;return}}s.textContent=f}var Mp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pS(s,f,g){var y=f.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?y?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="":y?s.setProperty(f,g):typeof g!="number"||g===0||Mp.has(f)?f==="float"?s.cssFloat=g:s[f]=(""+g).trim():s[f]=g+"px"}function mS(s,f,g){if(f!=null&&typeof f!="object")throw Error(n(62));if(s=s.style,g!=null){for(var y in g)!g.hasOwnProperty(y)||f!=null&&f.hasOwnProperty(y)||(y.indexOf("--")===0?s.setProperty(y,""):y==="float"?s.cssFloat="":s[y]="");for(var C in f)y=f[C],f.hasOwnProperty(C)&&g[C]!==y&&pS(s,C,y)}else for(var k in f)f.hasOwnProperty(k)&&pS(s,k,f[k])}function Op(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Y3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mh(s){return Y3.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ai(){}var _p=null;function Dp(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var xl=null,wl=null;function yS(s){var f=Kt(s);if(f&&(s=f.stateNode)){var g=s[We]||null;e:switch(s=f.stateNode,f.type){case"input":if(Ku(s,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),f=g.name,g.type==="radio"&&f!=null){for(g=s;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Xn(""+f)+'"][type="radio"]'),f=0;f<g.length;f++){var y=g[f];if(y!==s&&y.form===s.form){var C=y[We]||null;if(!C)throw Error(n(90));Ku(y,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(f=0;f<g.length;f++)y=g[f],y.form===s.form&&cn(y)}break e;case"textarea":gh(s,g.value,g.defaultValue);break e;case"select":f=g.value,f!=null&&po(s,!!g.multiple,f,!1)}}}var kp=!1;function bS(s,f,g){if(kp)return s(f,g);kp=!0;try{var y=s(f);return y}finally{if(kp=!1,(xl!==null||wl!==null)&&(ad(),xl&&(f=xl,s=wl,wl=xl=null,yS(f),s)))for(f=0;f<s.length;f++)yS(s[f])}}function Zu(s,f){var g=s.stateNode;if(g===null)return null;var y=g[We]||null;if(y===null)return null;g=y[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(s=s.type,y=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!y;break e;default:s=!1}if(s)return null;if(g&&typeof g!="function")throw Error(n(231,f,typeof g));return g}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Np=!1;if(Ci)try{var Qu={};Object.defineProperty(Qu,"passive",{get:function(){Np=!0}}),window.addEventListener("test",Qu,Qu),window.removeEventListener("test",Qu,Qu)}catch{Np=!1}var yo=null,Pp=null,yh=null;function xS(){if(yh)return yh;var s,f=Pp,g=f.length,y,C="value"in yo?yo.value:yo.textContent,k=C.length;for(s=0;s<g&&f[s]===C[s];s++);var $=g-s;for(y=1;y<=$&&f[g-y]===C[k-y];y++);return yh=C.slice(s,1<y?1-y:void 0)}function bh(s){var f=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&f===13&&(s=13)):s=f,s===10&&(s=13),32<=s||s===13?s:0}function xh(){return!0}function wS(){return!1}function Kn(s){function f(g,y,C,k,$){this._reactName=g,this._targetInst=C,this.type=y,this.nativeEvent=k,this.target=$,this.currentTarget=null;for(var ne in s)s.hasOwnProperty(ne)&&(g=s[ne],this[ne]=g?g(k):k[ne]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?xh:wS,this.isPropagationStopped=wS,this}return d(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=xh)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=xh)},persist:function(){},isPersistent:xh}),f}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wh=Kn(ms),Ju=d({},ms,{view:0,detail:0}),H3=Kn(Ju),Rp,Lp,ec,Eh=d({},Ju,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bp,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ec&&(ec&&s.type==="mousemove"?(Rp=s.screenX-ec.screenX,Lp=s.screenY-ec.screenY):Lp=Rp=0,ec=s),Rp)},movementY:function(s){return"movementY"in s?s.movementY:Lp}}),ES=Kn(Eh),X3=d({},Eh,{dataTransfer:0}),K3=Kn(X3),W3=d({},Ju,{relatedTarget:0}),jp=Kn(W3),Z3=d({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),Q3=Kn(Z3),J3=d({},ms,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),e5=Kn(J3),t5=d({},ms,{data:0}),SS=Kn(t5),r5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i5(s){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(s):(s=a5[s])?!!f[s]:!1}function Bp(){return i5}var o5=d({},Ju,{key:function(s){if(s.key){var f=r5[s.key]||s.key;if(f!=="Unidentified")return f}return s.type==="keypress"?(s=bh(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?n5[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bp,charCode:function(s){return s.type==="keypress"?bh(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?bh(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),s5=Kn(o5),l5=d({},Eh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TS=Kn(l5),u5=d({},Ju,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bp}),c5=Kn(u5),f5=d({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),h5=Kn(f5),d5=d({},Eh,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),v5=Kn(d5),g5=d({},ms,{newState:0,oldState:0}),p5=Kn(g5),m5=[9,13,27,32],Ip=Ci&&"CompositionEvent"in window,tc=null;Ci&&"documentMode"in document&&(tc=document.documentMode);var y5=Ci&&"TextEvent"in window&&!tc,AS=Ci&&(!Ip||tc&&8<tc&&11>=tc),CS=" ",MS=!1;function OS(s,f){switch(s){case"keyup":return m5.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _S(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var El=!1;function b5(s,f){switch(s){case"compositionend":return _S(f);case"keypress":return f.which!==32?null:(MS=!0,CS);case"textInput":return s=f.data,s===CS&&MS?null:s;default:return null}}function x5(s,f){if(El)return s==="compositionend"||!Ip&&OS(s,f)?(s=xS(),yh=Pp=yo=null,El=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return AS&&f.locale!=="ko"?null:f.data;default:return null}}var w5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function DS(s){var f=s&&s.nodeName&&s.nodeName.toLowerCase();return f==="input"?!!w5[s.type]:f==="textarea"}function kS(s,f,g,y){xl?wl?wl.push(y):wl=[y]:xl=y,f=fd(f,"onChange"),0<f.length&&(g=new wh("onChange","change",null,g,y),s.push({event:g,listeners:f}))}var rc=null,nc=null;function E5(s){dA(s,0)}function Sh(s){var f=St(s);if(cn(f))return s}function NS(s,f){if(s==="change")return f}var PS=!1;if(Ci){var zp;if(Ci){var Fp="oninput"in document;if(!Fp){var RS=document.createElement("div");RS.setAttribute("oninput","return;"),Fp=typeof RS.oninput=="function"}zp=Fp}else zp=!1;PS=zp&&(!document.documentMode||9<document.documentMode)}function LS(){rc&&(rc.detachEvent("onpropertychange",jS),nc=rc=null)}function jS(s){if(s.propertyName==="value"&&Sh(nc)){var f=[];kS(f,nc,s,Dp(s)),bS(E5,f)}}function S5(s,f,g){s==="focusin"?(LS(),rc=f,nc=g,rc.attachEvent("onpropertychange",jS)):s==="focusout"&&LS()}function T5(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Sh(nc)}function A5(s,f){if(s==="click")return Sh(f)}function C5(s,f){if(s==="input"||s==="change")return Sh(f)}function M5(s,f){return s===f&&(s!==0||1/s===1/f)||s!==s&&f!==f}var fa=typeof Object.is=="function"?Object.is:M5;function ac(s,f){if(fa(s,f))return!0;if(typeof s!="object"||s===null||typeof f!="object"||f===null)return!1;var g=Object.keys(s),y=Object.keys(f);if(g.length!==y.length)return!1;for(y=0;y<g.length;y++){var C=g[y];if(!Ue.call(f,C)||!fa(s[C],f[C]))return!1}return!0}function BS(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function IS(s,f){var g=BS(s);s=0;for(var y;g;){if(g.nodeType===3){if(y=s+g.textContent.length,s<=f&&y>=f)return{node:g,offset:f-s};s=y}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=BS(g)}}function zS(s,f){return s&&f?s===f?!0:s&&s.nodeType===3?!1:f&&f.nodeType===3?zS(s,f.parentNode):"contains"in s?s.contains(f):s.compareDocumentPosition?!!(s.compareDocumentPosition(f)&16):!1:!1}function FS(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var f=fn(s.document);f instanceof s.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)s=f.contentWindow;else break;f=fn(s.document)}return f}function Up(s){var f=s&&s.nodeName&&s.nodeName.toLowerCase();return f&&(f==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||f==="textarea"||s.contentEditable==="true")}var O5=Ci&&"documentMode"in document&&11>=document.documentMode,Sl=null,Gp=null,ic=null,qp=!1;function US(s,f,g){var y=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;qp||Sl==null||Sl!==fn(y)||(y=Sl,"selectionStart"in y&&Up(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),ic&&ac(ic,y)||(ic=y,y=fd(Gp,"onSelect"),0<y.length&&(f=new wh("onSelect","select",null,f,g),s.push({event:f,listeners:y}),f.target=Sl)))}function ys(s,f){var g={};return g[s.toLowerCase()]=f.toLowerCase(),g["Webkit"+s]="webkit"+f,g["Moz"+s]="moz"+f,g}var Tl={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionrun:ys("Transition","TransitionRun"),transitionstart:ys("Transition","TransitionStart"),transitioncancel:ys("Transition","TransitionCancel"),transitionend:ys("Transition","TransitionEnd")},Vp={},GS={};Ci&&(GS=document.createElement("div").style,"AnimationEvent"in window||(delete Tl.animationend.animation,delete Tl.animationiteration.animation,delete Tl.animationstart.animation),"TransitionEvent"in window||delete Tl.transitionend.transition);function bs(s){if(Vp[s])return Vp[s];if(!Tl[s])return s;var f=Tl[s],g;for(g in f)if(f.hasOwnProperty(g)&&g in GS)return Vp[s]=f[g];return s}var qS=bs("animationend"),VS=bs("animationiteration"),$S=bs("animationstart"),_5=bs("transitionrun"),D5=bs("transitionstart"),k5=bs("transitioncancel"),YS=bs("transitionend"),HS=new Map,$p="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$p.push("scrollEnd");function Wa(s,f){HS.set(s,f),ft(f,[s])}var Th=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Ma=[],Al=0,Yp=0;function Ah(){for(var s=Al,f=Yp=Al=0;f<s;){var g=Ma[f];Ma[f++]=null;var y=Ma[f];Ma[f++]=null;var C=Ma[f];Ma[f++]=null;var k=Ma[f];if(Ma[f++]=null,y!==null&&C!==null){var $=y.pending;$===null?C.next=C:(C.next=$.next,$.next=C),y.pending=C}k!==0&&XS(g,C,k)}}function Ch(s,f,g,y){Ma[Al++]=s,Ma[Al++]=f,Ma[Al++]=g,Ma[Al++]=y,Yp|=y,s.lanes|=y,s=s.alternate,s!==null&&(s.lanes|=y)}function Hp(s,f,g,y){return Ch(s,f,g,y),Mh(s)}function xs(s,f){return Ch(s,null,null,f),Mh(s)}function XS(s,f,g){s.lanes|=g;var y=s.alternate;y!==null&&(y.lanes|=g);for(var C=!1,k=s.return;k!==null;)k.childLanes|=g,y=k.alternate,y!==null&&(y.childLanes|=g),k.tag===22&&(s=k.stateNode,s===null||s._visibility&1||(C=!0)),s=k,k=k.return;return s.tag===3?(k=s.stateNode,C&&f!==null&&(C=31-Me(g),s=k.hiddenUpdates,y=s[C],y===null?s[C]=[f]:y.push(f),f.lane=g|536870912),k):null}function Mh(s){if(50<Mc)throw Mc=0,ry=null,Error(n(185));for(var f=s.return;f!==null;)s=f,f=s.return;return s.tag===3?s.stateNode:null}var Cl={};function N5(s,f,g,y){this.tag=s,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ha(s,f,g,y){return new N5(s,f,g,y)}function Xp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Mi(s,f){var g=s.alternate;return g===null?(g=ha(s.tag,f,s.key,s.mode),g.elementType=s.elementType,g.type=s.type,g.stateNode=s.stateNode,g.alternate=s,s.alternate=g):(g.pendingProps=f,g.type=s.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=s.flags&65011712,g.childLanes=s.childLanes,g.lanes=s.lanes,g.child=s.child,g.memoizedProps=s.memoizedProps,g.memoizedState=s.memoizedState,g.updateQueue=s.updateQueue,f=s.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=s.sibling,g.index=s.index,g.ref=s.ref,g.refCleanup=s.refCleanup,g}function KS(s,f){s.flags&=65011714;var g=s.alternate;return g===null?(s.childLanes=0,s.lanes=f,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=g.childLanes,s.lanes=g.lanes,s.child=g.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=g.memoizedProps,s.memoizedState=g.memoizedState,s.updateQueue=g.updateQueue,s.type=g.type,f=g.dependencies,s.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),s}function Oh(s,f,g,y,C,k){var $=0;if(y=s,typeof s=="function")Xp(s)&&($=1);else if(typeof s=="string")$=Bz(s,g,he.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case P:return s=ha(31,g,f,C),s.elementType=P,s.lanes=k,s;case b:return ws(g.children,C,k,f);case x:$=8,C|=24;break;case w:return s=ha(12,g,f,C|2),s.elementType=w,s.lanes=k,s;case R:return s=ha(13,g,f,C),s.elementType=R,s.lanes=k,s;case L:return s=ha(19,g,f,C),s.elementType=L,s.lanes=k,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case S:$=10;break e;case T:$=9;break e;case D:$=11;break e;case _:$=14;break e;case N:$=16,y=null;break e}$=29,g=Error(n(130,s===null?"null":typeof s,"")),y=null}return f=ha($,g,f,C),f.elementType=s,f.type=y,f.lanes=k,f}function ws(s,f,g,y){return s=ha(7,s,y,f),s.lanes=g,s}function Kp(s,f,g){return s=ha(6,s,null,f),s.lanes=g,s}function WS(s){var f=ha(18,null,null,0);return f.stateNode=s,f}function Wp(s,f,g){return f=ha(4,s.children!==null?s.children:[],s.key,f),f.lanes=g,f.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},f}var ZS=new WeakMap;function Oa(s,f){if(typeof s=="object"&&s!==null){var g=ZS.get(s);return g!==void 0?g:(f={value:s,source:f,stack:je(f)},ZS.set(s,f),f)}return{value:s,source:f,stack:je(f)}}var Ml=[],Ol=0,_h=null,oc=0,_a=[],Da=0,bo=null,ui=1,ci="";function Oi(s,f){Ml[Ol++]=oc,Ml[Ol++]=_h,_h=s,oc=f}function QS(s,f,g){_a[Da++]=ui,_a[Da++]=ci,_a[Da++]=bo,bo=s;var y=ui;s=ci;var C=32-Me(y)-1;y&=~(1<<C),g+=1;var k=32-Me(f)+C;if(30<k){var $=C-C%5;k=(y&(1<<$)-1).toString(32),y>>=$,C-=$,ui=1<<32-Me(f)+C|g<<C|y,ci=k+s}else ui=1<<k|g<<C|y,ci=s}function Zp(s){s.return!==null&&(Oi(s,1),QS(s,1,0))}function Qp(s){for(;s===_h;)_h=Ml[--Ol],Ml[Ol]=null,oc=Ml[--Ol],Ml[Ol]=null;for(;s===bo;)bo=_a[--Da],_a[Da]=null,ci=_a[--Da],_a[Da]=null,ui=_a[--Da],_a[Da]=null}function JS(s,f){_a[Da++]=ui,_a[Da++]=ci,_a[Da++]=bo,ui=f.id,ci=f.overflow,bo=s}var bn=null,Tr=null,Ht=!1,xo=null,ka=!1,Jp=Error(n(519));function wo(s){var f=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sc(Oa(f,s)),Jp}function e2(s){var f=s.stateNode,g=s.type,y=s.memoizedProps;switch(f[Ne]=s,f[We]=y,g){case"dialog":qt("cancel",f),qt("close",f);break;case"iframe":case"object":case"embed":qt("load",f);break;case"video":case"audio":for(g=0;g<_c.length;g++)qt(_c[g],f);break;case"source":qt("error",f);break;case"img":case"image":case"link":qt("error",f),qt("load",f);break;case"details":qt("toggle",f);break;case"input":qt("invalid",f),vh(f,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":qt("invalid",f);break;case"textarea":qt("invalid",f),ph(f,y.value,y.defaultValue,y.children)}g=y.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||f.textContent===""+g||y.suppressHydrationWarning===!0||mA(f.textContent,g)?(y.popover!=null&&(qt("beforetoggle",f),qt("toggle",f)),y.onScroll!=null&&qt("scroll",f),y.onScrollEnd!=null&&qt("scrollend",f),y.onClick!=null&&(f.onclick=Ai),f=!0):f=!1,f||wo(s,!0)}function t2(s){for(bn=s.return;bn;)switch(bn.tag){case 5:case 31:case 13:ka=!1;return;case 27:case 3:ka=!0;return;default:bn=bn.return}}function _l(s){if(s!==bn)return!1;if(!Ht)return t2(s),Ht=!0,!1;var f=s.tag,g;if((g=f!==3&&f!==27)&&((g=f===5)&&(g=s.type,g=!(g!=="form"&&g!=="button")||my(s.type,s.memoizedProps)),g=!g),g&&Tr&&wo(s),t2(s),f===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Tr=CA(s)}else if(f===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Tr=CA(s)}else f===27?(f=Tr,Lo(s.type)?(s=Ey,Ey=null,Tr=s):Tr=f):Tr=bn?Pa(s.stateNode.nextSibling):null;return!0}function Es(){Tr=bn=null,Ht=!1}function em(){var s=xo;return s!==null&&(Jn===null?Jn=s:Jn.push.apply(Jn,s),xo=null),s}function sc(s){xo===null?xo=[s]:xo.push(s)}var tm=K(null),Ss=null,_i=null;function Eo(s,f,g){fe(tm,f._currentValue),f._currentValue=g}function Di(s){s._currentValue=tm.current,Z(tm)}function rm(s,f,g){for(;s!==null;){var y=s.alternate;if((s.childLanes&f)!==f?(s.childLanes|=f,y!==null&&(y.childLanes|=f)):y!==null&&(y.childLanes&f)!==f&&(y.childLanes|=f),s===g)break;s=s.return}}function nm(s,f,g,y){var C=s.child;for(C!==null&&(C.return=s);C!==null;){var k=C.dependencies;if(k!==null){var $=C.child;k=k.firstContext;e:for(;k!==null;){var ne=k;k=C;for(var me=0;me<f.length;me++)if(ne.context===f[me]){k.lanes|=g,ne=k.alternate,ne!==null&&(ne.lanes|=g),rm(k.return,g,s),y||($=null);break e}k=ne.next}}else if(C.tag===18){if($=C.return,$===null)throw Error(n(341));$.lanes|=g,k=$.alternate,k!==null&&(k.lanes|=g),rm($,g,s),$=null}else $=C.child;if($!==null)$.return=C;else for($=C;$!==null;){if($===s){$=null;break}if(C=$.sibling,C!==null){C.return=$.return,$=C;break}$=$.return}C=$}}function Dl(s,f,g,y){s=null;for(var C=f,k=!1;C!==null;){if(!k){if((C.flags&524288)!==0)k=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var $=C.alternate;if($===null)throw Error(n(387));if($=$.memoizedProps,$!==null){var ne=C.type;fa(C.pendingProps.value,$.value)||(s!==null?s.push(ne):s=[ne])}}else if(C===Ae.current){if($=C.alternate,$===null)throw Error(n(387));$.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(s!==null?s.push(Rc):s=[Rc])}C=C.return}s!==null&&nm(f,s,g,y),f.flags|=262144}function Dh(s){for(s=s.firstContext;s!==null;){if(!fa(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ts(s){Ss=s,_i=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function xn(s){return r2(Ss,s)}function kh(s,f){return Ss===null&&Ts(s),r2(s,f)}function r2(s,f){var g=f._currentValue;if(f={context:f,memoizedValue:g,next:null},_i===null){if(s===null)throw Error(n(308));_i=f,s.dependencies={lanes:0,firstContext:f},s.flags|=524288}else _i=_i.next=f;return g}var P5=typeof AbortController<"u"?AbortController:function(){var s=[],f=this.signal={aborted:!1,addEventListener:function(g,y){s.push(y)}};this.abort=function(){f.aborted=!0,s.forEach(function(g){return g()})}},R5=e.unstable_scheduleCallback,L5=e.unstable_NormalPriority,$r={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function am(){return{controller:new P5,data:new Map,refCount:0}}function lc(s){s.refCount--,s.refCount===0&&R5(L5,function(){s.controller.abort()})}var uc=null,im=0,kl=0,Nl=null;function j5(s,f){if(uc===null){var g=uc=[];im=0,kl=ly(),Nl={status:"pending",value:void 0,then:function(y){g.push(y)}}}return im++,f.then(n2,n2),f}function n2(){if(--im===0&&uc!==null){Nl!==null&&(Nl.status="fulfilled");var s=uc;uc=null,kl=0,Nl=null;for(var f=0;f<s.length;f++)(0,s[f])()}}function B5(s,f){var g=[],y={status:"pending",value:null,reason:null,then:function(C){g.push(C)}};return s.then(function(){y.status="fulfilled",y.value=f;for(var C=0;C<g.length;C++)(0,g[C])(f)},function(C){for(y.status="rejected",y.reason=C,C=0;C<g.length;C++)(0,g[C])(void 0)}),y}var a2=q.S;q.S=function(s,f){UT=Ye(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&j5(s,f),a2!==null&&a2(s,f)};var As=K(null);function om(){var s=As.current;return s!==null?s:yr.pooledCache}function Nh(s,f){f===null?fe(As,As.current):fe(As,f.pool)}function i2(){var s=om();return s===null?null:{parent:$r._currentValue,pool:s}}var Pl=Error(n(460)),sm=Error(n(474)),Ph=Error(n(542)),Rh={then:function(){}};function o2(s){return s=s.status,s==="fulfilled"||s==="rejected"}function s2(s,f,g){switch(g=s[g],g===void 0?s.push(f):g!==f&&(f.then(Ai,Ai),f=g),f.status){case"fulfilled":return f.value;case"rejected":throw s=f.reason,u2(s),s;default:if(typeof f.status=="string")f.then(Ai,Ai);else{if(s=yr,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=f,s.status="pending",s.then(function(y){if(f.status==="pending"){var C=f;C.status="fulfilled",C.value=y}},function(y){if(f.status==="pending"){var C=f;C.status="rejected",C.reason=y}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw s=f.reason,u2(s),s}throw Ms=f,Pl}}function Cs(s){try{var f=s._init;return f(s._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(Ms=g,Pl):g}}var Ms=null;function l2(){if(Ms===null)throw Error(n(459));var s=Ms;return Ms=null,s}function u2(s){if(s===Pl||s===Ph)throw Error(n(483))}var Rl=null,cc=0;function Lh(s){var f=cc;return cc+=1,Rl===null&&(Rl=[]),s2(Rl,s,f)}function fc(s,f){f=f.props.ref,s.ref=f!==void 0?f:null}function jh(s,f){throw f.$$typeof===v?Error(n(525)):(s=Object.prototype.toString.call(f),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":s)))}function c2(s){function f(Ce,xe){if(s){var De=Ce.deletions;De===null?(Ce.deletions=[xe],Ce.flags|=16):De.push(xe)}}function g(Ce,xe){if(!s)return null;for(;xe!==null;)f(Ce,xe),xe=xe.sibling;return null}function y(Ce){for(var xe=new Map;Ce!==null;)Ce.key!==null?xe.set(Ce.key,Ce):xe.set(Ce.index,Ce),Ce=Ce.sibling;return xe}function C(Ce,xe){return Ce=Mi(Ce,xe),Ce.index=0,Ce.sibling=null,Ce}function k(Ce,xe,De){return Ce.index=De,s?(De=Ce.alternate,De!==null?(De=De.index,De<xe?(Ce.flags|=67108866,xe):De):(Ce.flags|=67108866,xe)):(Ce.flags|=1048576,xe)}function $(Ce){return s&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function ne(Ce,xe,De,$e){return xe===null||xe.tag!==6?(xe=Kp(De,Ce.mode,$e),xe.return=Ce,xe):(xe=C(xe,De),xe.return=Ce,xe)}function me(Ce,xe,De,$e){var _t=De.type;return _t===b?Ve(Ce,xe,De.props.children,$e,De.key):xe!==null&&(xe.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===N&&Cs(_t)===xe.type)?(xe=C(xe,De.props),fc(xe,De),xe.return=Ce,xe):(xe=Oh(De.type,De.key,De.props,null,Ce.mode,$e),fc(xe,De),xe.return=Ce,xe)}function ke(Ce,xe,De,$e){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==De.containerInfo||xe.stateNode.implementation!==De.implementation?(xe=Wp(De,Ce.mode,$e),xe.return=Ce,xe):(xe=C(xe,De.children||[]),xe.return=Ce,xe)}function Ve(Ce,xe,De,$e,_t){return xe===null||xe.tag!==7?(xe=ws(De,Ce.mode,$e,_t),xe.return=Ce,xe):(xe=C(xe,De),xe.return=Ce,xe)}function He(Ce,xe,De){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return xe=Kp(""+xe,Ce.mode,De),xe.return=Ce,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case p:return De=Oh(xe.type,xe.key,xe.props,null,Ce.mode,De),fc(De,xe),De.return=Ce,De;case m:return xe=Wp(xe,Ce.mode,De),xe.return=Ce,xe;case N:return xe=Cs(xe),He(Ce,xe,De)}if(Y(xe)||F(xe))return xe=ws(xe,Ce.mode,De,null),xe.return=Ce,xe;if(typeof xe.then=="function")return He(Ce,Lh(xe),De);if(xe.$$typeof===S)return He(Ce,kh(Ce,xe),De);jh(Ce,xe)}return null}function Re(Ce,xe,De,$e){var _t=xe!==null?xe.key:null;if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return _t!==null?null:ne(Ce,xe,""+De,$e);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case p:return De.key===_t?me(Ce,xe,De,$e):null;case m:return De.key===_t?ke(Ce,xe,De,$e):null;case N:return De=Cs(De),Re(Ce,xe,De,$e)}if(Y(De)||F(De))return _t!==null?null:Ve(Ce,xe,De,$e,null);if(typeof De.then=="function")return Re(Ce,xe,Lh(De),$e);if(De.$$typeof===S)return Re(Ce,xe,kh(Ce,De),$e);jh(Ce,De)}return null}function Be(Ce,xe,De,$e,_t){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return Ce=Ce.get(De)||null,ne(xe,Ce,""+$e,_t);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case p:return Ce=Ce.get($e.key===null?De:$e.key)||null,me(xe,Ce,$e,_t);case m:return Ce=Ce.get($e.key===null?De:$e.key)||null,ke(xe,Ce,$e,_t);case N:return $e=Cs($e),Be(Ce,xe,De,$e,_t)}if(Y($e)||F($e))return Ce=Ce.get(De)||null,Ve(xe,Ce,$e,_t,null);if(typeof $e.then=="function")return Be(Ce,xe,De,Lh($e),_t);if($e.$$typeof===S)return Be(Ce,xe,De,kh(xe,$e),_t);jh(xe,$e)}return null}function Tt(Ce,xe,De,$e){for(var _t=null,Jt=null,Ct=xe,It=xe=0,$t=null;Ct!==null&&It<De.length;It++){Ct.index>It?($t=Ct,Ct=null):$t=Ct.sibling;var er=Re(Ce,Ct,De[It],$e);if(er===null){Ct===null&&(Ct=$t);break}s&&Ct&&er.alternate===null&&f(Ce,Ct),xe=k(er,xe,It),Jt===null?_t=er:Jt.sibling=er,Jt=er,Ct=$t}if(It===De.length)return g(Ce,Ct),Ht&&Oi(Ce,It),_t;if(Ct===null){for(;It<De.length;It++)Ct=He(Ce,De[It],$e),Ct!==null&&(xe=k(Ct,xe,It),Jt===null?_t=Ct:Jt.sibling=Ct,Jt=Ct);return Ht&&Oi(Ce,It),_t}for(Ct=y(Ct);It<De.length;It++)$t=Be(Ct,Ce,It,De[It],$e),$t!==null&&(s&&$t.alternate!==null&&Ct.delete($t.key===null?It:$t.key),xe=k($t,xe,It),Jt===null?_t=$t:Jt.sibling=$t,Jt=$t);return s&&Ct.forEach(function(Fo){return f(Ce,Fo)}),Ht&&Oi(Ce,It),_t}function Pt(Ce,xe,De,$e){if(De==null)throw Error(n(151));for(var _t=null,Jt=null,Ct=xe,It=xe=0,$t=null,er=De.next();Ct!==null&&!er.done;It++,er=De.next()){Ct.index>It?($t=Ct,Ct=null):$t=Ct.sibling;var Fo=Re(Ce,Ct,er.value,$e);if(Fo===null){Ct===null&&(Ct=$t);break}s&&Ct&&Fo.alternate===null&&f(Ce,Ct),xe=k(Fo,xe,It),Jt===null?_t=Fo:Jt.sibling=Fo,Jt=Fo,Ct=$t}if(er.done)return g(Ce,Ct),Ht&&Oi(Ce,It),_t;if(Ct===null){for(;!er.done;It++,er=De.next())er=He(Ce,er.value,$e),er!==null&&(xe=k(er,xe,It),Jt===null?_t=er:Jt.sibling=er,Jt=er);return Ht&&Oi(Ce,It),_t}for(Ct=y(Ct);!er.done;It++,er=De.next())er=Be(Ct,Ce,It,er.value,$e),er!==null&&(s&&er.alternate!==null&&Ct.delete(er.key===null?It:er.key),xe=k(er,xe,It),Jt===null?_t=er:Jt.sibling=er,Jt=er);return s&&Ct.forEach(function(Xz){return f(Ce,Xz)}),Ht&&Oi(Ce,It),_t}function gr(Ce,xe,De,$e){if(typeof De=="object"&&De!==null&&De.type===b&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case p:e:{for(var _t=De.key;xe!==null;){if(xe.key===_t){if(_t=De.type,_t===b){if(xe.tag===7){g(Ce,xe.sibling),$e=C(xe,De.props.children),$e.return=Ce,Ce=$e;break e}}else if(xe.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===N&&Cs(_t)===xe.type){g(Ce,xe.sibling),$e=C(xe,De.props),fc($e,De),$e.return=Ce,Ce=$e;break e}g(Ce,xe);break}else f(Ce,xe);xe=xe.sibling}De.type===b?($e=ws(De.props.children,Ce.mode,$e,De.key),$e.return=Ce,Ce=$e):($e=Oh(De.type,De.key,De.props,null,Ce.mode,$e),fc($e,De),$e.return=Ce,Ce=$e)}return $(Ce);case m:e:{for(_t=De.key;xe!==null;){if(xe.key===_t)if(xe.tag===4&&xe.stateNode.containerInfo===De.containerInfo&&xe.stateNode.implementation===De.implementation){g(Ce,xe.sibling),$e=C(xe,De.children||[]),$e.return=Ce,Ce=$e;break e}else{g(Ce,xe);break}else f(Ce,xe);xe=xe.sibling}$e=Wp(De,Ce.mode,$e),$e.return=Ce,Ce=$e}return $(Ce);case N:return De=Cs(De),gr(Ce,xe,De,$e)}if(Y(De))return Tt(Ce,xe,De,$e);if(F(De)){if(_t=F(De),typeof _t!="function")throw Error(n(150));return De=_t.call(De),Pt(Ce,xe,De,$e)}if(typeof De.then=="function")return gr(Ce,xe,Lh(De),$e);if(De.$$typeof===S)return gr(Ce,xe,kh(Ce,De),$e);jh(Ce,De)}return typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint"?(De=""+De,xe!==null&&xe.tag===6?(g(Ce,xe.sibling),$e=C(xe,De),$e.return=Ce,Ce=$e):(g(Ce,xe),$e=Kp(De,Ce.mode,$e),$e.return=Ce,Ce=$e),$(Ce)):g(Ce,xe)}return function(Ce,xe,De,$e){try{cc=0;var _t=gr(Ce,xe,De,$e);return Rl=null,_t}catch(Ct){if(Ct===Pl||Ct===Ph)throw Ct;var Jt=ha(29,Ct,null,Ce.mode);return Jt.lanes=$e,Jt.return=Ce,Jt}finally{}}}var Os=c2(!0),f2=c2(!1),So=!1;function lm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function um(s,f){s=s.updateQueue,f.updateQueue===s&&(f.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function To(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ao(s,f,g){var y=s.updateQueue;if(y===null)return null;if(y=y.shared,(ir&2)!==0){var C=y.pending;return C===null?f.next=f:(f.next=C.next,C.next=f),y.pending=f,f=Mh(s),XS(s,null,g),f}return Ch(s,y,f,g),Mh(s)}function hc(s,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194048)!==0)){var y=f.lanes;y&=s.pendingLanes,g|=y,f.lanes=g,z(s,g)}}function cm(s,f){var g=s.updateQueue,y=s.alternate;if(y!==null&&(y=y.updateQueue,g===y)){var C=null,k=null;if(g=g.firstBaseUpdate,g!==null){do{var $={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};k===null?C=k=$:k=k.next=$,g=g.next}while(g!==null);k===null?C=k=f:k=k.next=f}else C=k=f;g={baseState:y.baseState,firstBaseUpdate:C,lastBaseUpdate:k,shared:y.shared,callbacks:y.callbacks},s.updateQueue=g;return}s=g.lastBaseUpdate,s===null?g.firstBaseUpdate=f:s.next=f,g.lastBaseUpdate=f}var fm=!1;function dc(){if(fm){var s=Nl;if(s!==null)throw s}}function vc(s,f,g,y){fm=!1;var C=s.updateQueue;So=!1;var k=C.firstBaseUpdate,$=C.lastBaseUpdate,ne=C.shared.pending;if(ne!==null){C.shared.pending=null;var me=ne,ke=me.next;me.next=null,$===null?k=ke:$.next=ke,$=me;var Ve=s.alternate;Ve!==null&&(Ve=Ve.updateQueue,ne=Ve.lastBaseUpdate,ne!==$&&(ne===null?Ve.firstBaseUpdate=ke:ne.next=ke,Ve.lastBaseUpdate=me))}if(k!==null){var He=C.baseState;$=0,Ve=ke=me=null,ne=k;do{var Re=ne.lane&-536870913,Be=Re!==ne.lane;if(Be?(Vt&Re)===Re:(y&Re)===Re){Re!==0&&Re===kl&&(fm=!0),Ve!==null&&(Ve=Ve.next={lane:0,tag:ne.tag,payload:ne.payload,callback:null,next:null});e:{var Tt=s,Pt=ne;Re=f;var gr=g;switch(Pt.tag){case 1:if(Tt=Pt.payload,typeof Tt=="function"){He=Tt.call(gr,He,Re);break e}He=Tt;break e;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=Pt.payload,Re=typeof Tt=="function"?Tt.call(gr,He,Re):Tt,Re==null)break e;He=d({},He,Re);break e;case 2:So=!0}}Re=ne.callback,Re!==null&&(s.flags|=64,Be&&(s.flags|=8192),Be=C.callbacks,Be===null?C.callbacks=[Re]:Be.push(Re))}else Be={lane:Re,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},Ve===null?(ke=Ve=Be,me=He):Ve=Ve.next=Be,$|=Re;if(ne=ne.next,ne===null){if(ne=C.shared.pending,ne===null)break;Be=ne,ne=Be.next,Be.next=null,C.lastBaseUpdate=Be,C.shared.pending=null}}while(!0);Ve===null&&(me=He),C.baseState=me,C.firstBaseUpdate=ke,C.lastBaseUpdate=Ve,k===null&&(C.shared.lanes=0),Do|=$,s.lanes=$,s.memoizedState=He}}function h2(s,f){if(typeof s!="function")throw Error(n(191,s));s.call(f)}function d2(s,f){var g=s.callbacks;if(g!==null)for(s.callbacks=null,s=0;s<g.length;s++)h2(g[s],f)}var Ll=K(null),Bh=K(0);function v2(s,f){s=zi,fe(Bh,s),fe(Ll,f),zi=s|f.baseLanes}function hm(){fe(Bh,zi),fe(Ll,Ll.current)}function dm(){zi=Bh.current,Z(Ll),Z(Bh)}var da=K(null),Na=null;function Co(s){var f=s.alternate;fe(Ur,Ur.current&1),fe(da,s),Na===null&&(f===null||Ll.current!==null||f.memoizedState!==null)&&(Na=s)}function vm(s){fe(Ur,Ur.current),fe(da,s),Na===null&&(Na=s)}function g2(s){s.tag===22?(fe(Ur,Ur.current),fe(da,s),Na===null&&(Na=s)):Mo()}function Mo(){fe(Ur,Ur.current),fe(da,da.current)}function va(s){Z(da),Na===s&&(Na=null),Z(Ur)}var Ur=K(0);function Ih(s){for(var f=s;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||xy(g)||wy(g)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var ki=0,Bt=null,dr=null,Yr=null,zh=!1,jl=!1,_s=!1,Fh=0,gc=0,Bl=null,I5=0;function Br(){throw Error(n(321))}function gm(s,f){if(f===null)return!1;for(var g=0;g<f.length&&g<s.length;g++)if(!fa(s[g],f[g]))return!1;return!0}function pm(s,f,g,y,C,k){return ki=k,Bt=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,q.H=s===null||s.memoizedState===null?Q2:km,_s=!1,k=g(y,C),_s=!1,jl&&(k=m2(f,g,y,C)),p2(s),k}function p2(s){q.H=yc;var f=dr!==null&&dr.next!==null;if(ki=0,Yr=dr=Bt=null,zh=!1,gc=0,Bl=null,f)throw Error(n(300));s===null||Hr||(s=s.dependencies,s!==null&&Dh(s)&&(Hr=!0))}function m2(s,f,g,y){Bt=s;var C=0;do{if(jl&&(Bl=null),gc=0,jl=!1,25<=C)throw Error(n(301));if(C+=1,Yr=dr=null,s.updateQueue!=null){var k=s.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}q.H=J2,k=f(g,y)}while(jl);return k}function z5(){var s=q.H,f=s.useState()[0];return f=typeof f.then=="function"?pc(f):f,s=s.useState()[0],(dr!==null?dr.memoizedState:null)!==s&&(Bt.flags|=1024),f}function mm(){var s=Fh!==0;return Fh=0,s}function ym(s,f,g){f.updateQueue=s.updateQueue,f.flags&=-2053,s.lanes&=~g}function bm(s){if(zh){for(s=s.memoizedState;s!==null;){var f=s.queue;f!==null&&(f.pending=null),s=s.next}zh=!1}ki=0,Yr=dr=Bt=null,jl=!1,gc=Fh=0,Bl=null}function zn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yr===null?Bt.memoizedState=Yr=s:Yr=Yr.next=s,Yr}function Gr(){if(dr===null){var s=Bt.alternate;s=s!==null?s.memoizedState:null}else s=dr.next;var f=Yr===null?Bt.memoizedState:Yr.next;if(f!==null)Yr=f,dr=s;else{if(s===null)throw Bt.alternate===null?Error(n(467)):Error(n(310));dr=s,s={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},Yr===null?Bt.memoizedState=Yr=s:Yr=Yr.next=s}return Yr}function Uh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pc(s){var f=gc;return gc+=1,Bl===null&&(Bl=[]),s=s2(Bl,s,f),f=Bt,(Yr===null?f.memoizedState:Yr.next)===null&&(f=f.alternate,q.H=f===null||f.memoizedState===null?Q2:km),s}function Gh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return pc(s);if(s.$$typeof===S)return xn(s)}throw Error(n(438,String(s)))}function xm(s){var f=null,g=Bt.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var y=Bt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(f={data:y.data.map(function(C){return C.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=Uh(),Bt.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(s),y=0;y<s;y++)g[y]=U;return f.index++,g}function Ni(s,f){return typeof f=="function"?f(s):f}function qh(s){var f=Gr();return wm(f,dr,s)}function wm(s,f,g){var y=s.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=g;var C=s.baseQueue,k=y.pending;if(k!==null){if(C!==null){var $=C.next;C.next=k.next,k.next=$}f.baseQueue=C=k,y.pending=null}if(k=s.baseState,C===null)s.memoizedState=k;else{f=C.next;var ne=$=null,me=null,ke=f,Ve=!1;do{var He=ke.lane&-536870913;if(He!==ke.lane?(Vt&He)===He:(ki&He)===He){var Re=ke.revertLane;if(Re===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),He===kl&&(Ve=!0);else if((ki&Re)===Re){ke=ke.next,Re===kl&&(Ve=!0);continue}else He={lane:0,revertLane:ke.revertLane,gesture:null,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},me===null?(ne=me=He,$=k):me=me.next=He,Bt.lanes|=Re,Do|=Re;He=ke.action,_s&&g(k,He),k=ke.hasEagerState?ke.eagerState:g(k,He)}else Re={lane:He,revertLane:ke.revertLane,gesture:ke.gesture,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},me===null?(ne=me=Re,$=k):me=me.next=Re,Bt.lanes|=He,Do|=He;ke=ke.next}while(ke!==null&&ke!==f);if(me===null?$=k:me.next=ne,!fa(k,s.memoizedState)&&(Hr=!0,Ve&&(g=Nl,g!==null)))throw g;s.memoizedState=k,s.baseState=$,s.baseQueue=me,y.lastRenderedState=k}return C===null&&(y.lanes=0),[s.memoizedState,y.dispatch]}function Em(s){var f=Gr(),g=f.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=s;var y=g.dispatch,C=g.pending,k=f.memoizedState;if(C!==null){g.pending=null;var $=C=C.next;do k=s(k,$.action),$=$.next;while($!==C);fa(k,f.memoizedState)||(Hr=!0),f.memoizedState=k,f.baseQueue===null&&(f.baseState=k),g.lastRenderedState=k}return[k,y]}function y2(s,f,g){var y=Bt,C=Gr(),k=Ht;if(k){if(g===void 0)throw Error(n(407));g=g()}else g=f();var $=!fa((dr||C).memoizedState,g);if($&&(C.memoizedState=g,Hr=!0),C=C.queue,Am(w2.bind(null,y,C,s),[s]),C.getSnapshot!==f||$||Yr!==null&&Yr.memoizedState.tag&1){if(y.flags|=2048,Il(9,{destroy:void 0},x2.bind(null,y,C,g,f),null),yr===null)throw Error(n(349));k||(ki&127)!==0||b2(y,f,g)}return g}function b2(s,f,g){s.flags|=16384,s={getSnapshot:f,value:g},f=Bt.updateQueue,f===null?(f=Uh(),Bt.updateQueue=f,f.stores=[s]):(g=f.stores,g===null?f.stores=[s]:g.push(s))}function x2(s,f,g,y){f.value=g,f.getSnapshot=y,E2(f)&&S2(s)}function w2(s,f,g){return g(function(){E2(f)&&S2(s)})}function E2(s){var f=s.getSnapshot;s=s.value;try{var g=f();return!fa(s,g)}catch{return!0}}function S2(s){var f=xs(s,2);f!==null&&ea(f,s,2)}function Sm(s){var f=zn();if(typeof s=="function"){var g=s;if(s=g(),_s){Te(!0);try{g()}finally{Te(!1)}}}return f.memoizedState=f.baseState=s,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:s},f}function T2(s,f,g,y){return s.baseState=g,wm(s,dr,typeof y=="function"?y:Ni)}function F5(s,f,g,y,C){if(Yh(s))throw Error(n(485));if(s=f.action,s!==null){var k={payload:C,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){k.listeners.push($)}};q.T!==null?g(!0):k.isTransition=!1,y(k),g=f.pending,g===null?(k.next=f.pending=k,A2(f,k)):(k.next=g.next,f.pending=g.next=k)}}function A2(s,f){var g=f.action,y=f.payload,C=s.state;if(f.isTransition){var k=q.T,$={};q.T=$;try{var ne=g(C,y),me=q.S;me!==null&&me($,ne),C2(s,f,ne)}catch(ke){Tm(s,f,ke)}finally{k!==null&&$.types!==null&&(k.types=$.types),q.T=k}}else try{k=g(C,y),C2(s,f,k)}catch(ke){Tm(s,f,ke)}}function C2(s,f,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(y){M2(s,f,y)},function(y){return Tm(s,f,y)}):M2(s,f,g)}function M2(s,f,g){f.status="fulfilled",f.value=g,O2(f),s.state=g,f=s.pending,f!==null&&(g=f.next,g===f?s.pending=null:(g=g.next,f.next=g,A2(s,g)))}function Tm(s,f,g){var y=s.pending;if(s.pending=null,y!==null){y=y.next;do f.status="rejected",f.reason=g,O2(f),f=f.next;while(f!==y)}s.action=null}function O2(s){s=s.listeners;for(var f=0;f<s.length;f++)(0,s[f])()}function _2(s,f){return f}function D2(s,f){if(Ht){var g=yr.formState;if(g!==null){e:{var y=Bt;if(Ht){if(Tr){t:{for(var C=Tr,k=ka;C.nodeType!==8;){if(!k){C=null;break t}if(C=Pa(C.nextSibling),C===null){C=null;break t}}k=C.data,C=k==="F!"||k==="F"?C:null}if(C){Tr=Pa(C.nextSibling),y=C.data==="F!";break e}}wo(y)}y=!1}y&&(f=g[0])}}return g=zn(),g.memoizedState=g.baseState=f,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_2,lastRenderedState:f},g.queue=y,g=K2.bind(null,Bt,y),y.dispatch=g,y=Sm(!1),k=Dm.bind(null,Bt,!1,y.queue),y=zn(),C={state:f,dispatch:null,action:s,pending:null},y.queue=C,g=F5.bind(null,Bt,C,k,g),C.dispatch=g,y.memoizedState=s,[f,g,!1]}function k2(s){var f=Gr();return N2(f,dr,s)}function N2(s,f,g){if(f=wm(s,f,_2)[0],s=qh(Ni)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var y=pc(f)}catch($){throw $===Pl?Ph:$}else y=f;f=Gr();var C=f.queue,k=C.dispatch;return g!==f.memoizedState&&(Bt.flags|=2048,Il(9,{destroy:void 0},U5.bind(null,C,g),null)),[y,k,s]}function U5(s,f){s.action=f}function P2(s){var f=Gr(),g=dr;if(g!==null)return N2(f,g,s);Gr(),f=f.memoizedState,g=Gr();var y=g.queue.dispatch;return g.memoizedState=s,[f,y,!1]}function Il(s,f,g,y){return s={tag:s,create:g,deps:y,inst:f,next:null},f=Bt.updateQueue,f===null&&(f=Uh(),Bt.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=s.next=s:(y=g.next,g.next=s,s.next=y,f.lastEffect=s),s}function R2(){return Gr().memoizedState}function Vh(s,f,g,y){var C=zn();Bt.flags|=s,C.memoizedState=Il(1|f,{destroy:void 0},g,y===void 0?null:y)}function $h(s,f,g,y){var C=Gr();y=y===void 0?null:y;var k=C.memoizedState.inst;dr!==null&&y!==null&&gm(y,dr.memoizedState.deps)?C.memoizedState=Il(f,k,g,y):(Bt.flags|=s,C.memoizedState=Il(1|f,k,g,y))}function L2(s,f){Vh(8390656,8,s,f)}function Am(s,f){$h(2048,8,s,f)}function G5(s){Bt.flags|=4;var f=Bt.updateQueue;if(f===null)f=Uh(),Bt.updateQueue=f,f.events=[s];else{var g=f.events;g===null?f.events=[s]:g.push(s)}}function j2(s){var f=Gr().memoizedState;return G5({ref:f,nextImpl:s}),function(){if((ir&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}function B2(s,f){return $h(4,2,s,f)}function I2(s,f){return $h(4,4,s,f)}function z2(s,f){if(typeof f=="function"){s=s();var g=f(s);return function(){typeof g=="function"?g():f(null)}}if(f!=null)return s=s(),f.current=s,function(){f.current=null}}function F2(s,f,g){g=g!=null?g.concat([s]):null,$h(4,4,z2.bind(null,f,s),g)}function Cm(){}function U2(s,f){var g=Gr();f=f===void 0?null:f;var y=g.memoizedState;return f!==null&&gm(f,y[1])?y[0]:(g.memoizedState=[s,f],s)}function G2(s,f){var g=Gr();f=f===void 0?null:f;var y=g.memoizedState;if(f!==null&&gm(f,y[1]))return y[0];if(y=s(),_s){Te(!0);try{s()}finally{Te(!1)}}return g.memoizedState=[y,f],y}function Mm(s,f,g){return g===void 0||(ki&1073741824)!==0&&(Vt&261930)===0?s.memoizedState=f:(s.memoizedState=g,s=qT(),Bt.lanes|=s,Do|=s,g)}function q2(s,f,g,y){return fa(g,f)?g:Ll.current!==null?(s=Mm(s,g,y),fa(s,f)||(Hr=!0),s):(ki&42)===0||(ki&1073741824)!==0&&(Vt&261930)===0?(Hr=!0,s.memoizedState=g):(s=qT(),Bt.lanes|=s,Do|=s,f)}function V2(s,f,g,y,C){var k=V.p;V.p=k!==0&&8>k?k:8;var $=q.T,ne={};q.T=ne,Dm(s,!1,f,g);try{var me=C(),ke=q.S;if(ke!==null&&ke(ne,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var Ve=B5(me,y);mc(s,f,Ve,ma(s))}else mc(s,f,y,ma(s))}catch(He){mc(s,f,{then:function(){},status:"rejected",reason:He},ma())}finally{V.p=k,$!==null&&ne.types!==null&&($.types=ne.types),q.T=$}}function q5(){}function Om(s,f,g,y){if(s.tag!==5)throw Error(n(476));var C=$2(s).queue;V2(s,C,f,W,g===null?q5:function(){return Y2(s),g(y)})}function $2(s){var f=s.memoizedState;if(f!==null)return f;f={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:W},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:g},next:null},s.memoizedState=f,s=s.alternate,s!==null&&(s.memoizedState=f),f}function Y2(s){var f=$2(s);f.next===null&&(f=s.alternate.memoizedState),mc(s,f.next.queue,{},ma())}function _m(){return xn(Rc)}function H2(){return Gr().memoizedState}function X2(){return Gr().memoizedState}function V5(s){for(var f=s.return;f!==null;){switch(f.tag){case 24:case 3:var g=ma();s=To(g);var y=Ao(f,s,g);y!==null&&(ea(y,f,g),hc(y,f,g)),f={cache:am()},s.payload=f;return}f=f.return}}function $5(s,f,g){var y=ma();g={lane:y,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Yh(s)?W2(f,g):(g=Hp(s,f,g,y),g!==null&&(ea(g,s,y),Z2(g,f,y)))}function K2(s,f,g){var y=ma();mc(s,f,g,y)}function mc(s,f,g,y){var C={lane:y,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(Yh(s))W2(f,C);else{var k=s.alternate;if(s.lanes===0&&(k===null||k.lanes===0)&&(k=f.lastRenderedReducer,k!==null))try{var $=f.lastRenderedState,ne=k($,g);if(C.hasEagerState=!0,C.eagerState=ne,fa(ne,$))return Ch(s,f,C,0),yr===null&&Ah(),!1}catch{}finally{}if(g=Hp(s,f,C,y),g!==null)return ea(g,s,y),Z2(g,f,y),!0}return!1}function Dm(s,f,g,y){if(y={lane:2,revertLane:ly(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},Yh(s)){if(f)throw Error(n(479))}else f=Hp(s,g,y,2),f!==null&&ea(f,s,2)}function Yh(s){var f=s.alternate;return s===Bt||f!==null&&f===Bt}function W2(s,f){jl=zh=!0;var g=s.pending;g===null?f.next=f:(f.next=g.next,g.next=f),s.pending=f}function Z2(s,f,g){if((g&4194048)!==0){var y=f.lanes;y&=s.pendingLanes,g|=y,f.lanes=g,z(s,g)}}var yc={readContext:xn,use:Gh,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useLayoutEffect:Br,useInsertionEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useSyncExternalStore:Br,useId:Br,useHostTransitionStatus:Br,useFormState:Br,useActionState:Br,useOptimistic:Br,useMemoCache:Br,useCacheRefresh:Br};yc.useEffectEvent=Br;var Q2={readContext:xn,use:Gh,useCallback:function(s,f){return zn().memoizedState=[s,f===void 0?null:f],s},useContext:xn,useEffect:L2,useImperativeHandle:function(s,f,g){g=g!=null?g.concat([s]):null,Vh(4194308,4,z2.bind(null,f,s),g)},useLayoutEffect:function(s,f){return Vh(4194308,4,s,f)},useInsertionEffect:function(s,f){Vh(4,2,s,f)},useMemo:function(s,f){var g=zn();f=f===void 0?null:f;var y=s();if(_s){Te(!0);try{s()}finally{Te(!1)}}return g.memoizedState=[y,f],y},useReducer:function(s,f,g){var y=zn();if(g!==void 0){var C=g(f);if(_s){Te(!0);try{g(f)}finally{Te(!1)}}}else C=f;return y.memoizedState=y.baseState=C,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:C},y.queue=s,s=s.dispatch=$5.bind(null,Bt,s),[y.memoizedState,s]},useRef:function(s){var f=zn();return s={current:s},f.memoizedState=s},useState:function(s){s=Sm(s);var f=s.queue,g=K2.bind(null,Bt,f);return f.dispatch=g,[s.memoizedState,g]},useDebugValue:Cm,useDeferredValue:function(s,f){var g=zn();return Mm(g,s,f)},useTransition:function(){var s=Sm(!1);return s=V2.bind(null,Bt,s.queue,!0,!1),zn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,f,g){var y=Bt,C=zn();if(Ht){if(g===void 0)throw Error(n(407));g=g()}else{if(g=f(),yr===null)throw Error(n(349));(Vt&127)!==0||b2(y,f,g)}C.memoizedState=g;var k={value:g,getSnapshot:f};return C.queue=k,L2(w2.bind(null,y,k,s),[s]),y.flags|=2048,Il(9,{destroy:void 0},x2.bind(null,y,k,g,f),null),g},useId:function(){var s=zn(),f=yr.identifierPrefix;if(Ht){var g=ci,y=ui;g=(y&~(1<<32-Me(y)-1)).toString(32)+g,f="_"+f+"R_"+g,g=Fh++,0<g&&(f+="H"+g.toString(32)),f+="_"}else g=I5++,f="_"+f+"r_"+g.toString(32)+"_";return s.memoizedState=f},useHostTransitionStatus:_m,useFormState:D2,useActionState:D2,useOptimistic:function(s){var f=zn();f.memoizedState=f.baseState=s;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=Dm.bind(null,Bt,!0,g),g.dispatch=f,[s,f]},useMemoCache:xm,useCacheRefresh:function(){return zn().memoizedState=V5.bind(null,Bt)},useEffectEvent:function(s){var f=zn(),g={impl:s};return f.memoizedState=g,function(){if((ir&2)!==0)throw Error(n(440));return g.impl.apply(void 0,arguments)}}},km={readContext:xn,use:Gh,useCallback:U2,useContext:xn,useEffect:Am,useImperativeHandle:F2,useInsertionEffect:B2,useLayoutEffect:I2,useMemo:G2,useReducer:qh,useRef:R2,useState:function(){return qh(Ni)},useDebugValue:Cm,useDeferredValue:function(s,f){var g=Gr();return q2(g,dr.memoizedState,s,f)},useTransition:function(){var s=qh(Ni)[0],f=Gr().memoizedState;return[typeof s=="boolean"?s:pc(s),f]},useSyncExternalStore:y2,useId:H2,useHostTransitionStatus:_m,useFormState:k2,useActionState:k2,useOptimistic:function(s,f){var g=Gr();return T2(g,dr,s,f)},useMemoCache:xm,useCacheRefresh:X2};km.useEffectEvent=j2;var J2={readContext:xn,use:Gh,useCallback:U2,useContext:xn,useEffect:Am,useImperativeHandle:F2,useInsertionEffect:B2,useLayoutEffect:I2,useMemo:G2,useReducer:Em,useRef:R2,useState:function(){return Em(Ni)},useDebugValue:Cm,useDeferredValue:function(s,f){var g=Gr();return dr===null?Mm(g,s,f):q2(g,dr.memoizedState,s,f)},useTransition:function(){var s=Em(Ni)[0],f=Gr().memoizedState;return[typeof s=="boolean"?s:pc(s),f]},useSyncExternalStore:y2,useId:H2,useHostTransitionStatus:_m,useFormState:P2,useActionState:P2,useOptimistic:function(s,f){var g=Gr();return dr!==null?T2(g,dr,s,f):(g.baseState=s,[s,g.queue.dispatch])},useMemoCache:xm,useCacheRefresh:X2};J2.useEffectEvent=j2;function Nm(s,f,g,y){f=s.memoizedState,g=g(y,f),g=g==null?f:d({},f,g),s.memoizedState=g,s.lanes===0&&(s.updateQueue.baseState=g)}var Pm={enqueueSetState:function(s,f,g){s=s._reactInternals;var y=ma(),C=To(y);C.payload=f,g!=null&&(C.callback=g),f=Ao(s,C,y),f!==null&&(ea(f,s,y),hc(f,s,y))},enqueueReplaceState:function(s,f,g){s=s._reactInternals;var y=ma(),C=To(y);C.tag=1,C.payload=f,g!=null&&(C.callback=g),f=Ao(s,C,y),f!==null&&(ea(f,s,y),hc(f,s,y))},enqueueForceUpdate:function(s,f){s=s._reactInternals;var g=ma(),y=To(g);y.tag=2,f!=null&&(y.callback=f),f=Ao(s,y,g),f!==null&&(ea(f,s,g),hc(f,s,g))}};function eT(s,f,g,y,C,k,$){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(y,k,$):f.prototype&&f.prototype.isPureReactComponent?!ac(g,y)||!ac(C,k):!0}function tT(s,f,g,y){s=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,y),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,y),f.state!==s&&Pm.enqueueReplaceState(f,f.state,null)}function Ds(s,f){var g=f;if("ref"in f){g={};for(var y in f)y!=="ref"&&(g[y]=f[y])}if(s=s.defaultProps){g===f&&(g=d({},g));for(var C in s)g[C]===void 0&&(g[C]=s[C])}return g}function rT(s){Th(s)}function nT(s){console.error(s)}function aT(s){Th(s)}function Hh(s,f){try{var g=s.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(y){setTimeout(function(){throw y})}}function iT(s,f,g){try{var y=s.onCaughtError;y(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function Rm(s,f,g){return g=To(g),g.tag=3,g.payload={element:null},g.callback=function(){Hh(s,f)},g}function oT(s){return s=To(s),s.tag=3,s}function sT(s,f,g,y){var C=g.type.getDerivedStateFromError;if(typeof C=="function"){var k=y.value;s.payload=function(){return C(k)},s.callback=function(){iT(f,g,y)}}var $=g.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(s.callback=function(){iT(f,g,y),typeof C!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var ne=y.stack;this.componentDidCatch(y.value,{componentStack:ne!==null?ne:""})})}function Y5(s,f,g,y,C){if(g.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(f=g.alternate,f!==null&&Dl(f,g,C,!0),g=da.current,g!==null){switch(g.tag){case 31:case 13:return Na===null?id():g.alternate===null&&Ir===0&&(Ir=3),g.flags&=-257,g.flags|=65536,g.lanes=C,y===Rh?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([y]):f.add(y),iy(s,y,C)),!1;case 22:return g.flags|=65536,y===Rh?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([y])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([y]):g.add(y)),iy(s,y,C)),!1}throw Error(n(435,g.tag))}return iy(s,y,C),id(),!1}if(Ht)return f=da.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=C,y!==Jp&&(s=Error(n(422),{cause:y}),sc(Oa(s,g)))):(y!==Jp&&(f=Error(n(423),{cause:y}),sc(Oa(f,g))),s=s.current.alternate,s.flags|=65536,C&=-C,s.lanes|=C,y=Oa(y,g),C=Rm(s.stateNode,y,C),cm(s,C),Ir!==4&&(Ir=2)),!1;var k=Error(n(520),{cause:y});if(k=Oa(k,g),Cc===null?Cc=[k]:Cc.push(k),Ir!==4&&(Ir=2),f===null)return!0;y=Oa(y,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,s=C&-C,g.lanes|=s,s=Rm(g.stateNode,y,s),cm(g,s),!1;case 1:if(f=g.type,k=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(ko===null||!ko.has(k))))return g.flags|=65536,C&=-C,g.lanes|=C,C=oT(C),sT(C,s,g,y),cm(g,C),!1}g=g.return}while(g!==null);return!1}var Lm=Error(n(461)),Hr=!1;function wn(s,f,g,y){f.child=s===null?f2(f,null,g,y):Os(f,s.child,g,y)}function lT(s,f,g,y,C){g=g.render;var k=f.ref;if("ref"in y){var $={};for(var ne in y)ne!=="ref"&&($[ne]=y[ne])}else $=y;return Ts(f),y=pm(s,f,g,$,k,C),ne=mm(),s!==null&&!Hr?(ym(s,f,C),Pi(s,f,C)):(Ht&&ne&&Zp(f),f.flags|=1,wn(s,f,y,C),f.child)}function uT(s,f,g,y,C){if(s===null){var k=g.type;return typeof k=="function"&&!Xp(k)&&k.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=k,cT(s,f,k,y,C)):(s=Oh(g.type,null,y,f,f.mode,C),s.ref=f.ref,s.return=f,f.child=s)}if(k=s.child,!qm(s,C)){var $=k.memoizedProps;if(g=g.compare,g=g!==null?g:ac,g($,y)&&s.ref===f.ref)return Pi(s,f,C)}return f.flags|=1,s=Mi(k,y),s.ref=f.ref,s.return=f,f.child=s}function cT(s,f,g,y,C){if(s!==null){var k=s.memoizedProps;if(ac(k,y)&&s.ref===f.ref)if(Hr=!1,f.pendingProps=y=k,qm(s,C))(s.flags&131072)!==0&&(Hr=!0);else return f.lanes=s.lanes,Pi(s,f,C)}return jm(s,f,g,y,C)}function fT(s,f,g,y){var C=y.children,k=s!==null?s.memoizedState:null;if(s===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((f.flags&128)!==0){if(k=k!==null?k.baseLanes|g:g,s!==null){for(y=f.child=s.child,C=0;y!==null;)C=C|y.lanes|y.childLanes,y=y.sibling;y=C&~k}else y=0,f.child=null;return hT(s,f,k,g,y)}if((g&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},s!==null&&Nh(f,k!==null?k.cachePool:null),k!==null?v2(f,k):hm(),g2(f);else return y=f.lanes=536870912,hT(s,f,k!==null?k.baseLanes|g:g,g,y)}else k!==null?(Nh(f,k.cachePool),v2(f,k),Mo(),f.memoizedState=null):(s!==null&&Nh(f,null),hm(),Mo());return wn(s,f,C,g),f.child}function bc(s,f){return s!==null&&s.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function hT(s,f,g,y,C){var k=om();return k=k===null?null:{parent:$r._currentValue,pool:k},f.memoizedState={baseLanes:g,cachePool:k},s!==null&&Nh(f,null),hm(),g2(f),s!==null&&Dl(s,f,y,!0),f.childLanes=C,null}function Xh(s,f){return f=Wh({mode:f.mode,children:f.children},s.mode),f.ref=s.ref,s.child=f,f.return=s,f}function dT(s,f,g){return Os(f,s.child,null,g),s=Xh(f,f.pendingProps),s.flags|=2,va(f),f.memoizedState=null,s}function H5(s,f,g){var y=f.pendingProps,C=(f.flags&128)!==0;if(f.flags&=-129,s===null){if(Ht){if(y.mode==="hidden")return s=Xh(f,y),f.lanes=536870912,bc(null,s);if(vm(f),(s=Tr)?(s=AA(s,ka),s=s!==null&&s.data==="&"?s:null,s!==null&&(f.memoizedState={dehydrated:s,treeContext:bo!==null?{id:ui,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},g=WS(s),g.return=f,f.child=g,bn=f,Tr=null)):s=null,s===null)throw wo(f);return f.lanes=536870912,null}return Xh(f,y)}var k=s.memoizedState;if(k!==null){var $=k.dehydrated;if(vm(f),C)if(f.flags&256)f.flags&=-257,f=dT(s,f,g);else if(f.memoizedState!==null)f.child=s.child,f.flags|=128,f=null;else throw Error(n(558));else if(Hr||Dl(s,f,g,!1),C=(g&s.childLanes)!==0,Hr||C){if(y=yr,y!==null&&($=ee(y,g),$!==0&&$!==k.retryLane))throw k.retryLane=$,xs(s,$),ea(y,s,$),Lm;id(),f=dT(s,f,g)}else s=k.treeContext,Tr=Pa($.nextSibling),bn=f,Ht=!0,xo=null,ka=!1,s!==null&&JS(f,s),f=Xh(f,y),f.flags|=4096;return f}return s=Mi(s.child,{mode:y.mode,children:y.children}),s.ref=f.ref,f.child=s,s.return=f,s}function Kh(s,f){var g=f.ref;if(g===null)s!==null&&s.ref!==null&&(f.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(n(284));(s===null||s.ref!==g)&&(f.flags|=4194816)}}function jm(s,f,g,y,C){return Ts(f),g=pm(s,f,g,y,void 0,C),y=mm(),s!==null&&!Hr?(ym(s,f,C),Pi(s,f,C)):(Ht&&y&&Zp(f),f.flags|=1,wn(s,f,g,C),f.child)}function vT(s,f,g,y,C,k){return Ts(f),f.updateQueue=null,g=m2(f,y,g,C),p2(s),y=mm(),s!==null&&!Hr?(ym(s,f,k),Pi(s,f,k)):(Ht&&y&&Zp(f),f.flags|=1,wn(s,f,g,k),f.child)}function gT(s,f,g,y,C){if(Ts(f),f.stateNode===null){var k=Cl,$=g.contextType;typeof $=="object"&&$!==null&&(k=xn($)),k=new g(y,k),f.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=Pm,f.stateNode=k,k._reactInternals=f,k=f.stateNode,k.props=y,k.state=f.memoizedState,k.refs={},lm(f),$=g.contextType,k.context=typeof $=="object"&&$!==null?xn($):Cl,k.state=f.memoizedState,$=g.getDerivedStateFromProps,typeof $=="function"&&(Nm(f,g,$,y),k.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||($=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),$!==k.state&&Pm.enqueueReplaceState(k,k.state,null),vc(f,y,k,C),dc(),k.state=f.memoizedState),typeof k.componentDidMount=="function"&&(f.flags|=4194308),y=!0}else if(s===null){k=f.stateNode;var ne=f.memoizedProps,me=Ds(g,ne);k.props=me;var ke=k.context,Ve=g.contextType;$=Cl,typeof Ve=="object"&&Ve!==null&&($=xn(Ve));var He=g.getDerivedStateFromProps;Ve=typeof He=="function"||typeof k.getSnapshotBeforeUpdate=="function",ne=f.pendingProps!==ne,Ve||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(ne||ke!==$)&&tT(f,k,y,$),So=!1;var Re=f.memoizedState;k.state=Re,vc(f,y,k,C),dc(),ke=f.memoizedState,ne||Re!==ke||So?(typeof He=="function"&&(Nm(f,g,He,y),ke=f.memoizedState),(me=So||eT(f,g,me,y,Re,ke,$))?(Ve||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(f.flags|=4194308)):(typeof k.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=y,f.memoizedState=ke),k.props=y,k.state=ke,k.context=$,y=me):(typeof k.componentDidMount=="function"&&(f.flags|=4194308),y=!1)}else{k=f.stateNode,um(s,f),$=f.memoizedProps,Ve=Ds(g,$),k.props=Ve,He=f.pendingProps,Re=k.context,ke=g.contextType,me=Cl,typeof ke=="object"&&ke!==null&&(me=xn(ke)),ne=g.getDerivedStateFromProps,(ke=typeof ne=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||($!==He||Re!==me)&&tT(f,k,y,me),So=!1,Re=f.memoizedState,k.state=Re,vc(f,y,k,C),dc();var Be=f.memoizedState;$!==He||Re!==Be||So||s!==null&&s.dependencies!==null&&Dh(s.dependencies)?(typeof ne=="function"&&(Nm(f,g,ne,y),Be=f.memoizedState),(Ve=So||eT(f,g,Ve,y,Re,Be,me)||s!==null&&s.dependencies!==null&&Dh(s.dependencies))?(ke||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(y,Be,me),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(y,Be,me)),typeof k.componentDidUpdate=="function"&&(f.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof k.componentDidUpdate!="function"||$===s.memoizedProps&&Re===s.memoizedState||(f.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&Re===s.memoizedState||(f.flags|=1024),f.memoizedProps=y,f.memoizedState=Be),k.props=y,k.state=Be,k.context=me,y=Ve):(typeof k.componentDidUpdate!="function"||$===s.memoizedProps&&Re===s.memoizedState||(f.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&Re===s.memoizedState||(f.flags|=1024),y=!1)}return k=y,Kh(s,f),y=(f.flags&128)!==0,k||y?(k=f.stateNode,g=y&&typeof g.getDerivedStateFromError!="function"?null:k.render(),f.flags|=1,s!==null&&y?(f.child=Os(f,s.child,null,C),f.child=Os(f,null,g,C)):wn(s,f,g,C),f.memoizedState=k.state,s=f.child):s=Pi(s,f,C),s}function pT(s,f,g,y){return Es(),f.flags|=256,wn(s,f,g,y),f.child}var Bm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Im(s){return{baseLanes:s,cachePool:i2()}}function zm(s,f,g){return s=s!==null?s.childLanes&~g:0,f&&(s|=pa),s}function mT(s,f,g){var y=f.pendingProps,C=!1,k=(f.flags&128)!==0,$;if(($=k)||($=s!==null&&s.memoizedState===null?!1:(Ur.current&2)!==0),$&&(C=!0,f.flags&=-129),$=(f.flags&32)!==0,f.flags&=-33,s===null){if(Ht){if(C?Co(f):Mo(),(s=Tr)?(s=AA(s,ka),s=s!==null&&s.data!=="&"?s:null,s!==null&&(f.memoizedState={dehydrated:s,treeContext:bo!==null?{id:ui,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},g=WS(s),g.return=f,f.child=g,bn=f,Tr=null)):s=null,s===null)throw wo(f);return wy(s)?f.lanes=32:f.lanes=536870912,null}var ne=y.children;return y=y.fallback,C?(Mo(),C=f.mode,ne=Wh({mode:"hidden",children:ne},C),y=ws(y,C,g,null),ne.return=f,y.return=f,ne.sibling=y,f.child=ne,y=f.child,y.memoizedState=Im(g),y.childLanes=zm(s,$,g),f.memoizedState=Bm,bc(null,y)):(Co(f),Fm(f,ne))}var me=s.memoizedState;if(me!==null&&(ne=me.dehydrated,ne!==null)){if(k)f.flags&256?(Co(f),f.flags&=-257,f=Um(s,f,g)):f.memoizedState!==null?(Mo(),f.child=s.child,f.flags|=128,f=null):(Mo(),ne=y.fallback,C=f.mode,y=Wh({mode:"visible",children:y.children},C),ne=ws(ne,C,g,null),ne.flags|=2,y.return=f,ne.return=f,y.sibling=ne,f.child=y,Os(f,s.child,null,g),y=f.child,y.memoizedState=Im(g),y.childLanes=zm(s,$,g),f.memoizedState=Bm,f=bc(null,y));else if(Co(f),wy(ne)){if($=ne.nextSibling&&ne.nextSibling.dataset,$)var ke=$.dgst;$=ke,y=Error(n(419)),y.stack="",y.digest=$,sc({value:y,source:null,stack:null}),f=Um(s,f,g)}else if(Hr||Dl(s,f,g,!1),$=(g&s.childLanes)!==0,Hr||$){if($=yr,$!==null&&(y=ee($,g),y!==0&&y!==me.retryLane))throw me.retryLane=y,xs(s,y),ea($,s,y),Lm;xy(ne)||id(),f=Um(s,f,g)}else xy(ne)?(f.flags|=192,f.child=s.child,f=null):(s=me.treeContext,Tr=Pa(ne.nextSibling),bn=f,Ht=!0,xo=null,ka=!1,s!==null&&JS(f,s),f=Fm(f,y.children),f.flags|=4096);return f}return C?(Mo(),ne=y.fallback,C=f.mode,me=s.child,ke=me.sibling,y=Mi(me,{mode:"hidden",children:y.children}),y.subtreeFlags=me.subtreeFlags&65011712,ke!==null?ne=Mi(ke,ne):(ne=ws(ne,C,g,null),ne.flags|=2),ne.return=f,y.return=f,y.sibling=ne,f.child=y,bc(null,y),y=f.child,ne=s.child.memoizedState,ne===null?ne=Im(g):(C=ne.cachePool,C!==null?(me=$r._currentValue,C=C.parent!==me?{parent:me,pool:me}:C):C=i2(),ne={baseLanes:ne.baseLanes|g,cachePool:C}),y.memoizedState=ne,y.childLanes=zm(s,$,g),f.memoizedState=Bm,bc(s.child,y)):(Co(f),g=s.child,s=g.sibling,g=Mi(g,{mode:"visible",children:y.children}),g.return=f,g.sibling=null,s!==null&&($=f.deletions,$===null?(f.deletions=[s],f.flags|=16):$.push(s)),f.child=g,f.memoizedState=null,g)}function Fm(s,f){return f=Wh({mode:"visible",children:f},s.mode),f.return=s,s.child=f}function Wh(s,f){return s=ha(22,s,null,f),s.lanes=0,s}function Um(s,f,g){return Os(f,s.child,null,g),s=Fm(f,f.pendingProps.children),s.flags|=2,f.memoizedState=null,s}function yT(s,f,g){s.lanes|=f;var y=s.alternate;y!==null&&(y.lanes|=f),rm(s.return,f,g)}function Gm(s,f,g,y,C,k){var $=s.memoizedState;$===null?s.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:y,tail:g,tailMode:C,treeForkCount:k}:($.isBackwards=f,$.rendering=null,$.renderingStartTime=0,$.last=y,$.tail=g,$.tailMode=C,$.treeForkCount=k)}function bT(s,f,g){var y=f.pendingProps,C=y.revealOrder,k=y.tail;y=y.children;var $=Ur.current,ne=($&2)!==0;if(ne?($=$&1|2,f.flags|=128):$&=1,fe(Ur,$),wn(s,f,y,g),y=Ht?oc:0,!ne&&s!==null&&(s.flags&128)!==0)e:for(s=f.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&yT(s,g,f);else if(s.tag===19)yT(s,g,f);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===f)break e;for(;s.sibling===null;){if(s.return===null||s.return===f)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(C){case"forwards":for(g=f.child,C=null;g!==null;)s=g.alternate,s!==null&&Ih(s)===null&&(C=g),g=g.sibling;g=C,g===null?(C=f.child,f.child=null):(C=g.sibling,g.sibling=null),Gm(f,!1,C,g,k,y);break;case"backwards":case"unstable_legacy-backwards":for(g=null,C=f.child,f.child=null;C!==null;){if(s=C.alternate,s!==null&&Ih(s)===null){f.child=C;break}s=C.sibling,C.sibling=g,g=C,C=s}Gm(f,!0,g,null,k,y);break;case"together":Gm(f,!1,null,null,void 0,y);break;default:f.memoizedState=null}return f.child}function Pi(s,f,g){if(s!==null&&(f.dependencies=s.dependencies),Do|=f.lanes,(g&f.childLanes)===0)if(s!==null){if(Dl(s,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(s!==null&&f.child!==s.child)throw Error(n(153));if(f.child!==null){for(s=f.child,g=Mi(s,s.pendingProps),f.child=g,g.return=f;s.sibling!==null;)s=s.sibling,g=g.sibling=Mi(s,s.pendingProps),g.return=f;g.sibling=null}return f.child}function qm(s,f){return(s.lanes&f)!==0?!0:(s=s.dependencies,!!(s!==null&&Dh(s)))}function X5(s,f,g){switch(f.tag){case 3:Le(f,f.stateNode.containerInfo),Eo(f,$r,s.memoizedState.cache),Es();break;case 27:case 5:ae(f);break;case 4:Le(f,f.stateNode.containerInfo);break;case 10:Eo(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,vm(f),null;break;case 13:var y=f.memoizedState;if(y!==null)return y.dehydrated!==null?(Co(f),f.flags|=128,null):(g&f.child.childLanes)!==0?mT(s,f,g):(Co(f),s=Pi(s,f,g),s!==null?s.sibling:null);Co(f);break;case 19:var C=(s.flags&128)!==0;if(y=(g&f.childLanes)!==0,y||(Dl(s,f,g,!1),y=(g&f.childLanes)!==0),C){if(y)return bT(s,f,g);f.flags|=128}if(C=f.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),fe(Ur,Ur.current),y)break;return null;case 22:return f.lanes=0,fT(s,f,g,f.pendingProps);case 24:Eo(f,$r,s.memoizedState.cache)}return Pi(s,f,g)}function xT(s,f,g){if(s!==null)if(s.memoizedProps!==f.pendingProps)Hr=!0;else{if(!qm(s,g)&&(f.flags&128)===0)return Hr=!1,X5(s,f,g);Hr=(s.flags&131072)!==0}else Hr=!1,Ht&&(f.flags&1048576)!==0&&QS(f,oc,f.index);switch(f.lanes=0,f.tag){case 16:e:{var y=f.pendingProps;if(s=Cs(f.elementType),f.type=s,typeof s=="function")Xp(s)?(y=Ds(s,y),f.tag=1,f=gT(null,f,s,y,g)):(f.tag=0,f=jm(null,f,s,y,g));else{if(s!=null){var C=s.$$typeof;if(C===D){f.tag=11,f=lT(null,f,s,y,g);break e}else if(C===_){f.tag=14,f=uT(null,f,s,y,g);break e}}throw f=G(s)||s,Error(n(306,f,""))}}return f;case 0:return jm(s,f,f.type,f.pendingProps,g);case 1:return y=f.type,C=Ds(y,f.pendingProps),gT(s,f,y,C,g);case 3:e:{if(Le(f,f.stateNode.containerInfo),s===null)throw Error(n(387));y=f.pendingProps;var k=f.memoizedState;C=k.element,um(s,f),vc(f,y,null,g);var $=f.memoizedState;if(y=$.cache,Eo(f,$r,y),y!==k.cache&&nm(f,[$r],g,!0),dc(),y=$.element,k.isDehydrated)if(k={element:y,isDehydrated:!1,cache:$.cache},f.updateQueue.baseState=k,f.memoizedState=k,f.flags&256){f=pT(s,f,y,g);break e}else if(y!==C){C=Oa(Error(n(424)),f),sc(C),f=pT(s,f,y,g);break e}else{switch(s=f.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Tr=Pa(s.firstChild),bn=f,Ht=!0,xo=null,ka=!0,g=f2(f,null,y,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(Es(),y===C){f=Pi(s,f,g);break e}wn(s,f,y,g)}f=f.child}return f;case 26:return Kh(s,f),s===null?(g=kA(f.type,null,f.pendingProps,null))?f.memoizedState=g:Ht||(g=f.type,s=f.pendingProps,y=hd(be.current).createElement(g),y[Ne]=f,y[We]=s,En(y,g,s),Lt(y),f.stateNode=y):f.memoizedState=kA(f.type,s.memoizedProps,f.pendingProps,s.memoizedState),null;case 27:return ae(f),s===null&&Ht&&(y=f.stateNode=OA(f.type,f.pendingProps,be.current),bn=f,ka=!0,C=Tr,Lo(f.type)?(Ey=C,Tr=Pa(y.firstChild)):Tr=C),wn(s,f,f.pendingProps.children,g),Kh(s,f),s===null&&(f.flags|=4194304),f.child;case 5:return s===null&&Ht&&((C=y=Tr)&&(y=Tz(y,f.type,f.pendingProps,ka),y!==null?(f.stateNode=y,bn=f,Tr=Pa(y.firstChild),ka=!1,C=!0):C=!1),C||wo(f)),ae(f),C=f.type,k=f.pendingProps,$=s!==null?s.memoizedProps:null,y=k.children,my(C,k)?y=null:$!==null&&my(C,$)&&(f.flags|=32),f.memoizedState!==null&&(C=pm(s,f,z5,null,null,g),Rc._currentValue=C),Kh(s,f),wn(s,f,y,g),f.child;case 6:return s===null&&Ht&&((s=g=Tr)&&(g=Az(g,f.pendingProps,ka),g!==null?(f.stateNode=g,bn=f,Tr=null,s=!0):s=!1),s||wo(f)),null;case 13:return mT(s,f,g);case 4:return Le(f,f.stateNode.containerInfo),y=f.pendingProps,s===null?f.child=Os(f,null,y,g):wn(s,f,y,g),f.child;case 11:return lT(s,f,f.type,f.pendingProps,g);case 7:return wn(s,f,f.pendingProps,g),f.child;case 8:return wn(s,f,f.pendingProps.children,g),f.child;case 12:return wn(s,f,f.pendingProps.children,g),f.child;case 10:return y=f.pendingProps,Eo(f,f.type,y.value),wn(s,f,y.children,g),f.child;case 9:return C=f.type._context,y=f.pendingProps.children,Ts(f),C=xn(C),y=y(C),f.flags|=1,wn(s,f,y,g),f.child;case 14:return uT(s,f,f.type,f.pendingProps,g);case 15:return cT(s,f,f.type,f.pendingProps,g);case 19:return bT(s,f,g);case 31:return H5(s,f,g);case 22:return fT(s,f,g,f.pendingProps);case 24:return Ts(f),y=xn($r),s===null?(C=om(),C===null&&(C=yr,k=am(),C.pooledCache=k,k.refCount++,k!==null&&(C.pooledCacheLanes|=g),C=k),f.memoizedState={parent:y,cache:C},lm(f),Eo(f,$r,C)):((s.lanes&g)!==0&&(um(s,f),vc(f,null,null,g),dc()),C=s.memoizedState,k=f.memoizedState,C.parent!==y?(C={parent:y,cache:y},f.memoizedState=C,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=C),Eo(f,$r,y)):(y=k.cache,Eo(f,$r,y),y!==C.cache&&nm(f,[$r],g,!0))),wn(s,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(n(156,f.tag))}function Ri(s){s.flags|=4}function Vm(s,f,g,y,C){if((f=(s.mode&32)!==0)&&(f=!1),f){if(s.flags|=16777216,(C&335544128)===C)if(s.stateNode.complete)s.flags|=8192;else if(HT())s.flags|=8192;else throw Ms=Rh,sm}else s.flags&=-16777217}function wT(s,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!jA(f))if(HT())s.flags|=8192;else throw Ms=Rh,sm}function Zh(s,f){f!==null&&(s.flags|=4),s.flags&16384&&(f=s.tag!==22?H():536870912,s.lanes|=f,Gl|=f)}function xc(s,f){if(!Ht)switch(s.tailMode){case"hidden":f=s.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?s.tail=null:g.sibling=null;break;case"collapsed":g=s.tail;for(var y=null;g!==null;)g.alternate!==null&&(y=g),g=g.sibling;y===null?f||s.tail===null?s.tail=null:s.tail.sibling=null:y.sibling=null}}function Ar(s){var f=s.alternate!==null&&s.alternate.child===s.child,g=0,y=0;if(f)for(var C=s.child;C!==null;)g|=C.lanes|C.childLanes,y|=C.subtreeFlags&65011712,y|=C.flags&65011712,C.return=s,C=C.sibling;else for(C=s.child;C!==null;)g|=C.lanes|C.childLanes,y|=C.subtreeFlags,y|=C.flags,C.return=s,C=C.sibling;return s.subtreeFlags|=y,s.childLanes=g,f}function K5(s,f,g){var y=f.pendingProps;switch(Qp(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(f),null;case 1:return Ar(f),null;case 3:return g=f.stateNode,y=null,s!==null&&(y=s.memoizedState.cache),f.memoizedState.cache!==y&&(f.flags|=2048),Di($r),ce(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(_l(f)?Ri(f):s===null||s.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,em())),Ar(f),null;case 26:var C=f.type,k=f.memoizedState;return s===null?(Ri(f),k!==null?(Ar(f),wT(f,k)):(Ar(f),Vm(f,C,null,y,g))):k?k!==s.memoizedState?(Ri(f),Ar(f),wT(f,k)):(Ar(f),f.flags&=-16777217):(s=s.memoizedProps,s!==y&&Ri(f),Ar(f),Vm(f,C,s,y,g)),null;case 27:if(le(f),g=be.current,C=f.type,s!==null&&f.stateNode!=null)s.memoizedProps!==y&&Ri(f);else{if(!y){if(f.stateNode===null)throw Error(n(166));return Ar(f),null}s=he.current,_l(f)?e2(f):(s=OA(C,y,g),f.stateNode=s,Ri(f))}return Ar(f),null;case 5:if(le(f),C=f.type,s!==null&&f.stateNode!=null)s.memoizedProps!==y&&Ri(f);else{if(!y){if(f.stateNode===null)throw Error(n(166));return Ar(f),null}if(k=he.current,_l(f))e2(f);else{var $=hd(be.current);switch(k){case 1:k=$.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:k=$.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":k=$.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":k=$.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":k=$.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof y.is=="string"?$.createElement("select",{is:y.is}):$.createElement("select"),y.multiple?k.multiple=!0:y.size&&(k.size=y.size);break;default:k=typeof y.is=="string"?$.createElement(C,{is:y.is}):$.createElement(C)}}k[Ne]=f,k[We]=y;e:for($=f.child;$!==null;){if($.tag===5||$.tag===6)k.appendChild($.stateNode);else if($.tag!==4&&$.tag!==27&&$.child!==null){$.child.return=$,$=$.child;continue}if($===f)break e;for(;$.sibling===null;){if($.return===null||$.return===f)break e;$=$.return}$.sibling.return=$.return,$=$.sibling}f.stateNode=k;e:switch(En(k,C,y),C){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&Ri(f)}}return Ar(f),Vm(f,f.type,s===null?null:s.memoizedProps,f.pendingProps,g),null;case 6:if(s&&f.stateNode!=null)s.memoizedProps!==y&&Ri(f);else{if(typeof y!="string"&&f.stateNode===null)throw Error(n(166));if(s=be.current,_l(f)){if(s=f.stateNode,g=f.memoizedProps,y=null,C=bn,C!==null)switch(C.tag){case 27:case 5:y=C.memoizedProps}s[Ne]=f,s=!!(s.nodeValue===g||y!==null&&y.suppressHydrationWarning===!0||mA(s.nodeValue,g)),s||wo(f,!0)}else s=hd(s).createTextNode(y),s[Ne]=f,f.stateNode=s}return Ar(f),null;case 31:if(g=f.memoizedState,s===null||s.memoizedState!==null){if(y=_l(f),g!==null){if(s===null){if(!y)throw Error(n(318));if(s=f.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[Ne]=f}else Es(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Ar(f),s=!1}else g=em(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),s=!0;if(!s)return f.flags&256?(va(f),f):(va(f),null);if((f.flags&128)!==0)throw Error(n(558))}return Ar(f),null;case 13:if(y=f.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(C=_l(f),y!==null&&y.dehydrated!==null){if(s===null){if(!C)throw Error(n(318));if(C=f.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(n(317));C[Ne]=f}else Es(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Ar(f),C=!1}else C=em(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=C),C=!0;if(!C)return f.flags&256?(va(f),f):(va(f),null)}return va(f),(f.flags&128)!==0?(f.lanes=g,f):(g=y!==null,s=s!==null&&s.memoizedState!==null,g&&(y=f.child,C=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(C=y.alternate.memoizedState.cachePool.pool),k=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(k=y.memoizedState.cachePool.pool),k!==C&&(y.flags|=2048)),g!==s&&g&&(f.child.flags|=8192),Zh(f,f.updateQueue),Ar(f),null);case 4:return ce(),s===null&&hy(f.stateNode.containerInfo),Ar(f),null;case 10:return Di(f.type),Ar(f),null;case 19:if(Z(Ur),y=f.memoizedState,y===null)return Ar(f),null;if(C=(f.flags&128)!==0,k=y.rendering,k===null)if(C)xc(y,!1);else{if(Ir!==0||s!==null&&(s.flags&128)!==0)for(s=f.child;s!==null;){if(k=Ih(s),k!==null){for(f.flags|=128,xc(y,!1),s=k.updateQueue,f.updateQueue=s,Zh(f,s),f.subtreeFlags=0,s=g,g=f.child;g!==null;)KS(g,s),g=g.sibling;return fe(Ur,Ur.current&1|2),Ht&&Oi(f,y.treeForkCount),f.child}s=s.sibling}y.tail!==null&&Ye()>rd&&(f.flags|=128,C=!0,xc(y,!1),f.lanes=4194304)}else{if(!C)if(s=Ih(k),s!==null){if(f.flags|=128,C=!0,s=s.updateQueue,f.updateQueue=s,Zh(f,s),xc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!k.alternate&&!Ht)return Ar(f),null}else 2*Ye()-y.renderingStartTime>rd&&g!==536870912&&(f.flags|=128,C=!0,xc(y,!1),f.lanes=4194304);y.isBackwards?(k.sibling=f.child,f.child=k):(s=y.last,s!==null?s.sibling=k:f.child=k,y.last=k)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Ye(),s.sibling=null,g=Ur.current,fe(Ur,C?g&1|2:g&1),Ht&&Oi(f,y.treeForkCount),s):(Ar(f),null);case 22:case 23:return va(f),dm(),y=f.memoizedState!==null,s!==null?s.memoizedState!==null!==y&&(f.flags|=8192):y&&(f.flags|=8192),y?(g&536870912)!==0&&(f.flags&128)===0&&(Ar(f),f.subtreeFlags&6&&(f.flags|=8192)):Ar(f),g=f.updateQueue,g!==null&&Zh(f,g.retryQueue),g=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),y=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==g&&(f.flags|=2048),s!==null&&Z(As),null;case 24:return g=null,s!==null&&(g=s.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),Di($r),Ar(f),null;case 25:return null;case 30:return null}throw Error(n(156,f.tag))}function W5(s,f){switch(Qp(f),f.tag){case 1:return s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 3:return Di($r),ce(),s=f.flags,(s&65536)!==0&&(s&128)===0?(f.flags=s&-65537|128,f):null;case 26:case 27:case 5:return le(f),null;case 31:if(f.memoizedState!==null){if(va(f),f.alternate===null)throw Error(n(340));Es()}return s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 13:if(va(f),s=f.memoizedState,s!==null&&s.dehydrated!==null){if(f.alternate===null)throw Error(n(340));Es()}return s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 19:return Z(Ur),null;case 4:return ce(),null;case 10:return Di(f.type),null;case 22:case 23:return va(f),dm(),s!==null&&Z(As),s=f.flags,s&65536?(f.flags=s&-65537|128,f):null;case 24:return Di($r),null;case 25:return null;default:return null}}function ET(s,f){switch(Qp(f),f.tag){case 3:Di($r),ce();break;case 26:case 27:case 5:le(f);break;case 4:ce();break;case 31:f.memoizedState!==null&&va(f);break;case 13:va(f);break;case 19:Z(Ur);break;case 10:Di(f.type);break;case 22:case 23:va(f),dm(),s!==null&&Z(As);break;case 24:Di($r)}}function wc(s,f){try{var g=f.updateQueue,y=g!==null?g.lastEffect:null;if(y!==null){var C=y.next;g=C;do{if((g.tag&s)===s){y=void 0;var k=g.create,$=g.inst;y=k(),$.destroy=y}g=g.next}while(g!==C)}}catch(ne){cr(f,f.return,ne)}}function Oo(s,f,g){try{var y=f.updateQueue,C=y!==null?y.lastEffect:null;if(C!==null){var k=C.next;y=k;do{if((y.tag&s)===s){var $=y.inst,ne=$.destroy;if(ne!==void 0){$.destroy=void 0,C=f;var me=g,ke=ne;try{ke()}catch(Ve){cr(C,me,Ve)}}}y=y.next}while(y!==k)}}catch(Ve){cr(f,f.return,Ve)}}function ST(s){var f=s.updateQueue;if(f!==null){var g=s.stateNode;try{d2(f,g)}catch(y){cr(s,s.return,y)}}}function TT(s,f,g){g.props=Ds(s.type,s.memoizedProps),g.state=s.memoizedState;try{g.componentWillUnmount()}catch(y){cr(s,f,y)}}function Ec(s,f){try{var g=s.ref;if(g!==null){switch(s.tag){case 26:case 27:case 5:var y=s.stateNode;break;case 30:y=s.stateNode;break;default:y=s.stateNode}typeof g=="function"?s.refCleanup=g(y):g.current=y}}catch(C){cr(s,f,C)}}function fi(s,f){var g=s.ref,y=s.refCleanup;if(g!==null)if(typeof y=="function")try{y()}catch(C){cr(s,f,C)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(C){cr(s,f,C)}else g.current=null}function AT(s){var f=s.type,g=s.memoizedProps,y=s.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":g.autoFocus&&y.focus();break e;case"img":g.src?y.src=g.src:g.srcSet&&(y.srcset=g.srcSet)}}catch(C){cr(s,s.return,C)}}function $m(s,f,g){try{var y=s.stateNode;yz(y,s.type,g,f),y[We]=f}catch(C){cr(s,s.return,C)}}function CT(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Lo(s.type)||s.tag===4}function Ym(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||CT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Lo(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Hm(s,f,g){var y=s.tag;if(y===5||y===6)s=s.stateNode,f?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(s,f):(f=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,f.appendChild(s),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=Ai));else if(y!==4&&(y===27&&Lo(s.type)&&(g=s.stateNode,f=null),s=s.child,s!==null))for(Hm(s,f,g),s=s.sibling;s!==null;)Hm(s,f,g),s=s.sibling}function Qh(s,f,g){var y=s.tag;if(y===5||y===6)s=s.stateNode,f?g.insertBefore(s,f):g.appendChild(s);else if(y!==4&&(y===27&&Lo(s.type)&&(g=s.stateNode),s=s.child,s!==null))for(Qh(s,f,g),s=s.sibling;s!==null;)Qh(s,f,g),s=s.sibling}function MT(s){var f=s.stateNode,g=s.memoizedProps;try{for(var y=s.type,C=f.attributes;C.length;)f.removeAttributeNode(C[0]);En(f,y,g),f[Ne]=s,f[We]=g}catch(k){cr(s,s.return,k)}}var Li=!1,Xr=!1,Xm=!1,OT=typeof WeakSet=="function"?WeakSet:Set,hn=null;function Z5(s,f){if(s=s.containerInfo,gy=bd,s=FS(s),Up(s)){if("selectionStart"in s)var g={start:s.selectionStart,end:s.selectionEnd};else e:{g=(g=s.ownerDocument)&&g.defaultView||window;var y=g.getSelection&&g.getSelection();if(y&&y.rangeCount!==0){g=y.anchorNode;var C=y.anchorOffset,k=y.focusNode;y=y.focusOffset;try{g.nodeType,k.nodeType}catch{g=null;break e}var $=0,ne=-1,me=-1,ke=0,Ve=0,He=s,Re=null;t:for(;;){for(var Be;He!==g||C!==0&&He.nodeType!==3||(ne=$+C),He!==k||y!==0&&He.nodeType!==3||(me=$+y),He.nodeType===3&&($+=He.nodeValue.length),(Be=He.firstChild)!==null;)Re=He,He=Be;for(;;){if(He===s)break t;if(Re===g&&++ke===C&&(ne=$),Re===k&&++Ve===y&&(me=$),(Be=He.nextSibling)!==null)break;He=Re,Re=He.parentNode}He=Be}g=ne===-1||me===-1?null:{start:ne,end:me}}else g=null}g=g||{start:0,end:0}}else g=null;for(py={focusedElem:s,selectionRange:g},bd=!1,hn=f;hn!==null;)if(f=hn,s=f.child,(f.subtreeFlags&1028)!==0&&s!==null)s.return=f,hn=s;else for(;hn!==null;){switch(f=hn,k=f.alternate,s=f.flags,f.tag){case 0:if((s&4)!==0&&(s=f.updateQueue,s=s!==null?s.events:null,s!==null))for(g=0;g<s.length;g++)C=s[g],C.ref.impl=C.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&k!==null){s=void 0,g=f,C=k.memoizedProps,k=k.memoizedState,y=g.stateNode;try{var Tt=Ds(g.type,C);s=y.getSnapshotBeforeUpdate(Tt,k),y.__reactInternalSnapshotBeforeUpdate=s}catch(Pt){cr(g,g.return,Pt)}}break;case 3:if((s&1024)!==0){if(s=f.stateNode.containerInfo,g=s.nodeType,g===9)by(s);else if(g===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":by(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=f.sibling,s!==null){s.return=f.return,hn=s;break}hn=f.return}}function _T(s,f,g){var y=g.flags;switch(g.tag){case 0:case 11:case 15:Bi(s,g),y&4&&wc(5,g);break;case 1:if(Bi(s,g),y&4)if(s=g.stateNode,f===null)try{s.componentDidMount()}catch($){cr(g,g.return,$)}else{var C=Ds(g.type,f.memoizedProps);f=f.memoizedState;try{s.componentDidUpdate(C,f,s.__reactInternalSnapshotBeforeUpdate)}catch($){cr(g,g.return,$)}}y&64&&ST(g),y&512&&Ec(g,g.return);break;case 3:if(Bi(s,g),y&64&&(s=g.updateQueue,s!==null)){if(f=null,g.child!==null)switch(g.child.tag){case 27:case 5:f=g.child.stateNode;break;case 1:f=g.child.stateNode}try{d2(s,f)}catch($){cr(g,g.return,$)}}break;case 27:f===null&&y&4&&MT(g);case 26:case 5:Bi(s,g),f===null&&y&4&&AT(g),y&512&&Ec(g,g.return);break;case 12:Bi(s,g);break;case 31:Bi(s,g),y&4&&NT(s,g);break;case 13:Bi(s,g),y&4&&PT(s,g),y&64&&(s=g.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(g=oz.bind(null,g),Cz(s,g))));break;case 22:if(y=g.memoizedState!==null||Li,!y){f=f!==null&&f.memoizedState!==null||Xr,C=Li;var k=Xr;Li=y,(Xr=f)&&!k?Ii(s,g,(g.subtreeFlags&8772)!==0):Bi(s,g),Li=C,Xr=k}break;case 30:break;default:Bi(s,g)}}function DT(s){var f=s.alternate;f!==null&&(s.alternate=null,DT(f)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(f=s.stateNode,f!==null&&Dt(f)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Dr=null,Wn=!1;function ji(s,f,g){for(g=g.child;g!==null;)kT(s,f,g),g=g.sibling}function kT(s,f,g){if(ye&&typeof ye.onCommitFiberUnmount=="function")try{ye.onCommitFiberUnmount(Q,g)}catch{}switch(g.tag){case 26:Xr||fi(g,f),ji(s,f,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Xr||fi(g,f);var y=Dr,C=Wn;Lo(g.type)&&(Dr=g.stateNode,Wn=!1),ji(s,f,g),kc(g.stateNode),Dr=y,Wn=C;break;case 5:Xr||fi(g,f);case 6:if(y=Dr,C=Wn,Dr=null,ji(s,f,g),Dr=y,Wn=C,Dr!==null)if(Wn)try{(Dr.nodeType===9?Dr.body:Dr.nodeName==="HTML"?Dr.ownerDocument.body:Dr).removeChild(g.stateNode)}catch(k){cr(g,f,k)}else try{Dr.removeChild(g.stateNode)}catch(k){cr(g,f,k)}break;case 18:Dr!==null&&(Wn?(s=Dr,SA(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,g.stateNode),Wl(s)):SA(Dr,g.stateNode));break;case 4:y=Dr,C=Wn,Dr=g.stateNode.containerInfo,Wn=!0,ji(s,f,g),Dr=y,Wn=C;break;case 0:case 11:case 14:case 15:Oo(2,g,f),Xr||Oo(4,g,f),ji(s,f,g);break;case 1:Xr||(fi(g,f),y=g.stateNode,typeof y.componentWillUnmount=="function"&&TT(g,f,y)),ji(s,f,g);break;case 21:ji(s,f,g);break;case 22:Xr=(y=Xr)||g.memoizedState!==null,ji(s,f,g),Xr=y;break;default:ji(s,f,g)}}function NT(s,f){if(f.memoizedState===null&&(s=f.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Wl(s)}catch(g){cr(f,f.return,g)}}}function PT(s,f){if(f.memoizedState===null&&(s=f.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Wl(s)}catch(g){cr(f,f.return,g)}}function Q5(s){switch(s.tag){case 31:case 13:case 19:var f=s.stateNode;return f===null&&(f=s.stateNode=new OT),f;case 22:return s=s.stateNode,f=s._retryCache,f===null&&(f=s._retryCache=new OT),f;default:throw Error(n(435,s.tag))}}function Jh(s,f){var g=Q5(s);f.forEach(function(y){if(!g.has(y)){g.add(y);var C=sz.bind(null,s,y);y.then(C,C)}})}function Zn(s,f){var g=f.deletions;if(g!==null)for(var y=0;y<g.length;y++){var C=g[y],k=s,$=f,ne=$;e:for(;ne!==null;){switch(ne.tag){case 27:if(Lo(ne.type)){Dr=ne.stateNode,Wn=!1;break e}break;case 5:Dr=ne.stateNode,Wn=!1;break e;case 3:case 4:Dr=ne.stateNode.containerInfo,Wn=!0;break e}ne=ne.return}if(Dr===null)throw Error(n(160));kT(k,$,C),Dr=null,Wn=!1,k=C.alternate,k!==null&&(k.return=null),C.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)RT(f,s),f=f.sibling}var Za=null;function RT(s,f){var g=s.alternate,y=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Zn(f,s),Qn(s),y&4&&(Oo(3,s,s.return),wc(3,s),Oo(5,s,s.return));break;case 1:Zn(f,s),Qn(s),y&512&&(Xr||g===null||fi(g,g.return)),y&64&&Li&&(s=s.updateQueue,s!==null&&(y=s.callbacks,y!==null&&(g=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=g===null?y:g.concat(y))));break;case 26:var C=Za;if(Zn(f,s),Qn(s),y&512&&(Xr||g===null||fi(g,g.return)),y&4){var k=g!==null?g.memoizedState:null;if(y=s.memoizedState,g===null)if(y===null)if(s.stateNode===null){e:{y=s.type,g=s.memoizedProps,C=C.ownerDocument||C;t:switch(y){case"title":k=C.getElementsByTagName("title")[0],(!k||k[ut]||k[Ne]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=C.createElement(y),C.head.insertBefore(k,C.querySelector("head > title"))),En(k,y,g),k[Ne]=s,Lt(k),y=k;break e;case"link":var $=RA("link","href",C).get(y+(g.href||""));if($){for(var ne=0;ne<$.length;ne++)if(k=$[ne],k.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&k.getAttribute("rel")===(g.rel==null?null:g.rel)&&k.getAttribute("title")===(g.title==null?null:g.title)&&k.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){$.splice(ne,1);break t}}k=C.createElement(y),En(k,y,g),C.head.appendChild(k);break;case"meta":if($=RA("meta","content",C).get(y+(g.content||""))){for(ne=0;ne<$.length;ne++)if(k=$[ne],k.getAttribute("content")===(g.content==null?null:""+g.content)&&k.getAttribute("name")===(g.name==null?null:g.name)&&k.getAttribute("property")===(g.property==null?null:g.property)&&k.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&k.getAttribute("charset")===(g.charSet==null?null:g.charSet)){$.splice(ne,1);break t}}k=C.createElement(y),En(k,y,g),C.head.appendChild(k);break;default:throw Error(n(468,y))}k[Ne]=s,Lt(k),y=k}s.stateNode=y}else LA(C,s.type,s.stateNode);else s.stateNode=PA(C,y,s.memoizedProps);else k!==y?(k===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):k.count--,y===null?LA(C,s.type,s.stateNode):PA(C,y,s.memoizedProps)):y===null&&s.stateNode!==null&&$m(s,s.memoizedProps,g.memoizedProps)}break;case 27:Zn(f,s),Qn(s),y&512&&(Xr||g===null||fi(g,g.return)),g!==null&&y&4&&$m(s,s.memoizedProps,g.memoizedProps);break;case 5:if(Zn(f,s),Qn(s),y&512&&(Xr||g===null||fi(g,g.return)),s.flags&32){C=s.stateNode;try{mo(C,"")}catch(Tt){cr(s,s.return,Tt)}}y&4&&s.stateNode!=null&&(C=s.memoizedProps,$m(s,C,g!==null?g.memoizedProps:C)),y&1024&&(Xm=!0);break;case 6:if(Zn(f,s),Qn(s),y&4){if(s.stateNode===null)throw Error(n(162));y=s.memoizedProps,g=s.stateNode;try{g.nodeValue=y}catch(Tt){cr(s,s.return,Tt)}}break;case 3:if(gd=null,C=Za,Za=dd(f.containerInfo),Zn(f,s),Za=C,Qn(s),y&4&&g!==null&&g.memoizedState.isDehydrated)try{Wl(f.containerInfo)}catch(Tt){cr(s,s.return,Tt)}Xm&&(Xm=!1,LT(s));break;case 4:y=Za,Za=dd(s.stateNode.containerInfo),Zn(f,s),Qn(s),Za=y;break;case 12:Zn(f,s),Qn(s);break;case 31:Zn(f,s),Qn(s),y&4&&(y=s.updateQueue,y!==null&&(s.updateQueue=null,Jh(s,y)));break;case 13:Zn(f,s),Qn(s),s.child.flags&8192&&s.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(td=Ye()),y&4&&(y=s.updateQueue,y!==null&&(s.updateQueue=null,Jh(s,y)));break;case 22:C=s.memoizedState!==null;var me=g!==null&&g.memoizedState!==null,ke=Li,Ve=Xr;if(Li=ke||C,Xr=Ve||me,Zn(f,s),Xr=Ve,Li=ke,Qn(s),y&8192)e:for(f=s.stateNode,f._visibility=C?f._visibility&-2:f._visibility|1,C&&(g===null||me||Li||Xr||ks(s)),g=null,f=s;;){if(f.tag===5||f.tag===26){if(g===null){me=g=f;try{if(k=me.stateNode,C)$=k.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none";else{ne=me.stateNode;var He=me.memoizedProps.style,Re=He!=null&&He.hasOwnProperty("display")?He.display:null;ne.style.display=Re==null||typeof Re=="boolean"?"":(""+Re).trim()}}catch(Tt){cr(me,me.return,Tt)}}}else if(f.tag===6){if(g===null){me=f;try{me.stateNode.nodeValue=C?"":me.memoizedProps}catch(Tt){cr(me,me.return,Tt)}}}else if(f.tag===18){if(g===null){me=f;try{var Be=me.stateNode;C?TA(Be,!0):TA(me.stateNode,!1)}catch(Tt){cr(me,me.return,Tt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===s)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}y&4&&(y=s.updateQueue,y!==null&&(g=y.retryQueue,g!==null&&(y.retryQueue=null,Jh(s,g))));break;case 19:Zn(f,s),Qn(s),y&4&&(y=s.updateQueue,y!==null&&(s.updateQueue=null,Jh(s,y)));break;case 30:break;case 21:break;default:Zn(f,s),Qn(s)}}function Qn(s){var f=s.flags;if(f&2){try{for(var g,y=s.return;y!==null;){if(CT(y)){g=y;break}y=y.return}if(g==null)throw Error(n(160));switch(g.tag){case 27:var C=g.stateNode,k=Ym(s);Qh(s,k,C);break;case 5:var $=g.stateNode;g.flags&32&&(mo($,""),g.flags&=-33);var ne=Ym(s);Qh(s,ne,$);break;case 3:case 4:var me=g.stateNode.containerInfo,ke=Ym(s);Hm(s,ke,me);break;default:throw Error(n(161))}}catch(Ve){cr(s,s.return,Ve)}s.flags&=-3}f&4096&&(s.flags&=-4097)}function LT(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var f=s;LT(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),s=s.sibling}}function Bi(s,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)_T(s,f.alternate,f),f=f.sibling}function ks(s){for(s=s.child;s!==null;){var f=s;switch(f.tag){case 0:case 11:case 14:case 15:Oo(4,f,f.return),ks(f);break;case 1:fi(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount=="function"&&TT(f,f.return,g),ks(f);break;case 27:kc(f.stateNode);case 26:case 5:fi(f,f.return),ks(f);break;case 22:f.memoizedState===null&&ks(f);break;case 30:ks(f);break;default:ks(f)}s=s.sibling}}function Ii(s,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var y=f.alternate,C=s,k=f,$=k.flags;switch(k.tag){case 0:case 11:case 15:Ii(C,k,g),wc(4,k);break;case 1:if(Ii(C,k,g),y=k,C=y.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(ke){cr(y,y.return,ke)}if(y=k,C=y.updateQueue,C!==null){var ne=y.stateNode;try{var me=C.shared.hiddenCallbacks;if(me!==null)for(C.shared.hiddenCallbacks=null,C=0;C<me.length;C++)h2(me[C],ne)}catch(ke){cr(y,y.return,ke)}}g&&$&64&&ST(k),Ec(k,k.return);break;case 27:MT(k);case 26:case 5:Ii(C,k,g),g&&y===null&&$&4&&AT(k),Ec(k,k.return);break;case 12:Ii(C,k,g);break;case 31:Ii(C,k,g),g&&$&4&&NT(C,k);break;case 13:Ii(C,k,g),g&&$&4&&PT(C,k);break;case 22:k.memoizedState===null&&Ii(C,k,g),Ec(k,k.return);break;case 30:break;default:Ii(C,k,g)}f=f.sibling}}function Km(s,f){var g=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),s=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(s=f.memoizedState.cachePool.pool),s!==g&&(s!=null&&s.refCount++,g!=null&&lc(g))}function Wm(s,f){s=null,f.alternate!==null&&(s=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==s&&(f.refCount++,s!=null&&lc(s))}function Qa(s,f,g,y){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)jT(s,f,g,y),f=f.sibling}function jT(s,f,g,y){var C=f.flags;switch(f.tag){case 0:case 11:case 15:Qa(s,f,g,y),C&2048&&wc(9,f);break;case 1:Qa(s,f,g,y);break;case 3:Qa(s,f,g,y),C&2048&&(s=null,f.alternate!==null&&(s=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==s&&(f.refCount++,s!=null&&lc(s)));break;case 12:if(C&2048){Qa(s,f,g,y),s=f.stateNode;try{var k=f.memoizedProps,$=k.id,ne=k.onPostCommit;typeof ne=="function"&&ne($,f.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(me){cr(f,f.return,me)}}else Qa(s,f,g,y);break;case 31:Qa(s,f,g,y);break;case 13:Qa(s,f,g,y);break;case 23:break;case 22:k=f.stateNode,$=f.alternate,f.memoizedState!==null?k._visibility&2?Qa(s,f,g,y):Sc(s,f):k._visibility&2?Qa(s,f,g,y):(k._visibility|=2,zl(s,f,g,y,(f.subtreeFlags&10256)!==0||!1)),C&2048&&Km($,f);break;case 24:Qa(s,f,g,y),C&2048&&Wm(f.alternate,f);break;default:Qa(s,f,g,y)}}function zl(s,f,g,y,C){for(C=C&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var k=s,$=f,ne=g,me=y,ke=$.flags;switch($.tag){case 0:case 11:case 15:zl(k,$,ne,me,C),wc(8,$);break;case 23:break;case 22:var Ve=$.stateNode;$.memoizedState!==null?Ve._visibility&2?zl(k,$,ne,me,C):Sc(k,$):(Ve._visibility|=2,zl(k,$,ne,me,C)),C&&ke&2048&&Km($.alternate,$);break;case 24:zl(k,$,ne,me,C),C&&ke&2048&&Wm($.alternate,$);break;default:zl(k,$,ne,me,C)}f=f.sibling}}function Sc(s,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=s,y=f,C=y.flags;switch(y.tag){case 22:Sc(g,y),C&2048&&Km(y.alternate,y);break;case 24:Sc(g,y),C&2048&&Wm(y.alternate,y);break;default:Sc(g,y)}f=f.sibling}}var Tc=8192;function Fl(s,f,g){if(s.subtreeFlags&Tc)for(s=s.child;s!==null;)BT(s,f,g),s=s.sibling}function BT(s,f,g){switch(s.tag){case 26:Fl(s,f,g),s.flags&Tc&&s.memoizedState!==null&&Iz(g,Za,s.memoizedState,s.memoizedProps);break;case 5:Fl(s,f,g);break;case 3:case 4:var y=Za;Za=dd(s.stateNode.containerInfo),Fl(s,f,g),Za=y;break;case 22:s.memoizedState===null&&(y=s.alternate,y!==null&&y.memoizedState!==null?(y=Tc,Tc=16777216,Fl(s,f,g),Tc=y):Fl(s,f,g));break;default:Fl(s,f,g)}}function IT(s){var f=s.alternate;if(f!==null&&(s=f.child,s!==null)){f.child=null;do f=s.sibling,s.sibling=null,s=f;while(s!==null)}}function Ac(s){var f=s.deletions;if((s.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var y=f[g];hn=y,FT(y,s)}IT(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)zT(s),s=s.sibling}function zT(s){switch(s.tag){case 0:case 11:case 15:Ac(s),s.flags&2048&&Oo(9,s,s.return);break;case 3:Ac(s);break;case 12:Ac(s);break;case 22:var f=s.stateNode;s.memoizedState!==null&&f._visibility&2&&(s.return===null||s.return.tag!==13)?(f._visibility&=-3,ed(s)):Ac(s);break;default:Ac(s)}}function ed(s){var f=s.deletions;if((s.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var y=f[g];hn=y,FT(y,s)}IT(s)}for(s=s.child;s!==null;){switch(f=s,f.tag){case 0:case 11:case 15:Oo(8,f,f.return),ed(f);break;case 22:g=f.stateNode,g._visibility&2&&(g._visibility&=-3,ed(f));break;default:ed(f)}s=s.sibling}}function FT(s,f){for(;hn!==null;){var g=hn;switch(g.tag){case 0:case 11:case 15:Oo(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var y=g.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:lc(g.memoizedState.cache)}if(y=g.child,y!==null)y.return=g,hn=y;else e:for(g=s;hn!==null;){y=hn;var C=y.sibling,k=y.return;if(DT(y),y===g){hn=null;break e}if(C!==null){C.return=k,hn=C;break e}hn=k}}}var J5={getCacheForType:function(s){var f=xn($r),g=f.data.get(s);return g===void 0&&(g=s(),f.data.set(s,g)),g},cacheSignal:function(){return xn($r).controller.signal}},ez=typeof WeakMap=="function"?WeakMap:Map,ir=0,yr=null,Gt=null,Vt=0,ur=0,ga=null,_o=!1,Ul=!1,Zm=!1,zi=0,Ir=0,Do=0,Ns=0,Qm=0,pa=0,Gl=0,Cc=null,Jn=null,Jm=!1,td=0,UT=0,rd=1/0,nd=null,ko=null,Qr=0,No=null,ql=null,Fi=0,ey=0,ty=null,GT=null,Mc=0,ry=null;function ma(){return(ir&2)!==0&&Vt!==0?Vt&-Vt:q.T!==null?ly():se()}function qT(){if(pa===0)if((Vt&536870912)===0||Ht){var s=rt;rt<<=1,(rt&3932160)===0&&(rt=262144),pa=s}else pa=536870912;return s=da.current,s!==null&&(s.flags|=32),pa}function ea(s,f,g){(s===yr&&(ur===2||ur===9)||s.cancelPendingCommit!==null)&&(Vl(s,0),Po(s,Vt,pa,!1)),A(s,g),((ir&2)===0||s!==yr)&&(s===yr&&((ir&2)===0&&(Ns|=g),Ir===4&&Po(s,Vt,pa,!1)),hi(s))}function VT(s,f,g){if((ir&6)!==0)throw Error(n(327));var y=!g&&(f&127)===0&&(f&s.expiredLanes)===0||Je(s,f),C=y?nz(s,f):ay(s,f,!0),k=y;do{if(C===0){Ul&&!y&&Po(s,f,0,!1);break}else{if(g=s.current.alternate,k&&!tz(g)){C=ay(s,f,!1),k=!1;continue}if(C===2){if(k=f,s.errorRecoveryDisabledLanes&k)var $=0;else $=s.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){f=$;e:{var ne=s;C=Cc;var me=ne.current.memoizedState.isDehydrated;if(me&&(Vl(ne,$).flags|=256),$=ay(ne,$,!1),$!==2){if(Zm&&!me){ne.errorRecoveryDisabledLanes|=k,Ns|=k,C=4;break e}k=Jn,Jn=C,k!==null&&(Jn===null?Jn=k:Jn.push.apply(Jn,k))}C=$}if(k=!1,C!==2)continue}}if(C===1){Vl(s,0),Po(s,f,0,!0);break}e:{switch(y=s,k=C,k){case 0:case 1:throw Error(n(345));case 4:if((f&4194048)!==f)break;case 6:Po(y,f,pa,!_o);break e;case 2:Jn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((f&62914560)===f&&(C=td+300-Ye(),10<C)){if(Po(y,f,pa,!_o),gt(y,0,!0)!==0)break e;Fi=f,y.timeoutHandle=wA($T.bind(null,y,g,Jn,nd,Jm,f,pa,Ns,Gl,_o,k,"Throttled",-0,0),C);break e}$T(y,g,Jn,nd,Jm,f,pa,Ns,Gl,_o,k,null,-0,0)}}break}while(!0);hi(s)}function $T(s,f,g,y,C,k,$,ne,me,ke,Ve,He,Re,Be){if(s.timeoutHandle=-1,He=f.subtreeFlags,He&8192||(He&16785408)===16785408){He={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ai},BT(f,k,He);var Tt=(k&62914560)===k?td-Ye():(k&4194048)===k?UT-Ye():0;if(Tt=zz(He,Tt),Tt!==null){Fi=k,s.cancelPendingCommit=Tt(JT.bind(null,s,f,k,g,y,C,$,ne,me,Ve,He,null,Re,Be)),Po(s,k,$,!ke);return}}JT(s,f,k,g,y,C,$,ne,me)}function tz(s){for(var f=s;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var y=0;y<g.length;y++){var C=g[y],k=C.getSnapshot;C=C.value;try{if(!fa(k(),C))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Po(s,f,g,y){f&=~Qm,f&=~Ns,s.suspendedLanes|=f,s.pingedLanes&=~f,y&&(s.warmLanes|=f),y=s.expirationTimes;for(var C=f;0<C;){var k=31-Me(C),$=1<<k;y[k]=-1,C&=~$}g!==0&&M(s,g,f)}function ad(){return(ir&6)===0?(Oc(0),!1):!0}function ny(){if(Gt!==null){if(ur===0)var s=Gt.return;else s=Gt,_i=Ss=null,bm(s),Rl=null,cc=0,s=Gt;for(;s!==null;)ET(s.alternate,s),s=s.return;Gt=null}}function Vl(s,f){var g=s.timeoutHandle;g!==-1&&(s.timeoutHandle=-1,wz(g)),g=s.cancelPendingCommit,g!==null&&(s.cancelPendingCommit=null,g()),Fi=0,ny(),yr=s,Gt=g=Mi(s.current,null),Vt=f,ur=0,ga=null,_o=!1,Ul=Je(s,f),Zm=!1,Gl=pa=Qm=Ns=Do=Ir=0,Jn=Cc=null,Jm=!1,(f&8)!==0&&(f|=f&32);var y=s.entangledLanes;if(y!==0)for(s=s.entanglements,y&=f;0<y;){var C=31-Me(y),k=1<<C;f|=s[C],y&=~k}return zi=f,Ah(),g}function YT(s,f){Bt=null,q.H=yc,f===Pl||f===Ph?(f=l2(),ur=3):f===sm?(f=l2(),ur=4):ur=f===Lm?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,ga=f,Gt===null&&(Ir=1,Hh(s,Oa(f,s.current)))}function HT(){var s=da.current;return s===null?!0:(Vt&4194048)===Vt?Na===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?s===Na:!1}function XT(){var s=q.H;return q.H=yc,s===null?yc:s}function KT(){var s=q.A;return q.A=J5,s}function id(){Ir=4,_o||(Vt&4194048)!==Vt&&da.current!==null||(Ul=!0),(Do&134217727)===0&&(Ns&134217727)===0||yr===null||Po(yr,Vt,pa,!1)}function ay(s,f,g){var y=ir;ir|=2;var C=XT(),k=KT();(yr!==s||Vt!==f)&&(nd=null,Vl(s,f)),f=!1;var $=Ir;e:do try{if(ur!==0&&Gt!==null){var ne=Gt,me=ga;switch(ur){case 8:ny(),$=6;break e;case 3:case 2:case 9:case 6:da.current===null&&(f=!0);var ke=ur;if(ur=0,ga=null,$l(s,ne,me,ke),g&&Ul){$=0;break e}break;default:ke=ur,ur=0,ga=null,$l(s,ne,me,ke)}}rz(),$=Ir;break}catch(Ve){YT(s,Ve)}while(!0);return f&&s.shellSuspendCounter++,_i=Ss=null,ir=y,q.H=C,q.A=k,Gt===null&&(yr=null,Vt=0,Ah()),$}function rz(){for(;Gt!==null;)WT(Gt)}function nz(s,f){var g=ir;ir|=2;var y=XT(),C=KT();yr!==s||Vt!==f?(nd=null,rd=Ye()+500,Vl(s,f)):Ul=Je(s,f);e:do try{if(ur!==0&&Gt!==null){f=Gt;var k=ga;t:switch(ur){case 1:ur=0,ga=null,$l(s,f,k,1);break;case 2:case 9:if(o2(k)){ur=0,ga=null,ZT(f);break}f=function(){ur!==2&&ur!==9||yr!==s||(ur=7),hi(s)},k.then(f,f);break e;case 3:ur=7;break e;case 4:ur=5;break e;case 7:o2(k)?(ur=0,ga=null,ZT(f)):(ur=0,ga=null,$l(s,f,k,7));break;case 5:var $=null;switch(Gt.tag){case 26:$=Gt.memoizedState;case 5:case 27:var ne=Gt;if($?jA($):ne.stateNode.complete){ur=0,ga=null;var me=ne.sibling;if(me!==null)Gt=me;else{var ke=ne.return;ke!==null?(Gt=ke,od(ke)):Gt=null}break t}}ur=0,ga=null,$l(s,f,k,5);break;case 6:ur=0,ga=null,$l(s,f,k,6);break;case 8:ny(),Ir=6;break e;default:throw Error(n(462))}}az();break}catch(Ve){YT(s,Ve)}while(!0);return _i=Ss=null,q.H=y,q.A=C,ir=g,Gt!==null?0:(yr=null,Vt=0,Ah(),Ir)}function az(){for(;Gt!==null&&!Xe();)WT(Gt)}function WT(s){var f=xT(s.alternate,s,zi);s.memoizedProps=s.pendingProps,f===null?od(s):Gt=f}function ZT(s){var f=s,g=f.alternate;switch(f.tag){case 15:case 0:f=vT(g,f,f.pendingProps,f.type,void 0,Vt);break;case 11:f=vT(g,f,f.pendingProps,f.type.render,f.ref,Vt);break;case 5:bm(f);default:ET(g,f),f=Gt=KS(f,zi),f=xT(g,f,zi)}s.memoizedProps=s.pendingProps,f===null?od(s):Gt=f}function $l(s,f,g,y){_i=Ss=null,bm(f),Rl=null,cc=0;var C=f.return;try{if(Y5(s,C,f,g,Vt)){Ir=1,Hh(s,Oa(g,s.current)),Gt=null;return}}catch(k){if(C!==null)throw Gt=C,k;Ir=1,Hh(s,Oa(g,s.current)),Gt=null;return}f.flags&32768?(Ht||y===1?s=!0:Ul||(Vt&536870912)!==0?s=!1:(_o=s=!0,(y===2||y===9||y===3||y===6)&&(y=da.current,y!==null&&y.tag===13&&(y.flags|=16384))),QT(f,s)):od(f)}function od(s){var f=s;do{if((f.flags&32768)!==0){QT(f,_o);return}s=f.return;var g=K5(f.alternate,f,zi);if(g!==null){Gt=g;return}if(f=f.sibling,f!==null){Gt=f;return}Gt=f=s}while(f!==null);Ir===0&&(Ir=5)}function QT(s,f){do{var g=W5(s.alternate,s);if(g!==null){g.flags&=32767,Gt=g;return}if(g=s.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(s=s.sibling,s!==null)){Gt=s;return}Gt=s=g}while(s!==null);Ir=6,Gt=null}function JT(s,f,g,y,C,k,$,ne,me){s.cancelPendingCommit=null;do sd();while(Qr!==0);if((ir&6)!==0)throw Error(n(327));if(f!==null){if(f===s.current)throw Error(n(177));if(k=f.lanes|f.childLanes,k|=Yp,E(s,g,k,$,ne,me),s===yr&&(Gt=yr=null,Vt=0),ql=f,No=s,Fi=g,ey=k,ty=C,GT=y,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,lz(yt,function(){return aA(),null})):(s.callbackNode=null,s.callbackPriority=0),y=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||y){y=q.T,q.T=null,C=V.p,V.p=2,$=ir,ir|=4;try{Z5(s,f,g)}finally{ir=$,V.p=C,q.T=y}}Qr=1,eA(),tA(),rA()}}function eA(){if(Qr===1){Qr=0;var s=No,f=ql,g=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||g){g=q.T,q.T=null;var y=V.p;V.p=2;var C=ir;ir|=4;try{RT(f,s);var k=py,$=FS(s.containerInfo),ne=k.focusedElem,me=k.selectionRange;if($!==ne&&ne&&ne.ownerDocument&&zS(ne.ownerDocument.documentElement,ne)){if(me!==null&&Up(ne)){var ke=me.start,Ve=me.end;if(Ve===void 0&&(Ve=ke),"selectionStart"in ne)ne.selectionStart=ke,ne.selectionEnd=Math.min(Ve,ne.value.length);else{var He=ne.ownerDocument||document,Re=He&&He.defaultView||window;if(Re.getSelection){var Be=Re.getSelection(),Tt=ne.textContent.length,Pt=Math.min(me.start,Tt),gr=me.end===void 0?Pt:Math.min(me.end,Tt);!Be.extend&&Pt>gr&&($=gr,gr=Pt,Pt=$);var Ce=IS(ne,Pt),xe=IS(ne,gr);if(Ce&&xe&&(Be.rangeCount!==1||Be.anchorNode!==Ce.node||Be.anchorOffset!==Ce.offset||Be.focusNode!==xe.node||Be.focusOffset!==xe.offset)){var De=He.createRange();De.setStart(Ce.node,Ce.offset),Be.removeAllRanges(),Pt>gr?(Be.addRange(De),Be.extend(xe.node,xe.offset)):(De.setEnd(xe.node,xe.offset),Be.addRange(De))}}}}for(He=[],Be=ne;Be=Be.parentNode;)Be.nodeType===1&&He.push({element:Be,left:Be.scrollLeft,top:Be.scrollTop});for(typeof ne.focus=="function"&&ne.focus(),ne=0;ne<He.length;ne++){var $e=He[ne];$e.element.scrollLeft=$e.left,$e.element.scrollTop=$e.top}}bd=!!gy,py=gy=null}finally{ir=C,V.p=y,q.T=g}}s.current=f,Qr=2}}function tA(){if(Qr===2){Qr=0;var s=No,f=ql,g=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||g){g=q.T,q.T=null;var y=V.p;V.p=2;var C=ir;ir|=4;try{_T(s,f.alternate,f)}finally{ir=C,V.p=y,q.T=g}}Qr=3}}function rA(){if(Qr===4||Qr===3){Qr=0,ot();var s=No,f=ql,g=Fi,y=GT;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?Qr=5:(Qr=0,ql=No=null,nA(s,s.pendingLanes));var C=s.pendingLanes;if(C===0&&(ko=null),ue(g),f=f.stateNode,ye&&typeof ye.onCommitFiberRoot=="function")try{ye.onCommitFiberRoot(Q,f,void 0,(f.current.flags&128)===128)}catch{}if(y!==null){f=q.T,C=V.p,V.p=2,q.T=null;try{for(var k=s.onRecoverableError,$=0;$<y.length;$++){var ne=y[$];k(ne.value,{componentStack:ne.stack})}}finally{q.T=f,V.p=C}}(Fi&3)!==0&&sd(),hi(s),C=s.pendingLanes,(g&261930)!==0&&(C&42)!==0?s===ry?Mc++:(Mc=0,ry=s):Mc=0,Oc(0)}}function nA(s,f){(s.pooledCacheLanes&=f)===0&&(f=s.pooledCache,f!=null&&(s.pooledCache=null,lc(f)))}function sd(){return eA(),tA(),rA(),aA()}function aA(){if(Qr!==5)return!1;var s=No,f=ey;ey=0;var g=ue(Fi),y=q.T,C=V.p;try{V.p=32>g?32:g,q.T=null,g=ty,ty=null;var k=No,$=Fi;if(Qr=0,ql=No=null,Fi=0,(ir&6)!==0)throw Error(n(331));var ne=ir;if(ir|=4,zT(k.current),jT(k,k.current,$,g),ir=ne,Oc(0,!1),ye&&typeof ye.onPostCommitFiberRoot=="function")try{ye.onPostCommitFiberRoot(Q,k)}catch{}return!0}finally{V.p=C,q.T=y,nA(s,f)}}function iA(s,f,g){f=Oa(g,f),f=Rm(s.stateNode,f,2),s=Ao(s,f,2),s!==null&&(A(s,2),hi(s))}function cr(s,f,g){if(s.tag===3)iA(s,s,g);else for(;f!==null;){if(f.tag===3){iA(f,s,g);break}else if(f.tag===1){var y=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(ko===null||!ko.has(y))){s=Oa(g,s),g=oT(2),y=Ao(f,g,2),y!==null&&(sT(g,y,f,s),A(y,2),hi(y));break}}f=f.return}}function iy(s,f,g){var y=s.pingCache;if(y===null){y=s.pingCache=new ez;var C=new Set;y.set(f,C)}else C=y.get(f),C===void 0&&(C=new Set,y.set(f,C));C.has(g)||(Zm=!0,C.add(g),s=iz.bind(null,s,f,g),f.then(s,s))}function iz(s,f,g){var y=s.pingCache;y!==null&&y.delete(f),s.pingedLanes|=s.suspendedLanes&g,s.warmLanes&=~g,yr===s&&(Vt&g)===g&&(Ir===4||Ir===3&&(Vt&62914560)===Vt&&300>Ye()-td?(ir&2)===0&&Vl(s,0):Qm|=g,Gl===Vt&&(Gl=0)),hi(s)}function oA(s,f){f===0&&(f=H()),s=xs(s,f),s!==null&&(A(s,f),hi(s))}function oz(s){var f=s.memoizedState,g=0;f!==null&&(g=f.retryLane),oA(s,g)}function sz(s,f){var g=0;switch(s.tag){case 31:case 13:var y=s.stateNode,C=s.memoizedState;C!==null&&(g=C.retryLane);break;case 19:y=s.stateNode;break;case 22:y=s.stateNode._retryCache;break;default:throw Error(n(314))}y!==null&&y.delete(f),oA(s,g)}function lz(s,f){return qe(s,f)}var ld=null,Yl=null,oy=!1,ud=!1,sy=!1,Ro=0;function hi(s){s!==Yl&&s.next===null&&(Yl===null?ld=Yl=s:Yl=Yl.next=s),ud=!0,oy||(oy=!0,cz())}function Oc(s,f){if(!sy&&ud){sy=!0;do for(var g=!1,y=ld;y!==null;){if(s!==0){var C=y.pendingLanes;if(C===0)var k=0;else{var $=y.suspendedLanes,ne=y.pingedLanes;k=(1<<31-Me(42|s)+1)-1,k&=C&~($&~ne),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(g=!0,cA(y,k))}else k=Vt,k=gt(y,y===yr?k:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(k&3)===0||Je(y,k)||(g=!0,cA(y,k));y=y.next}while(g);sy=!1}}function uz(){sA()}function sA(){ud=oy=!1;var s=0;Ro!==0&&xz()&&(s=Ro);for(var f=Ye(),g=null,y=ld;y!==null;){var C=y.next,k=lA(y,f);k===0?(y.next=null,g===null?ld=C:g.next=C,C===null&&(Yl=g)):(g=y,(s!==0||(k&3)!==0)&&(ud=!0)),y=C}Qr!==0&&Qr!==5||Oc(s),Ro!==0&&(Ro=0)}function lA(s,f){for(var g=s.suspendedLanes,y=s.pingedLanes,C=s.expirationTimes,k=s.pendingLanes&-62914561;0<k;){var $=31-Me(k),ne=1<<$,me=C[$];me===-1?((ne&g)===0||(ne&y)!==0)&&(C[$]=xt(ne,f)):me<=f&&(s.expiredLanes|=ne),k&=~ne}if(f=yr,g=Vt,g=gt(s,s===f?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),y=s.callbackNode,g===0||s===f&&(ur===2||ur===9)||s.cancelPendingCommit!==null)return y!==null&&y!==null&&Ke(y),s.callbackNode=null,s.callbackPriority=0;if((g&3)===0||Je(s,g)){if(f=g&-g,f===s.callbackPriority)return f;switch(y!==null&&Ke(y),ue(g)){case 2:case 8:g=dt;break;case 32:g=yt;break;case 268435456:g=mt;break;default:g=yt}return y=uA.bind(null,s),g=qe(g,y),s.callbackPriority=f,s.callbackNode=g,f}return y!==null&&y!==null&&Ke(y),s.callbackPriority=2,s.callbackNode=null,2}function uA(s,f){if(Qr!==0&&Qr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var g=s.callbackNode;if(sd()&&s.callbackNode!==g)return null;var y=Vt;return y=gt(s,s===yr?y:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),y===0?null:(VT(s,y,f),lA(s,Ye()),s.callbackNode!=null&&s.callbackNode===g?uA.bind(null,s):null)}function cA(s,f){if(sd())return null;VT(s,f,!0)}function cz(){Ez(function(){(ir&6)!==0?qe(ht,uz):sA()})}function ly(){if(Ro===0){var s=kl;s===0&&(s=tt,tt<<=1,(tt&261888)===0&&(tt=256)),Ro=s}return Ro}function fA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:mh(""+s)}function hA(s,f){var g=f.ownerDocument.createElement("input");return g.name=f.name,g.value=f.value,s.id&&g.setAttribute("form",s.id),f.parentNode.insertBefore(g,f),s=new FormData(s),g.parentNode.removeChild(g),s}function fz(s,f,g,y,C){if(f==="submit"&&g&&g.stateNode===C){var k=fA((C[We]||null).action),$=y.submitter;$&&(f=(f=$[We]||null)?fA(f.formAction):$.getAttribute("formAction"),f!==null&&(k=f,$=null));var ne=new wh("action","action",null,y,C);s.push({event:ne,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Ro!==0){var me=$?hA(C,$):new FormData(C);Om(g,{pending:!0,data:me,method:C.method,action:k},null,me)}}else typeof k=="function"&&(ne.preventDefault(),me=$?hA(C,$):new FormData(C),Om(g,{pending:!0,data:me,method:C.method,action:k},k,me))},currentTarget:C}]})}}for(var uy=0;uy<$p.length;uy++){var cy=$p[uy],hz=cy.toLowerCase(),dz=cy[0].toUpperCase()+cy.slice(1);Wa(hz,"on"+dz)}Wa(qS,"onAnimationEnd"),Wa(VS,"onAnimationIteration"),Wa($S,"onAnimationStart"),Wa("dblclick","onDoubleClick"),Wa("focusin","onFocus"),Wa("focusout","onBlur"),Wa(_5,"onTransitionRun"),Wa(D5,"onTransitionStart"),Wa(k5,"onTransitionCancel"),Wa(YS,"onTransitionEnd"),et("onMouseEnter",["mouseout","mouseover"]),et("onMouseLeave",["mouseout","mouseover"]),et("onPointerEnter",["pointerout","pointerover"]),et("onPointerLeave",["pointerout","pointerover"]),ft("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ft("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ft("onBeforeInput",["compositionend","keypress","textInput","paste"]),ft("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ft("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ft("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_c));function dA(s,f){f=(f&4)!==0;for(var g=0;g<s.length;g++){var y=s[g],C=y.event;y=y.listeners;e:{var k=void 0;if(f)for(var $=y.length-1;0<=$;$--){var ne=y[$],me=ne.instance,ke=ne.currentTarget;if(ne=ne.listener,me!==k&&C.isPropagationStopped())break e;k=ne,C.currentTarget=ke;try{k(C)}catch(Ve){Th(Ve)}C.currentTarget=null,k=me}else for($=0;$<y.length;$++){if(ne=y[$],me=ne.instance,ke=ne.currentTarget,ne=ne.listener,me!==k&&C.isPropagationStopped())break e;k=ne,C.currentTarget=ke;try{k(C)}catch(Ve){Th(Ve)}C.currentTarget=null,k=me}}}}function qt(s,f){var g=f[Fe];g===void 0&&(g=f[Fe]=new Set);var y=s+"__bubble";g.has(y)||(vA(f,s,2,!1),g.add(y))}function fy(s,f,g){var y=0;f&&(y|=4),vA(g,s,y,f)}var cd="_reactListening"+Math.random().toString(36).slice(2);function hy(s){if(!s[cd]){s[cd]=!0,we.forEach(function(g){g!=="selectionchange"&&(vz.has(g)||fy(g,!1,s),fy(g,!0,s))});var f=s.nodeType===9?s:s.ownerDocument;f===null||f[cd]||(f[cd]=!0,fy("selectionchange",!1,f))}}function vA(s,f,g,y){switch(qA(f)){case 2:var C=Gz;break;case 8:C=qz;break;default:C=My}g=C.bind(null,f,g,s),C=void 0,!Np||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(C=!0),y?C!==void 0?s.addEventListener(f,g,{capture:!0,passive:C}):s.addEventListener(f,g,!0):C!==void 0?s.addEventListener(f,g,{passive:C}):s.addEventListener(f,g,!1)}function dy(s,f,g,y,C){var k=y;if((f&1)===0&&(f&2)===0&&y!==null)e:for(;;){if(y===null)return;var $=y.tag;if($===3||$===4){var ne=y.stateNode.containerInfo;if(ne===C)break;if($===4)for($=y.return;$!==null;){var me=$.tag;if((me===3||me===4)&&$.stateNode.containerInfo===C)return;$=$.return}for(;ne!==null;){if($=kt(ne),$===null)return;if(me=$.tag,me===5||me===6||me===26||me===27){y=k=$;continue e}ne=ne.parentNode}}y=y.return}bS(function(){var ke=k,Ve=Dp(g),He=[];e:{var Re=HS.get(s);if(Re!==void 0){var Be=wh,Tt=s;switch(s){case"keypress":if(bh(g)===0)break e;case"keydown":case"keyup":Be=s5;break;case"focusin":Tt="focus",Be=jp;break;case"focusout":Tt="blur",Be=jp;break;case"beforeblur":case"afterblur":Be=jp;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=ES;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=K3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=c5;break;case qS:case VS:case $S:Be=Q3;break;case YS:Be=h5;break;case"scroll":case"scrollend":Be=H3;break;case"wheel":Be=v5;break;case"copy":case"cut":case"paste":Be=e5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=TS;break;case"toggle":case"beforetoggle":Be=p5}var Pt=(f&4)!==0,gr=!Pt&&(s==="scroll"||s==="scrollend"),Ce=Pt?Re!==null?Re+"Capture":null:Re;Pt=[];for(var xe=ke,De;xe!==null;){var $e=xe;if(De=$e.stateNode,$e=$e.tag,$e!==5&&$e!==26&&$e!==27||De===null||Ce===null||($e=Zu(xe,Ce),$e!=null&&Pt.push(Dc(xe,$e,De))),gr)break;xe=xe.return}0<Pt.length&&(Re=new Be(Re,Tt,null,g,Ve),He.push({event:Re,listeners:Pt}))}}if((f&7)===0){e:{if(Re=s==="mouseover"||s==="pointerover",Be=s==="mouseout"||s==="pointerout",Re&&g!==_p&&(Tt=g.relatedTarget||g.fromElement)&&(kt(Tt)||Tt[_e]))break e;if((Be||Re)&&(Re=Ve.window===Ve?Ve:(Re=Ve.ownerDocument)?Re.defaultView||Re.parentWindow:window,Be?(Tt=g.relatedTarget||g.toElement,Be=ke,Tt=Tt?kt(Tt):null,Tt!==null&&(gr=i(Tt),Pt=Tt.tag,Tt!==gr||Pt!==5&&Pt!==27&&Pt!==6)&&(Tt=null)):(Be=null,Tt=ke),Be!==Tt)){if(Pt=ES,$e="onMouseLeave",Ce="onMouseEnter",xe="mouse",(s==="pointerout"||s==="pointerover")&&(Pt=TS,$e="onPointerLeave",Ce="onPointerEnter",xe="pointer"),gr=Be==null?Re:St(Be),De=Tt==null?Re:St(Tt),Re=new Pt($e,xe+"leave",Be,g,Ve),Re.target=gr,Re.relatedTarget=De,$e=null,kt(Ve)===ke&&(Pt=new Pt(Ce,xe+"enter",Tt,g,Ve),Pt.target=De,Pt.relatedTarget=gr,$e=Pt),gr=$e,Be&&Tt)t:{for(Pt=gz,Ce=Be,xe=Tt,De=0,$e=Ce;$e;$e=Pt($e))De++;$e=0;for(var _t=xe;_t;_t=Pt(_t))$e++;for(;0<De-$e;)Ce=Pt(Ce),De--;for(;0<$e-De;)xe=Pt(xe),$e--;for(;De--;){if(Ce===xe||xe!==null&&Ce===xe.alternate){Pt=Ce;break t}Ce=Pt(Ce),xe=Pt(xe)}Pt=null}else Pt=null;Be!==null&&gA(He,Re,Be,Pt,!1),Tt!==null&&gr!==null&&gA(He,gr,Tt,Pt,!0)}}e:{if(Re=ke?St(ke):window,Be=Re.nodeName&&Re.nodeName.toLowerCase(),Be==="select"||Be==="input"&&Re.type==="file")var Jt=NS;else if(DS(Re))if(PS)Jt=C5;else{Jt=T5;var Ct=S5}else Be=Re.nodeName,!Be||Be.toLowerCase()!=="input"||Re.type!=="checkbox"&&Re.type!=="radio"?ke&&Op(ke.elementType)&&(Jt=NS):Jt=A5;if(Jt&&(Jt=Jt(s,ke))){kS(He,Jt,g,Ve);break e}Ct&&Ct(s,Re,ke),s==="focusout"&&ke&&Re.type==="number"&&ke.memoizedProps.value!=null&&Wu(Re,"number",Re.value)}switch(Ct=ke?St(ke):window,s){case"focusin":(DS(Ct)||Ct.contentEditable==="true")&&(Sl=Ct,Gp=ke,ic=null);break;case"focusout":ic=Gp=Sl=null;break;case"mousedown":qp=!0;break;case"contextmenu":case"mouseup":case"dragend":qp=!1,US(He,g,Ve);break;case"selectionchange":if(O5)break;case"keydown":case"keyup":US(He,g,Ve)}var It;if(Ip)e:{switch(s){case"compositionstart":var $t="onCompositionStart";break e;case"compositionend":$t="onCompositionEnd";break e;case"compositionupdate":$t="onCompositionUpdate";break e}$t=void 0}else El?OS(s,g)&&($t="onCompositionEnd"):s==="keydown"&&g.keyCode===229&&($t="onCompositionStart");$t&&(AS&&g.locale!=="ko"&&(El||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&El&&(It=xS()):(yo=Ve,Pp="value"in yo?yo.value:yo.textContent,El=!0)),Ct=fd(ke,$t),0<Ct.length&&($t=new SS($t,s,null,g,Ve),He.push({event:$t,listeners:Ct}),It?$t.data=It:(It=_S(g),It!==null&&($t.data=It)))),(It=y5?b5(s,g):x5(s,g))&&($t=fd(ke,"onBeforeInput"),0<$t.length&&(Ct=new SS("onBeforeInput","beforeinput",null,g,Ve),He.push({event:Ct,listeners:$t}),Ct.data=It)),fz(He,s,ke,g,Ve)}dA(He,f)})}function Dc(s,f,g){return{instance:s,listener:f,currentTarget:g}}function fd(s,f){for(var g=f+"Capture",y=[];s!==null;){var C=s,k=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||k===null||(C=Zu(s,g),C!=null&&y.unshift(Dc(s,C,k)),C=Zu(s,f),C!=null&&y.push(Dc(s,C,k))),s.tag===3)return y;s=s.return}return[]}function gz(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function gA(s,f,g,y,C){for(var k=f._reactName,$=[];g!==null&&g!==y;){var ne=g,me=ne.alternate,ke=ne.stateNode;if(ne=ne.tag,me!==null&&me===y)break;ne!==5&&ne!==26&&ne!==27||ke===null||(me=ke,C?(ke=Zu(g,k),ke!=null&&$.unshift(Dc(g,ke,me))):C||(ke=Zu(g,k),ke!=null&&$.push(Dc(g,ke,me)))),g=g.return}$.length!==0&&s.push({event:f,listeners:$})}var pz=/\r\n?/g,mz=/\u0000|\uFFFD/g;function pA(s){return(typeof s=="string"?s:""+s).replace(pz,`
`).replace(mz,"")}function mA(s,f){return f=pA(f),pA(s)===f}function vr(s,f,g,y,C,k){switch(g){case"children":typeof y=="string"?f==="body"||f==="textarea"&&y===""||mo(s,y):(typeof y=="number"||typeof y=="bigint")&&f!=="body"&&mo(s,""+y);break;case"className":Vr(s,"class",y);break;case"tabIndex":Vr(s,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Vr(s,g,y);break;case"style":mS(s,y,k);break;case"data":if(f!=="object"){Vr(s,"data",y);break}case"src":case"href":if(y===""&&(f!=="a"||g!=="href")){s.removeAttribute(g);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){s.removeAttribute(g);break}y=mh(""+y),s.setAttribute(g,y);break;case"action":case"formAction":if(typeof y=="function"){s.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(g==="formAction"?(f!=="input"&&vr(s,f,"name",C.name,C,null),vr(s,f,"formEncType",C.formEncType,C,null),vr(s,f,"formMethod",C.formMethod,C,null),vr(s,f,"formTarget",C.formTarget,C,null)):(vr(s,f,"encType",C.encType,C,null),vr(s,f,"method",C.method,C,null),vr(s,f,"target",C.target,C,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){s.removeAttribute(g);break}y=mh(""+y),s.setAttribute(g,y);break;case"onClick":y!=null&&(s.onclick=Ai);break;case"onScroll":y!=null&&qt("scroll",s);break;case"onScrollEnd":y!=null&&qt("scrollend",s);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(g=y.__html,g!=null){if(C.children!=null)throw Error(n(60));s.innerHTML=g}}break;case"multiple":s.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":s.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){s.removeAttribute("xlink:href");break}g=mh(""+y),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(g,""+y):s.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(g,""):s.removeAttribute(g);break;case"capture":case"download":y===!0?s.setAttribute(g,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(g,y):s.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?s.setAttribute(g,y):s.removeAttribute(g);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?s.removeAttribute(g):s.setAttribute(g,y);break;case"popover":qt("beforetoggle",s),qt("toggle",s),Xt(s,"popover",y);break;case"xlinkActuate":Qt(s,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Qt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Qt(s,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Qt(s,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Qt(s,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Qt(s,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Qt(s,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Qt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Qt(s,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Xt(s,"is",y);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=$3.get(g)||g,Xt(s,g,y))}}function vy(s,f,g,y,C,k){switch(g){case"style":mS(s,y,k);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(g=y.__html,g!=null){if(C.children!=null)throw Error(n(60));s.innerHTML=g}}break;case"children":typeof y=="string"?mo(s,y):(typeof y=="number"||typeof y=="bigint")&&mo(s,""+y);break;case"onScroll":y!=null&&qt("scroll",s);break;case"onScrollEnd":y!=null&&qt("scrollend",s);break;case"onClick":y!=null&&(s.onclick=Ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ze.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(C=g.endsWith("Capture"),f=g.slice(2,C?g.length-7:void 0),k=s[We]||null,k=k!=null?k[g]:null,typeof k=="function"&&s.removeEventListener(f,k,C),typeof y=="function")){typeof k!="function"&&k!==null&&(g in s?s[g]=null:s.hasAttribute(g)&&s.removeAttribute(g)),s.addEventListener(f,y,C);break e}g in s?s[g]=y:y===!0?s.setAttribute(g,""):Xt(s,g,y)}}}function En(s,f,g){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",s),qt("load",s);var y=!1,C=!1,k;for(k in g)if(g.hasOwnProperty(k)){var $=g[k];if($!=null)switch(k){case"src":y=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:vr(s,f,k,$,g,null)}}C&&vr(s,f,"srcSet",g.srcSet,g,null),y&&vr(s,f,"src",g.src,g,null);return;case"input":qt("invalid",s);var ne=k=$=C=null,me=null,ke=null;for(y in g)if(g.hasOwnProperty(y)){var Ve=g[y];if(Ve!=null)switch(y){case"name":C=Ve;break;case"type":$=Ve;break;case"checked":me=Ve;break;case"defaultChecked":ke=Ve;break;case"value":k=Ve;break;case"defaultValue":ne=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(n(137,f));break;default:vr(s,f,y,Ve,g,null)}}vh(s,k,ne,me,ke,$,C,!1);return;case"select":qt("invalid",s),y=$=k=null;for(C in g)if(g.hasOwnProperty(C)&&(ne=g[C],ne!=null))switch(C){case"value":k=ne;break;case"defaultValue":$=ne;break;case"multiple":y=ne;default:vr(s,f,C,ne,g,null)}f=k,g=$,s.multiple=!!y,f!=null?po(s,!!y,f,!1):g!=null&&po(s,!!y,g,!0);return;case"textarea":qt("invalid",s),k=C=y=null;for($ in g)if(g.hasOwnProperty($)&&(ne=g[$],ne!=null))switch($){case"value":y=ne;break;case"defaultValue":C=ne;break;case"children":k=ne;break;case"dangerouslySetInnerHTML":if(ne!=null)throw Error(n(91));break;default:vr(s,f,$,ne,g,null)}ph(s,y,C,k);return;case"option":for(me in g)if(g.hasOwnProperty(me)&&(y=g[me],y!=null))switch(me){case"selected":s.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:vr(s,f,me,y,g,null)}return;case"dialog":qt("beforetoggle",s),qt("toggle",s),qt("cancel",s),qt("close",s);break;case"iframe":case"object":qt("load",s);break;case"video":case"audio":for(y=0;y<_c.length;y++)qt(_c[y],s);break;case"image":qt("error",s),qt("load",s);break;case"details":qt("toggle",s);break;case"embed":case"source":case"link":qt("error",s),qt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ke in g)if(g.hasOwnProperty(ke)&&(y=g[ke],y!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:vr(s,f,ke,y,g,null)}return;default:if(Op(f)){for(Ve in g)g.hasOwnProperty(Ve)&&(y=g[Ve],y!==void 0&&vy(s,f,Ve,y,g,void 0));return}}for(ne in g)g.hasOwnProperty(ne)&&(y=g[ne],y!=null&&vr(s,f,ne,y,g,null))}function yz(s,f,g,y){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,k=null,$=null,ne=null,me=null,ke=null,Ve=null;for(Be in g){var He=g[Be];if(g.hasOwnProperty(Be)&&He!=null)switch(Be){case"checked":break;case"value":break;case"defaultValue":me=He;default:y.hasOwnProperty(Be)||vr(s,f,Be,null,y,He)}}for(var Re in y){var Be=y[Re];if(He=g[Re],y.hasOwnProperty(Re)&&(Be!=null||He!=null))switch(Re){case"type":k=Be;break;case"name":C=Be;break;case"checked":ke=Be;break;case"defaultChecked":Ve=Be;break;case"value":$=Be;break;case"defaultValue":ne=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(n(137,f));break;default:Be!==He&&vr(s,f,Re,Be,y,He)}}Ku(s,$,ne,me,ke,Ve,k,C);return;case"select":Be=$=ne=Re=null;for(k in g)if(me=g[k],g.hasOwnProperty(k)&&me!=null)switch(k){case"value":break;case"multiple":Be=me;default:y.hasOwnProperty(k)||vr(s,f,k,null,y,me)}for(C in y)if(k=y[C],me=g[C],y.hasOwnProperty(C)&&(k!=null||me!=null))switch(C){case"value":Re=k;break;case"defaultValue":ne=k;break;case"multiple":$=k;default:k!==me&&vr(s,f,C,k,y,me)}f=ne,g=$,y=Be,Re!=null?po(s,!!g,Re,!1):!!y!=!!g&&(f!=null?po(s,!!g,f,!0):po(s,!!g,g?[]:"",!1));return;case"textarea":Be=Re=null;for(ne in g)if(C=g[ne],g.hasOwnProperty(ne)&&C!=null&&!y.hasOwnProperty(ne))switch(ne){case"value":break;case"children":break;default:vr(s,f,ne,null,y,C)}for($ in y)if(C=y[$],k=g[$],y.hasOwnProperty($)&&(C!=null||k!=null))switch($){case"value":Re=C;break;case"defaultValue":Be=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(n(91));break;default:C!==k&&vr(s,f,$,C,y,k)}gh(s,Re,Be);return;case"option":for(var Tt in g)if(Re=g[Tt],g.hasOwnProperty(Tt)&&Re!=null&&!y.hasOwnProperty(Tt))switch(Tt){case"selected":s.selected=!1;break;default:vr(s,f,Tt,null,y,Re)}for(me in y)if(Re=y[me],Be=g[me],y.hasOwnProperty(me)&&Re!==Be&&(Re!=null||Be!=null))switch(me){case"selected":s.selected=Re&&typeof Re!="function"&&typeof Re!="symbol";break;default:vr(s,f,me,Re,y,Be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pt in g)Re=g[Pt],g.hasOwnProperty(Pt)&&Re!=null&&!y.hasOwnProperty(Pt)&&vr(s,f,Pt,null,y,Re);for(ke in y)if(Re=y[ke],Be=g[ke],y.hasOwnProperty(ke)&&Re!==Be&&(Re!=null||Be!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(n(137,f));break;default:vr(s,f,ke,Re,y,Be)}return;default:if(Op(f)){for(var gr in g)Re=g[gr],g.hasOwnProperty(gr)&&Re!==void 0&&!y.hasOwnProperty(gr)&&vy(s,f,gr,void 0,y,Re);for(Ve in y)Re=y[Ve],Be=g[Ve],!y.hasOwnProperty(Ve)||Re===Be||Re===void 0&&Be===void 0||vy(s,f,Ve,Re,y,Be);return}}for(var Ce in g)Re=g[Ce],g.hasOwnProperty(Ce)&&Re!=null&&!y.hasOwnProperty(Ce)&&vr(s,f,Ce,null,y,Re);for(He in y)Re=y[He],Be=g[He],!y.hasOwnProperty(He)||Re===Be||Re==null&&Be==null||vr(s,f,He,Re,y,Be)}function yA(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bz(){if(typeof performance.getEntriesByType=="function"){for(var s=0,f=0,g=performance.getEntriesByType("resource"),y=0;y<g.length;y++){var C=g[y],k=C.transferSize,$=C.initiatorType,ne=C.duration;if(k&&ne&&yA($)){for($=0,ne=C.responseEnd,y+=1;y<g.length;y++){var me=g[y],ke=me.startTime;if(ke>ne)break;var Ve=me.transferSize,He=me.initiatorType;Ve&&yA(He)&&(me=me.responseEnd,$+=Ve*(me<ne?1:(ne-ke)/(me-ke)))}if(--y,f+=8*(k+$)/(C.duration/1e3),s++,10<s)break}}if(0<s)return f/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var gy=null,py=null;function hd(s){return s.nodeType===9?s:s.ownerDocument}function bA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xA(s,f){if(s===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&f==="foreignObject"?0:s}function my(s,f){return s==="textarea"||s==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var yy=null;function xz(){var s=window.event;return s&&s.type==="popstate"?s===yy?!1:(yy=s,!0):(yy=null,!1)}var wA=typeof setTimeout=="function"?setTimeout:void 0,wz=typeof clearTimeout=="function"?clearTimeout:void 0,EA=typeof Promise=="function"?Promise:void 0,Ez=typeof queueMicrotask=="function"?queueMicrotask:typeof EA<"u"?function(s){return EA.resolve(null).then(s).catch(Sz)}:wA;function Sz(s){setTimeout(function(){throw s})}function Lo(s){return s==="head"}function SA(s,f){var g=f,y=0;do{var C=g.nextSibling;if(s.removeChild(g),C&&C.nodeType===8)if(g=C.data,g==="/$"||g==="/&"){if(y===0){s.removeChild(C),Wl(f);return}y--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")y++;else if(g==="html")kc(s.ownerDocument.documentElement);else if(g==="head"){g=s.ownerDocument.head,kc(g);for(var k=g.firstChild;k;){var $=k.nextSibling,ne=k.nodeName;k[ut]||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&k.rel.toLowerCase()==="stylesheet"||g.removeChild(k),k=$}}else g==="body"&&kc(s.ownerDocument.body);g=C}while(g);Wl(f)}function TA(s,f){var g=s;s=0;do{var y=g.nextSibling;if(g.nodeType===1?f?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(f?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),y&&y.nodeType===8)if(g=y.data,g==="/$"){if(s===0)break;s--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||s++;g=y}while(g)}function by(s){var f=s.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var g=f;switch(f=f.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":by(g),Dt(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}s.removeChild(g)}}function Tz(s,f,g,y){for(;s.nodeType===1;){var C=g;if(s.nodeName.toLowerCase()!==f.toLowerCase()){if(!y&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(y){if(!s[ut])switch(f){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(k=s.getAttribute("rel"),k==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(k!==C.rel||s.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||s.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||s.getAttribute("title")!==(C.title==null?null:C.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(k=s.getAttribute("src"),(k!==(C.src==null?null:C.src)||s.getAttribute("type")!==(C.type==null?null:C.type)||s.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&k&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(f==="input"&&s.type==="hidden"){var k=C.name==null?null:""+C.name;if(C.type==="hidden"&&s.getAttribute("name")===k)return s}else return s;if(s=Pa(s.nextSibling),s===null)break}return null}function Az(s,f,g){if(f==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!g||(s=Pa(s.nextSibling),s===null))return null;return s}function AA(s,f){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!f||(s=Pa(s.nextSibling),s===null))return null;return s}function xy(s){return s.data==="$?"||s.data==="$~"}function wy(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function Cz(s,f){var g=s.ownerDocument;if(s.data==="$~")s._reactRetry=f;else if(s.data!=="$?"||g.readyState!=="loading")f();else{var y=function(){f(),g.removeEventListener("DOMContentLoaded",y)};g.addEventListener("DOMContentLoaded",y),s._reactRetry=y}}function Pa(s){for(;s!=null;s=s.nextSibling){var f=s.nodeType;if(f===1||f===3)break;if(f===8){if(f=s.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return s}var Ey=null;function CA(s){s=s.nextSibling;for(var f=0;s;){if(s.nodeType===8){var g=s.data;if(g==="/$"||g==="/&"){if(f===0)return Pa(s.nextSibling);f--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||f++}s=s.nextSibling}return null}function MA(s){s=s.previousSibling;for(var f=0;s;){if(s.nodeType===8){var g=s.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(f===0)return s;f--}else g!=="/$"&&g!=="/&"||f++}s=s.previousSibling}return null}function OA(s,f,g){switch(f=hd(g),s){case"html":if(s=f.documentElement,!s)throw Error(n(452));return s;case"head":if(s=f.head,!s)throw Error(n(453));return s;case"body":if(s=f.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function kc(s){for(var f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Dt(s)}var Ra=new Map,_A=new Set;function dd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ui=V.d;V.d={f:Mz,r:Oz,D:_z,C:Dz,L:kz,m:Nz,X:Rz,S:Pz,M:Lz};function Mz(){var s=Ui.f(),f=ad();return s||f}function Oz(s){var f=Kt(s);f!==null&&f.tag===5&&f.type==="form"?Y2(f):Ui.r(s)}var Hl=typeof document>"u"?null:document;function DA(s,f,g){var y=Hl;if(y&&typeof f=="string"&&f){var C=Xn(f);C='link[rel="'+s+'"][href="'+C+'"]',typeof g=="string"&&(C+='[crossorigin="'+g+'"]'),_A.has(C)||(_A.add(C),s={rel:s,crossOrigin:g,href:f},y.querySelector(C)===null&&(f=y.createElement("link"),En(f,"link",s),Lt(f),y.head.appendChild(f)))}}function _z(s){Ui.D(s),DA("dns-prefetch",s,null)}function Dz(s,f){Ui.C(s,f),DA("preconnect",s,f)}function kz(s,f,g){Ui.L(s,f,g);var y=Hl;if(y&&s&&f){var C='link[rel="preload"][as="'+Xn(f)+'"]';f==="image"&&g&&g.imageSrcSet?(C+='[imagesrcset="'+Xn(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(C+='[imagesizes="'+Xn(g.imageSizes)+'"]')):C+='[href="'+Xn(s)+'"]';var k=C;switch(f){case"style":k=Xl(s);break;case"script":k=Kl(s)}Ra.has(k)||(s=d({rel:"preload",href:f==="image"&&g&&g.imageSrcSet?void 0:s,as:f},g),Ra.set(k,s),y.querySelector(C)!==null||f==="style"&&y.querySelector(Nc(k))||f==="script"&&y.querySelector(Pc(k))||(f=y.createElement("link"),En(f,"link",s),Lt(f),y.head.appendChild(f)))}}function Nz(s,f){Ui.m(s,f);var g=Hl;if(g&&s){var y=f&&typeof f.as=="string"?f.as:"script",C='link[rel="modulepreload"][as="'+Xn(y)+'"][href="'+Xn(s)+'"]',k=C;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=Kl(s)}if(!Ra.has(k)&&(s=d({rel:"modulepreload",href:s},f),Ra.set(k,s),g.querySelector(C)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Pc(k)))return}y=g.createElement("link"),En(y,"link",s),Lt(y),g.head.appendChild(y)}}}function Pz(s,f,g){Ui.S(s,f,g);var y=Hl;if(y&&s){var C=At(y).hoistableStyles,k=Xl(s);f=f||"default";var $=C.get(k);if(!$){var ne={loading:0,preload:null};if($=y.querySelector(Nc(k)))ne.loading=5;else{s=d({rel:"stylesheet",href:s,"data-precedence":f},g),(g=Ra.get(k))&&Sy(s,g);var me=$=y.createElement("link");Lt(me),En(me,"link",s),me._p=new Promise(function(ke,Ve){me.onload=ke,me.onerror=Ve}),me.addEventListener("load",function(){ne.loading|=1}),me.addEventListener("error",function(){ne.loading|=2}),ne.loading|=4,vd($,f,y)}$={type:"stylesheet",instance:$,count:1,state:ne},C.set(k,$)}}}function Rz(s,f){Ui.X(s,f);var g=Hl;if(g&&s){var y=At(g).hoistableScripts,C=Kl(s),k=y.get(C);k||(k=g.querySelector(Pc(C)),k||(s=d({src:s,async:!0},f),(f=Ra.get(C))&&Ty(s,f),k=g.createElement("script"),Lt(k),En(k,"link",s),g.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},y.set(C,k))}}function Lz(s,f){Ui.M(s,f);var g=Hl;if(g&&s){var y=At(g).hoistableScripts,C=Kl(s),k=y.get(C);k||(k=g.querySelector(Pc(C)),k||(s=d({src:s,async:!0,type:"module"},f),(f=Ra.get(C))&&Ty(s,f),k=g.createElement("script"),Lt(k),En(k,"link",s),g.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},y.set(C,k))}}function kA(s,f,g,y){var C=(C=be.current)?dd(C):null;if(!C)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(f=Xl(g.href),g=At(C).hoistableStyles,y=g.get(f),y||(y={type:"style",instance:null,count:0,state:null},g.set(f,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){s=Xl(g.href);var k=At(C).hoistableStyles,$=k.get(s);if($||(C=C.ownerDocument||C,$={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(s,$),(k=C.querySelector(Nc(s)))&&!k._p&&($.instance=k,$.state.loading=5),Ra.has(s)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Ra.set(s,g),k||jz(C,s,g,$.state))),f&&y===null)throw Error(n(528,""));return $}if(f&&y!==null)throw Error(n(529,""));return null;case"script":return f=g.async,g=g.src,typeof g=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Kl(g),g=At(C).hoistableScripts,y=g.get(f),y||(y={type:"script",instance:null,count:0,state:null},g.set(f,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Xl(s){return'href="'+Xn(s)+'"'}function Nc(s){return'link[rel="stylesheet"]['+s+"]"}function NA(s){return d({},s,{"data-precedence":s.precedence,precedence:null})}function jz(s,f,g,y){s.querySelector('link[rel="preload"][as="style"]['+f+"]")?y.loading=1:(f=s.createElement("link"),y.preload=f,f.addEventListener("load",function(){return y.loading|=1}),f.addEventListener("error",function(){return y.loading|=2}),En(f,"link",g),Lt(f),s.head.appendChild(f))}function Kl(s){return'[src="'+Xn(s)+'"]'}function Pc(s){return"script[async]"+s}function PA(s,f,g){if(f.count++,f.instance===null)switch(f.type){case"style":var y=s.querySelector('style[data-href~="'+Xn(g.href)+'"]');if(y)return f.instance=y,Lt(y),y;var C=d({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return y=(s.ownerDocument||s).createElement("style"),Lt(y),En(y,"style",C),vd(y,g.precedence,s),f.instance=y;case"stylesheet":C=Xl(g.href);var k=s.querySelector(Nc(C));if(k)return f.state.loading|=4,f.instance=k,Lt(k),k;y=NA(g),(C=Ra.get(C))&&Sy(y,C),k=(s.ownerDocument||s).createElement("link"),Lt(k);var $=k;return $._p=new Promise(function(ne,me){$.onload=ne,$.onerror=me}),En(k,"link",y),f.state.loading|=4,vd(k,g.precedence,s),f.instance=k;case"script":return k=Kl(g.src),(C=s.querySelector(Pc(k)))?(f.instance=C,Lt(C),C):(y=g,(C=Ra.get(k))&&(y=d({},g),Ty(y,C)),s=s.ownerDocument||s,C=s.createElement("script"),Lt(C),En(C,"link",y),s.head.appendChild(C),f.instance=C);case"void":return null;default:throw Error(n(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(y=f.instance,f.state.loading|=4,vd(y,g.precedence,s));return f.instance}function vd(s,f,g){for(var y=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=y.length?y[y.length-1]:null,k=C,$=0;$<y.length;$++){var ne=y[$];if(ne.dataset.precedence===f)k=ne;else if(k!==C)break}k?k.parentNode.insertBefore(s,k.nextSibling):(f=g.nodeType===9?g.head:g,f.insertBefore(s,f.firstChild))}function Sy(s,f){s.crossOrigin==null&&(s.crossOrigin=f.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=f.referrerPolicy),s.title==null&&(s.title=f.title)}function Ty(s,f){s.crossOrigin==null&&(s.crossOrigin=f.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=f.referrerPolicy),s.integrity==null&&(s.integrity=f.integrity)}var gd=null;function RA(s,f,g){if(gd===null){var y=new Map,C=gd=new Map;C.set(g,y)}else C=gd,y=C.get(g),y||(y=new Map,C.set(g,y));if(y.has(s))return y;for(y.set(s,null),g=g.getElementsByTagName(s),C=0;C<g.length;C++){var k=g[C];if(!(k[ut]||k[Ne]||s==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var $=k.getAttribute(f)||"";$=s+$;var ne=y.get($);ne?ne.push(k):y.set($,[k])}}return y}function LA(s,f,g){s=s.ownerDocument||s,s.head.insertBefore(g,f==="title"?s.querySelector("head > title"):null)}function Bz(s,f,g){if(g===1||f.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return s=f.disabled,typeof f.precedence=="string"&&s==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function jA(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function Iz(s,f,g,y){if(g.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var C=Xl(y.href),k=f.querySelector(Nc(C));if(k){f=k._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(s.count++,s=pd.bind(s),f.then(s,s)),g.state.loading|=4,g.instance=k,Lt(k);return}k=f.ownerDocument||f,y=NA(y),(C=Ra.get(C))&&Sy(y,C),k=k.createElement("link"),Lt(k);var $=k;$._p=new Promise(function(ne,me){$.onload=ne,$.onerror=me}),En(k,"link",y),g.instance=k}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(g,f),(f=g.state.preload)&&(g.state.loading&3)===0&&(s.count++,g=pd.bind(s),f.addEventListener("load",g),f.addEventListener("error",g))}}var Ay=0;function zz(s,f){return s.stylesheets&&s.count===0&&yd(s,s.stylesheets),0<s.count||0<s.imgCount?function(g){var y=setTimeout(function(){if(s.stylesheets&&yd(s,s.stylesheets),s.unsuspend){var k=s.unsuspend;s.unsuspend=null,k()}},6e4+f);0<s.imgBytes&&Ay===0&&(Ay=62500*bz());var C=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&yd(s,s.stylesheets),s.unsuspend)){var k=s.unsuspend;s.unsuspend=null,k()}},(s.imgBytes>Ay?50:800)+f);return s.unsuspend=g,function(){s.unsuspend=null,clearTimeout(y),clearTimeout(C)}}:null}function pd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var md=null;function yd(s,f){s.stylesheets=null,s.unsuspend!==null&&(s.count++,md=new Map,f.forEach(Fz,s),md=null,pd.call(s))}function Fz(s,f){if(!(f.state.loading&4)){var g=md.get(s);if(g)var y=g.get(null);else{g=new Map,md.set(s,g);for(var C=s.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<C.length;k++){var $=C[k];($.nodeName==="LINK"||$.getAttribute("media")!=="not all")&&(g.set($.dataset.precedence,$),y=$)}y&&g.set(null,y)}C=f.instance,$=C.getAttribute("data-precedence"),k=g.get($)||y,k===y&&g.set(null,C),g.set($,C),this.count++,y=pd.bind(this),C.addEventListener("load",y),C.addEventListener("error",y),k?k.parentNode.insertBefore(C,k.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(C,s.firstChild)),f.state.loading|=4}}var Rc={$$typeof:S,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function Uz(s,f,g,y,C,k,$,ne,me){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=O(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O(0),this.hiddenUpdates=O(null),this.identifierPrefix=y,this.onUncaughtError=C,this.onCaughtError=k,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function BA(s,f,g,y,C,k,$,ne,me,ke,Ve,He){return s=new Uz(s,f,g,$,me,ke,Ve,He,ne),f=1,k===!0&&(f|=24),k=ha(3,null,null,f),s.current=k,k.stateNode=s,f=am(),f.refCount++,s.pooledCache=f,f.refCount++,k.memoizedState={element:y,isDehydrated:g,cache:f},lm(k),s}function IA(s){return s?(s=Cl,s):Cl}function zA(s,f,g,y,C,k){C=IA(C),y.context===null?y.context=C:y.pendingContext=C,y=To(f),y.payload={element:g},k=k===void 0?null:k,k!==null&&(y.callback=k),g=Ao(s,y,f),g!==null&&(ea(g,s,f),hc(g,s,f))}function FA(s,f){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var g=s.retryLane;s.retryLane=g!==0&&g<f?g:f}}function Cy(s,f){FA(s,f),(s=s.alternate)&&FA(s,f)}function UA(s){if(s.tag===13||s.tag===31){var f=xs(s,67108864);f!==null&&ea(f,s,67108864),Cy(s,67108864)}}function GA(s){if(s.tag===13||s.tag===31){var f=ma();f=te(f);var g=xs(s,f);g!==null&&ea(g,s,f),Cy(s,f)}}var bd=!0;function Gz(s,f,g,y){var C=q.T;q.T=null;var k=V.p;try{V.p=2,My(s,f,g,y)}finally{V.p=k,q.T=C}}function qz(s,f,g,y){var C=q.T;q.T=null;var k=V.p;try{V.p=8,My(s,f,g,y)}finally{V.p=k,q.T=C}}function My(s,f,g,y){if(bd){var C=Oy(y);if(C===null)dy(s,f,y,xd,g),VA(s,y);else if($z(C,s,f,g,y))y.stopPropagation();else if(VA(s,y),f&4&&-1<Vz.indexOf(s)){for(;C!==null;){var k=Kt(C);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var $=at(k.pendingLanes);if($!==0){var ne=k;for(ne.pendingLanes|=2,ne.entangledLanes|=2;$;){var me=1<<31-Me($);ne.entanglements[1]|=me,$&=~me}hi(k),(ir&6)===0&&(rd=Ye()+500,Oc(0))}}break;case 31:case 13:ne=xs(k,2),ne!==null&&ea(ne,k,2),ad(),Cy(k,2)}if(k=Oy(y),k===null&&dy(s,f,y,xd,g),k===C)break;C=k}C!==null&&y.stopPropagation()}else dy(s,f,y,null,g)}}function Oy(s){return s=Dp(s),_y(s)}var xd=null;function _y(s){if(xd=null,s=kt(s),s!==null){var f=i(s);if(f===null)s=null;else{var g=f.tag;if(g===13){if(s=o(f),s!==null)return s;s=null}else if(g===31){if(s=l(f),s!==null)return s;s=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;s=null}else f!==s&&(s=null)}}return xd=s,null}function qA(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ct()){case ht:return 2;case dt:return 8;case yt:case bt:return 32;case mt:return 268435456;default:return 32}default:return 32}}var Dy=!1,jo=null,Bo=null,Io=null,Lc=new Map,jc=new Map,zo=[],Vz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function VA(s,f){switch(s){case"focusin":case"focusout":jo=null;break;case"dragenter":case"dragleave":Bo=null;break;case"mouseover":case"mouseout":Io=null;break;case"pointerover":case"pointerout":Lc.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":jc.delete(f.pointerId)}}function Bc(s,f,g,y,C,k){return s===null||s.nativeEvent!==k?(s={blockedOn:f,domEventName:g,eventSystemFlags:y,nativeEvent:k,targetContainers:[C]},f!==null&&(f=Kt(f),f!==null&&UA(f)),s):(s.eventSystemFlags|=y,f=s.targetContainers,C!==null&&f.indexOf(C)===-1&&f.push(C),s)}function $z(s,f,g,y,C){switch(f){case"focusin":return jo=Bc(jo,s,f,g,y,C),!0;case"dragenter":return Bo=Bc(Bo,s,f,g,y,C),!0;case"mouseover":return Io=Bc(Io,s,f,g,y,C),!0;case"pointerover":var k=C.pointerId;return Lc.set(k,Bc(Lc.get(k)||null,s,f,g,y,C)),!0;case"gotpointercapture":return k=C.pointerId,jc.set(k,Bc(jc.get(k)||null,s,f,g,y,C)),!0}return!1}function $A(s){var f=kt(s.target);if(f!==null){var g=i(f);if(g!==null){if(f=g.tag,f===13){if(f=o(g),f!==null){s.blockedOn=f,Ee(s.priority,function(){GA(g)});return}}else if(f===31){if(f=l(g),f!==null){s.blockedOn=f,Ee(s.priority,function(){GA(g)});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){s.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}s.blockedOn=null}function wd(s){if(s.blockedOn!==null)return!1;for(var f=s.targetContainers;0<f.length;){var g=Oy(s.nativeEvent);if(g===null){g=s.nativeEvent;var y=new g.constructor(g.type,g);_p=y,g.target.dispatchEvent(y),_p=null}else return f=Kt(g),f!==null&&UA(f),s.blockedOn=g,!1;f.shift()}return!0}function YA(s,f,g){wd(s)&&g.delete(f)}function Yz(){Dy=!1,jo!==null&&wd(jo)&&(jo=null),Bo!==null&&wd(Bo)&&(Bo=null),Io!==null&&wd(Io)&&(Io=null),Lc.forEach(YA),jc.forEach(YA)}function Ed(s,f){s.blockedOn===f&&(s.blockedOn=null,Dy||(Dy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yz)))}var Sd=null;function HA(s){Sd!==s&&(Sd=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Sd===s&&(Sd=null);for(var f=0;f<s.length;f+=3){var g=s[f],y=s[f+1],C=s[f+2];if(typeof y!="function"){if(_y(y||g)===null)continue;break}var k=Kt(g);k!==null&&(s.splice(f,3),f-=3,Om(k,{pending:!0,data:C,method:g.method,action:y},y,C))}}))}function Wl(s){function f(me){return Ed(me,s)}jo!==null&&Ed(jo,s),Bo!==null&&Ed(Bo,s),Io!==null&&Ed(Io,s),Lc.forEach(f),jc.forEach(f);for(var g=0;g<zo.length;g++){var y=zo[g];y.blockedOn===s&&(y.blockedOn=null)}for(;0<zo.length&&(g=zo[0],g.blockedOn===null);)$A(g),g.blockedOn===null&&zo.shift();if(g=(s.ownerDocument||s).$$reactFormReplay,g!=null)for(y=0;y<g.length;y+=3){var C=g[y],k=g[y+1],$=C[We]||null;if(typeof k=="function")$||HA(g);else if($){var ne=null;if(k&&k.hasAttribute("formAction")){if(C=k,$=k[We]||null)ne=$.formAction;else if(_y(C)!==null)continue}else ne=$.action;typeof ne=="function"?g[y+1]=ne:(g.splice(y,3),y-=3),HA(g)}}}function XA(){function s(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function($){return C=$})},focusReset:"manual",scroll:"manual"})}function f(){C!==null&&(C(),C=null),y||setTimeout(g,20)}function g(){if(!y&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,C=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(g,100),function(){y=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),C!==null&&(C(),C=null)}}}function ky(s){this._internalRoot=s}Td.prototype.render=ky.prototype.render=function(s){var f=this._internalRoot;if(f===null)throw Error(n(409));var g=f.current,y=ma();zA(g,y,s,f,null,null)},Td.prototype.unmount=ky.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var f=s.containerInfo;zA(s.current,2,null,s,null,null),ad(),f[_e]=null}};function Td(s){this._internalRoot=s}Td.prototype.unstable_scheduleHydration=function(s){if(s){var f=se();s={blockedOn:null,target:s,priority:f};for(var g=0;g<zo.length&&f!==0&&f<zo[g].priority;g++);zo.splice(g,0,s),g===0&&$A(s)}};var KA=t.version;if(KA!=="19.2.0")throw Error(n(527,KA,"19.2.0"));V.findDOMNode=function(s){var f=s._reactInternals;if(f===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=c(f),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var Hz={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ad.isDisabled&&Ad.supportsFiber)try{Q=Ad.inject(Hz),ye=Ad}catch{}}return zc.createRoot=function(s,f){if(!a(s))throw Error(n(299));var g=!1,y="",C=rT,k=nT,$=aT;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(y=f.identifierPrefix),f.onUncaughtError!==void 0&&(C=f.onUncaughtError),f.onCaughtError!==void 0&&(k=f.onCaughtError),f.onRecoverableError!==void 0&&($=f.onRecoverableError)),f=BA(s,1,!1,null,null,g,y,null,C,k,$,XA),s[_e]=f.current,hy(s),new ky(f)},zc.hydrateRoot=function(s,f,g){if(!a(s))throw Error(n(299));var y=!1,C="",k=rT,$=nT,ne=aT,me=null;return g!=null&&(g.unstable_strictMode===!0&&(y=!0),g.identifierPrefix!==void 0&&(C=g.identifierPrefix),g.onUncaughtError!==void 0&&(k=g.onUncaughtError),g.onCaughtError!==void 0&&($=g.onCaughtError),g.onRecoverableError!==void 0&&(ne=g.onRecoverableError),g.formState!==void 0&&(me=g.formState)),f=BA(s,1,!0,f,g??null,y,C,me,k,$,ne,XA),f.context=IA(null),g=f.current,y=ma(),y=te(y),C=To(y),C.callback=null,Ao(g,C,y),g=y,f.current.lanes=g,A(f,g),hi(f),s[_e]=f.current,hy(s),new Td(f)},zc.version="19.2.0",zc}var oC;function i4(){if(oC)return jy.exports;oC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),jy.exports=a4(),jy.exports}var o4=i4();const s4=Ha(o4);var X=Pu();const aa=Ha(X),l4=Zz({__proto__:null,default:aa},[X]),Nr=aa.forwardRef(({className:e,variant:t="primary",...r},n)=>{const o=`inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-900 disabled:opacity-50 disabled:pointer-events-none px-4 py-2 ${{primary:"bg-primary text-white hover:bg-primary-600 focus:ring-primary-500",secondary:"bg-slate-200 text-slate-900 hover:bg-slate-300 dark:bg-slate-700 dark:text-slate-100 dark:hover:bg-slate-600 focus:ring-slate-400 dark:focus:ring-slate-500",ghost:"hover:bg-slate-100 dark:hover:bg-slate-700 focus:ring-slate-400 dark:focus:ring-slate-500 text-slate-800 dark:text-slate-200",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",subtle:"bg-slate-100 text-slate-700 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600"}[t]} ${e}`;return B.jsx("button",{className:o,ref:n,...r})});Nr.displayName="Button";const Tn=({className:e,children:t,...r})=>{const n=`bg-white dark:bg-slate-800 border border-stone-200 dark:border-slate-700 rounded-lg shadow-sm p-4 transition-shadow hover:shadow-md ${e}`;return B.jsx("div",{className:n,...r,children:t})},lw=({className:e="w-8 h-8"})=>B.jsxs("svg",{className:`animate-spin text-[#21808D] ${e}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[B.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),B.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u4=e=>B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[B.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),B.jsx("polyline",{points:"17 8 12 3 7 8"}),B.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),eP=e=>B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[B.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),tP=({isOpen:e,onClose:t,title:r,children:n,size:a="lg"})=>{if(X.useEffect(()=>{const o=l=>{l.key==="Escape"&&t()};return window.addEventListener("keydown",o),()=>{window.removeEventListener("keydown",o)}},[t]),!e)return null;const i={md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl"};return B.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex justify-center items-center p-4",onClick:t,"aria-modal":"true",role:"dialog",children:B.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full ${i[a]} flex flex-col max-h-[90vh]`,onClick:o=>o.stopPropagation(),children:[B.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-stone-200 dark:border-slate-700",children:[B.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:r}),B.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200","aria-label":"Close modal",children:B.jsx(eP,{className:"w-6 h-6"})})]}),B.jsx("div",{className:"p-6 overflow-y-auto",children:n})]})})},ti=aa.forwardRef(({className:e,type:t="text",...r},n)=>B.jsx("input",{type:t,className:`block w-full rounded-md border-stone-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 shadow-sm focus:border-primary-500 dark:focus:border-primary-400 focus:ring-primary-500 dark:focus:ring-primary-400 sm:text-sm ${e}`,ref:n,...r}));ti.displayName="Input";const rP=e=>B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[B.jsx("circle",{cx:"11",cy:"11",r:"8"}),B.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),Xs=["#4E79A7","#F28E2B","#E15759","#76B7B2","#59A14F","#EDC948","#B07AA1","#FF9DA7","#9C755F","#BAB0AC"],nP=`
begin model
begin parameters
    p1 0.1
    p2 0.2
end parameters

begin molecule types
    A(b)
    B(a)
end molecule types

begin seed species
    A(b) 100
    B(a) 100
end seed species

begin observables
    Molecules A_free A(b)
    Molecules B_free B(a)
    Molecules AB A(b!1).B(a!1)
end observables

begin reaction rules
    A(b) + B(a) -> A(b!1).B(a!1) p1
    A(b!1).B(a!1) -> A(b) + B(a) p2
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode", t_end=>100, n_steps=>100})
end actions
end model
`,aP=[{id:"dimerization",name:"Simple Dimerization",description:"A basic model where two molecules A and B bind to form a complex AB.",code:nP,tags:["basic","binding"]},{id:"egfr_signaling",name:"EGFR Signaling Pathway",description:"A simplified model of the Epidermal Growth Factor Receptor (EGFR) signaling cascade.",code:`
begin model
begin parameters
    k_bind 1.0
    k_unbind 0.1
    k_phos 1.0
    k_dephos 0.5
end parameters

begin molecule types
    EGF(r)
    EGFR(l,y~U~P)
end molecule types

begin seed species
    EGF(r) 100
    EGFR(l,y~U) 50
end seed species

begin reaction rules
    EGF(r) + EGFR(l) <-> EGF(r!1).EGFR(l!1) k_bind, k_unbind
    EGFR(y~U) -> EGFR(y~P) k_phos
    EGFR(y~P) -> EGFR(y~U) k_dephos
end reaction rules

begin observables
    Molecules EGF_free EGF(r)
    Molecules EGFR_free EGFR(l)
    Molecules Bound_EGFR EGFR(l!+)
    Molecules Phospho_EGFR EGFR(y~P)
end observables

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>50,n_steps=>100})
end actions
end model
    `,tags:["signaling","phosphorylation"]},{id:"michaelis-menten",name:"Michaelis-Menten Kinetics",description:"The classic model of enzyme kinetics.",code:`
begin model
begin parameters
    k1 0.001
    k2 0.0001
    k3 0.1
end parameters

begin molecule types
    E(s)
    S(e)
    P(e)
end molecule types

begin seed species
    E(s) 100
    S(e) 1000
end seed species

begin observables
    Molecules Substrate S()
    Molecules Product P()
    Molecules Enzyme E()
    Molecules Complex E(s!1).S(e!1)
end observables

begin reaction rules
    E(s) + S(e) <-> E(s!1).S(e!1) k1, k2
    E(s!1).S(e!1) -> E(s) + P(e) k3
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>200,n_steps=>200})
end actions
end model
    `,tags:["enzyme kinetics","classic"]},{id:"sir-epidemic",name:"SIR Epidemic Model",description:"Compartment model for disease spread with waning immunity.",code:`
begin model
begin parameters
    beta 0.0005
    gamma 0.1
    delta 0.01
end parameters

begin molecule types
    Human(state~S~I~R)
end molecule types

begin seed species
    Human(state~S) 990
    Human(state~I) 10
end seed species

begin observables
    Molecules Susceptible Human(state~S)
    Molecules Infected Human(state~I)
    Molecules Recovered Human(state~R)
end observables

begin reaction rules
    Human(state~S) + Human(state~I) -> Human(state~I) + Human(state~I) beta
    Human(state~I) -> Human(state~R) gamma
    Human(state~R) -> Human(state~S) delta
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>160,n_steps=>160})
end actions
end model
    `,tags:["epidemiology","population"]},{id:"gene-expression",name:"Gene Expression Toggle",description:"Minimal transcription-translation model with promoter switching.",code:`
begin model
begin parameters
    k_activate 0.002
    k_repress 0.001
    k_transcription 1.0
    k_translation 5.0
    k_mrna_deg 0.2
    k_protein_deg 0.05
end parameters

begin molecule types
    Gene(active~off~on)
    mRNA()
    Protein()
end molecule types

begin seed species
    Gene(active~off) 1
end seed species

begin observables
    Molecules Promoter_on Gene(active~on)
    Molecules Promoter_off Gene(active~off)
    Molecules Transcripts mRNA()
    Molecules Protein Protein()
end observables

begin reaction rules
    Gene(active~off) -> Gene(active~on) k_activate
    Gene(active~on) -> Gene(active~off) k_repress
    Gene(active~on) -> Gene(active~on) + mRNA() k_transcription
    mRNA() -> mRNA() + Protein() k_translation
    mRNA() -> 0 k_mrna_deg
    Protein() -> 0 k_protein_deg
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>200,n_steps=>200})
end actions
end model
    `,tags:["gene regulation","expression"]},{id:"mapk-cascade",name:"MAPK Signaling Cascade",description:"Three-tier kinase cascade with sequential activation.",code:`
begin model
begin parameters
    k_bind 1.0
    k_unbind 0.1
    k_act1 0.5
    k_deact1 0.05
    k_act2 0.4
    k_deact2 0.04
    k_act3 0.3
    k_deact3 0.03
end parameters

begin molecule types
    Ligand(r)
    Receptor(l,state~inactive~active)
    MAPKKK(state~U~P)
    MAPKK(state~U~P)
    MAPK(state~U~P)
end molecule types

begin seed species
    Ligand(r) 100
    Receptor(l,state~inactive) 50
    MAPKKK(state~U) 30
    MAPKK(state~U) 100
    MAPK(state~U) 200
end seed species

begin observables
    Molecules Active_Receptor Receptor(state~active)
    Molecules MAPKKK_P MAPKKK(state~P)
    Molecules MAPKK_P MAPKK(state~P)
    Molecules MAPK_P MAPK(state~P)
end observables

begin reaction rules
    Ligand(r) + Receptor(l,state~inactive) <-> Ligand(r!1).Receptor(l!1,state~inactive) k_bind, k_unbind
    Ligand(r!1).Receptor(l!1,state~inactive) -> Ligand(r!1).Receptor(l!1,state~active) k_act1
    Receptor(state~active) -> Receptor(state~inactive) k_deact1
    Receptor(state~active) + MAPKKK(state~U) -> Receptor(state~active) + MAPKKK(state~P) k_act2
    MAPKKK(state~P) -> MAPKKK(state~U) k_deact2
    MAPKKK(state~P) + MAPKK(state~U) -> MAPKKK(state~P) + MAPKK(state~P) k_act3
    MAPKK(state~P) -> MAPKK(state~U) k_deact3
    MAPKK(state~P) + MAPK(state~U) -> MAPKK(state~P) + MAPK(state~P) k_act3
    MAPK(state~P) -> MAPK(state~U) k_deact3
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>60,n_steps=>120})
end actions
end model
    `,tags:["signaling","cascade"]},{id:"predator-prey",name:"Predator-Prey Dynamics",description:"Lotka-Volterra style interaction with birth and death processes.",code:`
begin model
begin parameters
    k_prey_birth 1.0
    k_predation 0.002
    k_pred_birth 0.001
    k_pred_death 0.5
end parameters

begin molecule types
    Prey()
    Predator()
end molecule types

begin seed species
    Prey() 200
    Predator() 20
end seed species

begin observables
    Molecules Prey_count Prey()
    Molecules Predator_count Predator()
end observables

begin reaction rules
    Prey() -> Prey() + Prey() k_prey_birth
    Predator() + Prey() -> Predator() + Predator() k_pred_birth
    Predator() + Prey() -> Predator() k_predation
    Predator() -> 0 k_pred_death
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>100,n_steps=>200})
end actions
end model
    `,tags:["population","ecology"]},{id:"dual-phosphorylation",name:"Dual-Site Phosphorylation",description:"Sequential kinase and phosphatase control of a two-site substrate.",code:`
begin model
begin parameters
    k_bind 1.0
    k_unbind 0.1
    k_phos 0.5
    k_dephos 0.2
end parameters

begin molecule types
    Kinase(b)
    Phosphatase(b)
    Substrate(y1~U~P,y2~U~P)
end molecule types

begin seed species
    Kinase(b) 50
    Phosphatase(b) 40
    Substrate(y1~U,y2~U) 200
end seed species

begin observables
    Molecules Unphosphorylated Substrate(y1~U,y2~U)
    Molecules SingleP_y1 Substrate(y1~P,y2~U)
    Molecules SingleP_y2 Substrate(y1~U,y2~P)
    Molecules DoubleP Substrate(y1~P,y2~P)
end observables

begin reaction rules
    Kinase(b) + Substrate(y1~U) -> Kinase(b) + Substrate(y1~P) k_phos
    Kinase(b) + Substrate(y2~U) -> Kinase(b) + Substrate(y2~P) k_phos
    Phosphatase(b) + Substrate(y1~P) -> Phosphatase(b) + Substrate(y1~U) k_dephos
    Phosphatase(b) + Substrate(y2~P) -> Phosphatase(b) + Substrate(y2~U) k_dephos
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>80,n_steps=>160})
end actions
end model
    `,tags:["phosphorylation","switch"]},{id:"auto-activation-loop",name:"Auto-Activation Loop",description:"Single gene that positively regulates its own expression.",code:`
begin model
begin parameters
    k_on 0.0005
    k_off 0.0002
    k_prod 1.2
    k_deg 0.05
end parameters

begin molecule types
    Gene(prom~off~on)
    Protein()
end molecule types

begin seed species
    Gene(prom~off) 1
    Protein() 5
end seed species

begin observables
    Molecules Promoter_on Gene(prom~on)
    Molecules Promoter_off Gene(prom~off)
    Molecules Effector Protein()
end observables

begin reaction rules
    Gene(prom~off) + Protein() -> Gene(prom~on) + Protein() k_on
    Gene(prom~on) -> Gene(prom~off) k_off
    Gene(prom~on) -> Gene(prom~on) + Protein() k_prod
    Protein() -> 0 k_deg
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>150,n_steps=>150})
end actions
end model
    `,tags:["gene regulation","feedback"]},{id:"negative-feedback-loop",name:"Negative Feedback Loop",description:"Gene expression damped by its protein product.",code:`
begin model
begin parameters
    k_transcribe 1.0
    k_translate 4.0
    k_bind 0.002
    k_unbind 0.001
    k_deg_m 0.2
    k_deg_p 0.1
end parameters

begin molecule types
    Gene(state~free~bound)
    mRNA()
    Protein()
end molecule types

begin seed species
    Gene(state~free) 1
end seed species

begin observables
    Molecules Free_gene Gene(state~free)
    Molecules Bound_gene Gene(state~bound)
    Molecules Transcript mRNA()
    Molecules Protein Protein()
end observables

begin reaction rules
    Gene(state~free) -> Gene(state~free) + mRNA() k_transcribe
    mRNA() -> mRNA() + Protein() k_translate
    Protein() + Gene(state~free) -> Protein() + Gene(state~bound) k_bind
    Gene(state~bound) -> Gene(state~free) k_unbind
    mRNA() -> 0 k_deg_m
    Protein() -> 0 k_deg_p
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>200,n_steps=>200})
end actions
end model
    `,tags:["gene regulation","feedback"]},{id:"repressilator",name:"Repressilator Oscillator",description:"Three-gene synthetic oscillator with cyclic repression.",code:`
begin model
begin parameters
    k_transcribe 1.0
    k_translate 5.0
    k_repress 0.003
    k_release 0.001
    k_deg_m 0.2
    k_deg_p 0.1
end parameters

begin molecule types
    GeneA(state~free~bound)
    GeneB(state~free~bound)
    GeneC(state~free~bound)
    mRNA_A()
    mRNA_B()
    mRNA_C()
    ProteinA()
    ProteinB()
    ProteinC()
end molecule types

begin seed species
    GeneA(state~free) 1
    GeneB(state~free) 1
    GeneC(state~free) 1
end seed species

begin observables
    Molecules Protein_A ProteinA()
    Molecules Protein_B ProteinB()
    Molecules Protein_C ProteinC()
    Molecules GeneA_bound GeneA(state~bound)
end observables

begin reaction rules
    GeneA(state~free) -> GeneA(state~free) + mRNA_A() k_transcribe
    GeneB(state~free) -> GeneB(state~free) + mRNA_B() k_transcribe
    GeneC(state~free) -> GeneC(state~free) + mRNA_C() k_transcribe
    mRNA_A() -> mRNA_A() + ProteinA() k_translate
    mRNA_B() -> mRNA_B() + ProteinB() k_translate
    mRNA_C() -> mRNA_C() + ProteinC() k_translate
    ProteinC() + GeneA(state~free) -> ProteinC() + GeneA(state~bound) k_repress
    GeneA(state~bound) -> GeneA(state~free) k_release
    ProteinA() + GeneB(state~free) -> ProteinA() + GeneB(state~bound) k_repress
    GeneB(state~bound) -> GeneB(state~free) k_release
    ProteinB() + GeneC(state~free) -> ProteinB() + GeneC(state~bound) k_repress
    GeneC(state~bound) -> GeneC(state~free) k_release
    mRNA_A() -> 0 k_deg_m
    mRNA_B() -> 0 k_deg_m
    mRNA_C() -> 0 k_deg_m
    ProteinA() -> 0 k_deg_p
    ProteinB() -> 0 k_deg_p
    ProteinC() -> 0 k_deg_p
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>300,n_steps=>300})
end actions
end model
    `,tags:["oscillator","synthetic biology"]},{id:"bistable-toggle-switch",name:"Bistable Toggle Switch",description:"Mutual repression between two genes yielding bistability.",code:`
begin model
begin parameters
    k_transcribe 0.8
    k_translate 4.0
    k_bind 0.003
    k_unbind 0.0008
    k_deg_m 0.15
    k_deg_p 0.08
end parameters

begin molecule types
    GeneL(state~free~bound)
    GeneR(state~free~bound)
    mRNA_L()
    mRNA_R()
    ProteinL()
    ProteinR()
end molecule types

begin seed species
    GeneL(state~free) 1
    GeneR(state~free) 1
end seed species

begin observables
    Molecules Protein_L ProteinL()
    Molecules Protein_R ProteinR()
    Molecules GeneL_bound GeneL(state~bound)
    Molecules GeneR_bound GeneR(state~bound)
end observables

begin reaction rules
    GeneL(state~free) -> GeneL(state~free) + mRNA_L() k_transcribe
    GeneR(state~free) -> GeneR(state~free) + mRNA_R() k_transcribe
    mRNA_L() -> mRNA_L() + ProteinL() k_translate
    mRNA_R() -> mRNA_R() + ProteinR() k_translate
    ProteinR() + GeneL(state~free) -> ProteinR() + GeneL(state~bound) k_bind
    ProteinL() + GeneR(state~free) -> ProteinL() + GeneR(state~bound) k_bind
    GeneL(state~bound) -> GeneL(state~free) k_unbind
    GeneR(state~bound) -> GeneR(state~free) k_unbind
    mRNA_L() -> 0 k_deg_m
    mRNA_R() -> 0 k_deg_m
    ProteinL() -> 0 k_deg_p
    ProteinR() -> 0 k_deg_p
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>250,n_steps=>250})
end actions
end model
    `,tags:["bistable","synthetic biology"]},{id:"cooperative-binding",name:"Cooperative Binding",description:"Ligand binding with cooperativity across two sites.",code:`
begin model
begin parameters
    k_on1 0.01
    k_off1 0.005
    k_on2 0.02
    k_off2 0.003
end parameters

begin molecule types
    Ligand()
    Receptor(site1~U~B,site2~U~B)
end molecule types

begin seed species
    Ligand() 200
    Receptor(site1~U,site2~U) 50
end seed species

begin observables
    Molecules Unbound Receptor(site1~U,site2~U)
    Molecules Single_bound_site1 Receptor(site1~B,site2~U)
    Molecules Single_bound_site2 Receptor(site1~U,site2~B)
    Molecules Double_bound Receptor(site1~B,site2~B)
end observables

begin reaction rules
    Ligand() + Receptor(site1~U) -> Ligand() + Receptor(site1~B) k_on1
    Receptor(site1~B) -> Receptor(site1~U) k_off1
    Ligand() + Receptor(site2~U) -> Ligand() + Receptor(site2~B) k_on2
    Receptor(site2~B) -> Receptor(site2~U) k_off2
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>100,n_steps=>200})
end actions
end model
    `,tags:["binding","cooperativity"]},{id:"enzyme-inhibition",name:"Competitive Enzyme Inhibition",description:"Substrate competes with inhibitor for the active site.",code:`
begin model
begin parameters
    k_on 0.002
    k_off 0.0005
    k_cat 0.05
    k_on_i 0.0025
    k_off_i 0.0004
end parameters

begin molecule types
    Enzyme(s)
    Substrate(b)
    Inhibitor(b)
    Product()
end molecule types

begin seed species
    Enzyme(s) 50
    Substrate(b) 300
    Inhibitor(b) 150
end seed species

begin observables
    Molecules Free_enzyme Enzyme(s)
    Molecules Complex Enzyme(s!1).Substrate(b!1)
    Molecules Inhibited Enzyme(s!1).Inhibitor(b!1)
    Molecules Product Product()
end observables

begin reaction rules
    Enzyme(s) + Substrate(b) <-> Enzyme(s!1).Substrate(b!1) k_on, k_off
    Enzyme(s!1).Substrate(b!1) -> Enzyme(s) + Product() k_cat
    Enzyme(s) + Inhibitor(b) <-> Enzyme(s!2).Inhibitor(b!2) k_on_i, k_off_i
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>180,n_steps=>180})
end actions
end model
    `,tags:["enzyme kinetics","inhibition"]},{id:"enzyme-activation",name:"Allosteric Activation",description:"Activator binding enhances catalytic turnover.",code:`
begin model
begin parameters
    k_on 0.002
    k_off 0.0005
    k_cat 0.02
    k_cat_active 0.1
    k_on_act 0.0015
    k_off_act 0.0003
end parameters

begin molecule types
    Enzyme(s,c,a~inactive~active)
    Substrate(b)
    Activator(b)
    Product()
end molecule types

begin seed species
    Enzyme(s,c,a~inactive) 40
    Substrate(b) 200
    Activator(b) 150
end seed species

begin observables
    Molecules Active_enzyme Enzyme(a~active)
    Molecules Inactive_enzyme Enzyme(a~inactive)
    Molecules Product Product()
end observables

begin reaction rules
    Enzyme(c,a~inactive) + Activator(b) <-> Enzyme(c!1,a~active).Activator(b!1) k_on_act, k_off_act
    Enzyme(s,a~inactive) + Substrate(b) <-> Enzyme(s!2,a~inactive).Substrate(b!2) k_on, k_off
    Enzyme(s,a~active) + Substrate(b) <-> Enzyme(s!3,a~active).Substrate(b!3) k_on, k_off
    Enzyme(s!2,a~inactive).Substrate(b!2) -> Enzyme(s,a~inactive) + Product() k_cat
    Enzyme(s!3,a~active).Substrate(b!3) -> Enzyme(s,a~active) + Product() k_cat_active
    Enzyme(c!1,a~active).Activator(b!1) -> Enzyme(c,a~active) + Activator(b) k_off_act
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>150,n_steps=>150})
end actions
end model
    `,tags:["enzyme kinetics","activation"]},{id:"signal-amplification",name:"Signal Amplification Cascade",description:"Ligand binding triggers second messenger production.",code:`
begin model
begin parameters
    k_bind 0.01
    k_unbind 0.002
    k_act 0.5
    k_deact 0.1
    k_prod 5.0
    k_deg 0.5
end parameters

begin molecule types
    Ligand()
    Receptor(state~inactive~active)
    Effector(state~inactive~active)
    Messenger()
end molecule types

begin seed species
    Ligand() 100
    Receptor(state~inactive) 50
    Effector(state~inactive) 30
end seed species

begin observables
    Molecules Active_receptor Receptor(state~active)
    Molecules Active_effector Effector(state~active)
    Molecules Messenger Messenger()
end observables

begin reaction rules
    Ligand() + Receptor(state~inactive) <-> Ligand() + Receptor(state~active) k_bind, k_unbind
    Receptor(state~active) + Effector(state~inactive) -> Receptor(state~active) + Effector(state~active) k_act
    Effector(state~active) -> Effector(state~inactive) k_deact
    Effector(state~active) -> Effector(state~active) + Messenger() k_prod
    Messenger() -> 0 k_deg
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>120,n_steps=>240})
end actions
end model
    `,tags:["signaling","amplification"]},{id:"two-component-system",name:"Two-Component System",description:"Histidine kinase phosphorylates a response regulator.",code:`
begin model
begin parameters
    k_auto 0.3
    k_transfer 0.5
    k_dephos 0.1
    k_synth 0.8
    k_deg 0.05
end parameters

begin molecule types
    Kinase(state~U~P)
    Regulator(state~U~P)
    Target()
end molecule types

begin seed species
    Kinase(state~U) 40
    Regulator(state~U) 80
end seed species

begin observables
    Molecules Kinase_P Kinase(state~P)
    Molecules Reg_P Regulator(state~P)
    Molecules Target Target()
end observables

begin reaction rules
    Kinase(state~U) -> Kinase(state~P) k_auto
    Kinase(state~P) + Regulator(state~U) -> Kinase(state~U) + Regulator(state~P) k_transfer
    Regulator(state~P) -> Regulator(state~U) k_dephos
    Regulator(state~P) -> Regulator(state~P) + Target() k_synth
    Target() -> 0 k_deg
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>120,n_steps=>240})
end actions
end model
    `,tags:["signaling","phosphorelay"]},{id:"brusselator",name:"Brusselator Oscillator",description:"Classical chemical oscillator with autocatalysis.",code:`
begin model
begin parameters
    k1 1.0
    k2 1.5
    k3 1.0
    k4 1.0
end parameters

begin molecule types
    X()
    Y()
    A()
    B()
end molecule types

begin seed species
    X() 1
    Y() 1
    A() 1
    B() 2
end seed species

begin observables
    Molecules Species_X X()
    Molecules Species_Y Y()
end observables

begin reaction rules
    A() -> X() k1
    X() -> X() + X() + Y() k2
    X() + Y() -> Y() + Y() k3
    X() -> 0 k4
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>40,n_steps=>400})
end actions
end model
    `,tags:["oscillator","chemical"]},{id:"glycolysis-branch",name:"Glycolysis Branch Point",description:"Competition between ATP production and biomass channel.",code:`
begin model
begin parameters
    k_gly 2.0
    k_branch 0.8
    k_atp_use 0.5
    k_biomass_use 0.3
end parameters

begin molecule types
    Glucose()
    ATP()
    Biomass()
end molecule types

begin seed species
    Glucose() 100
end seed species

begin observables
    Molecules Glucose_pool Glucose()
    Molecules ATP_pool ATP()
    Molecules Biomass Biomass()
end observables

begin reaction rules
    Glucose() -> ATP() k_gly
    Glucose() -> Biomass() k_branch
    ATP() -> 0 k_atp_use
    Biomass() -> 0 k_biomass_use
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>60,n_steps=>120})
end actions
end model
    `,tags:["metabolism","pathway"]},{id:"calcium-spike",name:"Calcium Spike Signaling",description:"Calcium influx with pump-mediated clearance.",code:`
begin model
begin parameters
    k_influx 0.5
    k_release 0.3
    k_pump 0.4
    k_leak 0.05
end parameters

begin molecule types
    Calcium_cyto()
    Calcium_store()
    Calcium_ext()
end molecule types

begin seed species
    Calcium_cyto() 10
    Calcium_store() 200
    Calcium_ext() 500
end seed species

begin observables
    Molecules Cytosolic Calcium_cyto()
    Molecules Stored Calcium_store()
    Molecules Extracellular Calcium_ext()
end observables

begin reaction rules
    Calcium_store() -> Calcium_cyto() k_release
    Calcium_cyto() -> Calcium_ext() k_pump
    Calcium_ext() -> Calcium_cyto() k_influx
    Calcium_cyto() -> Calcium_store() k_leak
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>80,n_steps=>160})
end actions
end model
    `,tags:["signaling","calcium"]},{id:"apoptosis-cascade",name:"Apoptosis Cascade",description:"Caspase activation with feedback amplification.",code:`
begin model
begin parameters
    k_initiator 0.01
    k_effector 0.05
    k_feedback 0.02
    k_deg 0.01
end parameters

begin molecule types
    Initiator(state~inactive~active)
    Effector(state~inactive~active)
end molecule types

begin seed species
    Initiator(state~inactive) 100
    Effector(state~inactive) 200
end seed species

begin observables
    Molecules Active_initiator Initiator(state~active)
    Molecules Active_effector Effector(state~active)
end observables

begin reaction rules
    Initiator(state~inactive) -> Initiator(state~active) k_initiator
    Initiator(state~active) + Effector(state~inactive) -> Initiator(state~active) + Effector(state~active) k_effector
    Effector(state~active) + Initiator(state~inactive) -> Effector(state~active) + Initiator(state~active) k_feedback
    Effector(state~active) -> Effector(state~inactive) k_deg
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>120,n_steps=>240})
end actions
end model
    `,tags:["cell death","caspase"]},{id:"notch-delta",name:"Notch-Delta Lateral Inhibition",description:"Reciprocal signaling between neighboring cells.",code:`
begin model
begin parameters
    k_bind 0.01
    k_unbind 0.002
    k_signal 0.2
    k_decay 0.05
end parameters

begin molecule types
    CellNotch(state~inactive~active)
    CellDelta(level~low~high)
end molecule types

begin seed species
    CellNotch(state~inactive) 1
    CellDelta(level~low) 1
end seed species

begin observables
    Molecules Active_notch CellNotch(state~active)
    Molecules High_delta CellDelta(level~high)
end observables

begin reaction rules
    CellNotch(state~inactive) + CellDelta(level~high) <-> CellNotch(state~active) + CellDelta(level~high) k_bind, k_unbind
    CellNotch(state~active) -> CellNotch(state~inactive) k_decay
    CellNotch(state~inactive) -> CellNotch(state~inactive) + CellDelta(level~low) k_signal
    CellDelta(level~low) -> CellDelta(level~high) k_signal
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>150,n_steps=>300})
end actions
end model
    `,tags:["development","signaling"]},{id:"quorum-sensing",name:"Quorum Sensing Circuit",description:"Autoinducer-mediated activation of gene expression.",code:`
begin model
begin parameters
    k_synth 0.5
    k_export 0.4
    k_import 0.3
    k_activate 0.2
    k_deg 0.05
end parameters

begin molecule types
    Autoinducer()
    Autoinducer_env()
    Gene(state~off~on)
    Protein()
end molecule types

begin seed species
    Gene(state~off) 1
    Protein() 100
    Autoinducer_env() 1000
end seed species

begin observables
    Molecules Autoinducer_pool Autoinducer()
    Molecules Gene_on Gene(state~on)
    Molecules Protein Protein()
    Molecules Autoinducer_env_pool Autoinducer_env()
end observables

begin reaction rules
    Autoinducer_env() -> Autoinducer() k_synth
    Autoinducer() -> Autoinducer_env() k_deg
    Autoinducer() + Gene(state~off) -> Gene(state~on) + Autoinducer() k_activate
    Gene(state~on) -> Gene(state~on) + Protein() k_export
    Protein() -> 0 k_import
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>120,n_steps=>240})
end actions
end model
    `,tags:["bacteria","signaling"]},{id:"circadian-oscillator",name:"Circadian Oscillator",description:"Delayed negative feedback model for circadian rhythms.",code:`
begin model
begin parameters
    k_synth 0.6
    k_phos 0.3
    k_feedback 0.1
    k_deg 0.05
end parameters

begin molecule types
    mRNA()
    Protein(state~U~P)
end molecule types

begin seed species
    mRNA() 10
    Protein(state~U) 50
end seed species

begin observables
    Molecules Transcript mRNA()
    Molecules Protein_total Protein()
end observables

begin reaction rules
    Protein(state~P) -> Protein(state~U) k_deg
    mRNA() -> mRNA() + Protein(state~U) k_synth
    Protein(state~U) -> Protein(state~P) k_phos
    Protein(state~P) -> 0 k_deg
    Protein(state~P) + mRNA() -> Protein(state~P) k_feedback
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>240,n_steps=>480})
end actions
end model
    `,tags:["circadian","oscillator"]},{id:"wnt-beta-catenin",name:"Wnt/Beta-Catenin Signaling",description:"Simplified model of beta-catenin stabilization after Wnt activation.",code:`
begin model
begin parameters
    k_wnt 0.3
    k_destruction 0.2
    k_translocate 0.1
    k_transcription 0.5
    k_deg 0.05
end parameters

begin molecule types
    Wnt(state~off~on)
    BetaCatenin(loc~cyto~nuc)
    TargetGene()
end molecule types

begin seed species
    Wnt(state~off) 1
    BetaCatenin(loc~cyto) 50
end seed species

begin observables
    Molecules Active_wnt Wnt(state~on)
    Molecules Nuclear_beta BetaCatenin(loc~nuc)
    Molecules Target TargetGene()
end observables

begin reaction rules
    Wnt(state~off) -> Wnt(state~on) k_wnt
    BetaCatenin(loc~cyto) -> 0 k_destruction
    Wnt(state~on) + BetaCatenin(loc~cyto) -> Wnt(state~on) + BetaCatenin(loc~nuc) k_translocate
    BetaCatenin(loc~nuc) -> BetaCatenin(loc~cyto) k_deg
    BetaCatenin(loc~nuc) -> BetaCatenin(loc~nuc) + TargetGene() k_transcription
    TargetGene() -> 0 k_deg
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>160,n_steps=>320})
end actions
end model
    `,tags:["signaling","transcription"]},{id:"tcell-activation",name:"T Cell Activation",description:"T cell receptor engagement leading to cytokine production.",code:`
begin model
begin parameters
    k_bind 0.004
    k_unbind 0.001
    k_signal 0.3
    k_deact 0.05
    k_cyt 0.6
    k_cyt_deg 0.1
end parameters

begin molecule types
    TCR(state~inactive~active)
    Antigen()
    Cytokine()
end molecule types

begin seed species
    TCR(state~inactive) 100
    Antigen() 80
end seed species

begin observables
    Molecules Active_tcr TCR(state~active)
    Molecules Cytokine_pool Cytokine()
end observables

begin reaction rules
    TCR(state~inactive) + Antigen() <-> TCR(state~active) + Antigen() k_bind, k_unbind
    TCR(state~active) -> TCR(state~inactive) k_deact
    TCR(state~active) -> TCR(state~active) + Cytokine() k_cyt
    Cytokine() -> 0 k_cyt_deg
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>120,n_steps=>240})
end actions
end model
    `,tags:["immune","signaling"]},{id:"nfkb-feedback",name:"NF-kB Feedback",description:"NF-κB activation with inhibitor-induced negative feedback.",code:`
begin model
begin parameters
    k_activate 0.4
    k_inhibit 0.2
    k_synth 0.6
    k_deg 0.1
    k_export 0.3
end parameters

begin molecule types
    NFkB(loc~cyto~nuc)
    IkB()
end molecule types

begin seed species
    NFkB(loc~cyto) 100
end seed species

begin observables
    Molecules Nuclear NFkB(loc~nuc)
    Molecules Inhibitor IkB()
end observables

begin reaction rules
    NFkB(loc~cyto) -> NFkB(loc~nuc) k_activate
    NFkB(loc~nuc) -> NFkB(loc~cyto) k_export
    NFkB(loc~nuc) -> NFkB(loc~nuc) + IkB() k_synth
    IkB() + NFkB(loc~cyto) -> IkB() k_inhibit
    IkB() -> 0 k_deg
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>150,n_steps=>300})
end actions
end model
    `,tags:["immune","feedback"]},{id:"phosphorelay-chain",name:"Phosphorelay Chain",description:"Multi-step phosphorylation relay transmitting a signal.",code:`
begin model
begin parameters
    k1 0.4
    k2 0.3
    k3 0.2
    k_reset 0.05
end parameters

begin molecule types
    Sensor(state~U~P)
    Relay(state~U~P)
    Output(state~U~P)
end molecule types

begin seed species
    Sensor(state~U) 50
    Relay(state~U) 70
    Output(state~U) 90
end seed species

begin observables
    Molecules Sensor_P Sensor(state~P)
    Molecules Relay_P Relay(state~P)
    Molecules Output_P Output(state~P)
end observables

begin reaction rules
    Sensor(state~U) -> Sensor(state~P) k1
    Sensor(state~P) + Relay(state~U) -> Sensor(state~P) + Relay(state~P) k2
    Relay(state~P) + Output(state~U) -> Relay(state~P) + Output(state~P) k3
    Output(state~P) -> Output(state~U) k_reset
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>100,n_steps=>200})
end actions
end model
    `,tags:["signaling","phosphorelay"]},{id:"p53-mdm2",name:"p53-MDM2 Oscillator",description:"Stress-induced p53 activation with MDM2-mediated degradation.",code:`
begin model
begin parameters
    k_stress 0.4
    k_mdmsynth 0.3
    k_degrade 0.2
    k_mdmdown 0.1
    k_p53deg 0.05
end parameters

begin molecule types
    p53()
    MDM2()
end molecule types

begin seed species
    p53() 20
end seed species

begin observables
    Molecules p53_total p53()
    Molecules MDM2_total MDM2()
end observables

begin reaction rules
    0 -> p53() k_stress
    p53() -> 0 k_p53deg
    p53() -> p53() + MDM2() k_mdmsynth
    MDM2() + p53() -> MDM2() k_degrade
    MDM2() -> 0 k_mdmdown
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>160,n_steps=>320})
end actions
end model
    `,tags:["stress","feedback"]},{id:"stress-response",name:"Stress Response Adaptation",description:"Fast stress sensor inducing slow adaptive enzyme production.",code:`
begin model
begin parameters
    k_sense 0.5
    k_adapt 0.1
    k_recover 0.05
    k_deg 0.02
end parameters

begin molecule types
    Sensor(state~inactive~active)
    Adapter()
    Enzyme()
end molecule types

begin seed species
    Sensor(state~inactive) 50
end seed species

begin observables
    Molecules Active_sensor Sensor(state~active)
    Molecules Adapter Adapter()
    Molecules Enzyme Enzyme()
end observables

begin reaction rules
    Sensor(state~inactive) -> Sensor(state~active) k_sense
    Sensor(state~active) -> Sensor(state~inactive) k_recover
    Sensor(state~active) -> Sensor(state~active) + Adapter() k_adapt
    Adapter() -> Adapter() + Enzyme() k_adapt
    Enzyme() -> 0 k_deg
end reaction rules

begin actions
    generate_network({overwrite=>1})
    simulate({method=>"ode",t_end=>120,n_steps=>240})
end actions
end model
    `,tags:["stress","adaptation"]}],c4=[...new Set(aP.flatMap(e=>e.tags))],f4=({isOpen:e,onClose:t,onSelect:r})=>{const[n,a]=X.useState(""),[i,o]=X.useState(new Set),l=X.useMemo(()=>aP.filter(c=>{const h=c.name.toLowerCase().includes(n.toLowerCase())||c.description.toLowerCase().includes(n.toLowerCase()),d=i.size===0||[...i].every(v=>c.tags.includes(v));return h&&d}),[n,i]),u=c=>{const h=new Set(i);h.has(c)?h.delete(c):h.add(c),o(h)};return B.jsx(tP,{isOpen:e,onClose:t,title:"Example Model Gallery",size:"3xl",children:B.jsxs("div",{className:"mt-4",children:[B.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:B.jsxs("div",{className:"relative flex-grow",children:[B.jsx(rP,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),B.jsx(ti,{type:"text",placeholder:"Search examples...",value:n,onChange:c=>a(c.target.value),className:"pl-10"})]})}),B.jsx("div",{className:"flex flex-wrap gap-2 mb-6 border-b border-stone-200 dark:border-slate-700 pb-4",children:c4.map(c=>B.jsx("button",{onClick:()=>u(c),className:`px-3 py-1 text-xs font-medium rounded-full transition-colors ${i.has(c)?"bg-primary text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:c},c))}),B.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[60vh] overflow-y-auto pr-2",children:l.length>0?l.map(c=>B.jsxs(Tn,{className:"flex flex-col",children:[B.jsxs("div",{className:"flex-grow",children:[B.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-100",children:c.name}),B.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:c.description}),B.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:c.tags.map(h=>B.jsx("span",{className:"px-2 py-0.5 text-xs bg-primary-100 dark:bg-primary-900/50 text-primary-800 dark:text-primary-300 rounded-full",children:h},h))})]}),B.jsx("button",{onClick:()=>r(c.code),className:"mt-4 w-full text-center px-4 py-2 text-sm font-semibold bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-md transition-colors text-slate-800 dark:text-slate-100",children:"Load Example"})]},c.id)):B.jsx("p",{className:"text-slate-500 dark:text-slate-400 col-span-full text-center",children:"No examples match your criteria."})})]})})},h4=({name:e,options:t,value:r,onChange:n})=>B.jsx("div",{className:"flex items-center gap-4 py-1",children:t.map(a=>B.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700 dark:text-slate-200 cursor-pointer",children:[B.jsx("input",{type:"radio",name:e,value:a.value,checked:r===a.value,onChange:i=>n(i.target.value),className:"h-4 w-4 text-primary focus:ring-primary-500 border-stone-300 dark:border-slate-600 dark:bg-slate-800"}),B.jsx("span",{children:a.label})]},a.value))});function iP(){const[e,t]=X.useState(()=>localStorage.getItem("theme")||"light"),r=()=>{t(n=>n==="light"?"dark":"light")};return X.useEffect(()=>{const n=window.document.documentElement;n.classList.remove("light","dark"),n.classList.add(e),localStorage.setItem("theme",e)},[e]),[e,r]}let Od=null;function d4(){return Od||(Od=new Promise((e,t)=>{if(window.monaco){e(window.monaco);return}const r=document.createElement("script");r.src="https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/vs/loader.js",r.async=!0,r.onload=()=>{window.require.config({paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/min/vs"}}),window.require(["vs/editor/editor.main"],n=>{e(n)},n=>{t(n)})},r.onerror=n=>{t(n)},document.body.appendChild(r)}),Od)}const v4=({value:e,language:t,onChange:r})=>{const n=X.useRef(null),a=X.useRef(null),i=X.useRef(null),[o]=iP(),l=X.useRef(r);return X.useEffect(()=>{l.current=r},[r]),X.useEffect(()=>{let u=!1,c=null;return d4().then(h=>{u||!n.current||(i.current=h,h.languages.getLanguages().some(({id:d})=>d==="bngl")||(h.languages.register({id:"bngl"}),h.languages.setMonarchTokensProvider("bngl",{keywords:["begin","end","model","parameters","molecule","types","seed","species","observables","functions","reaction","rules","actions","generate_network","simulate","method","t_end","n_steps","ode","ssa","overwrite"],tokenizer:{root:[[/#.*$/,"comment"],[/[a-zA-Z_]\w*/,{cases:{"@keywords":"keyword","@default":"identifier"}}],[/(\w+)\s*\(/,"type.identifier"],[/\d+(\.\d+)?(e[+-]?\d+)?/,"number"],[/->|<->/,"operator"],[/[()\[\]{},.!~+@]/,"delimiter"]]}})),c=h.editor.create(n.current,{value:e,language:t,theme:o==="dark"?"vs-dark":"vs",automaticLayout:!0,minimap:{enabled:!1},wordWrap:"on"}),a.current=c,c.onDidChangeModelContent(()=>{l.current(c.getValue())}))}).catch(h=>{u||console.error("Failed to initialize Monaco Editor:",h)}),()=>{u=!0,c&&c.dispose(),a.current=null}},[]),X.useEffect(()=>{const u=a.current;if(u&&u.getValue()!==e){const c=u.getModel();c?c.setValue(e):u.setValue(e)}},[e]),X.useEffect(()=>{i.current&&a.current&&i.current.editor.setTheme(o==="dark"?"vs-dark":"vs")},[o]),B.jsx("div",{ref:n,className:"w-full h-full border border-stone-300 dark:border-slate-700 rounded-md"})},g4=({code:e,onCodeChange:t,onParse:r,onSimulate:n,onCancelSimulation:a,isSimulating:i,modelExists:o})=>{const[l,u]=X.useState(!1),[c,h]=X.useState("ode"),d=aa.useRef(null),v=m=>{var x;const b=(x=m.target.files)==null?void 0:x[0];if(b){const w=new FileReader;w.onload=T=>{var S;t((S=T.target)==null?void 0:S.result)},w.readAsText(b)}},p=m=>{t(m),u(!1)};return B.jsxs(Tn,{className:"flex flex-col h-full",children:[B.jsx("h2",{className:"text-xl font-bold mb-3 text-slate-800 dark:text-slate-100",children:"BNGL Model Editor"}),B.jsx("div",{className:"flex-grow relative",children:B.jsx(v4,{language:"bngl",value:e,onChange:m=>t(m||"")})}),B.jsxs("div",{className:"mt-4 flex flex-wrap gap-2 items-center justify-between",children:[B.jsxs("div",{className:"flex flex-wrap gap-2",children:[B.jsx(Nr,{onClick:()=>u(!0),children:"Examples"}),B.jsxs(Nr,{variant:"subtle",onClick:()=>{var m;return(m=d.current)==null?void 0:m.click()},children:[B.jsx(u4,{className:"w-4 h-4 mr-2"}),"Load BNGL"]}),B.jsx("input",{type:"file",ref:d,onChange:v,className:"hidden",accept:".bngl"})]}),B.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[B.jsx(Nr,{onClick:r,children:"Parse Model"}),B.jsxs("div",{className:"flex items-center gap-3 pl-2 border-l border-stone-300 dark:border-slate-600",children:[B.jsx(h4,{name:"simulationMethod",value:c,onChange:m=>h(m),options:[{label:"ODE",value:"ode"},{label:"SSA",value:"ssa"}]}),B.jsxs(Nr,{onClick:()=>n({method:c,t_end:100,n_steps:100}),disabled:i||!o,variant:"primary",children:[i&&B.jsx(lw,{className:"w-4 h-4 mr-2"}),i?"Simulating...":"Run Simulation"]}),i&&B.jsx(Nr,{variant:"danger",onClick:a,children:"Cancel"})]})]})]}),B.jsx(f4,{isOpen:l,onClose:()=>u(!1),onSelect:p})]})},uw=X.createContext(null),p4=({children:e})=>{const[t,r]=X.useState(0);return B.jsx(uw.Provider,{value:{activeIndex:t,setActiveIndex:r},children:B.jsx("div",{children:e})})},m4=({children:e})=>{const t=X.useContext(uw);if(!t)throw new Error("TabList must be used within a Tabs component");return B.jsx("div",{className:"border-b border-stone-200 dark:border-slate-700",children:B.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto","aria-label":"Tabs",children:X.Children.map(e,(r,n)=>aa.cloneElement(r,{isActive:n===t.activeIndex,onClick:()=>t.setActiveIndex(n)}))})})},Ps=({children:e,isActive:t,onClick:r})=>B.jsx("button",{onClick:r,className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm transition-colors ${t?"border-primary text-primary dark:text-primary-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-stone-300 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:border-slate-600"}`,children:e}),y4=({children:e})=>{const t=X.useContext(uw);if(!t)throw new Error("TabPanels must be used within a Tabs component");return B.jsx("div",{className:"mt-4",children:X.Children.toArray(e)[t.activeIndex]})},Rs=({children:e})=>B.jsx("div",{children:e});function oP(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=oP(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function mr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=oP(e))&&(n&&(n+=" "),n+=t);return n}var b4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function cw(e){if(typeof e!="string")return!1;var t=b4;return t.includes(e)}var x4=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function sP(e){if(typeof e!="string")return!1;var t=x4;return t.includes(e)}function lP(e){return typeof e=="string"&&e.startsWith("data-")}function xi(e){var t=Object.entries(e).filter(r=>{var[n]=r;return sP(n)||lP(n)});return Object.fromEntries(t)}function Ag(e){if(e==null)return null;if(X.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return xi(t)}return typeof e=="object"&&!Array.isArray(e)?xi(e):null}function la(e){var t=Object.entries(e).filter(r=>{var[n]=r;return sP(n)||lP(n)||cw(n)});return Object.fromEntries(t)}function w4(e){return e==null?null:X.isValidElement(e)?la(e.props):typeof e=="object"&&!Array.isArray(e)?la(e):null}var E4=["children","width","height","viewBox","className","style","title","desc"];function H1(){return H1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H1.apply(null,arguments)}function S4(e,t){if(e==null)return{};var r,n,a=T4(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function T4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fw=X.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:l,title:u,desc:c}=e,h=S4(e,E4),d=i||{width:n,height:a,x:0,y:0},v=mr("recharts-surface",o);return X.createElement("svg",H1({},la(h),{className:v,width:n,height:a,style:l,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),X.createElement("title",null,u),X.createElement("desc",null,c),r)}),A4=["children","className"];function X1(){return X1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X1.apply(null,arguments)}function C4(e,t){if(e==null)return{};var r,n,a=M4(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function M4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gl=X.forwardRef((e,t)=>{var{children:r,className:n}=e,a=C4(e,A4),i=mr("recharts-layer",n);return X.createElement("g",X1({className:i},la(a),{ref:t}),r)}),uP=JN(),cP=X.createContext(null),O4=()=>X.useContext(cP);function Er(e){return function(){return e}}const fP=Math.cos,Av=Math.sin,li=Math.sqrt,Cv=Math.PI,Cg=2*Cv,K1=Math.PI,W1=2*K1,Us=1e-6,_4=W1-Us;function hP(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function D4(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return hP;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class k4{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?hP:D4(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,u=n-t,c=a-r,h=o-t,d=l-r,v=h*h+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>Us)if(!(Math.abs(d*u-c*h)>Us)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,m=a-l,b=u*u+c*c,x=p*p+m*m,w=Math.sqrt(b),T=Math.sqrt(v),S=i*Math.tan((K1-Math.acos((b+v-x)/(2*w*T)))/2),D=S/T,R=S/w;Math.abs(D-1)>Us&&this._append`L${t+D*h},${r+D*d}`,this._append`A${i},${i},0,0,${+(d*p>h*m)},${this._x1=t+R*u},${this._y1=r+R*c}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),u=n*Math.sin(a),c=t+l,h=r+u,d=1^o,v=o?a-i:i-a;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>Us||Math.abs(this._y1-h)>Us)&&this._append`L${c},${h}`,n&&(v<0&&(v=v%W1+W1),v>_4?this._append`A${n},${n},0,1,${d},${t-l},${r-u}A${n},${n},0,1,${d},${this._x1=c},${this._y1=h}`:v>Us&&this._append`A${n},${n},0,${+(v>=K1)},${d},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function hw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new k4(t)}function dw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function dP(e){this._context=e}dP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Mg(e){return new dP(e)}function vP(e){return e[0]}function gP(e){return e[1]}function pP(e,t){var r=Er(!0),n=null,a=Mg,i=null,o=hw(l);e=typeof e=="function"?e:e===void 0?vP:Er(e),t=typeof t=="function"?t:t===void 0?gP:Er(t);function l(u){var c,h=(u=dw(u)).length,d,v=!1,p;for(n==null&&(i=a(p=o())),c=0;c<=h;++c)!(c<h&&r(d=u[c],c,u))===v&&((v=!v)?i.lineStart():i.lineEnd()),v&&i.point(+e(d,c,u),+t(d,c,u));if(p)return i=null,p+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Er(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Er(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Er(!!u),l):r},l.curve=function(u){return arguments.length?(a=u,n!=null&&(i=a(n)),l):a},l.context=function(u){return arguments.length?(u==null?n=i=null:i=a(n=u),l):n},l}function _d(e,t,r){var n=null,a=Er(!0),i=null,o=Mg,l=null,u=hw(c);e=typeof e=="function"?e:e===void 0?vP:Er(+e),t=typeof t=="function"?t:Er(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?gP:Er(+r);function c(d){var v,p,m,b=(d=dw(d)).length,x,w=!1,T,S=new Array(b),D=new Array(b);for(i==null&&(l=o(T=u())),v=0;v<=b;++v){if(!(v<b&&a(x=d[v],v,d))===w)if(w=!w)p=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=v-1;m>=p;--m)l.point(S[m],D[m]);l.lineEnd(),l.areaEnd()}w&&(S[v]=+e(x,v,d),D[v]=+t(x,v,d),l.point(n?+n(x,v,d):S[v],r?+r(x,v,d):D[v]))}if(T)return l=null,T+""||null}function h(){return pP().defined(a).curve(o).context(i)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Er(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Er(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Er(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Er(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Er(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Er(+d),c):r},c.lineX0=c.lineY0=function(){return h().x(e).y(t)},c.lineY1=function(){return h().x(e).y(r)},c.lineX1=function(){return h().x(n).y(t)},c.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Er(!!d),c):a},c.curve=function(d){return arguments.length?(o=d,i!=null&&(l=o(i)),c):o},c.context=function(d){return arguments.length?(d==null?i=l=null:l=o(i=d),c):i},c}class mP{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function N4(e){return new mP(e,!0)}function P4(e){return new mP(e,!1)}const vw={draw(e,t){const r=li(t/Cv);e.moveTo(r,0),e.arc(0,0,r,0,Cg)}},R4={draw(e,t){const r=li(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},yP=li(1/3),L4=yP*2,j4={draw(e,t){const r=li(t/L4),n=r*yP;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},B4={draw(e,t){const r=li(t),n=-r/2;e.rect(n,n,r,r)}},I4=.8908130915292852,bP=Av(Cv/10)/Av(7*Cv/10),z4=Av(Cg/10)*bP,F4=-fP(Cg/10)*bP,U4={draw(e,t){const r=li(t*I4),n=z4*r,a=F4*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Cg*i/5,l=fP(o),u=Av(o);e.lineTo(u*r,-l*r),e.lineTo(l*n-u*a,u*n+l*a)}e.closePath()}},Uy=li(3),G4={draw(e,t){const r=-li(t/(Uy*3));e.moveTo(0,r*2),e.lineTo(-Uy*r,-r),e.lineTo(Uy*r,-r),e.closePath()}},La=-.5,ja=li(3)/2,Z1=1/li(12),q4=(Z1/2+1)*3,V4={draw(e,t){const r=li(t/q4),n=r/2,a=r*Z1,i=n,o=r*Z1+r,l=-i,u=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,u),e.lineTo(La*n-ja*a,ja*n+La*a),e.lineTo(La*i-ja*o,ja*i+La*o),e.lineTo(La*l-ja*u,ja*l+La*u),e.lineTo(La*n+ja*a,La*a-ja*n),e.lineTo(La*i+ja*o,La*o-ja*i),e.lineTo(La*l+ja*u,La*u-ja*l),e.closePath()}};function $4(e,t){let r=null,n=hw(a);e=typeof e=="function"?e:Er(e||vw),t=typeof t=="function"?t:Er(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Er(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Er(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Mv(){}function Ov(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function xP(e){this._context=e}xP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ov(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ov(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Y4(e){return new xP(e)}function wP(e){this._context=e}wP.prototype={areaStart:Mv,areaEnd:Mv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ov(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function H4(e){return new wP(e)}function EP(e){this._context=e}EP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ov(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function X4(e){return new EP(e)}function SP(e){this._context=e}SP.prototype={areaStart:Mv,areaEnd:Mv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function K4(e){return new SP(e)}function sC(e){return e<0?-1:1}function lC(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(sC(i)+sC(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function uC(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Gy(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function _v(e){this._context=e}_v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Gy(this,this._t0,uC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Gy(this,uC(this,r=lC(this,e,t)),r);break;default:Gy(this,this._t0,r=lC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function TP(e){this._context=new AP(e)}(TP.prototype=Object.create(_v.prototype)).point=function(e,t){_v.prototype.point.call(this,t,e)};function AP(e){this._context=e}AP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function W4(e){return new _v(e)}function Z4(e){return new TP(e)}function CP(e){this._context=e}CP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=cC(e),a=cC(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function cC(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Q4(e){return new CP(e)}function Og(e,t){this._context=e,this._t=t}Og.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function J4(e){return new Og(e,.5)}function eF(e){return new Og(e,0)}function tF(e){return new Og(e,1)}function Eu(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Q1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function rF(e,t){return e[t]}function nF(e){const t=[];return t.key=e,t}function aF(){var e=Er([]),t=Q1,r=Eu,n=rF;function a(i){var o=Array.from(e.apply(this,arguments),nF),l,u=o.length,c=-1,h;for(const d of i)for(l=0,++c;l<u;++l)(o[l][c]=[0,+n(d,o[l].key,c,i)]).data=d;for(l=0,h=dw(t(o));l<u;++l)o[h[l]].index=l;return r(o,h),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Er(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Er(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Q1:typeof i=="function"?i:Er(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Eu,a):r},a}function iF(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Eu(e,t)}}function oF(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Eu(e,t)}}function sF(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,u=0,c=0;l<o;++l){for(var h=e[t[l]],d=h[n][1]||0,v=h[n-1][1]||0,p=(d-v)/2,m=0;m<l;++m){var b=e[t[m]],x=b[n][1]||0,w=b[n-1][1]||0;p+=x-w}u+=d,c+=p*d}a[n-1][1]+=a[n-1][0]=r,u&&(r-=c/u)}a[n-1][1]+=a[n-1][0]=r,Eu(e,t)}}var qy={},Vy={},fC;function lF(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Vy)),Vy}var $y={},hC;function MP(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})($y)),$y}var Yy={},dC;function gw(){return dC||(dC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Yy)),Yy}var Hy={},Xy={},vC;function uF(){return vC||(vC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Xy)),Xy}var gC;function pw(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uF(),r=gw();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let l=0,u="",c="",h=!1;for(a.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const d=a[l];c?d==="\\"&&l+1<o?(l++,u+=a[l]):d===c?c="":u+=d:h?d==='"'||d==="'"?c=d:d==="]"?(h=!1,i.push(u),u=""):u+=d:d==="["?(h=!0,u&&(i.push(u),u="")):d==="."?u&&(i.push(u),u=""):u+=d,l++}return u&&i.push(u),i}e.toPath=n})(Hy)),Hy}var pC;function mw(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lF(),r=MP(),n=gw(),a=pw();function i(l,u,c){if(l==null)return c;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return c;const h=l[u];return h===void 0?r.isDeepKey(u)?i(l,a.toPath(u),c):c:h}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const h=l[u];return h===void 0?c:h}default:{if(Array.isArray(u))return o(l,u,c);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return c;const h=l[u];return h===void 0?c:h}}}function o(l,u,c){if(u.length===0)return c;let h=l;for(let d=0;d<u.length;d++){if(h==null||t.isUnsafeProperty(u[d]))return c;h=h[u[d]]}return h===void 0?c:h}e.get=i})(qy)),qy}var Ky,mC;function cF(){return mC||(mC=1,Ky=mw().get),Ky}var fF=cF();const _g=Ha(fF);var Ga=e=>e===0?0:e>0?1:-1,oi=e=>typeof e=="number"&&e!=+e,Ji=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Rt=e=>(typeof e=="number"||e instanceof Number)&&!oi(e),ia=e=>Rt(e)||typeof e=="string",hF=0,df=e=>{var t=++hF;return"".concat(e||"").concat(t)},es=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Rt(t)&&typeof t!="string")return n;var i;if(Ji(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return oi(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},OP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function $i(e,t,r){return Rt(e)&&Rt(t)?e+r*(t-e):t}function _P(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):_g(n,t))===r)}var gn=e=>e===null||typeof e>"u",zf=e=>gn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),dF=["type","size","sizeType"];function J1(){return J1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J1.apply(null,arguments)}function yC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(r),!0).forEach(function(n){vF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vF(e,t,r){return(t=gF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gF(e){var t=pF(e,"string");return typeof t=="symbol"?t:t+""}function pF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mF(e,t){if(e==null)return{};var r,n,a=yF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DP={symbolCircle:vw,symbolCross:R4,symbolDiamond:j4,symbolSquare:B4,symbolStar:U4,symbolTriangle:G4,symbolWye:V4},bF=Math.PI/180,xF=e=>{var t="symbol".concat(zf(e));return DP[t]||vw},wF=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*bF;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},EF=(e,t)=>{DP["symbol".concat(zf(e))]=t},kP=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=mF(e,dF),i=bC(bC({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var v=xF(o),p=$4().type(v).size(wF(r,n,o)),m=p();if(m!==null)return m},{className:u,cx:c,cy:h}=i,d=la(i);return c===+c&&h===+h&&r===+r?X.createElement("path",J1({},d,{className:mr("recharts-symbols",u),transform:"translate(".concat(c,", ").concat(h,")"),d:l()})):null};kP.registerSymbol=EF;var yw=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(X.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{cw(a)&&(n[a]=(i=>r[a](r,i)))}),n},SF=(e,t,r)=>n=>(e(t,r,n),null),NP=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];cw(a)&&typeof i=="function"&&(n||(n={}),n[a]=SF(i,t,r))}),n};function ex(){return ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ex.apply(null,arguments)}function xC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xC(Object(r),!0).forEach(function(n){bw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bw(e,t,r){return(t=AF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AF(e){var t=CF(e,"string");return typeof t=="symbol"?t:t+""}function CF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ba=32;class xw extends X.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=Ba/2,i=Ba/6,o=Ba/3,l=t.inactive?n:t.color,u=r??t.type;if(u==="none")return null;if(u==="plainline")return X.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:Ba,y2:a,className:"recharts-legend-icon"});if(u==="line")return X.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Ba,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(u==="rect")return X.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ba/8,"h").concat(Ba,"v").concat(Ba*3/4,"h").concat(-Ba,"z"),className:"recharts-legend-icon"});if(X.isValidElement(t.legendIcon)){var c=TF({},t);return delete c.legendIcon,X.cloneElement(t.legendIcon,c)}return X.createElement(kP,{fill:l,cx:a,cy:a,size:Ba,sizeType:"diameter",type:u})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:o}=this.props,l={x:0,y:0,width:Ba,height:Ba},u={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,d)=>{var v=h.formatter||a,p=mr({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:h.inactive});if(h.type==="none")return null;var m=h.inactive?i:h.color,b=v?v(h.value,h,d):h.value;return X.createElement("li",ex({className:p,style:u,key:"legend-item-".concat(d)},NP(this.props,h,d)),X.createElement(fw,{width:r,height:r,viewBox:l,style:c,"aria-label":"".concat(b," legend icon")},this.renderIcon(h,o)),X.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},b))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return X.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}bw(xw,"displayName","Legend");bw(xw,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Wy={},Zy={},wC;function MF(){return wC||(wC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(Zy)),Zy}var Qy={},EC;function PP(){return EC||(EC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Qy)),Qy}var Jy={},e0={},t0={},SC;function OF(){return SC||(SC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(t0)),t0}var TC;function ww(){return TC||(TC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OF();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(e0)),e0}var r0={},AC;function _F(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(r0)),r0}var CC;function DF(){return CC||(CC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ww(),r=_F();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(Jy)),Jy}var n0={},a0={},MC;function kF(){return MC||(MC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mw();function r(n){return function(a){return t.get(a,n)}}e.property=r})(a0)),a0}var i0={},o0={},s0={},l0={},OC;function RP(){return OC||(OC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(l0)),l0}var u0={},_C;function LP(){return _C||(_C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(u0)),u0}var c0={},DC;function jP(){return DC||(DC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(c0)),c0}var kC;function NF(){return kC||(kC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ew(),r=RP(),n=LP(),a=jP();function i(d,v,p){return typeof p!="function"?t.isMatch(d,v):o(d,v,function m(b,x,w,T,S,D){const R=p(b,x,w,T,S,D);return R!==void 0?!!R:o(b,x,m,D)},new Map)}function o(d,v,p,m){if(v===d)return!0;switch(typeof v){case"object":return l(d,v,p,m);case"function":return Object.keys(v).length>0?o(d,{...v},p,m):a.eq(d,v);default:return r.isObject(d)?typeof v=="string"?v==="":!0:a.eq(d,v)}}function l(d,v,p,m){if(v==null)return!0;if(Array.isArray(v))return c(d,v,p,m);if(v instanceof Map)return u(d,v,p,m);if(v instanceof Set)return h(d,v,p,m);const b=Object.keys(v);if(d==null)return b.length===0;if(b.length===0)return!0;if(m&&m.has(v))return m.get(v)===d;m&&m.set(v,d);try{for(let x=0;x<b.length;x++){const w=b[x];if(!n.isPrimitive(d)&&!(w in d)||v[w]===void 0&&d[w]!==void 0||v[w]===null&&d[w]!==null||!p(d[w],v[w],w,d,v,m))return!1}return!0}finally{m&&m.delete(v)}}function u(d,v,p,m){if(v.size===0)return!0;if(!(d instanceof Map))return!1;for(const[b,x]of v.entries()){const w=d.get(b);if(p(w,x,b,d,v,m)===!1)return!1}return!0}function c(d,v,p,m){if(v.length===0)return!0;if(!Array.isArray(d))return!1;const b=new Set;for(let x=0;x<v.length;x++){const w=v[x];let T=!1;for(let S=0;S<d.length;S++){if(b.has(S))continue;const D=d[S];let R=!1;if(p(D,w,x,d,v,m)&&(R=!0),R){b.add(S),T=!0;break}}if(!T)return!1}return!0}function h(d,v,p,m){return v.size===0?!0:d instanceof Set?c([...d],[...v],p,m):!1}e.isMatchWith=i,e.isSetMatch=h})(s0)),s0}var NC;function Ew(){return NC||(NC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NF();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(o0)),o0}var f0={},h0={},d0={},PC;function PF(){return PC||(PC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(d0)),d0}var v0={},RC;function BP(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(v0)),v0}var g0={},LC;function IP(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",c="[object Set]",h="[object Array]",d="[object Function]",v="[object ArrayBuffer]",p="[object Object]",m="[object Error]",b="[object DataView]",x="[object Uint8Array]",w="[object Uint8ClampedArray]",T="[object Uint16Array]",S="[object Uint32Array]",D="[object BigUint64Array]",R="[object Int8Array]",L="[object Int16Array]",_="[object Int32Array]",N="[object BigInt64Array]",P="[object Float32Array]",U="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=N,e.bigUint64ArrayTag=D,e.booleanTag=a,e.dataViewTag=b,e.dateTag=l,e.errorTag=m,e.float32ArrayTag=P,e.float64ArrayTag=U,e.functionTag=d,e.int16ArrayTag=L,e.int32ArrayTag=_,e.int8ArrayTag=R,e.mapTag=u,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=T,e.uint32ArrayTag=S,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=w})(g0)),g0}var p0={},jC;function RF(){return jC||(jC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(p0)),p0}var BC;function zP(){return BC||(BC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PF(),r=BP(),n=IP(),a=LP(),i=RF();function o(h,d){return l(h,void 0,h,new Map,d)}function l(h,d,v,p=new Map,m=void 0){const b=m==null?void 0:m(h,d,v,p);if(b!==void 0)return b;if(a.isPrimitive(h))return h;if(p.has(h))return p.get(h);if(Array.isArray(h)){const x=new Array(h.length);p.set(h,x);for(let w=0;w<h.length;w++)x[w]=l(h[w],w,v,p,m);return Object.hasOwn(h,"index")&&(x.index=h.index),Object.hasOwn(h,"input")&&(x.input=h.input),x}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const x=new RegExp(h.source,h.flags);return x.lastIndex=h.lastIndex,x}if(h instanceof Map){const x=new Map;p.set(h,x);for(const[w,T]of h)x.set(w,l(T,w,v,p,m));return x}if(h instanceof Set){const x=new Set;p.set(h,x);for(const w of h)x.add(l(w,void 0,v,p,m));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(i.isTypedArray(h)){const x=new(Object.getPrototypeOf(h)).constructor(h.length);p.set(h,x);for(let w=0;w<h.length;w++)x[w]=l(h[w],w,v,p,m);return x}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const x=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return p.set(h,x),u(x,h,v,p,m),x}if(typeof File<"u"&&h instanceof File){const x=new File([h],h.name,{type:h.type});return p.set(h,x),u(x,h,v,p,m),x}if(typeof Blob<"u"&&h instanceof Blob){const x=new Blob([h],{type:h.type});return p.set(h,x),u(x,h,v,p,m),x}if(h instanceof Error){const x=new h.constructor;return p.set(h,x),x.message=h.message,x.name=h.name,x.stack=h.stack,x.cause=h.cause,u(x,h,v,p,m),x}if(h instanceof Boolean){const x=new Boolean(h.valueOf());return p.set(h,x),u(x,h,v,p,m),x}if(h instanceof Number){const x=new Number(h.valueOf());return p.set(h,x),u(x,h,v,p,m),x}if(h instanceof String){const x=new String(h.valueOf());return p.set(h,x),u(x,h,v,p,m),x}if(typeof h=="object"&&c(h)){const x=Object.create(Object.getPrototypeOf(h));return p.set(h,x),u(x,h,v,p,m),x}return h}function u(h,d,v=h,p,m){const b=[...Object.keys(d),...t.getSymbols(d)];for(let x=0;x<b.length;x++){const w=b[x],T=Object.getOwnPropertyDescriptor(h,w);(T==null||T.writable)&&(h[w]=l(d[w],w,v,p,m))}}function c(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=u})(h0)),h0}var IC;function LF(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zP();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(f0)),f0}var zC;function jF(){return zC||(zC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ew(),r=LF();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(i0)),i0}var m0={},y0={},b0={},FC;function BF(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zP(),r=IP();function n(a,i){return t.cloneDeepWith(a,(o,l,u,c)=>{const h=i==null?void 0:i(o,l,u,c);if(h!==void 0)return h;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(d,a),d}case r.argumentsTag:{const d={};return t.copyProperties(d,a),d.length=a.length,d[Symbol.iterator]=a[Symbol.iterator],d}default:return}})}e.cloneDeepWith=n})(b0)),b0}var UC;function IF(){return UC||(UC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BF();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(y0)),y0}var x0={},w0={},GC;function FP(){return GC||(GC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(w0)),w0}var E0={},qC;function zF(){return qC||(qC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BP();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(E0)),E0}var VC;function FF(){return VC||(VC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MP(),r=FP(),n=zF(),a=pw();function i(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?u=a.toPath(l):u=[l],u.length===0)return!1;let c=o;for(let h=0;h<u.length;h++){const d=u[h];if((c==null||!Object.hasOwn(c,d))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(d)&&d<c.length))return!1;c=c[d]}return!0}e.has=i})(x0)),x0}var $C;function UF(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ew(),r=gw(),n=IF(),a=mw(),i=FF();function o(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return u=n.cloneDeep(u),function(c){const h=a.get(c,l);return h===void 0?i.has(c,l):u===void 0?h===void 0:t.isMatch(h,u)}}e.matchesProperty=o})(m0)),m0}var YC;function GF(){return YC||(YC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PP(),r=kF(),n=jF(),a=UF();function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(n0)),n0}var HC;function qF(){return HC||(HC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MF(),r=PP(),n=DF(),a=GF();function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(l)):[]}e.uniqBy=i})(Wy)),Wy}var S0,XC;function VF(){return XC||(XC=1,S0=qF().uniqBy),S0}var $F=VF();const KC=Ha($F);function UP(e,t,r){return t===!0?KC(e,r):typeof t=="function"?KC(e,t):e}var T0={exports:{}},A0={},C0={exports:{}},M0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WC;function YF(){if(WC)return M0;WC=1;var e=Pu();function t(d,v){return d===v&&(d!==0||1/d===1/v)||d!==d&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function l(d,v){var p=v(),m=n({inst:{value:p,getSnapshot:v}}),b=m[0].inst,x=m[1];return i(function(){b.value=p,b.getSnapshot=v,u(b)&&x({inst:b})},[d,p,v]),a(function(){return u(b)&&x({inst:b}),d(function(){u(b)&&x({inst:b})})},[d]),o(p),p}function u(d){var v=d.getSnapshot;d=d.value;try{var p=v();return!r(d,p)}catch{return!0}}function c(d,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:l;return M0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,M0}var ZC;function HF(){return ZC||(ZC=1,C0.exports=YF()),C0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QC;function XF(){if(QC)return A0;QC=1;var e=Pu(),t=HF();function r(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return A0.useSyncExternalStoreWithSelector=function(c,h,d,v,p){var m=i(null);if(m.current===null){var b={hasValue:!1,value:null};m.current=b}else b=m.current;m=l(function(){function w(L){if(!T){if(T=!0,S=L,L=v(L),p!==void 0&&b.hasValue){var _=b.value;if(p(_,L))return D=_}return D=L}if(_=D,n(S,L))return _;var N=v(L);return p!==void 0&&p(_,N)?(S=L,_):(S=L,D=N)}var T=!1,S,D,R=d===void 0?null:d;return[function(){return w(h())},R===null?void 0:function(){return w(R())}]},[h,d,v,p]);var x=a(c,m[0],m[1]);return o(function(){b.hasValue=!0,b.value=x},[x]),u(x),x},A0}var JC;function KF(){return JC||(JC=1,T0.exports=XF()),T0.exports}var WF=KF(),Sw=X.createContext(null),ZF=e=>e,nn=()=>{var e=X.useContext(Sw);return e?e.store.dispatch:ZF},sv=()=>{},QF=()=>sv,JF=(e,t)=>e===t;function Ot(e){var t=X.useContext(Sw);return WF.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:QF,t?t.store.getState:sv,t?t.store.getState:sv,t?e:sv,JF)}function eU(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function tU(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function rU(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var eM=e=>Array.isArray(e)?e:[e];function nU(e){const t=Array.isArray(e[0])?e[0]:e;return rU(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function aU(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var iU=class{constructor(e){this.value=e}deref(){return this.value}},oU=typeof WeakRef<"u"?WeakRef:iU,sU=0,tM=1;function Dd(){return{s:sU,v:void 0,o:null,p:null}}function GP(e,t={}){let r=Dd();const{resultEqualityCheck:n}=t;let a,i=0;function o(){var d;let l=r;const{length:u}=arguments;for(let v=0,p=u;v<p;v++){const m=arguments[v];if(typeof m=="function"||typeof m=="object"&&m!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const x=b.get(m);x===void 0?(l=Dd(),b.set(m,l)):l=x}else{let b=l.p;b===null&&(l.p=b=new Map);const x=b.get(m);x===void 0?(l=Dd(),b.set(m,l)):l=x}}const c=l;let h;if(l.s===tM)h=l.v;else if(h=e.apply(null,arguments),i++,n){const v=((d=a==null?void 0:a.deref)==null?void 0:d.call(a))??a;v!=null&&n(v,h)&&(h=v,i!==0&&i--),a=typeof h=="object"&&h!==null||typeof h=="function"?new oU(h):h}return c.s=tM,c.v=h,h}return o.clearCache=()=>{r=Dd(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function lU(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,l,u={},c=a.pop();typeof c=="object"&&(u=c,c=a.pop()),eU(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const h={...r,...u},{memoize:d,memoizeOptions:v=[],argsMemoize:p=GP,argsMemoizeOptions:m=[]}=h,b=eM(v),x=eM(m),w=nU(a),T=d(function(){return i++,c.apply(null,arguments)},...b),S=p(function(){o++;const R=aU(w,arguments);return l=T.apply(null,R),l},...x);return Object.assign(S,{resultFunc:c,memoizedResultFunc:T,dependencies:w,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:d,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var Ge=lU(GP),uU=Object.assign((e,t=Ge)=>{tU(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,u)=>(o[r[u]]=l,o),{}))},{withTypes:()=>uU}),O0={},_0={},D0={},rM;function cU(){return rM||(rM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(D0)),D0}var k0={},N0={},nM;function qP(){return nM||(nM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(N0)),N0}var aM;function fU(){return aM||(aM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qP(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(k0)),k0}var iM;function hU(){return iM||(iM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cU(),r=fU(),n=pw();function a(i,o,l,u){if(i==null)return[];l=u?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(p=>String(p));const c=(p,m)=>{let b=p;for(let x=0;x<m.length&&b!=null;++x)b=b[m[x]];return b},h=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:c(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?c(m,p):typeof m=="object"?m[p]:m,d=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return i.map(p=>({original:p,criteria:d.map(m=>h(m,p))})).slice().sort((p,m)=>{for(let b=0;b<d.length;b++){const x=t.compareValues(p.criteria[b],m.criteria[b],l[b]);if(x!==0)return x}return 0}).map(p=>p.original)}e.orderBy=a})(_0)),_0}var P0={},oM;function dU(){return oM||(oM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(l,u)=>{for(let c=0;c<l.length;c++){const h=l[c];Array.isArray(h)&&u<i?o(h,u+1):a.push(h)}};return o(r,0),a}e.flatten=t})(P0)),P0}var R0={},sM;function VP(){return sM||(sM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FP(),r=ww(),n=RP(),a=jP();function i(o,l,u){return n.isObject(u)&&(typeof l=="number"&&r.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?a.eq(u[l],o):!1}e.isIterateeCall=i})(R0)),R0}var lM;function vU(){return lM||(lM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hU(),r=dU(),n=VP();function a(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(O0)),O0}var L0,uM;function gU(){return uM||(uM=1,L0=vU().sortBy),L0}var pU=gU();const Dg=Ha(pU);var $P=e=>e.legend.settings,mU=e=>e.legend.size,yU=e=>e.legend.payload,bU=Ge([yU,$P],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Dg(n,r):n});function xU(){return Ot(bU)}var kd=1;function YP(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=X.useState({height:0,left:0,top:0,width:0}),n=X.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>kd||Math.abs(o.left-t.left)>kd||Math.abs(o.top-t.top)>kd||Math.abs(o.width-t.width)>kd)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Sn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var wU=typeof Symbol=="function"&&Symbol.observable||"@@observable",cM=wU,j0=()=>Math.random().toString(36).substring(7).split("").join("."),EU={INIT:`@@redux/INIT${j0()}`,REPLACE:`@@redux/REPLACE${j0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${j0()}`},Dv=EU;function Tw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function HP(e,t,r){if(typeof e!="function")throw new Error(Sn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Sn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Sn(1));return r(HP)(e,t)}let n=e,a=t,i=new Map,o=i,l=0,u=!1;function c(){o===i&&(o=new Map,i.forEach((x,w)=>{o.set(w,x)}))}function h(){if(u)throw new Error(Sn(3));return a}function d(x){if(typeof x!="function")throw new Error(Sn(4));if(u)throw new Error(Sn(5));let w=!0;c();const T=l++;return o.set(T,x),function(){if(w){if(u)throw new Error(Sn(6));w=!1,c(),o.delete(T),i=null}}}function v(x){if(!Tw(x))throw new Error(Sn(7));if(typeof x.type>"u")throw new Error(Sn(8));if(typeof x.type!="string")throw new Error(Sn(17));if(u)throw new Error(Sn(9));try{u=!0,a=n(a,x)}finally{u=!1}return(i=o).forEach(T=>{T()}),x}function p(x){if(typeof x!="function")throw new Error(Sn(10));n=x,v({type:Dv.REPLACE})}function m(){const x=d;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Sn(11));function T(){const D=w;D.next&&D.next(h())}return T(),{unsubscribe:x(T)}},[cM](){return this}}}return v({type:Dv.INIT}),{dispatch:v,subscribe:d,getState:h,replaceReducer:p,[cM]:m}}function SU(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Dv.INIT})>"u")throw new Error(Sn(12));if(typeof r(void 0,{type:Dv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Sn(13))})}function XP(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{SU(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let u=!1;const c={};for(let h=0;h<n.length;h++){const d=n[h],v=r[d],p=o[d],m=v(p,l);if(typeof m>"u")throw l&&l.type,new Error(Sn(14));c[d]=m,u=u||m!==p}return u=u||n.length!==Object.keys(o).length,u?c:o}}function kv(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function TU(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Sn(15))};const o={getState:a.getState,dispatch:(u,...c)=>i(u,...c)},l=e.map(u=>u(o));return i=kv(...l)(a.dispatch),{...a,dispatch:i}}}function KP(e){return Tw(e)&&"type"in e&&typeof e.type=="string"}var WP=Symbol.for("immer-nothing"),fM=Symbol.for("immer-draftable"),Aa=Symbol.for("immer-state");function ni(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Su=Object.getPrototypeOf;function nl(e){return!!e&&!!e[Aa]}function eo(e){var t;return e?ZP(e)||Array.isArray(e)||!!e[fM]||!!((t=e.constructor)!=null&&t[fM])||Ff(e)||Ng(e):!1}var AU=Object.prototype.constructor.toString();function ZP(e){if(!e||typeof e!="object")return!1;const t=Su(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===AU}function Nv(e,t){kg(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function kg(e){const t=e[Aa];return t?t.type_:Array.isArray(e)?1:Ff(e)?2:Ng(e)?3:0}function tx(e,t){return kg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function QP(e,t,r){const n=kg(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function CU(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ff(e){return e instanceof Map}function Ng(e){return e instanceof Set}function Gs(e){return e.copy_||e.base_}function rx(e,t){if(Ff(e))return new Map(e);if(Ng(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=ZP(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Aa];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Su(e),n)}else{const n=Su(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Aw(e,t=!1){return Pg(e)||nl(e)||!eo(e)||(kg(e)>1&&Object.defineProperties(e,{set:{value:Nd},add:{value:Nd},clear:{value:Nd},delete:{value:Nd}}),Object.freeze(e),t&&Object.values(e).forEach(r=>Aw(r,!0))),e}function Nd(){ni(2)}function Pg(e){return Object.isFrozen(e)}var MU={};function al(e){const t=MU[e];return t||ni(0,e),t}var vf;function JP(){return vf}function OU(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hM(e,t){t&&(al("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function nx(e){ax(e),e.drafts_.forEach(_U),e.drafts_=null}function ax(e){e===vf&&(vf=e.parent_)}function dM(e){return vf=OU(vf,e)}function _U(e){const t=e[Aa];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function vM(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Aa].modified_&&(nx(t),ni(4)),eo(e)&&(e=Pv(t,e),t.parent_||Rv(t,e)),t.patches_&&al("Patches").generateReplacementPatches_(r[Aa].base_,e,t.patches_,t.inversePatches_)):e=Pv(t,r,[]),nx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==WP?e:void 0}function Pv(e,t,r){if(Pg(t))return t;const n=t[Aa];if(!n)return Nv(t,(a,i)=>gM(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Rv(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,o=!1;n.type_===3&&(i=new Set(a),a.clear(),o=!0),Nv(i,(l,u)=>gM(e,n,a,l,u,r,o)),Rv(e,a,!1),r&&e.patches_&&al("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function gM(e,t,r,n,a,i,o){if(nl(a)){const l=i&&t&&t.type_!==3&&!tx(t.assigned_,n)?i.concat(n):void 0,u=Pv(e,a,l);if(QP(r,n,u),nl(u))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(eo(a)&&!Pg(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Pv(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Ff(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Rv(e,a)}}function Rv(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Aw(t,r)}function DU(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:JP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Cw;r&&(a=[n],i=gf);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,l}var Cw={get(e,t){if(t===Aa)return e;const r=Gs(e);if(!tx(r,t))return kU(e,r,t);const n=r[t];return e.finalized_||!eo(n)?n:n===B0(e.base_,t)?(I0(e),e.copy_[t]=ox(n,e)):n},has(e,t){return t in Gs(e)},ownKeys(e){return Reflect.ownKeys(Gs(e))},set(e,t,r){const n=eR(Gs(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=B0(Gs(e),t),i=a==null?void 0:a[Aa];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(CU(r,a)&&(r!==void 0||tx(e.base_,t)))return!0;I0(e),ix(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return B0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,I0(e),ix(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Gs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ni(11)},getPrototypeOf(e){return Su(e.base_)},setPrototypeOf(){ni(12)}},gf={};Nv(Cw,(e,t)=>{gf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});gf.deleteProperty=function(e,t){return gf.set.call(this,e,t,void 0)};gf.set=function(e,t,r){return Cw.set.call(this,e[0],t,r,e[0])};function B0(e,t){const r=e[Aa];return(r?Gs(r):e)[t]}function kU(e,t,r){var a;const n=eR(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function eR(e,t){if(!(t in e))return;let r=Su(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Su(r)}}function ix(e){e.modified_||(e.modified_=!0,e.parent_&&ix(e.parent_))}function I0(e){e.copy_||(e.copy_=rx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var NU=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(u=i,...c){return o.produce(u,h=>r.call(this,h,...c))}}typeof r!="function"&&ni(6),n!==void 0&&typeof n!="function"&&ni(7);let a;if(eo(t)){const i=dM(this),o=ox(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?nx(i):ax(i)}return hM(i,n),vM(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===WP&&(a=void 0),this.autoFreeze_&&Aw(a,!0),n){const i=[],o=[];al("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else ni(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){eo(e)||ni(8),nl(e)&&(e=Zi(e));const t=dM(this),r=ox(e,void 0);return r[Aa].isManual_=!0,ax(t),r}finishDraft(e,t){const r=e&&e[Aa];(!r||!r.isManual_)&&ni(9);const{scope_:n}=r;return hM(n,t),vM(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=al("Patches").applyPatches_;return nl(e)?n(e,t):this.produce(e,a=>n(a,t))}};function ox(e,t){const r=Ff(e)?al("MapSet").proxyMap_(e,t):Ng(e)?al("MapSet").proxySet_(e,t):DU(e,t);return(t?t.scope_:JP()).drafts_.push(r),r}function Zi(e){return nl(e)||ni(10,e),tR(e)}function tR(e){if(!eo(e)||Pg(e))return e;const t=e[Aa];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=rx(e,t.scope_.immer_.useStrictShallowCopy_)}else r=rx(e,!0);return Nv(r,(n,a)=>{QP(r,n,tR(a))}),t&&(t.finalized_=!1),r}var PU=new NU,rR=PU.produce;function nR(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var RU=nR(),LU=nR,jU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?kv:kv.apply(null,arguments)};function $a(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Sa(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>KP(n)&&n.type===e,r}var aR=class nf extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,nf.prototype)}static get[Symbol.species](){return nf}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new nf(...t[0].concat(this)):new nf(...t.concat(this))}};function pM(e){return eo(e)?rR(e,()=>{}):e}function Pd(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function BU(e){return typeof e=="boolean"}var IU=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new aR;return r&&(BU(r)?o.push(RU):o.push(LU(r.extraArgument))),o},iR="RTK_autoBatch",Gn=()=>e=>({payload:e,meta:{[iR]:!0}}),mM=e=>t=>{setTimeout(t,e)},oR=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:mM(10):e.type==="callback"?e.queueNotification:mM(e.timeout),c=()=>{o=!1,i&&(i=!1,l.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const d=()=>a&&h(),v=n.subscribe(d);return l.add(h),()=>{v(),l.delete(h)}},dispatch(h){var d;try{return a=!((d=h==null?void 0:h.meta)!=null&&d[iR]),i=!a,i&&(o||(o=!0,u(c))),n.dispatch(h)}finally{a=!0}}})},zU=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new aR(e);return n&&a.push(oR(typeof n=="object"?n:void 0)),a};function FU(e){const t=IU(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(Tw(r))l=XP(r);else throw new Error(Sa(1));let u;typeof n=="function"?u=n(t):u=t();let c=kv;a&&(c=jU({trace:!1,...typeof a=="object"&&a}));const h=TU(...u),d=zU(h);let v=typeof o=="function"?o(d):d();const p=c(...v);return HP(l,i,p)}function sR(e){const t={},r=[];let n;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(Sa(28));if(l in t)throw new Error(Sa(29));return t[l]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function UU(e){return typeof e=="function"}function GU(e,t){let[r,n,a]=sR(t),i;if(UU(e))i=()=>pM(e());else{const l=pM(e);i=()=>l}function o(l=i(),u){let c=[r[u.type],...n.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return c.filter(h=>!!h).length===0&&(c=[a]),c.reduce((h,d)=>{if(d)if(nl(h)){const p=d(h,u);return p===void 0?h:p}else{if(eo(h))return rR(h,v=>d(v,u));{const v=d(h,u);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},l)}return o.getInitialState=i,o}var qU="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",VU=(e=21)=>{let t="",r=e;for(;r--;)t+=qU[Math.random()*64|0];return t},$U=Symbol.for("rtk-slice-createasyncthunk");function YU(e,t){return`${e}/${t}`}function HU({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[$U];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(Sa(11));const l=(typeof a.reducers=="function"?a.reducers(KU()):a.reducers)||{},u=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(D,R){const L=typeof D=="string"?D:D.type;if(!L)throw new Error(Sa(12));if(L in c.sliceCaseReducersByType)throw new Error(Sa(13));return c.sliceCaseReducersByType[L]=R,h},addMatcher(D,R){return c.sliceMatchers.push({matcher:D,reducer:R}),h},exposeAction(D,R){return c.actionCreators[D]=R,h},exposeCaseReducer(D,R){return c.sliceCaseReducersByName[D]=R,h}};u.forEach(D=>{const R=l[D],L={reducerName:D,type:YU(i,D),createNotation:typeof a.reducers=="function"};ZU(R)?JU(L,R,h,t):WU(L,R,h)});function d(){const[D={},R=[],L=void 0]=typeof a.extraReducers=="function"?sR(a.extraReducers):[a.extraReducers],_={...D,...c.sliceCaseReducersByType};return GU(a.initialState,N=>{for(let P in _)N.addCase(P,_[P]);for(let P of c.sliceMatchers)N.addMatcher(P.matcher,P.reducer);for(let P of R)N.addMatcher(P.matcher,P.reducer);L&&N.addDefaultCase(L)})}const v=D=>D,p=new Map,m=new WeakMap;let b;function x(D,R){return b||(b=d()),b(D,R)}function w(){return b||(b=d()),b.getInitialState()}function T(D,R=!1){function L(N){let P=N[D];return typeof P>"u"&&R&&(P=Pd(m,L,w)),P}function _(N=v){const P=Pd(p,R,()=>new WeakMap);return Pd(P,N,()=>{const U={};for(const[j,F]of Object.entries(a.selectors??{}))U[j]=XU(F,N,()=>Pd(m,N,w),R);return U})}return{reducerPath:D,getSelectors:_,get selectors(){return _(L)},selectSlice:L}}const S={name:i,reducer:x,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:w,...T(o),injectInto(D,{reducerPath:R,...L}={}){const _=R??o;return D.inject({reducerPath:_,reducer:x},L),{...S,...T(_,!0)}}};return S}}function XU(e,t,r,n){function a(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var Ca=HU();function KU(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function WU({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!QU(n))throw new Error(Sa(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?$a(e,o):$a(e))}function ZU(e){return e._reducerDefinitionType==="asyncThunk"}function QU(e){return e._reducerDefinitionType==="reducerWithPrepare"}function JU({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Sa(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:u,settled:c,options:h}=r,d=a(e,i,h);n.exposeAction(t,d),o&&n.addCase(d.fulfilled,o),l&&n.addCase(d.pending,l),u&&n.addCase(d.rejected,u),c&&n.addMatcher(d.settled,c),n.exposeCaseReducer(t,{fulfilled:o||Rd,pending:l||Rd,rejected:u||Rd,settled:c||Rd})}function Rd(){}var eG="task",lR="listener",uR="completed",Mw="cancelled",tG=`task-${Mw}`,rG=`task-${uR}`,sx=`${lR}-${Mw}`,nG=`${lR}-${uR}`,Rg=class{constructor(e){Cd(this,"name","TaskAbortError");Cd(this,"message");this.code=e,this.message=`${eG} ${Mw} (reason: ${e})`}},Ow=(e,t)=>{if(typeof e!="function")throw new TypeError(Sa(32))},Lv=()=>{},cR=(e,t=Lv)=>(e.catch(t),e),fR=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Js=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},el=e=>{if(e.aborted){const{reason:t}=e;throw new Rg(t)}};function hR(e,t){let r=Lv;return new Promise((n,a)=>{const i=()=>a(new Rg(e.reason));if(e.aborted){i();return}r=fR(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Lv})}var aG=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Rg?"cancelled":"rejected",error:r}}finally{t==null||t()}},jv=e=>t=>cR(hR(e,t).then(r=>(el(e),r))),dR=e=>{const t=jv(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:pu}=Object,yM={},Lg="listenerMiddleware",iG=(e,t)=>{const r=n=>fR(e,()=>Js(n,e.reason));return(n,a)=>{Ow(n);const i=new AbortController;r(i);const o=aG(async()=>{el(e),el(i.signal);const l=await n({pause:jv(i.signal),delay:dR(i.signal),signal:i.signal});return el(i.signal),l},()=>Js(i,rG));return a!=null&&a.autoJoin&&t.push(o.catch(Lv)),{result:jv(e)(o),cancel(){Js(i,tG)}}}},oG=(e,t)=>{const r=async(n,a)=>{el(t);let i=()=>{};const l=[new Promise((u,c)=>{let h=e({predicate:n,effect:(d,v)=>{v.unsubscribe(),u([d,v.getState(),v.getOriginalState()])}});i=()=>{h(),c()}})];a!=null&&l.push(new Promise(u=>setTimeout(u,a,null)));try{const u=await hR(t,Promise.race(l));return el(t),u}finally{i()}};return(n,a)=>cR(r(n,a))},vR=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=$a(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Sa(21));return Ow(i),{predicate:a,type:t,effect:i}},gR=pu(e=>{const{type:t,predicate:r,effect:n}=vR(e);return{id:VU(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Sa(22))}}},{withTypes:()=>gR}),bM=(e,t)=>{const{type:r,effect:n,predicate:a}=vR(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},lx=e=>{e.pending.forEach(t=>{Js(t,sx)})},sG=(e,t)=>()=>{for(const r of t.keys())lx(r);e.clear()},xM=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},pR=pu($a(`${Lg}/add`),{withTypes:()=>pR}),lG=$a(`${Lg}/removeAll`),mR=pu($a(`${Lg}/remove`),{withTypes:()=>mR}),uG=(...e)=>{console.error(`${Lg}/error`,...e)},Uf=(e={})=>{const t=new Map,r=new Map,n=p=>{const m=r.get(p)??0;r.set(p,m+1)},a=p=>{const m=r.get(p)??1;m===1?r.delete(p):r.set(p,m-1)},{extra:i,onError:o=uG}=e;Ow(o);const l=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),m=>{p.unsubscribe(),m!=null&&m.cancelActive&&lx(p)}),u=p=>{const m=bM(t,p)??gR(p);return l(m)};pu(u,{withTypes:()=>u});const c=p=>{const m=bM(t,p);return m&&(m.unsubscribe(),p.cancelActive&&lx(m)),!!m};pu(c,{withTypes:()=>c});const h=async(p,m,b,x)=>{const w=new AbortController,T=oG(u,w.signal),S=[];try{p.pending.add(w),n(p),await Promise.resolve(p.effect(m,pu({},b,{getOriginalState:x,condition:(D,R)=>T(D,R).then(Boolean),take:T,delay:dR(w.signal),pause:jv(w.signal),extra:i,signal:w.signal,fork:iG(w.signal,S),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((D,R,L)=>{D!==w&&(Js(D,sx),L.delete(D))})},cancel:()=>{Js(w,sx),p.pending.delete(w)},throwIfCancelled:()=>{el(w.signal)}})))}catch(D){D instanceof Rg||xM(o,D,{raisedBy:"effect"})}finally{await Promise.all(S),Js(w,nG),a(p),p.pending.delete(w)}},d=sG(t,r);return{middleware:p=>m=>b=>{if(!KP(b))return m(b);if(pR.match(b))return u(b.payload);if(lG.match(b)){d();return}if(mR.match(b))return c(b.payload);let x=p.getState();const w=()=>{if(x===yM)throw new Error(Sa(23));return x};let T;try{if(T=m(b),t.size>0){const S=p.getState(),D=Array.from(t.values());for(const R of D){let L=!1;try{L=R.predicate(b,S,x)}catch(_){L=!1,xM(o,_,{raisedBy:"predicate"})}L&&h(R,b,p,w)}}}finally{x=yM}return T},startListening:u,stopListening:c,clearListeners:d}};function Sa(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var cG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},yR=Ca({name:"chartLayout",initialState:cG,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:fG,setLayout:hG,setChartSize:dG,setScale:vG}=yR.actions,gG=yR.reducer;function wM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wM(Object(r),!0).forEach(function(n){pG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pG(e,t,r){return(t=mG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mG(e){var t=yG(e,"string");return typeof t=="symbol"?t:t+""}function yG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bv=Math.PI/180,bG=e=>e*180/Math.PI,Cn=(e,t,r,n)=>({x:e+Math.cos(-Bv*n)*r,y:t+Math.sin(-Bv*n)*r}),xG=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},wG=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},EG=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=wG({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,u=Math.acos(l);return n>i&&(u=2*Math.PI-u),{radius:o,angle:bG(u),angleInRadian:u}},SG=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},TG=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},AG=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=EG({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:u,endAngle:c}=SG(t),h=i,d;if(u<=c){for(;h>c;)h-=360;for(;h<u;)h+=360;d=h>=u&&h<=c}else{for(;h>u;)h-=360;for(;h<c;)h+=360;d=h>=c&&h<=u}return d?EM(EM({},t),{},{radius:a,angle:TG(h,t)}):null};function bR(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function SM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(r),!0).forEach(function(n){CG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CG(e,t,r){return(t=MG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MG(e){var t=OG(e,"string");return typeof t=="symbol"?t:t+""}function OG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vn(e,t,r){return gn(e)||gn(t)?r:ia(t)?_g(e,t,r):typeof t=="function"?t(e):r}var _G=(e,t,r,n,a)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<l;u++){var c=u>0?r[u-1].coordinate:r[l-1].coordinate,h=r[u].coordinate,d=u>=l-1?r[0].coordinate:r[u+1].coordinate,v=void 0;if(Ga(h-c)!==Ga(d-h)){var p=[];if(Ga(d-h)===Ga(a[1]-a[0])){v=d;var m=h+a[1]-a[0];p[0]=Math.min(m,(m+c)/2),p[1]=Math.max(m,(m+c)/2)}else{v=c;var b=d+a[1]-a[0];p[0]=Math.min(h,(b+h)/2),p[1]=Math.max(h,(b+h)/2)}var x=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>x[0]&&e<=x[1]||e>=p[0]&&e<=p[1]){({index:o}=r[u]);break}}else{var w=Math.min(c,d),T=Math.max(c,d);if(e>(w+h)/2&&e<=(T+h)/2){({index:o}=r[u]);break}}}else if(t){for(var S=0;S<l;S++)if(S===0&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S>0&&S<l-1&&e>(t[S].coordinate+t[S-1].coordinate)/2&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S===l-1&&e>(t[S].coordinate+t[S-1].coordinate)/2){({index:o}=t[S]);break}}return o},DG=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&Rt(e[i]))return Fa(Fa({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&Rt(e[o]))return Fa(Fa({},e),{},{[o]:e[o]+(a||0)})}return e},ls=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",xR=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(r),o},wR=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:c,tickCount:h,ticks:d,niceTicks:v,axisType:p}=e;if(!o)return null;var m=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,b=a==="category"&&o.bandwidth?o.bandwidth()/m:0;if(b=p==="angleAxis"&&i&&i.length>=2?Ga(i[0]-i[1])*2*b:b,d||v){var x=(d||v||[]).map((w,T)=>{var S=n?n.indexOf(w):w;return{coordinate:o(S)+b,value:w,offset:b,index:T}});return x.filter(w=>!oi(w.coordinate))}return u&&c?c.map((w,T)=>({coordinate:o(w)+b,value:w,index:T,offset:b})):o.ticks&&h!=null?o.ticks(h).map((w,T)=>({coordinate:o(w)+b,value:w,offset:b,index:T})):o.domain().map((w,T)=>({coordinate:o(w)+b,value:n?n[w]:w,index:T,offset:b}))},TM=1e-4,kG=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-TM,i=Math.max(n[0],n[1])+TM,o=e(t[0]),l=e(t[r-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},NG=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var l=oi(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},PG=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=oi(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},RG={sign:NG,expand:iF,none:Eu,silhouette:oF,wiggle:sF,positive:PG},LG=(e,t,r)=>{var n=RG[r],a=aF().keys(t).value((i,o)=>+Vn(i,o,0)).order(Q1).offset(n);return a(e)};function AM(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!gn(a[t.dataKey])){var l=_P(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var u=Vn(a,gn(o)?t.dataKey:o);return gn(u)?null:t.scale(u)}var jG=e=>{var t=e.flat(2).filter(Rt);return[Math.min(...t),Math.max(...t)]},BG=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],IG=(e,t,r)=>{if(e!=null)return BG(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:o}=i,l=o.reduce((u,c)=>{var h=bR(c,t,r),d=jG(h);return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},CM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ux=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Dg(t,h=>h.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var u=a[o],c=a[o-1];i=Math.min((u.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function OM(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Fa(Fa({},t),{},{dataKey:r,payload:n,value:a,name:i})}function ER(e,t){if(e)return String(e);if(typeof t=="string")return t}function zG(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?AG({x:e,y:t},n):null}var FG=(e,t,r,n)=>{var a=t.find(c=>c&&c.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:o}=n;return Fa(Fa(Fa({},n),Cn(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:u}=n;return Fa(Fa(Fa({},n),Cn(n.cx,n.cy,l,u)),{},{angle:u,radius:l})}return{x:0,y:0}},UG=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,so=e=>e.layout.width,lo=e=>e.layout.height,GG=e=>e.layout.scale,SR=e=>e.layout.margin,jg=Ge(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Bg=Ge(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),qG="data-recharts-item-index",VG="data-recharts-item-data-key",Gf=60;function _M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ld(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_M(Object(r),!0).forEach(function(n){$G(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_M(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $G(e,t,r){return(t=YG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YG(e){var t=HG(e,"string");return typeof t=="symbol"?t:t+""}function HG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XG=e=>e.brush.height;function KG(e){var t=Bg(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Gf;return r+a}return r},0)}function WG(e){var t=Bg(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Gf;return r+a}return r},0)}function ZG(e){var t=jg(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function QG(e){var t=jg(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var _n=Ge([so,lo,SR,XG,KG,WG,ZG,QG,$P,mU],(e,t,r,n,a,i,o,l,u,c)=>{var h={left:(r.left||0)+a,right:(r.right||0)+i},d={top:(r.top||0)+o,bottom:(r.bottom||0)+l},v=Ld(Ld({},d),h),p=v.bottom;v.bottom+=n,v=DG(v,u,c);var m=e-v.left-v.right,b=t-v.top-v.bottom;return Ld(Ld({brushBottom:p},v),{},{width:Math.max(m,0),height:Math.max(b,0)})}),JG=Ge(_n,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),TR=Ge(so,lo,(e,t)=>({x:0,y:0,width:e,height:t})),eq=X.createContext(null),ca=()=>X.useContext(eq)!=null,Ig=e=>e.brush,zg=Ge([Ig,_n,SR],(e,t,r)=>({height:e.height,x:Rt(e.x)?e.x:t.left,y:Rt(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Rt(e.width)?e.width:t.width})),z0={},F0={},U0={},DM;function tq(){return DM||(DM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,l=null;const u=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),h=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},d=()=>{c&&h(),b()};let v=null;const p=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,d()},n)},m=()=>{v!==null&&(clearTimeout(v),v=null)},b=()=>{m(),o=void 0,l=null},x=()=>{h()},w=function(...T){if(a!=null&&a.aborted)return;o=this,l=T;const S=v==null;p(),u&&S&&h()};return w.schedule=p,w.cancel=b,w.flush=x,a==null||a.addEventListener("abort",b,{once:!0}),w}e.debounce=t})(U0)),U0}var kM;function rq(){return kM||(kM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tq();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:u}=i,c=Array(2);o&&(c[0]="leading"),l&&(c[1]="trailing");let h,d=null;const v=t.debounce(function(...b){h=n.apply(this,b),d=null},a,{edges:c}),p=function(...b){return u!=null&&(d===null&&(d=Date.now()),Date.now()-d>=u)?(h=n.apply(this,b),d=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,b),h)},m=()=>(v.flush(),h);return p.cancel=v.cancel,p.flush=m,p}e.debounce=r})(F0)),F0}var NM;function nq(){return NM||(NM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rq();function r(n,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(z0)),z0}var G0,PM;function aq(){return PM||(PM=1,G0=nq().throttle),G0}var iq=aq();const oq=Ha(iq);var Iv=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},AR=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:o}=r,l=Ji(n)?e:Number(n),u=Ji(a)?t:Number(a);return i&&i>0&&(l?u=l/i:u&&(l=u*i),o&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},sq={width:0,height:0,overflow:"visible"},lq={width:0,overflowX:"visible"},uq={height:0,overflowY:"visible"},cq={},fq=e=>{var{width:t,height:r}=e,n=Ji(t),a=Ji(r);return n&&a?sq:n?lq:a?uq:cq};function hq(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function ua(e){return Number.isFinite(e)}function Tu(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cx.apply(null,arguments)}function RM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RM(Object(r),!0).forEach(function(n){dq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dq(e,t,r){return(t=vq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vq(e){var t=gq(e,"string");return typeof t=="symbol"?t:t+""}function gq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CR=X.createContext({width:-1,height:-1});function MR(e){var{children:t,width:r,height:n}=e,a=X.useMemo(()=>({width:r,height:n}),[r,n]);return r<=0||n<=0?null:X.createElement(CR.Provider,{value:a},t)}var _w=()=>X.useContext(CR),pq=X.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:l,maxHeight:u,children:c,debounce:h=0,id:d,className:v,onResize:p,style:m={}}=e,b=X.useRef(null),x=X.useRef();x.current=p,X.useImperativeHandle(t,()=>b.current);var[w,T]=X.useState({containerWidth:n.width,containerHeight:n.height}),S=X.useCallback((N,P)=>{T(U=>{var j=Math.round(N),F=Math.round(P);return U.containerWidth===j&&U.containerHeight===F?U:{containerWidth:j,containerHeight:F}})},[]);X.useEffect(()=>{var N=F=>{var I,{width:G,height:Y}=F[0].contentRect;S(G,Y),(I=x.current)===null||I===void 0||I.call(x,G,Y)};h>0&&(N=oq(N,h,{trailing:!0,leading:!1}));var P=new ResizeObserver(N),{width:U,height:j}=b.current.getBoundingClientRect();return S(U,j),P.observe(b.current),()=>{P.disconnect()}},[S,h]);var{containerWidth:D,containerHeight:R}=w;Iv(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:L,calculatedHeight:_}=AR(D,R,{width:a,height:i,aspect:r,maxHeight:u});return Iv(L>0||_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,_,a,i,o,l,r),X.createElement("div",{id:d?"".concat(d):void 0,className:mr("recharts-responsive-container",v),style:LM(LM({},m),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:u}),ref:b},X.createElement("div",{style:fq({width:a,height:i})},X.createElement(MR,{width:L,height:_},c)))}),zv=X.forwardRef((e,t)=>{var r=_w();if(Tu(r.width)&&Tu(r.height))return e.children;var{width:n,height:a}=hq({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=AR(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Rt(i)&&Rt(o)?X.createElement(MR,{width:i,height:o},e.children):X.createElement(pq,cx({},e,{width:n,height:a,ref:t}))}),Fg=()=>{var e,t=ca(),r=Ot(JG),n=Ot(zg),a=(e=Ot(Ig))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},mq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},OR=()=>{var e;return(e=Ot(_n))!==null&&e!==void 0?e:mq},Dw=()=>Ot(so),kw=()=>Ot(lo),yq=()=>Ot(e=>e.layout.margin),Or=e=>e.layout.layoutType,Nw=()=>Ot(Or),Ug=e=>{var t=nn(),r=ca(),{width:n,height:a}=e,i=_w(),o=n,l=a;return i&&(o=i.width>0?i.width:n,l=i.height>0?i.height:a),X.useEffect(()=>{!r&&Tu(o)&&Tu(l)&&t(dG({width:o,height:l}))},[t,r,o,l]),null},bq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},_R=Ca({name:"legend",initialState:bq,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Gn()},removeLegendPayload:{reducer(e,t){var r=Zi(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Gn()}}}),{setLegendSize:jM,setLegendSettings:xq,addLegendPayload:wq,removeLegendPayload:Eq}=_R.actions,Sq=_R.reducer,Tq=["contextPayload"];function fx(){return fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fx.apply(null,arguments)}function BM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Au(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BM(Object(r),!0).forEach(function(n){Pw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pw(e,t,r){return(t=Aq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aq(e){var t=Cq(e,"string");return typeof t=="symbol"?t:t+""}function Cq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mq(e,t){if(e==null)return{};var r,n,a=Oq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Oq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _q(e){return e.value}function Dq(e){var{contextPayload:t}=e,r=Mq(e,Tq),n=UP(t,e.payloadUniqBy,_q),a=Au(Au({},r),{},{payload:n});return X.isValidElement(e.content)?X.cloneElement(e.content,a):typeof e.content=="function"?X.createElement(e.content,a):X.createElement(xw,a)}function kq(e,t,r,n,a,i){var{layout:o,align:l,verticalAlign:u}=t,c,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?c={left:((n||0)-i.width)/2}:c=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?h={top:((a||0)-i.height)/2}:h=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Au(Au({},c),h)}function Nq(e){var t=nn();return X.useEffect(()=>{t(xq(e))},[t,e]),null}function Pq(e){var t=nn();return X.useEffect(()=>(t(jM(e)),()=>{t(jM({width:0,height:0}))}),[t,e]),null}function Rq(e){var t=xU(),r=O4(),n=yq(),{width:a,height:i,wrapperStyle:o,portal:l}=e,[u,c]=YP([t]),h=Dw(),d=kw();if(h==null||d==null)return null;var v=h-(n.left||0)-(n.right||0),p=qf.getWidthOrHeight(e.layout,i,a,v),m=l?o:Au(Au({position:"absolute",width:(p==null?void 0:p.width)||a||"auto",height:(p==null?void 0:p.height)||i||"auto"},kq(o,e,n,h,d,u)),o),b=l??r;if(b==null)return null;var x=X.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:c},X.createElement(Nq,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),X.createElement(Pq,{width:u.width,height:u.height}),X.createElement(Dq,fx({},e,p,{margin:n,chartWidth:h,chartHeight:d,contextPayload:t})));return uP.createPortal(x,b)}class qf extends X.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&Rt(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return X.createElement(Rq,this.props)}}Pw(qf,"displayName","Legend");Pw(qf,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function hx(){return hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hx.apply(null,arguments)}function IM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function q0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IM(Object(r),!0).forEach(function(n){Lq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lq(e,t,r){return(t=jq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jq(e){var t=Bq(e,"string");return typeof t=="symbol"?t:t+""}function Bq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iq(e){return Array.isArray(e)&&ia(e[0])&&ia(e[1])?e.join(" ~ "):e}var zq=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:c,label:h,labelFormatter:d,accessibilityLayer:v=!1}=e,p=()=>{if(i&&i.length){var R={padding:0,margin:0},L=(l?Dg(i,l):i).map((_,N)=>{if(_.type==="none")return null;var P=_.formatter||o||Iq,{value:U,name:j}=_,F=U,I=j;if(P){var G=P(U,j,_,N,i);if(Array.isArray(G))[F,I]=G;else if(G!=null)F=G;else return null}var Y=q0({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},n);return X.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:Y},ia(I)?X.createElement("span",{className:"recharts-tooltip-item-name"},I):null,ia(I)?X.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,X.createElement("span",{className:"recharts-tooltip-item-value"},F),X.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return X.createElement("ul",{className:"recharts-tooltip-item-list",style:R},L)}return null},m=q0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=q0({margin:0},a),x=!gn(h),w=x?h:"",T=mr("recharts-default-tooltip",u),S=mr("recharts-tooltip-label",c);x&&d&&i!==void 0&&i!==null&&(w=d(h,i));var D=v?{role:"status","aria-live":"assertive"}:{};return X.createElement("div",hx({className:T,style:m},D),X.createElement("p",{className:S,style:b},X.isValidElement(w)?w:"".concat(w)),p())},Fc="recharts-tooltip-wrapper",Fq={visibility:"hidden"};function Uq(e){var{coordinate:t,translateX:r,translateY:n}=e;return mr(Fc,{["".concat(Fc,"-right")]:Rt(r)&&t&&Rt(t.x)&&r>=t.x,["".concat(Fc,"-left")]:Rt(r)&&t&&Rt(t.x)&&r<t.x,["".concat(Fc,"-bottom")]:Rt(n)&&t&&Rt(t.y)&&n>=t.y,["".concat(Fc,"-top")]:Rt(n)&&t&&Rt(t.y)&&n<t.y})}function zM(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:c}=e;if(i&&Rt(i[n]))return i[n];var h=r[n]-l-(a>0?a:0),d=r[n]+a;if(t[n])return o[n]?h:d;var v=u[n];if(v==null)return 0;if(o[n]){var p=h,m=v;return p<m?Math.max(d,v):Math.max(h,v)}if(c==null)return 0;var b=d+l,x=v+c;return b>x?Math.max(h,v):Math.max(d,v)}function Gq(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function qq(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,c,h,d;return o.height>0&&o.width>0&&r?(h=zM({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),d=zM({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),c=Gq({translateX:h,translateY:d,useTranslate3d:l})):c=Fq,{cssProperties:c,cssClasses:Uq({translateX:h,translateY:d,coordinate:r})}}function FM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FM(Object(r),!0).forEach(function(n){dx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dx(e,t,r){return(t=Vq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vq(e){var t=$q(e,"string");return typeof t=="symbol"?t:t+""}function $q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Yq extends X.PureComponent{constructor(){super(...arguments),dx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),dx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:u,offset:c,position:h,reverseDirection:d,useTranslate3d:v,viewBox:p,wrapperStyle:m,lastBoundingBox:b,innerRef:x,hasPortalFromProps:w}=this.props,{cssClasses:T,cssProperties:S}=qq({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:c,position:h,reverseDirection:d,tooltipBox:{height:b.height,width:b.width},useTranslate3d:v,viewBox:p}),D=w?{}:jd(jd({transition:u&&t?"transform ".concat(n,"ms ").concat(a):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),R=jd(jd({},D),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},m);return X.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:T,style:R,ref:x},i)}}var Hq=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ru={devToolsEnabled:!1,isSsr:Hq()},DR=()=>Ot(e=>e.rootProps.accessibilityLayer);function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vx.apply(null,arguments)}function UM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(r),!0).forEach(function(n){Xq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xq(e,t,r){return(t=Kq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kq(e){var t=Wq(e,"string");return typeof t=="symbol"?t:t+""}function Wq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qM={curveBasisClosed:H4,curveBasisOpen:X4,curveBasis:Y4,curveBumpX:N4,curveBumpY:P4,curveLinearClosed:K4,curveLinear:Mg,curveMonotoneX:W4,curveMonotoneY:Z4,curveNatural:Q4,curveStep:J4,curveStepAfter:tF,curveStepBefore:eF},Bd=e=>ua(e.x)&&ua(e.y),Uc=e=>e.x,Gc=e=>e.y,Zq=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(zf(e));return(r==="curveMonotone"||r==="curveBump")&&t?qM["".concat(r).concat(t==="vertical"?"Y":"X")]:qM[r]||Mg},Qq=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=Zq(t,a),l=i?r.filter(Bd):r,u;if(Array.isArray(n)){var c=i?n.filter(d=>Bd(d)):n,h=l.map((d,v)=>GM(GM({},d),{},{base:c[v]}));return a==="vertical"?u=_d().y(Gc).x1(Uc).x0(d=>d.base.x):u=_d().x(Uc).y1(Gc).y0(d=>d.base.y),u.defined(Bd).curve(o),u(h)}return a==="vertical"&&Rt(n)?u=_d().y(Gc).x1(Uc).x0(n):Rt(n)?u=_d().x(Uc).y1(Gc).y0(n):u=pP().x(Uc).y(Gc),u.defined(Bd).curve(o),u(l)},kR=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?Qq(e):n;return X.createElement("path",vx({},xi(e),yw(e),{className:mr("recharts-curve",t),d:i===null?void 0:i,ref:a}))},Jq=["x","y","top","left","width","height","className"];function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gx.apply(null,arguments)}function VM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VM(Object(r),!0).forEach(function(n){t6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t6(e,t,r){return(t=r6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r6(e){var t=n6(e,"string");return typeof t=="symbol"?t:t+""}function n6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a6(e,t){if(e==null)return{};var r,n,a=i6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function i6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var o6=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),s6=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:l}=e,u=a6(e,Jq),c=e6({x:t,y:r,top:n,left:a,width:i,height:o},u);return!Rt(t)||!Rt(r)||!Rt(i)||!Rt(o)||!Rt(n)||!Rt(a)?null:X.createElement("path",gx({},la(c),{className:mr("recharts-cross",l),d:o6(t,r,i,o,n,a)}))};function l6(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function $M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$M(Object(r),!0).forEach(function(n){c6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$M(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c6(e,t,r){return(t=f6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f6(e){var t=h6(e,"string");return typeof t=="symbol"?t:t+""}function h6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xa(e,t){var r=u6({},e),n=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}function d6(){}function v6(e){return e!=null}function YM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(r),!0).forEach(function(n){g6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g6(e,t,r){return(t=p6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p6(e){var t=m6(e,"string");return typeof t=="symbol"?t:t+""}function m6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y6=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),b6=(e,t,r)=>e.map(n=>"".concat(y6(n)," ").concat(t,"ms ").concat(r)).join(","),x6=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),pf=(e,t)=>Object.keys(t).reduce((r,n)=>HM(HM({},r),{},{[n]:e(n,t[n])}),{});function XM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XM(Object(r),!0).forEach(function(n){w6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w6(e,t,r){return(t=E6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E6(e){var t=S6(e,"string");return typeof t=="symbol"?t:t+""}function S6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fv=(e,t,r)=>e+(t-e)*r,px=e=>{var{from:t,to:r}=e;return t!==r},NR=(e,t,r)=>{var n=pf((a,i)=>{if(px(i)){var[o,l]=e(i.from,i.to,i.velocity);return An(An({},i),{},{from:o,velocity:l})}return i},t);return r<1?pf((a,i)=>px(i)?An(An({},i),{},{velocity:Fv(i.velocity,n[a].velocity,r),from:Fv(i.from,n[a].from,r)}):i,t):NR(e,n,r-1)};function T6(e,t,r,n,a,i){var o,l=n.reduce((v,p)=>An(An({},v),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),u=()=>pf((v,p)=>p.from,l),c=()=>!Object.values(l).filter(px).length,h=null,d=v=>{o||(o=v);var p=v-o,m=p/r.dt;l=NR(r,l,m),a(An(An(An({},e),t),u())),o=v,c()||(h=i.setTimeout(d))};return()=>(h=i.setTimeout(d),()=>{h()})}function A6(e,t,r,n,a,i,o){var l=null,u=a.reduce((d,v)=>An(An({},d),{},{[v]:[e[v],t[v]]}),{}),c,h=d=>{c||(c=d);var v=(d-c)/n,p=pf((b,x)=>Fv(...x,r(v)),u);if(i(An(An(An({},e),t),p)),v<1)l=o.setTimeout(h);else{var m=pf((b,x)=>Fv(...x,r(1)),u);i(An(An(An({},e),t),m))}};return()=>(l=o.setTimeout(h),()=>{l()})}const C6=(e,t,r,n,a,i)=>{var o=x6(e,t);return r.isStepper===!0?T6(e,t,r,o,a,i):A6(e,t,r,n,o,a,i)};var Uv=1e-4,PR=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],RR=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),KM=(e,t)=>r=>{var n=PR(e,t);return RR(n,r)},M6=(e,t)=>r=>{var n=PR(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return RR(a,r)},WM=function(){for(var t,r,n,a,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var u=o[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([t,n,r,a]=u[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else o.length===4&&([t,n,r,a]=o);var c=KM(t,r),h=KM(n,a),d=M6(t,r),v=m=>m>1?1:m<0?0:m,p=m=>{for(var b=m>1?1:m,x=b,w=0;w<8;++w){var T=c(x)-b,S=d(x);if(Math.abs(T-b)<Uv||S<Uv)return h(x);x=v(x-T/S)}return h(x)};return p.isStepper=!1,p},O6=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,l,u)=>{var c=-(o-l)*r,h=u*n,d=u+(c-h)*a/1e3,v=u*a/1e3+o;return Math.abs(v-l)<Uv&&Math.abs(d)<Uv?[l,0]:[v,d]};return i.isStepper=!0,i.dt=a,i},_6=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return WM(e);case"spring":return O6();default:if(e.split("(")[0]==="cubic-bezier")return WM(e)}return typeof e=="function"?e:null};function D6(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...c]=l;if(typeof u=="number"){a=e.setTimeout(i.bind(null,c),u);return}i(u),a=e.setTimeout(i.bind(null,c));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class k6{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function N6(){return D6(new k6)}var P6=X.createContext(N6);function R6(e,t){var r=X.useContext(P6);return X.useMemo(()=>t??r(e),[e,t,r])}var L6={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},ZM={t:0},V0={t:1};function LR(e){var t=Xa(e,L6),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:u,children:c}=t,h=R6(t.animationId,t.animationManager),[d,v]=X.useState(r?ZM:V0),p=X.useRef(null);return X.useEffect(()=>{r||v(V0)},[r]),X.useEffect(()=>{if(!r||!n)return d6;var m=C6(ZM,V0,_6(i),a,v,h.getTimeoutController()),b=()=>{p.current=m()};return h.start([u,o,b,a,l]),()=>{h.stop(),p.current&&p.current(),l()}},[r,n,a,i,o,u,l,h]),c(d.t)}function jR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=X.useRef(df(t)),n=X.useRef(e);return n.current!==e&&(r.current=df(t),n.current=e),r.current}var j6=["radius"],B6=["radius"];function QM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QM(Object(r),!0).forEach(function(n){I6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I6(e,t,r){return(t=z6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z6(e){var t=F6(e,"string");return typeof t=="symbol"?t:t+""}function F6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gv.apply(null,arguments)}function eO(e,t){if(e==null)return{};var r,n,a=U6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function U6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tO=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,u=n>=0&&r>=0||n<0&&r<0?1:0,c;if(i>0&&a instanceof Array){for(var h=[0,0,0,0],d=0,v=4;d<v;d++)h[d]=a[d]>i?i:a[d];c="M".concat(e,",").concat(t+o*h[0]),h[0]>0&&(c+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(t)),c+="L ".concat(e+r-l*h[1],",").concat(t),h[1]>0&&(c+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(t+o*h[1])),c+="L ".concat(e+r,",").concat(t+n-o*h[2]),h[2]>0&&(c+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+r-l*h[2],",").concat(t+n)),c+="L ".concat(e+l*h[3],",").concat(t+n),h[3]>0&&(c+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+n-o*h[3])),c+="Z"}else if(i>0&&a===+a&&a>0){var p=Math.min(i,a);c="M ".concat(e,",").concat(t+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+l*p,",").concat(t,`
            L `).concat(e+r-l*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+r,",").concat(t+o*p,`
            L `).concat(e+r,",").concat(t+n-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+r-l*p,",").concat(t+n,`
            L `).concat(e+l*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(e,",").concat(t+n-o*p," Z")}else c="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},G6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BR=e=>{var t=Xa(e,G6),r=X.useRef(null),[n,a]=X.useState(-1);X.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var V=r.current.getTotalLength();V&&a(V)}catch{}},[]);var{x:i,y:o,width:l,height:u,radius:c,className:h}=t,{animationEasing:d,animationDuration:v,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:b}=t,x=X.useRef(l),w=X.useRef(u),T=X.useRef(i),S=X.useRef(o),D=X.useMemo(()=>({x:i,y:o,width:l,height:u,radius:c}),[i,o,l,u,c]),R=jR(D,"rectangle-");if(i!==+i||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var L=mr("recharts-rectangle",h);if(!b){var _=la(t),{radius:N}=_,P=eO(_,j6);return X.createElement("path",Gv({},P,{radius:typeof c=="number"?c:void 0,className:L,d:tO(i,o,l,u,c)}))}var U=x.current,j=w.current,F=T.current,I=S.current,G="0px ".concat(n===-1?1:n,"px"),Y="".concat(n,"px 0px"),q=b6(["strokeDasharray"],v,typeof d=="string"?d:void 0);return X.createElement(LR,{animationId:R,key:R,canBegin:n>0,duration:v,easing:d,isActive:b,begin:p},V=>{var W=$i(U,l,V),J=$i(j,u,V),ie=$i(F,i,V),K=$i(I,o,V);r.current&&(x.current=W,w.current=J,T.current=ie,S.current=K);var Z;m?V>0?Z={transition:q,strokeDasharray:Y}:Z={strokeDasharray:G}:Z={strokeDasharray:Y};var fe=la(t),{radius:he}=fe,oe=eO(fe,B6);return X.createElement("path",Gv({},oe,{radius:typeof c=="number"?c:void 0,className:L,d:tO(ie,K,W,J,c),ref:r,style:JM(JM({},Z),t.style)}))})};function IR(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=Cn(t,r,n,a),l=Cn(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function mx(){return mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mx.apply(null,arguments)}var q6=(e,t)=>{var r=Ga(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Id=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:u}=e,c=l*(o?1:-1)+n,h=Math.asin(l/c)/Bv,d=u?a:a+i*h,v=Cn(t,r,c,d),p=Cn(t,r,n,d),m=u?a-i*h:a,b=Cn(t,r,c*Math.cos(h*Bv),m);return{center:v,circleTangency:p,lineTangency:b,theta:h}},zR=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,l=q6(i,o),u=i+l,c=Cn(t,r,a,i),h=Cn(t,r,a,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var v=Cn(t,r,n,i),p=Cn(t,r,n,u);d+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},V6=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}=e,h=Ga(c-u),{circleTangency:d,lineTangency:v,theta:p}=Id({cx:t,cy:r,radius:a,angle:u,sign:h,cornerRadius:i,cornerIsExternal:l}),{circleTangency:m,lineTangency:b,theta:x}=Id({cx:t,cy:r,radius:a,angle:c,sign:-h,cornerRadius:i,cornerIsExternal:l}),w=l?Math.abs(u-c):Math.abs(u-c)-p-x;if(w<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):zR({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:u,endAngle:c});var T="M ".concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(w>180),",").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var{circleTangency:S,lineTangency:D,theta:R}=Id({cx:t,cy:r,radius:n,angle:u,sign:h,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:L,lineTangency:_,theta:N}=Id({cx:t,cy:r,radius:n,angle:c,sign:-h,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),P=l?Math.abs(u-c):Math.abs(u-c)-R-N;if(P<0&&i===0)return"".concat(T,"L").concat(t,",").concat(r,"Z");T+="L".concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(P>180),",").concat(+(h>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,"Z")}else T+="L".concat(t,",").concat(r,"Z");return T},$6={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Y6=e=>{var t=Xa(e,$6),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:h,className:d}=t;if(i<a||c===h)return null;var v=mr("recharts-sector",d),p=i-a,m=es(o,p,0,!0),b;return m>0&&Math.abs(c-h)<360?b=V6({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(m,p/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:h}):b=zR({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:h}),X.createElement("path",mx({},la(t),{className:v,d:b}))};function H6(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:u,innerRadius:c,outerRadius:h,angle:d}=t,v=Cn(l,u,c,d),p=Cn(l,u,h,d);n=v.x,a=v.y,i=p.x,o=p.y}else return IR(t);return[{x:n,y:a},{x:i,y:o}]}var $0={},Y0={},H0={},rO;function X6(){return rO||(rO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qP();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(H0)),H0}var nO;function K6(){return nO||(nO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X6();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Y0)),Y0}var aO;function W6(){return aO||(aO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VP(),r=K6();function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),u=new Array(l);for(let c=0;c<l;c++)u[c]=a,a+=o;return u}e.range=n})($0)),$0}var X0,iO;function Z6(){return iO||(iO=1,X0=W6().range),X0}var Q6=Z6();const FR=Ha(Q6);function Zo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function J6(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Rw(e){let t,r,n;e.length!==2?(t=Zo,r=(l,u)=>Zo(e(l),u),n=(l,u)=>e(l)-u):(t=e===Zo||e===J6?e:e8,r=e,n=e);function a(l,u,c=0,h=l.length){if(c<h){if(t(u,u)!==0)return h;do{const d=c+h>>>1;r(l[d],u)<0?c=d+1:h=d}while(c<h)}return c}function i(l,u,c=0,h=l.length){if(c<h){if(t(u,u)!==0)return h;do{const d=c+h>>>1;r(l[d],u)<=0?c=d+1:h=d}while(c<h)}return c}function o(l,u,c=0,h=l.length){const d=a(l,u,c,h-1);return d>c&&n(l[d-1],u)>-n(l[d],u)?d-1:d}return{left:a,center:o,right:i}}function e8(){return 0}function UR(e){return e===null?NaN:+e}function*t8(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const r8=Rw(Zo),Vf=r8.right;Rw(UR).center;class oO extends Map{constructor(t,r=i8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(sO(this,t))}has(t){return super.has(sO(this,t))}set(t,r){return super.set(n8(this,t),r)}delete(t){return super.delete(a8(this,t))}}function sO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function n8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function a8({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function i8(e){return e!==null&&typeof e=="object"?e.valueOf():e}function o8(e=Zo){if(e===Zo)return GR;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function GR(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const s8=Math.sqrt(50),l8=Math.sqrt(10),u8=Math.sqrt(2);function qv(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=s8?10:i>=l8?5:i>=u8?2:1;let l,u,c;return a<0?(c=Math.pow(10,-a)/o,l=Math.round(e*c),u=Math.round(t*c),l/c<e&&++l,u/c>t&&--u,c=-c):(c=Math.pow(10,a)*o,l=Math.round(e/c),u=Math.round(t/c),l*c<e&&++l,u*c>t&&--u),u<l&&.5<=r&&r<2?qv(e,t,r*2):[l,u,c]}function yx(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?qv(t,e,r):qv(e,t,r);if(!(i>=a))return[];const l=i-a+1,u=new Array(l);if(n)if(o<0)for(let c=0;c<l;++c)u[c]=(i-c)/-o;else for(let c=0;c<l;++c)u[c]=(i-c)*o;else if(o<0)for(let c=0;c<l;++c)u[c]=(a+c)/-o;else for(let c=0;c<l;++c)u[c]=(a+c)*o;return u}function bx(e,t,r){return t=+t,e=+e,r=+r,qv(e,t,r)[2]}function xx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?bx(t,e,r):bx(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function lO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function uO(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function qR(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?GR:o8(a);n>r;){if(n-r>600){const u=n-r+1,c=t-r+1,h=Math.log(u),d=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*d*(u-d)/u)*(c-u/2<0?-1:1),p=Math.max(r,Math.floor(t-c*d/u+v)),m=Math.min(n,Math.floor(t+(u-c)*d/u+v));qR(e,t,p,m,a)}const i=e[t];let o=r,l=n;for(qc(e,r,t),a(e[n],i)>0&&qc(e,r,n);o<l;){for(qc(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?qc(e,r,l):(++l,qc(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function qc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function c8(e,t,r){if(e=Float64Array.from(t8(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return uO(e);if(t>=1)return lO(e);var n,a=(n-1)*t,i=Math.floor(a),o=lO(qR(e,i).subarray(0,i+1)),l=uO(e.subarray(i+1));return o+(l-o)*(a-i)}}function f8(e,t,r=UR){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function h8(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ka(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function uo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const wx=Symbol("implicit");function Lw(){var e=new oO,t=[],r=[],n=wx;function a(i){let o=e.get(i);if(o===void 0){if(n!==wx)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new oO;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Lw(t,r).unknown(n)},Ka.apply(a,arguments),a}function jw(){var e=Lw().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,u=0,c=0,h=.5;delete e.unknown;function d(){var v=t().length,p=a<n,m=p?a:n,b=p?n:a;i=(b-m)/Math.max(1,v-u+c*2),l&&(i=Math.floor(i)),m+=(b-m-i*(v-u))*h,o=i*(1-u),l&&(m=Math.round(m),o=Math.round(o));var x=h8(v).map(function(w){return m+i*w});return r(p?x.reverse():x)}return e.domain=function(v){return arguments.length?(t(v),d()):t()},e.range=function(v){return arguments.length?([n,a]=v,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(v){return[n,a]=v,n=+n,a=+a,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(v){return arguments.length?(l=!!v,d()):l},e.padding=function(v){return arguments.length?(u=Math.min(1,c=+v),d()):u},e.paddingInner=function(v){return arguments.length?(u=Math.min(1,v),d()):u},e.paddingOuter=function(v){return arguments.length?(c=+v,d()):c},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),d()):h},e.copy=function(){return jw(t(),[n,a]).round(l).paddingInner(u).paddingOuter(c).align(h)},Ka.apply(d(),arguments)}function VR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return VR(t())},e}function d8(){return VR(jw.apply(null,arguments).paddingInner(1))}function Bw(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function $R(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function $f(){}var mf=.7,Vv=1/mf,mu="\\s*([+-]?\\d+)\\s*",yf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",v8=/^#([0-9a-f]{3,8})$/,g8=new RegExp(`^rgb\\(${mu},${mu},${mu}\\)$`),p8=new RegExp(`^rgb\\(${bi},${bi},${bi}\\)$`),m8=new RegExp(`^rgba\\(${mu},${mu},${mu},${yf}\\)$`),y8=new RegExp(`^rgba\\(${bi},${bi},${bi},${yf}\\)$`),b8=new RegExp(`^hsl\\(${yf},${bi},${bi}\\)$`),x8=new RegExp(`^hsla\\(${yf},${bi},${bi},${yf}\\)$`),cO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bw($f,bf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:fO,formatHex:fO,formatHex8:w8,formatHsl:E8,formatRgb:hO,toString:hO});function fO(){return this.rgb().formatHex()}function w8(){return this.rgb().formatHex8()}function E8(){return YR(this).formatHsl()}function hO(){return this.rgb().formatRgb()}function bf(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=v8.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?dO(t):r===3?new oa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?zd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?zd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=g8.exec(e))?new oa(t[1],t[2],t[3],1):(t=p8.exec(e))?new oa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=m8.exec(e))?zd(t[1],t[2],t[3],t[4]):(t=y8.exec(e))?zd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=b8.exec(e))?pO(t[1],t[2]/100,t[3]/100,1):(t=x8.exec(e))?pO(t[1],t[2]/100,t[3]/100,t[4]):cO.hasOwnProperty(e)?dO(cO[e]):e==="transparent"?new oa(NaN,NaN,NaN,0):null}function dO(e){return new oa(e>>16&255,e>>8&255,e&255,1)}function zd(e,t,r,n){return n<=0&&(e=t=r=NaN),new oa(e,t,r,n)}function S8(e){return e instanceof $f||(e=bf(e)),e?(e=e.rgb(),new oa(e.r,e.g,e.b,e.opacity)):new oa}function Ex(e,t,r,n){return arguments.length===1?S8(e):new oa(e,t,r,n??1)}function oa(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Bw(oa,Ex,$R($f,{brighter(e){return e=e==null?Vv:Math.pow(Vv,e),new oa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?mf:Math.pow(mf,e),new oa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new oa(tl(this.r),tl(this.g),tl(this.b),$v(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vO,formatHex:vO,formatHex8:T8,formatRgb:gO,toString:gO}));function vO(){return`#${Ks(this.r)}${Ks(this.g)}${Ks(this.b)}`}function T8(){return`#${Ks(this.r)}${Ks(this.g)}${Ks(this.b)}${Ks((isNaN(this.opacity)?1:this.opacity)*255)}`}function gO(){const e=$v(this.opacity);return`${e===1?"rgb(":"rgba("}${tl(this.r)}, ${tl(this.g)}, ${tl(this.b)}${e===1?")":`, ${e})`}`}function $v(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function tl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ks(e){return e=tl(e),(e<16?"0":"")+e.toString(16)}function pO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ai(e,t,r,n)}function YR(e){if(e instanceof ai)return new ai(e.h,e.s,e.l,e.opacity);if(e instanceof $f||(e=bf(e)),!e)return new ai;if(e instanceof ai)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,u=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=u<.5?i+a:2-i-a,o*=60):l=u>0&&u<1?0:o,new ai(o,l,u,e.opacity)}function A8(e,t,r,n){return arguments.length===1?YR(e):new ai(e,t,r,n??1)}function ai(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Bw(ai,A8,$R($f,{brighter(e){return e=e==null?Vv:Math.pow(Vv,e),new ai(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mf:Math.pow(mf,e),new ai(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new oa(K0(e>=240?e-240:e+120,a,n),K0(e,a,n),K0(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ai(mO(this.h),Fd(this.s),Fd(this.l),$v(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$v(this.opacity);return`${e===1?"hsl(":"hsla("}${mO(this.h)}, ${Fd(this.s)*100}%, ${Fd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function mO(e){return e=(e||0)%360,e<0?e+360:e}function Fd(e){return Math.max(0,Math.min(1,e||0))}function K0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Iw=e=>()=>e;function C8(e,t){return function(r){return e+r*t}}function M8(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function O8(e){return(e=+e)==1?HR:function(t,r){return r-t?M8(t,r,e):Iw(isNaN(t)?r:t)}}function HR(e,t){var r=t-e;return r?C8(e,r):Iw(isNaN(e)?t:e)}const yO=(function e(t){var r=O8(t);function n(a,i){var o=r((a=Ex(a)).r,(i=Ex(i)).r),l=r(a.g,i.g),u=r(a.b,i.b),c=HR(a.opacity,i.opacity);return function(h){return a.r=o(h),a.g=l(h),a.b=u(h),a.opacity=c(h),a+""}}return n.gamma=e,n})(1);function _8(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function D8(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function k8(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Lu(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function N8(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Yv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function P8(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Lu(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Sx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,W0=new RegExp(Sx.source,"g");function R8(e){return function(){return e}}function L8(e){return function(t){return e(t)+""}}function j8(e,t){var r=Sx.lastIndex=W0.lastIndex=0,n,a,i,o=-1,l=[],u=[];for(e=e+"",t=t+"";(n=Sx.exec(e))&&(a=W0.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,u.push({i:o,x:Yv(n,a)})),r=W0.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?u[0]?L8(u[0].x):R8(t):(t=u.length,function(c){for(var h=0,d;h<t;++h)l[(d=u[h]).i]=d.x(c);return l.join("")})}function Lu(e,t){var r=typeof t,n;return t==null||r==="boolean"?Iw(t):(r==="number"?Yv:r==="string"?(n=bf(t))?(t=n,yO):j8:t instanceof bf?yO:t instanceof Date?N8:D8(t)?_8:Array.isArray(t)?k8:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?P8:Yv)(e,t)}function zw(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function B8(e,t){t===void 0&&(t=e,e=Lu);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function I8(e){return function(){return e}}function Hv(e){return+e}var bO=[0,1];function qn(e){return e}function Tx(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:I8(isNaN(t)?NaN:.5)}function z8(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function F8(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=Tx(a,n),i=r(o,i)):(n=Tx(n,a),i=r(i,o)),function(l){return i(n(l))}}function U8(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Tx(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var u=Vf(e,l,1,n)-1;return i[u](a[u](l))}}function Yf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Gg(){var e=bO,t=bO,r=Lu,n,a,i,o=qn,l,u,c;function h(){var v=Math.min(e.length,t.length);return o!==qn&&(o=z8(e[0],e[v-1])),l=v>2?U8:F8,u=c=null,d}function d(v){return v==null||isNaN(v=+v)?i:(u||(u=l(e.map(n),t,r)))(n(o(v)))}return d.invert=function(v){return o(a((c||(c=l(t,e.map(n),Yv)))(v)))},d.domain=function(v){return arguments.length?(e=Array.from(v,Hv),h()):e.slice()},d.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},d.rangeRound=function(v){return t=Array.from(v),r=zw,h()},d.clamp=function(v){return arguments.length?(o=v?!0:qn,h()):o!==qn},d.interpolate=function(v){return arguments.length?(r=v,h()):r},d.unknown=function(v){return arguments.length?(i=v,d):i},function(v,p){return n=v,a=p,h()}}function Fw(){return Gg()(qn,qn)}function G8(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xv(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Cu(e){return e=Xv(Math.abs(e)),e?e[1]:NaN}function q8(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],u=0;a>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),i.push(r.substring(a-=l,a+l)),!((u+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function V8(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var $8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xf(e){if(!(t=$8.exec(e)))throw new Error("invalid format: "+e);var t;return new Uw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}xf.prototype=Uw.prototype;function Uw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Uw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Y8(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var XR;function H8(e,t){var r=Xv(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(XR=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Xv(e,Math.max(0,t+i-1))[0]}function xO(e,t){var r=Xv(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const wO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:G8,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>xO(e*100,t),r:xO,s:H8,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function EO(e){return e}var SO=Array.prototype.map,TO=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function X8(e){var t=e.grouping===void 0||e.thousands===void 0?EO:q8(SO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?EO:V8(SO.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function c(d){d=xf(d);var v=d.fill,p=d.align,m=d.sign,b=d.symbol,x=d.zero,w=d.width,T=d.comma,S=d.precision,D=d.trim,R=d.type;R==="n"?(T=!0,R="g"):wO[R]||(S===void 0&&(S=12),D=!0,R="g"),(x||v==="0"&&p==="=")&&(x=!0,v="0",p="=");var L=b==="$"?r:b==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",_=b==="$"?n:/[%p]/.test(R)?o:"",N=wO[R],P=/[defgprs%]/.test(R);S=S===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function U(j){var F=L,I=_,G,Y,q;if(R==="c")I=N(j)+I,j="";else{j=+j;var V=j<0||1/j<0;if(j=isNaN(j)?u:N(Math.abs(j),S),D&&(j=Y8(j)),V&&+j==0&&m!=="+"&&(V=!1),F=(V?m==="("?m:l:m==="-"||m==="("?"":m)+F,I=(R==="s"?TO[8+XR/3]:"")+I+(V&&m==="("?")":""),P){for(G=-1,Y=j.length;++G<Y;)if(q=j.charCodeAt(G),48>q||q>57){I=(q===46?a+j.slice(G+1):j.slice(G))+I,j=j.slice(0,G);break}}}T&&!x&&(j=t(j,1/0));var W=F.length+j.length+I.length,J=W<w?new Array(w-W+1).join(v):"";switch(T&&x&&(j=t(J+j,J.length?w-I.length:1/0),J=""),p){case"<":j=F+j+I+J;break;case"=":j=F+J+j+I;break;case"^":j=J.slice(0,W=J.length>>1)+F+j+I+J.slice(W);break;default:j=J+F+j+I;break}return i(j)}return U.toString=function(){return d+""},U}function h(d,v){var p=c((d=xf(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Cu(v)/3)))*3,b=Math.pow(10,-m),x=TO[8+m/3];return function(w){return p(b*w)+x}}return{format:c,formatPrefix:h}}var Ud,Gw,KR;K8({thousands:",",grouping:[3],currency:["$",""]});function K8(e){return Ud=X8(e),Gw=Ud.format,KR=Ud.formatPrefix,Ud}function W8(e){return Math.max(0,-Cu(Math.abs(e)))}function Z8(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Cu(t)/3)))*3-Cu(Math.abs(e)))}function Q8(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Cu(t)-Cu(e))+1}function WR(e,t,r,n){var a=xx(e,t,r),i;switch(n=xf(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Z8(a,o))&&(n.precision=i),KR(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Q8(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=W8(a))&&(n.precision=i-(n.type==="%")*2);break}}return Gw(n)}function us(e){var t=e.domain;return e.ticks=function(r){var n=t();return yx(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return WR(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],u,c,h=10;for(l<o&&(c=o,o=l,l=c,c=a,a=i,i=c);h-- >0;){if(c=bx(o,l,r),c===u)return n[a]=o,n[i]=l,t(n);if(c>0)o=Math.floor(o/c)*c,l=Math.ceil(l/c)*c;else if(c<0)o=Math.ceil(o*c)/c,l=Math.floor(l*c)/c;else break;u=c}return e},e}function ZR(){var e=Fw();return e.copy=function(){return Yf(e,ZR())},Ka.apply(e,arguments),us(e)}function QR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Hv),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return QR(e).unknown(t)},e=arguments.length?Array.from(e,Hv):[0,1],us(r)}function JR(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function AO(e){return Math.log(e)}function CO(e){return Math.exp(e)}function J8(e){return-Math.log(-e)}function eV(e){return-Math.exp(-e)}function tV(e){return isFinite(e)?+("1e"+e):e<0?0:e}function rV(e){return e===10?tV:e===Math.E?Math.exp:t=>Math.pow(e,t)}function nV(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function MO(e){return(t,r)=>-e(-t,r)}function qw(e){const t=e(AO,CO),r=t.domain;let n=10,a,i;function o(){return a=nV(n),i=rV(n),r()[0]<0?(a=MO(a),i=MO(i),e(J8,eV)):e(AO,CO),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const u=r();let c=u[0],h=u[u.length-1];const d=h<c;d&&([c,h]=[h,c]);let v=a(c),p=a(h),m,b;const x=l==null?10:+l;let w=[];if(!(n%1)&&p-v<x){if(v=Math.floor(v),p=Math.ceil(p),c>0){for(;v<=p;++v)for(m=1;m<n;++m)if(b=v<0?m/i(-v):m*i(v),!(b<c)){if(b>h)break;w.push(b)}}else for(;v<=p;++v)for(m=n-1;m>=1;--m)if(b=v>0?m/i(-v):m*i(v),!(b<c)){if(b>h)break;w.push(b)}w.length*2<x&&(w=yx(c,h,x))}else w=yx(v,p,Math.min(p-v,x)).map(i);return d?w.reverse():w},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=xf(u)).precision==null&&(u.trim=!0),u=Gw(u)),l===1/0)return u;const c=Math.max(1,n*l/t.ticks().length);return h=>{let d=h/i(Math.round(a(h)));return d*n<n-.5&&(d*=n),d<=c?u(h):""}},t.nice=()=>r(JR(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function eL(){const e=qw(Gg()).domain([1,10]);return e.copy=()=>Yf(e,eL()).base(e.base()),Ka.apply(e,arguments),e}function OO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _O(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Vw(e){var t=1,r=e(OO(t),_O(t));return r.constant=function(n){return arguments.length?e(OO(t=+n),_O(t)):t},us(r)}function tL(){var e=Vw(Gg());return e.copy=function(){return Yf(e,tL()).constant(e.constant())},Ka.apply(e,arguments)}function DO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function aV(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function iV(e){return e<0?-e*e:e*e}function $w(e){var t=e(qn,qn),r=1;function n(){return r===1?e(qn,qn):r===.5?e(aV,iV):e(DO(r),DO(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},us(t)}function Yw(){var e=$w(Gg());return e.copy=function(){return Yf(e,Yw()).exponent(e.exponent())},Ka.apply(e,arguments),e}function oV(){return Yw.apply(null,arguments).exponent(.5)}function kO(e){return Math.sign(e)*e*e}function sV(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function rL(){var e=Fw(),t=[0,1],r=!1,n;function a(i){var o=sV(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(kO(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Hv)).map(kO)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return rL(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ka.apply(a,arguments),us(a)}function nL(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=f8(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Vf(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Zo),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return nL().domain(e).range(t).unknown(n)},Ka.apply(i,arguments)}function aL(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(u){return u!=null&&u<=u?a[Vf(n,u,0,r)]:i}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(r=(a=Array.from(u)).length-1,l()):a.slice()},o.invertExtent=function(u){var c=a.indexOf(u);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(u){return arguments.length&&(i=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return aL().domain([e,t]).range(a).unknown(i)},Ka.apply(us(o),arguments)}function iL(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Vf(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return iL().domain(e).range(t).unknown(r)},Ka.apply(a,arguments)}const Z0=new Date,Q0=new Date;function an(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const u=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return u;let c;do u.push(c=new Date(+i)),t(i,l),e(i);while(c<i&&i<o);return u},a.filter=i=>an(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Z0.setTime(+i),Q0.setTime(+o),e(Z0),e(Q0),Math.floor(r(Z0,Q0))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Kv=an(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Kv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?an(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Kv);Kv.range;const Xi=1e3,qa=Xi*60,Ki=qa*60,to=Ki*24,Hw=to*7,NO=to*30,J0=to*365,Ws=an(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Xi)},(e,t)=>(t-e)/Xi,e=>e.getUTCSeconds());Ws.range;const Xw=an(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xi)},(e,t)=>{e.setTime(+e+t*qa)},(e,t)=>(t-e)/qa,e=>e.getMinutes());Xw.range;const Kw=an(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*qa)},(e,t)=>(t-e)/qa,e=>e.getUTCMinutes());Kw.range;const Ww=an(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xi-e.getMinutes()*qa)},(e,t)=>{e.setTime(+e+t*Ki)},(e,t)=>(t-e)/Ki,e=>e.getHours());Ww.range;const Zw=an(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ki)},(e,t)=>(t-e)/Ki,e=>e.getUTCHours());Zw.range;const Hf=an(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*qa)/to,e=>e.getDate()-1);Hf.range;const qg=an(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/to,e=>e.getUTCDate()-1);qg.range;const oL=an(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/to,e=>Math.floor(e/to));oL.range;function pl(e){return an(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*qa)/Hw)}const Vg=pl(0),Wv=pl(1),lV=pl(2),uV=pl(3),Mu=pl(4),cV=pl(5),fV=pl(6);Vg.range;Wv.range;lV.range;uV.range;Mu.range;cV.range;fV.range;function ml(e){return an(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Hw)}const $g=ml(0),Zv=ml(1),hV=ml(2),dV=ml(3),Ou=ml(4),vV=ml(5),gV=ml(6);$g.range;Zv.range;hV.range;dV.range;Ou.range;vV.range;gV.range;const Qw=an(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Qw.range;const Jw=an(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Jw.range;const ro=an(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ro.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:an(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ro.range;const no=an(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());no.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:an(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});no.range;function sL(e,t,r,n,a,i){const o=[[Ws,1,Xi],[Ws,5,5*Xi],[Ws,15,15*Xi],[Ws,30,30*Xi],[i,1,qa],[i,5,5*qa],[i,15,15*qa],[i,30,30*qa],[a,1,Ki],[a,3,3*Ki],[a,6,6*Ki],[a,12,12*Ki],[n,1,to],[n,2,2*to],[r,1,Hw],[t,1,NO],[t,3,3*NO],[e,1,J0]];function l(c,h,d){const v=h<c;v&&([c,h]=[h,c]);const p=d&&typeof d.range=="function"?d:u(c,h,d),m=p?p.range(c,+h+1):[];return v?m.reverse():m}function u(c,h,d){const v=Math.abs(h-c)/d,p=Rw(([,,x])=>x).right(o,v);if(p===o.length)return e.every(xx(c/J0,h/J0,d));if(p===0)return Kv.every(Math.max(xx(c,h,d),1));const[m,b]=o[v/o[p-1][2]<o[p][2]/v?p-1:p];return m.every(b)}return[l,u]}const[pV,mV]=sL(no,Jw,$g,oL,Zw,Kw),[yV,bV]=sL(ro,Qw,Vg,Hf,Ww,Xw);function eb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function tb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Vc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function xV(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,c=$c(a),h=Yc(a),d=$c(i),v=Yc(i),p=$c(o),m=Yc(o),b=$c(l),x=Yc(l),w=$c(u),T=Yc(u),S={a:V,A:W,b:J,B:ie,c:null,d:IO,e:IO,f:qV,g:JV,G:t$,H:FV,I:UV,j:GV,L:lL,m:VV,M:$V,p:K,q:Z,Q:UO,s:GO,S:YV,u:HV,U:XV,V:KV,w:WV,W:ZV,x:null,X:null,y:QV,Y:e$,Z:r$,"%":FO},D={a:fe,A:he,b:oe,B:be,c:null,d:zO,e:zO,f:o$,g:p$,G:y$,H:n$,I:a$,j:i$,L:cL,m:s$,M:l$,p:Ae,q:Le,Q:UO,s:GO,S:u$,u:c$,U:f$,V:h$,w:d$,W:v$,x:null,X:null,y:g$,Y:m$,Z:b$,"%":FO},R={a:U,A:j,b:F,B:I,c:G,d:jO,e:jO,f:jV,g:LO,G:RO,H:BO,I:BO,j:NV,L:LV,m:kV,M:PV,p:P,q:DV,Q:IV,s:zV,S:RV,u:AV,U:CV,V:MV,w:TV,W:OV,x:Y,X:q,y:LO,Y:RO,Z:_V,"%":BV};S.x=L(r,S),S.X=L(n,S),S.c=L(t,S),D.x=L(r,D),D.X=L(n,D),D.c=L(t,D);function L(ce,ae){return function(le){var re=[],ge=-1,Se=0,ze=ce.length,Qe,Oe,je;for(le instanceof Date||(le=new Date(+le));++ge<ze;)ce.charCodeAt(ge)===37&&(re.push(ce.slice(Se,ge)),(Oe=PO[Qe=ce.charAt(++ge)])!=null?Qe=ce.charAt(++ge):Oe=Qe==="e"?" ":"0",(je=ae[Qe])&&(Qe=je(le,Oe)),re.push(Qe),Se=ge+1);return re.push(ce.slice(Se,ge)),re.join("")}}function _(ce,ae){return function(le){var re=Vc(1900,void 0,1),ge=N(re,ce,le+="",0),Se,ze;if(ge!=le.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(ae&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Se=tb(Vc(re.y,0,1)),ze=Se.getUTCDay(),Se=ze>4||ze===0?Zv.ceil(Se):Zv(Se),Se=qg.offset(Se,(re.V-1)*7),re.y=Se.getUTCFullYear(),re.m=Se.getUTCMonth(),re.d=Se.getUTCDate()+(re.w+6)%7):(Se=eb(Vc(re.y,0,1)),ze=Se.getDay(),Se=ze>4||ze===0?Wv.ceil(Se):Wv(Se),Se=Hf.offset(Se,(re.V-1)*7),re.y=Se.getFullYear(),re.m=Se.getMonth(),re.d=Se.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),ze="Z"in re?tb(Vc(re.y,0,1)).getUTCDay():eb(Vc(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(ze+5)%7:re.w+re.U*7-(ze+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,tb(re)):eb(re)}}function N(ce,ae,le,re){for(var ge=0,Se=ae.length,ze=le.length,Qe,Oe;ge<Se;){if(re>=ze)return-1;if(Qe=ae.charCodeAt(ge++),Qe===37){if(Qe=ae.charAt(ge++),Oe=R[Qe in PO?ae.charAt(ge++):Qe],!Oe||(re=Oe(ce,le,re))<0)return-1}else if(Qe!=le.charCodeAt(re++))return-1}return re}function P(ce,ae,le){var re=c.exec(ae.slice(le));return re?(ce.p=h.get(re[0].toLowerCase()),le+re[0].length):-1}function U(ce,ae,le){var re=p.exec(ae.slice(le));return re?(ce.w=m.get(re[0].toLowerCase()),le+re[0].length):-1}function j(ce,ae,le){var re=d.exec(ae.slice(le));return re?(ce.w=v.get(re[0].toLowerCase()),le+re[0].length):-1}function F(ce,ae,le){var re=w.exec(ae.slice(le));return re?(ce.m=T.get(re[0].toLowerCase()),le+re[0].length):-1}function I(ce,ae,le){var re=b.exec(ae.slice(le));return re?(ce.m=x.get(re[0].toLowerCase()),le+re[0].length):-1}function G(ce,ae,le){return N(ce,t,ae,le)}function Y(ce,ae,le){return N(ce,r,ae,le)}function q(ce,ae,le){return N(ce,n,ae,le)}function V(ce){return o[ce.getDay()]}function W(ce){return i[ce.getDay()]}function J(ce){return u[ce.getMonth()]}function ie(ce){return l[ce.getMonth()]}function K(ce){return a[+(ce.getHours()>=12)]}function Z(ce){return 1+~~(ce.getMonth()/3)}function fe(ce){return o[ce.getUTCDay()]}function he(ce){return i[ce.getUTCDay()]}function oe(ce){return u[ce.getUTCMonth()]}function be(ce){return l[ce.getUTCMonth()]}function Ae(ce){return a[+(ce.getUTCHours()>=12)]}function Le(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var ae=L(ce+="",S);return ae.toString=function(){return ce},ae},parse:function(ce){var ae=_(ce+="",!1);return ae.toString=function(){return ce},ae},utcFormat:function(ce){var ae=L(ce+="",D);return ae.toString=function(){return ce},ae},utcParse:function(ce){var ae=_(ce+="",!0);return ae.toString=function(){return ce},ae}}}var PO={"-":"",_:" ",0:"0"},mn=/^\s*\d+/,wV=/^%/,EV=/[\\^$*+?|[\]().{}]/g;function rr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function SV(e){return e.replace(EV,"\\$&")}function $c(e){return new RegExp("^(?:"+e.map(SV).join("|")+")","i")}function Yc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function TV(e,t,r){var n=mn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function AV(e,t,r){var n=mn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function CV(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function MV(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function OV(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function RO(e,t,r){var n=mn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function LO(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function _V(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function DV(e,t,r){var n=mn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function kV(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function jO(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function NV(e,t,r){var n=mn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function BO(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function PV(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function RV(e,t,r){var n=mn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function LV(e,t,r){var n=mn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function jV(e,t,r){var n=mn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function BV(e,t,r){var n=wV.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function IV(e,t,r){var n=mn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function zV(e,t,r){var n=mn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function IO(e,t){return rr(e.getDate(),t,2)}function FV(e,t){return rr(e.getHours(),t,2)}function UV(e,t){return rr(e.getHours()%12||12,t,2)}function GV(e,t){return rr(1+Hf.count(ro(e),e),t,3)}function lL(e,t){return rr(e.getMilliseconds(),t,3)}function qV(e,t){return lL(e,t)+"000"}function VV(e,t){return rr(e.getMonth()+1,t,2)}function $V(e,t){return rr(e.getMinutes(),t,2)}function YV(e,t){return rr(e.getSeconds(),t,2)}function HV(e){var t=e.getDay();return t===0?7:t}function XV(e,t){return rr(Vg.count(ro(e)-1,e),t,2)}function uL(e){var t=e.getDay();return t>=4||t===0?Mu(e):Mu.ceil(e)}function KV(e,t){return e=uL(e),rr(Mu.count(ro(e),e)+(ro(e).getDay()===4),t,2)}function WV(e){return e.getDay()}function ZV(e,t){return rr(Wv.count(ro(e)-1,e),t,2)}function QV(e,t){return rr(e.getFullYear()%100,t,2)}function JV(e,t){return e=uL(e),rr(e.getFullYear()%100,t,2)}function e$(e,t){return rr(e.getFullYear()%1e4,t,4)}function t$(e,t){var r=e.getDay();return e=r>=4||r===0?Mu(e):Mu.ceil(e),rr(e.getFullYear()%1e4,t,4)}function r$(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+rr(t/60|0,"0",2)+rr(t%60,"0",2)}function zO(e,t){return rr(e.getUTCDate(),t,2)}function n$(e,t){return rr(e.getUTCHours(),t,2)}function a$(e,t){return rr(e.getUTCHours()%12||12,t,2)}function i$(e,t){return rr(1+qg.count(no(e),e),t,3)}function cL(e,t){return rr(e.getUTCMilliseconds(),t,3)}function o$(e,t){return cL(e,t)+"000"}function s$(e,t){return rr(e.getUTCMonth()+1,t,2)}function l$(e,t){return rr(e.getUTCMinutes(),t,2)}function u$(e,t){return rr(e.getUTCSeconds(),t,2)}function c$(e){var t=e.getUTCDay();return t===0?7:t}function f$(e,t){return rr($g.count(no(e)-1,e),t,2)}function fL(e){var t=e.getUTCDay();return t>=4||t===0?Ou(e):Ou.ceil(e)}function h$(e,t){return e=fL(e),rr(Ou.count(no(e),e)+(no(e).getUTCDay()===4),t,2)}function d$(e){return e.getUTCDay()}function v$(e,t){return rr(Zv.count(no(e)-1,e),t,2)}function g$(e,t){return rr(e.getUTCFullYear()%100,t,2)}function p$(e,t){return e=fL(e),rr(e.getUTCFullYear()%100,t,2)}function m$(e,t){return rr(e.getUTCFullYear()%1e4,t,4)}function y$(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ou(e):Ou.ceil(e),rr(e.getUTCFullYear()%1e4,t,4)}function b$(){return"+0000"}function FO(){return"%"}function UO(e){return+e}function GO(e){return Math.floor(+e/1e3)}var Zl,hL,dL;x$({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function x$(e){return Zl=xV(e),hL=Zl.format,Zl.parse,dL=Zl.utcFormat,Zl.utcParse,Zl}function w$(e){return new Date(e)}function E$(e){return e instanceof Date?+e:+new Date(+e)}function eE(e,t,r,n,a,i,o,l,u,c){var h=Fw(),d=h.invert,v=h.domain,p=c(".%L"),m=c(":%S"),b=c("%I:%M"),x=c("%I %p"),w=c("%a %d"),T=c("%b %d"),S=c("%B"),D=c("%Y");function R(L){return(u(L)<L?p:l(L)<L?m:o(L)<L?b:i(L)<L?x:n(L)<L?a(L)<L?w:T:r(L)<L?S:D)(L)}return h.invert=function(L){return new Date(d(L))},h.domain=function(L){return arguments.length?v(Array.from(L,E$)):v().map(w$)},h.ticks=function(L){var _=v();return e(_[0],_[_.length-1],L??10)},h.tickFormat=function(L,_){return _==null?R:c(_)},h.nice=function(L){var _=v();return(!L||typeof L.range!="function")&&(L=t(_[0],_[_.length-1],L??10)),L?v(JR(_,L)):h},h.copy=function(){return Yf(h,eE(e,t,r,n,a,i,o,l,u,c))},h}function S$(){return Ka.apply(eE(yV,bV,ro,Qw,Vg,Hf,Ww,Xw,Ws,hL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function T$(){return Ka.apply(eE(pV,mV,no,Jw,$g,qg,Zw,Kw,Ws,dL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Yg(){var e=0,t=1,r,n,a,i,o=qn,l=!1,u;function c(d){return d==null||isNaN(d=+d)?u:o(a===0?.5:(d=(i(d)-r)*a,l?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(l=!!d,c):l},c.interpolator=function(d){return arguments.length?(o=d,c):o};function h(d){return function(v){var p,m;return arguments.length?([p,m]=v,o=d(p,m),c):[o(0),o(1)]}}return c.range=h(Lu),c.rangeRound=h(zw),c.unknown=function(d){return arguments.length?(u=d,c):u},function(d){return i=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),c}}function cs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function vL(){var e=us(Yg()(qn));return e.copy=function(){return cs(e,vL())},uo.apply(e,arguments)}function gL(){var e=qw(Yg()).domain([1,10]);return e.copy=function(){return cs(e,gL()).base(e.base())},uo.apply(e,arguments)}function pL(){var e=Vw(Yg());return e.copy=function(){return cs(e,pL()).constant(e.constant())},uo.apply(e,arguments)}function tE(){var e=$w(Yg());return e.copy=function(){return cs(e,tE()).exponent(e.exponent())},uo.apply(e,arguments)}function A$(){return tE.apply(null,arguments).exponent(.5)}function mL(){var e=[],t=qn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Vf(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Zo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>c8(e,i/n))},r.copy=function(){return mL(t).domain(e)},uo.apply(r,arguments)}function Hg(){var e=0,t=.5,r=1,n=1,a,i,o,l,u,c=qn,h,d=!1,v;function p(b){return isNaN(b=+b)?v:(b=.5+((b=+h(b))-i)*(n*b<n*i?l:u),c(d?Math.max(0,Math.min(1,b)):b))}p.domain=function(b){return arguments.length?([e,t,r]=b,a=h(e=+e),i=h(t=+t),o=h(r=+r),l=a===i?0:.5/(i-a),u=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(b){return arguments.length?(d=!!b,p):d},p.interpolator=function(b){return arguments.length?(c=b,p):c};function m(b){return function(x){var w,T,S;return arguments.length?([w,T,S]=x,c=B8(b,[w,T,S]),p):[c(0),c(.5),c(1)]}}return p.range=m(Lu),p.rangeRound=m(zw),p.unknown=function(b){return arguments.length?(v=b,p):v},function(b){return h=b,a=b(e),i=b(t),o=b(r),l=a===i?0:.5/(i-a),u=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function yL(){var e=us(Hg()(qn));return e.copy=function(){return cs(e,yL())},uo.apply(e,arguments)}function bL(){var e=qw(Hg()).domain([.1,1,10]);return e.copy=function(){return cs(e,bL()).base(e.base())},uo.apply(e,arguments)}function xL(){var e=Vw(Hg());return e.copy=function(){return cs(e,xL()).constant(e.constant())},uo.apply(e,arguments)}function rE(){var e=$w(Hg());return e.copy=function(){return cs(e,rE()).exponent(e.exponent())},uo.apply(e,arguments)}function C$(){return rE.apply(null,arguments).exponent(.5)}const af=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jw,scaleDiverging:yL,scaleDivergingLog:bL,scaleDivergingPow:rE,scaleDivergingSqrt:C$,scaleDivergingSymlog:xL,scaleIdentity:QR,scaleImplicit:wx,scaleLinear:ZR,scaleLog:eL,scaleOrdinal:Lw,scalePoint:d8,scalePow:Yw,scaleQuantile:nL,scaleQuantize:aL,scaleRadial:rL,scaleSequential:vL,scaleSequentialLog:gL,scaleSequentialPow:tE,scaleSequentialQuantile:mL,scaleSequentialSqrt:A$,scaleSequentialSymlog:pL,scaleSqrt:oV,scaleSymlog:tL,scaleThreshold:iL,scaleTime:S$,scaleUtc:T$,tickFormat:WR},Symbol.toStringTag,{value:"Module"}));var fs=e=>e.chartData,M$=Ge([fs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),nE=(e,t,r,n)=>n?M$(e):fs(e);function il(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ua(t)&&ua(r))return!0}return!1}function qO(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function wL(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(ua(r))a=r;else if(typeof r=="function")return;if(ua(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(il(o))return o}}function O$(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(il(n))return qO(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(Rt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&CM.test(a)){var u=CM.exec(a);if(u==null||t==null)o=void 0;else{var c=+u[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(Rt(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&MM.test(i)){var h=MM.exec(i);if(h==null||t==null)l=void 0;else{var d=+h[1];l=t[1]+d}}else l=t==null?void 0:t[1];var v=[o,l];if(il(v))return t==null?v:qO(v,t,r)}}}var ju=1e9,_$={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},iE,Pr=!0,Ya="[DecimalError] ",rl=Ya+"Invalid argument: ",aE=Ya+"Exponent out of range: ",Bu=Math.floor,qs=Math.pow,D$=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ea,vn=1e7,Cr=7,EL=9007199254740991,Qv=Bu(EL/Cr),Et={};Et.absoluteValue=Et.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Et.comparedTo=Et.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Et.decimalPlaces=Et.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Cr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Et.dividedBy=Et.div=function(e){return Qi(this,new this.constructor(e))};Et.dividedToIntegerBy=Et.idiv=function(e){var t=this,r=t.constructor;return br(Qi(t,new r(e),0,1),r.precision)};Et.equals=Et.eq=function(e){return!this.cmp(e)};Et.exponent=function(){return Zr(this)};Et.greaterThan=Et.gt=function(e){return this.cmp(e)>0};Et.greaterThanOrEqualTo=Et.gte=function(e){return this.cmp(e)>=0};Et.isInteger=Et.isint=function(){return this.e>this.d.length-2};Et.isNegative=Et.isneg=function(){return this.s<0};Et.isPositive=Et.ispos=function(){return this.s>0};Et.isZero=function(){return this.s===0};Et.lessThan=Et.lt=function(e){return this.cmp(e)<0};Et.lessThanOrEqualTo=Et.lte=function(e){return this.cmp(e)<1};Et.logarithm=Et.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ea))throw Error(Ya+"NaN");if(r.s<1)throw Error(Ya+(r.s?"NaN":"-Infinity"));return r.eq(Ea)?new n(0):(Pr=!1,t=Qi(wf(r,i),wf(e,i),i),Pr=!0,br(t,a))};Et.minus=Et.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?AL(t,e):SL(t,(e.s=-e.s,e))};Et.modulo=Et.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ya+"NaN");return r.s?(Pr=!1,t=Qi(r,e,0,1).times(e),Pr=!0,r.minus(t)):br(new n(r),a)};Et.naturalExponential=Et.exp=function(){return TL(this)};Et.naturalLogarithm=Et.ln=function(){return wf(this)};Et.negated=Et.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Et.plus=Et.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SL(t,e):AL(t,(e.s=-e.s,e))};Et.precision=Et.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(rl+e);if(t=Zr(a)+1,n=a.d.length-1,r=n*Cr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Et.squareRoot=Et.sqrt=function(){var e,t,r,n,a,i,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Ya+"NaN")}for(e=Zr(l),Pr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=mi(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Bu((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(a.toString()),r=u.precision,a=o=r+3;;)if(i=n,n=i.plus(Qi(l,i,o+2)).times(.5),mi(i.d).slice(0,o)===(t=mi(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(br(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Pr=!0,br(n,r)};Et.times=Et.mul=function(e){var t,r,n,a,i,o,l,u,c,h=this,d=h.constructor,v=h.d,p=(e=new d(e)).d;if(!h.s||!e.s)return new d(0);for(e.s*=h.s,r=h.e+e.e,u=v.length,c=p.length,u<c&&(i=v,v=p,p=i,o=u,u=c,c=o),i=[],o=u+c,n=o;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=u+n;a>n;)l=i[a]+p[n]*v[a-n-1]+t,i[a--]=l%vn|0,t=l/vn|0;i[a]=(i[a]+t)%vn|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Pr?br(e,d.precision):e};Et.toDecimalPlaces=Et.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(wi(e,0,ju),t===void 0?t=n.rounding:wi(t,0,8),br(r,e+Zr(r)+1,t))};Et.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ol(n,!0):(wi(e,0,ju),t===void 0?t=a.rounding:wi(t,0,8),n=br(new a(n),e+1,t),r=ol(n,!0,e+1)),r};Et.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ol(a):(wi(e,0,ju),t===void 0?t=i.rounding:wi(t,0,8),n=br(new i(a),e+Zr(a)+1,t),r=ol(n.abs(),!1,e+Zr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Et.toInteger=Et.toint=function(){var e=this,t=e.constructor;return br(new t(e),Zr(e)+1,t.rounding)};Et.toNumber=function(){return+this};Et.toPower=Et.pow=function(e){var t,r,n,a,i,o,l=this,u=l.constructor,c=12,h=+(e=new u(e));if(!e.s)return new u(Ea);if(l=new u(l),!l.s){if(e.s<1)throw Error(Ya+"Infinity");return l}if(l.eq(Ea))return l;if(n=u.precision,e.eq(Ea))return br(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=h<0?-h:h)<=EL){for(a=new u(Ea),t=Math.ceil(n/Cr+4),Pr=!1;r%2&&(a=a.times(l),$O(a.d,t)),r=Bu(r/2),r!==0;)l=l.times(l),$O(l.d,t);return Pr=!0,e.s<0?new u(Ea).div(a):br(a,n)}}else if(i<0)throw Error(Ya+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Pr=!1,a=e.times(wf(l,n+c)),Pr=!0,a=TL(a),a.s=i,a};Et.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Zr(a),n=ol(a,r<=i.toExpNeg||r>=i.toExpPos)):(wi(e,1,ju),t===void 0?t=i.rounding:wi(t,0,8),a=br(new i(a),e,t),r=Zr(a),n=ol(a,e<=r||r<=i.toExpNeg,e)),n};Et.toSignificantDigits=Et.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(wi(e,1,ju),t===void 0?t=n.rounding:wi(t,0,8)),br(new n(r),e,t)};Et.toString=Et.valueOf=Et.val=Et.toJSON=Et[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Zr(e),r=e.constructor;return ol(e,t<=r.toExpNeg||t>=r.toExpPos)};function SL(e,t){var r,n,a,i,o,l,u,c,h=e.constructor,d=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Pr?br(t,d):t;if(u=e.d,c=t.d,o=e.e,a=t.e,u=u.slice(),i=o-a,i){for(i<0?(n=u,i=-i,l=c.length):(n=c,a=o,l=u.length),o=Math.ceil(d/Cr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=u.length,i=c.length,l-i<0&&(i=l,n=c,c=u,u=n),r=0;i;)r=(u[--i]=u[i]+c[i]+r)/vn|0,u[i]%=vn;for(r&&(u.unshift(r),++a),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=a,Pr?br(t,d):t}function wi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(rl+e)}function mi(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Cr-n.length,r&&(i+=Vo(r)),i+=n;o=e[t],n=o+"",r=Cr-n.length,r&&(i+=Vo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Qi=(function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%vn|0,o=i/vn|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,u;if(i!=o)u=i>o?1:-1;else for(l=u=0;l<i;l++)if(n[l]!=a[l]){u=n[l]>a[l]?1:-1;break}return u}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*vn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,u,c,h,d,v,p,m,b,x,w,T,S,D,R,L,_,N,P=n.constructor,U=n.s==a.s?1:-1,j=n.d,F=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(Ya+"Division by zero");for(u=n.e-a.e,_=F.length,R=j.length,p=new P(U),m=p.d=[],c=0;F[c]==(j[c]||0);)++c;if(F[c]>(j[c]||0)&&--u,i==null?T=i=P.precision:o?T=i+(Zr(n)-Zr(a))+1:T=i,T<0)return new P(0);if(T=T/Cr+2|0,c=0,_==1)for(h=0,F=F[0],T++;(c<R||h)&&T--;c++)S=h*vn+(j[c]||0),m[c]=S/F|0,h=S%F|0;else{for(h=vn/(F[0]+1)|0,h>1&&(F=e(F,h),j=e(j,h),_=F.length,R=j.length),D=_,b=j.slice(0,_),x=b.length;x<_;)b[x++]=0;N=F.slice(),N.unshift(0),L=F[0],F[1]>=vn/2&&++L;do h=0,l=t(F,b,_,x),l<0?(w=b[0],_!=x&&(w=w*vn+(b[1]||0)),h=w/L|0,h>1?(h>=vn&&(h=vn-1),d=e(F,h),v=d.length,x=b.length,l=t(d,b,v,x),l==1&&(h--,r(d,_<v?N:F,v))):(h==0&&(l=h=1),d=F.slice()),v=d.length,v<x&&d.unshift(0),r(b,d,x),l==-1&&(x=b.length,l=t(F,b,_,x),l<1&&(h++,r(b,_<x?N:F,x))),x=b.length):l===0&&(h++,b=[0]),m[c++]=h,l&&b[0]?b[x++]=j[D]||0:(b=[j[D]],x=1);while((D++<R||b[0]!==void 0)&&T--)}return m[0]||m.shift(),p.e=u,br(p,o?i+Zr(p)+1:i)}})();function TL(e,t){var r,n,a,i,o,l,u=0,c=0,h=e.constructor,d=h.precision;if(Zr(e)>16)throw Error(aE+Zr(e));if(!e.s)return new h(Ea);for(Pr=!1,l=d,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(qs(2,c))/Math.LN10*2+5|0,l+=n,r=a=i=new h(Ea),h.precision=l;;){if(a=br(a.times(e),l),r=r.times(++u),o=i.plus(Qi(a,r,l)),mi(o.d).slice(0,l)===mi(i.d).slice(0,l)){for(;c--;)i=br(i.times(i),l);return h.precision=d,t==null?(Pr=!0,br(i,d)):i}i=o}}function Zr(e){for(var t=e.e*Cr,r=e.d[0];r>=10;r/=10)t++;return t}function rb(e,t,r){if(t>e.LN10.sd())throw Pr=!0,r&&(e.precision=r),Error(Ya+"LN10 precision limit exceeded");return br(new e(e.LN10),t)}function Vo(e){for(var t="";e--;)t+="0";return t}function wf(e,t){var r,n,a,i,o,l,u,c,h,d=1,v=10,p=e,m=p.d,b=p.constructor,x=b.precision;if(p.s<1)throw Error(Ya+(p.s?"NaN":"-Infinity"));if(p.eq(Ea))return new b(0);if(t==null?(Pr=!1,c=x):c=t,p.eq(10))return t==null&&(Pr=!0),rb(b,c);if(c+=v,b.precision=c,r=mi(m),n=r.charAt(0),i=Zr(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=mi(p.d),n=r.charAt(0),d++;i=Zr(p),n>1?(p=new b("0."+r),i++):p=new b(n+"."+r.slice(1))}else return u=rb(b,c+2,x).times(i+""),p=wf(new b(n+"."+r.slice(1)),c-v).plus(u),b.precision=x,t==null?(Pr=!0,br(p,x)):p;for(l=o=p=Qi(p.minus(Ea),p.plus(Ea),c),h=br(p.times(p),c),a=3;;){if(o=br(o.times(h),c),u=l.plus(Qi(o,new b(a),c)),mi(u.d).slice(0,c)===mi(l.d).slice(0,c))return l=l.times(2),i!==0&&(l=l.plus(rb(b,c+2,x).times(i+""))),l=Qi(l,new b(d),c),b.precision=x,t==null?(Pr=!0,br(l,x)):l;l=u,a+=2}}function VO(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Bu(r/Cr),e.d=[],n=(r+1)%Cr,r<0&&(n+=Cr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Cr;n<a;)e.d.push(+t.slice(n,n+=Cr));t=t.slice(n),n=Cr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Pr&&(e.e>Qv||e.e<-Qv))throw Error(aE+r)}else e.s=0,e.e=0,e.d=[0];return e}function br(e,t,r){var n,a,i,o,l,u,c,h,d=e.d;for(o=1,i=d[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Cr,a=t,c=d[h=0];else{if(h=Math.ceil((n+1)/Cr),i=d.length,h>=i)return e;for(c=i=d[h],o=1;i>=10;i/=10)o++;n%=Cr,a=n-Cr+o}if(r!==void 0&&(i=qs(10,o-a-1),l=c/i%10|0,u=t<0||d[h+1]!==void 0||c%i,u=r<4?(l||u)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?a>0?c/qs(10,o-a):0:d[h-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return u?(i=Zr(e),d.length=1,t=t-i-1,d[0]=qs(10,(Cr-t%Cr)%Cr),e.e=Bu(-t/Cr)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=h,i=1,h--):(d.length=h+1,i=qs(10,Cr-n),d[h]=a>0?(c/qs(10,o-a)%qs(10,a)|0)*i:0),u)for(;;)if(h==0){(d[0]+=i)==vn&&(d[0]=1,++e.e);break}else{if(d[h]+=i,d[h]!=vn)break;d[h--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(Pr&&(e.e>Qv||e.e<-Qv))throw Error(aE+Zr(e));return e}function AL(e,t){var r,n,a,i,o,l,u,c,h,d,v=e.constructor,p=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),Pr?br(t,p):t;if(u=e.d,d=t.d,n=t.e,c=e.e,u=u.slice(),o=c-n,o){for(h=o<0,h?(r=u,o=-o,l=d.length):(r=d,n=c,l=u.length),a=Math.max(Math.ceil(p/Cr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=u.length,l=d.length,h=a<l,h&&(l=a),a=0;a<l;a++)if(u[a]!=d[a]){h=u[a]<d[a];break}o=0}for(h&&(r=u,u=d,d=r,t.s=-t.s),l=u.length,a=d.length-l;a>0;--a)u[l++]=0;for(a=d.length;a>o;){if(u[--a]<d[a]){for(i=a;i&&u[--i]===0;)u[i]=vn-1;--u[i],u[a]+=vn}u[a]-=d[a]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,Pr?br(t,p):t):new v(0)}function ol(e,t,r){var n,a=Zr(e),i=mi(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Vo(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Vo(-a-1)+i,r&&(n=r-o)>0&&(i+=Vo(n))):a>=o?(i+=Vo(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Vo(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Vo(n))),e.s<0?"-"+i:i}function $O(e,t){if(e.length>t)return e.length=t,!0}function CL(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(rl+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return VO(o,i.toString())}else if(typeof i!="string")throw Error(rl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,D$.test(i))VO(o,i);else throw Error(rl+i)}if(a.prototype=Et,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=CL,a.config=a.set=k$,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function k$(e){if(!e||typeof e!="object")throw Error(Ya+"Object expected");var t,r,n,a=["precision",1,ju,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Bu(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(rl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(rl+r+": "+n);return this}var iE=CL(_$);Ea=new iE(1);const fr=iE;var N$=e=>e,ML={},OL=e=>e===ML,YO=e=>function t(){return arguments.length===0||arguments.length===1&&OL(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},_L=(e,t)=>e===1?t:YO(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==ML).length;return i>=e?t(...n):_L(e-i,YO(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var c=n.map(h=>OL(h)?l.shift():h);return t(...c,...l)}))}),Xg=e=>_L(e.length,e),Ax=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},P$=Xg((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),R$=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return N$;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,u)=>u(l),i(...arguments))}},Cx=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),DL=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((o,l)=>{var u;return o===((u=t)===null||u===void 0?void 0:u[l])})||(t=a,r=e(...a)),r}};function kL(e){var t;return e===0?t=1:t=Math.floor(new fr(e).abs().log(10).toNumber())+1,t}function NL(e,t,r){for(var n=new fr(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}Xg((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});Xg((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Xg((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var PL=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},RL=(e,t,r)=>{if(e.lte(0))return new fr(0);var n=kL(e.toNumber()),a=new fr(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new fr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),u=l.mul(a);return t?new fr(u.toNumber()):new fr(Math.ceil(u.toNumber()))},L$=(e,t,r)=>{var n=new fr(1),a=new fr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new fr(10).pow(kL(e)-1),a=new fr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new fr(Math.floor(e)))}else e===0?a=new fr(Math.floor((t-1)/2)):r||(a=new fr(Math.floor(e)));var o=Math.floor((t-1)/2),l=R$(P$(u=>a.add(new fr(u-o).mul(n)).toNumber()),Ax);return l(0,t)},LL=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new fr(0),tickMin:new fr(0),tickMax:new fr(0)};var o=RL(new fr(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new fr(0):(l=new fr(t).add(r).div(2),l=l.sub(new fr(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),c=Math.ceil(new fr(r).sub(l).div(o).toNumber()),h=u+c+1;return h>n?LL(t,r,n,a,i+1):(h<n&&(c=r>0?c+(n-h):c,u=r>0?u:u+(n-h)),{step:o,tickMin:l.sub(new fr(u).mul(o)),tickMax:l.add(new fr(c).mul(o))})};function j$(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,l]=PL([t,r]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...Ax(0,n-1).map(()=>1/0)]:[...Ax(0,n-1).map(()=>-1/0),l];return t>r?Cx(u):u}if(o===l)return L$(o,n,a);var{step:c,tickMin:h,tickMax:d}=LL(o,l,i,a,0),v=NL(h,d.add(new fr(.1).mul(c)),c);return t>r?Cx(v):v}function B$(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=PL([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var l=Math.max(t,2),u=RL(new fr(o).sub(i).div(l-1),a,0),c=[...NL(new fr(i),new fr(o),u),o];return a===!1&&(c=c.map(h=>Math.round(h))),r>n?Cx(c):c}var I$=DL(j$),z$=DL(B$),F$=e=>e.rootProps.barCategoryGap,Kg=e=>e.rootProps.stackOffset,oE=e=>e.options.chartName,sE=e=>e.rootProps.syncId,jL=e=>e.rootProps.syncMethod,lE=e=>e.options.eventEmitter,Yi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},xa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Wg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},U$={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Yi.angleAxisId,includeHidden:!1,name:void 0,reversed:Yi.reversed,scale:Yi.scale,tick:Yi.tick,tickCount:void 0,ticks:void 0,type:Yi.type,unit:void 0},G$={allowDataOverflow:xa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xa.scale,tick:xa.tick,tickCount:xa.tickCount,ticks:void 0,type:xa.type,unit:void 0},q$={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Yi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yi.scale,tick:Yi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},V$={allowDataOverflow:xa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xa.scale,tick:xa.tick,tickCount:xa.tickCount,ticks:void 0,type:"category",unit:void 0},uE=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?q$:U$,cE=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?V$:G$,Zg=e=>e.polarOptions,fE=Ge([so,lo,_n],xG),BL=Ge([Zg,fE],(e,t)=>{if(e!=null)return es(e.innerRadius,t,0)}),IL=Ge([Zg,fE],(e,t)=>{if(e!=null)return es(e.outerRadius,t,t*.8)}),$$=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},zL=Ge([Zg],$$);Ge([uE,zL],Wg);var FL=Ge([fE,BL,IL],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Ge([cE,FL],Wg);var UL=Ge([Or,Zg,BL,IL,so,lo],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:u,endAngle:c}=t;return{cx:es(o,a,a/2),cy:es(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:c,clockWise:!1}}}),on=(e,t)=>t,Qg=(e,t,r)=>r;function GL(e){return e==null?void 0:e.id}var sn=e=>{var t=Or(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Iu=e=>e.tooltip.settings.axisId,ln=e=>{var t=sn(e),r=Iu(e);return Xf(e,t,r)},qL=Ge([ln],e=>e==null?void 0:e.dataKey);function VL(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(l=>{var u,c=(u=l.data)!==null&&u!==void 0?u:n;if(!(c==null||c.length===0)){var h=GL(l);c.forEach((d,v)=>{var p=i==null||a?v:String(Vn(d,i,null)),m=Vn(d,l.dataKey,0),b;o.has(p)?b=o.get(p):b={},Object.assign(b,{[h]:m}),o.set(p,b)})}}),Array.from(o.values())}function hE(e){return e.stackId!=null&&e.dataKey!=null}var Jg=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ep(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function HO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(r),!0).forEach(function(n){Y$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y$(e,t,r){return(t=H$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H$(e){var t=X$(e,"string");return typeof t=="symbol"?t:t+""}function X$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mx=[0,"auto"],ya={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},$L=(e,t)=>e.cartesianAxis.xAxis[t],co=(e,t)=>{var r=$L(e,t);return r??ya},ba={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Mx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Gf},YL=(e,t)=>e.cartesianAxis.yAxis[t],fo=(e,t)=>{var r=YL(e,t);return r??ba},K$={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},dE=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??K$},Yn=(e,t,r)=>{switch(t){case"xAxis":return co(e,r);case"yAxis":return fo(e,r);case"zAxis":return dE(e,r);case"angleAxis":return uE(e,r);case"radiusAxis":return cE(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},W$=(e,t,r)=>{switch(t){case"xAxis":return co(e,r);case"yAxis":return fo(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Xf=(e,t,r)=>{switch(t){case"xAxis":return co(e,r);case"yAxis":return fo(e,r);case"angleAxis":return uE(e,r);case"radiusAxis":return cE(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},HL=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function XL(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var KL=e=>e.graphicalItems.cartesianItems,Z$=Ge([on,Qg],XL),WL=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Kf=Ge([KL,Yn,Z$],WL,{memoizeOptions:{resultEqualityCheck:ep}}),ZL=Ge([Kf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(hE)),QL=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Q$=Ge([Kf],QL),JL=e=>e.map(t=>t.data).filter(Boolean).flat(1),J$=Ge([Kf],JL,{memoizeOptions:{resultEqualityCheck:ep}}),ej=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},vE=Ge([J$,nE],ej),tj=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Vn(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Vn(a,n)}))):e.map(n=>({value:n})),tp=Ge([vE,Yn,Kf],tj);function rj(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function lv(e){if(ia(e)||e instanceof Date){var t=Number(e);if(ua(t))return t}}function XO(e){if(Array.isArray(e)){var t=[lv(e[0]),lv(e[1])];return il(t)?t:void 0}var r=lv(e);if(r!=null)return[r,r]}function zu(e){return e.map(lv).filter(v6)}function eY(e,t,r){return!r||typeof t!="number"||oi(t)?[]:r.length?zu(r.flatMap(n=>{var a=Vn(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!ua(i)||!ua(o)))return[t-i,t+o]})):[]}var tY=Ge([ZL,nE,ln],VL),nj=(e,t,r)=>{var n={},a=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[o,l]=i,u=l.map(GL);return[o,{stackedData:LG(e,u,r),graphicalItems:l}]}))},rY=Ge([tY,ZL,Kg],nj),aj=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=IG(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},nY=Ge([Yn],e=>e.allowDataOverflow),gE=e=>{var t;if(e==null||!("domain"in e))return Mx;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=zu(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Mx},ij=Ge([Yn],gE),oj=Ge([ij,nY],wL),aY=Ge([rY,fs,on,oj],aj,{memoizeOptions:{resultEqualityCheck:Jg}}),pE=e=>e.errorBars,iY=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>rj(r,n)),eg=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},sj=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(l=>{r.forEach(u=>{var c,h,d=(c=n[u.id])===null||c===void 0?void 0:c.filter(w=>rj(a,w)),v=Vn(l,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey),p=eY(l,v,d);if(p.length>=2){var m=Math.min(...p),b=Math.max(...p);(i==null||m<i)&&(i=m),(o==null||b>o)&&(o=b)}var x=XO(v);x!=null&&(i=i==null?x[0]:Math.min(i,x[0]),o=o==null?x[1]:Math.max(o,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var u=XO(Vn(l,t.dataKey));u!=null&&(i=i==null?u[0]:Math.min(i,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),ua(i)&&ua(o))return[i,o]},oY=Ge([vE,Yn,Q$,pE,on],sj,{memoizeOptions:{resultEqualityCheck:Jg}});function sY(e){var{value:t}=e;if(ia(t)||t instanceof Date)return t}var lY=(e,t,r)=>{var n=e.map(sY).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&OP(n))?FR(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},lj=e=>e.referenceElements.dots,Fu=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),uY=Ge([lj,on,Qg],Fu),uj=e=>e.referenceElements.areas,cY=Ge([uj,on,Qg],Fu),cj=e=>e.referenceElements.lines,fY=Ge([cj,on,Qg],Fu),fj=(e,t)=>{var r=zu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},hY=Ge(uY,on,fj),hj=(e,t)=>{var r=zu(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},dY=Ge([cY,on],hj),dj=(e,t)=>{var r=zu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},vY=Ge(fY,on,dj),gY=Ge(hY,vY,dY,(e,t,r)=>eg(e,r,t)),vj=(e,t,r,n,a,i,o,l)=>{if(r!=null)return r;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",c=u?eg(n,i,a):eg(i,a);return O$(t,c,e.allowDataOverflow)},pY=Ge([Yn,ij,oj,aY,oY,gY,Or,on],vj,{memoizeOptions:{resultEqualityCheck:Jg}}),mY=[0,1],gj=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:u}=e,c=ls(t,i);return c&&l==null?FR(0,r.length):u==="category"?lY(n,e,c):a==="expand"?mY:o}},mE=Ge([Yn,Or,vE,tp,Kg,on,pY],gj),pj=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(zf(i));return l in af?l:"point"}}},Wf=Ge([Yn,Or,HL,oE,on],pj);function yY(e){if(e!=null){if(e in af)return af[e]();var t="scale".concat(zf(e));if(t in af)return af[t]()}}function yE(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=yY(t);if(a!=null){var i=a.domain(r).range(n);return kG(i),i}}}var mj=(e,t,r)=>{var n=gE(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&il(e))return I$(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&il(e))return z$(e,t.tickCount,t.allowDecimals)}},bE=Ge([mE,Xf,Wf],mj),yj=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&il(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},bY=Ge([Yn,mE,bE,on],yj),xY=Ge(tp,Yn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(zu(e.map(l=>l.value))).sort((l,u)=>l-u);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/a}}),bj=Ge(xY,Or,F$,_n,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!ua(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=es(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),wY=(e,t)=>{var r=co(e,t);return r==null||typeof r.padding!="string"?0:bj(e,"xAxis",t,r.padding)},EY=(e,t)=>{var r=fo(e,t);return r==null||typeof r.padding!="string"?0:bj(e,"yAxis",t,r.padding)},SY=Ge(co,wY,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),TY=Ge(fo,EY,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),AY=Ge([_n,SY,zg,Ig,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),CY=Ge([_n,Or,TY,zg,Ig,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Zf=(e,t,r,n)=>{var a;switch(t){case"xAxis":return AY(e,r,n);case"yAxis":return CY(e,r,n);case"zAxis":return(a=dE(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return zL(e);case"radiusAxis":return FL(e,r);default:return}},xj=Ge([Yn,Zf],Wg),ts=Ge([Yn,Wf,bY,xj],yE);Ge([Kf,pE,on],iY);function wj(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var rp=(e,t)=>t,np=(e,t,r)=>r,MY=Ge(jg,rp,np,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(wj)),OY=Ge(Bg,rp,np,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(wj)),Ej=(e,t)=>({width:e.width,height:t.height}),_Y=(e,t)=>{var r=typeof t.width=="number"?t.width:Gf;return{width:r,height:e.height}},DY=Ge(_n,co,Ej),kY=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},NY=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},PY=Ge(lo,_n,MY,rp,np,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var u=Ej(t,l);o==null&&(o=kY(t,n,e));var c=n==="top"&&!a||n==="bottom"&&a;i[l.id]=o-Number(c)*u.height,o+=(c?-1:1)*u.height}),i}),RY=Ge(so,_n,OY,rp,np,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var u=_Y(t,l);o==null&&(o=NY(t,n,e));var c=n==="left"&&!a||n==="right"&&a;i[l.id]=o-Number(c)*u.width,o+=(c?-1:1)*u.width}),i}),LY=(e,t)=>{var r=co(e,t);if(r!=null)return PY(e,r.orientation,r.mirror)},jY=Ge([_n,co,LY,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),BY=(e,t)=>{var r=fo(e,t);if(r!=null)return RY(e,r.orientation,r.mirror)},IY=Ge([_n,fo,BY,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),zY=Ge(_n,fo,(e,t)=>{var r=typeof t.width=="number"?t.width:Gf;return{width:r,height:e.height}}),Sj=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,l=ls(e,n),u=t.map(c=>c.value);if(o&&l&&i==="category"&&a&&OP(u))return u}},xE=Ge([Or,tp,Yn,on],Sj),Tj=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=ls(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},wE=Ge([Or,tp,Xf,on],Tj),KO=Ge([Or,W$,Wf,ts,xE,wE,Zf,bE,on],(e,t,r,n,a,i,o,l,u)=>{if(t==null)return null;var c=ls(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:l,range:o,realScaleType:r,scale:n}}),FY=(e,t,r,n,a,i,o,l,u)=>{if(!(t==null||n==null)){var c=ls(e,u),{type:h,ticks:d,tickCount:v}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=h==="category"&&n.bandwidth?n.bandwidth()/p:0;m=u==="angleAxis"&&i!=null&&i.length>=2?Ga(i[0]-i[1])*2*m:m;var b=d||a;if(b){var x=b.map((w,T)=>{var S=o?o.indexOf(w):w;return{index:T,coordinate:n(S)+m,value:w,offset:m}});return x.filter(w=>!oi(w.coordinate))}return c&&l?l.map((w,T)=>({coordinate:n(w)+m,value:w,index:T,offset:m})):n.ticks?n.ticks(v).map(w=>({coordinate:n(w)+m,value:w,offset:m})):n.domain().map((w,T)=>({coordinate:n(w)+m,value:o?o[w]:w,index:T,offset:m}))}},Aj=Ge([Or,Xf,Wf,ts,bE,Zf,xE,wE,on],FY),UY=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=ls(e,o),{tickCount:u}=t,c=0;return c=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Ga(n[0]-n[1])*2*c:c,l&&i?i.map((h,d)=>({coordinate:r(h)+c,value:h,index:d,offset:c})):r.ticks?r.ticks(u).map(h=>({coordinate:r(h)+c,value:h,offset:c})):r.domain().map((h,d)=>({coordinate:r(h)+c,value:a?a[h]:h,index:d,offset:c}))}},Cj=Ge([Or,Xf,ts,Zf,xE,wE,on],UY),Mj=Ge(Yn,ts,(e,t)=>{if(!(e==null||t==null))return Jv(Jv({},e),{},{scale:t})}),GY=Ge([Yn,Wf,mE,xj],yE);Ge((e,t,r)=>dE(e,r),GY,(e,t)=>{if(!(e==null||t==null))return Jv(Jv({},e),{},{scale:t})});var qY=Ge([Or,jg,Bg],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Oj=e=>e.options.defaultTooltipEventType,_j=e=>e.options.validateTooltipEventTypes;function Dj(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function EE(e,t){var r=Oj(e),n=_j(e);return Dj(t,r,n)}function VY(e){return Ot(t=>EE(t,e))}var kj=(e,t)=>{var r,n=Number(t);if(!(oi(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},$Y=e=>e.tooltip.settings,Ho={active:!1,index:null,dataKey:void 0,coordinate:void 0},YY={itemInteraction:{click:Ho,hover:Ho},axisInteraction:{click:Ho,hover:Ho},keyboardInteraction:Ho,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Nj=Ca({name:"tooltip",initialState:YY,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Gn()},removeTooltipEntrySettings:{reducer(e,t){var r=Zi(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Gn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:HY,removeTooltipEntrySettings:XY,setTooltipSettingsState:KY,setActiveMouseOverItemIndex:WY,mouseLeaveItem:Zae,mouseLeaveChart:Pj,setActiveClickItemIndex:Qae,setMouseOverAxisIndex:Rj,setMouseClickAxisIndex:ZY,setSyncInteraction:Ox,setKeyboardInteraction:_x}=Nj.actions,QY=Nj.reducer;function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(n){JY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JY(e,t,r){return(t=e9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e9(e){var t=t9(e,"string");return typeof t=="symbol"?t:t+""}function t9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r9(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function n9(e){return e.index!=null}var Lj=(e,t,r,n)=>{if(t==null)return Ho;var a=r9(e,t,r);if(a==null)return Ho;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(n9(a)){if(i)return Gd(Gd({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Gd(Gd({},Ho),{},{coordinate:a.coordinate})},SE=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!ua(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},jj=(e,t,r,n,a,i,o,l)=>{if(!(i==null||l==null)){var u=o[0],c=u==null?void 0:l(u.positions,i);if(c!=null)return c;var h=a==null?void 0:a[Number(i)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},Bj=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},Qf=e=>e.options.tooltipPayloadSearcher,Uu=e=>e.tooltip;function ZO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(r),!0).forEach(function(n){a9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a9(e,t,r){return(t=i9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i9(e){var t=o9(e,"string");return typeof t=="symbol"?t:t+""}function o9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s9(e,t){return e??t}var Ij=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:u,dataStartIndex:c,dataEndIndex:h}=r,d=[];return e.reduce((v,p)=>{var m,{dataDefinedOnItem:b,settings:x}=p,w=s9(b,l),T=Array.isArray(w)?bR(w,c,h):w,S=(m=x==null?void 0:x.dataKey)!==null&&m!==void 0?m:n,D=x==null?void 0:x.nameKey,R;if(n&&Array.isArray(T)&&!Array.isArray(T[0])&&o==="axis"?R=_P(T,n,a):R=i(T,t,u,D),Array.isArray(R))R.forEach(_=>{var N=QO(QO({},x),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});v.push(OM({tooltipEntrySettings:N,dataKey:_.dataKey,payload:_.payload,value:Vn(_.payload,_.dataKey),name:_.name}))});else{var L;v.push(OM({tooltipEntrySettings:x,dataKey:S,payload:R,value:Vn(R,S),name:(L=Vn(R,D))!==null&&L!==void 0?L:x==null?void 0:x.name}))}return v},d)}},TE=Ge([ln,Or,HL,oE,sn],pj),l9=Ge([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),u9=Ge([sn,Iu],XL),Jf=Ge([l9,ln,u9],WL,{memoizeOptions:{resultEqualityCheck:ep}}),c9=Ge([Jf],e=>e.filter(hE)),f9=Ge([Jf],JL,{memoizeOptions:{resultEqualityCheck:ep}}),Gu=Ge([f9,fs],ej),h9=Ge([c9,fs,ln],VL),AE=Ge([Gu,ln,Jf],tj),zj=Ge([ln],gE),d9=Ge([ln],e=>e.allowDataOverflow),Fj=Ge([zj,d9],wL),v9=Ge([Jf],e=>e.filter(hE)),g9=Ge([h9,v9,Kg],nj),p9=Ge([g9,fs,sn,Fj],aj),m9=Ge([Jf],QL),y9=Ge([Gu,ln,m9,pE,sn],sj,{memoizeOptions:{resultEqualityCheck:Jg}}),b9=Ge([lj,sn,Iu],Fu),x9=Ge([b9,sn],fj),w9=Ge([uj,sn,Iu],Fu),E9=Ge([w9,sn],hj),S9=Ge([cj,sn,Iu],Fu),T9=Ge([S9,sn],dj),A9=Ge([x9,T9,E9],eg),C9=Ge([ln,zj,Fj,p9,y9,A9,Or,sn],vj),Uj=Ge([ln,Or,Gu,AE,Kg,sn,C9],gj),M9=Ge([Uj,ln,TE],mj),O9=Ge([ln,Uj,M9,sn],yj),Gj=e=>{var t=sn(e),r=Iu(e),n=!1;return Zf(e,t,r,n)},qj=Ge([ln,Gj],Wg),Vj=Ge([ln,TE,O9,qj],yE),_9=Ge([Or,AE,ln,sn],Sj),D9=Ge([Or,AE,ln,sn],Tj),k9=(e,t,r,n,a,i,o,l)=>{if(t){var{type:u}=t,c=ls(e,l);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=u==="category"&&n.bandwidth?n.bandwidth()/h:0;return d=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Ga(a[0]-a[1])*2*d:d,c&&o?o.map((v,p)=>({coordinate:n(v)+d,value:v,index:p,offset:d})):n.domain().map((v,p)=>({coordinate:n(v)+d,value:i?i[v]:v,index:p,offset:d}))}}},ho=Ge([Or,ln,TE,Vj,Gj,_9,D9,sn],k9),CE=Ge([Oj,_j,$Y],(e,t,r)=>Dj(r.shared,e,t)),$j=e=>e.tooltip.settings.trigger,ME=e=>e.tooltip.settings.defaultIndex,ap=Ge([Uu,CE,$j,ME],Lj),Ef=Ge([ap,Gu],SE),Yj=Ge([ho,Ef],kj),N9=Ge([ap],e=>{if(e)return e.dataKey}),Hj=Ge([Uu,CE,$j,ME],Bj),P9=Ge([so,lo,Or,_n,ho,ME,Hj,Qf],jj),R9=Ge([ap,P9],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),L9=Ge([ap],e=>e.active),j9=Ge([Hj,Ef,fs,qL,Yj,Qf,CE],Ij),B9=Ge([j9],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(n){I9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I9(e,t,r){return(t=z9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z9(e){var t=F9(e,"string");return typeof t=="symbol"?t:t+""}function F9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U9=()=>Ot(ln),G9=()=>{var e=U9(),t=Ot(ho),r=Ot(Vj);return ux(e_(e_({},e),{},{scale:r}),t)},q9=()=>Ot(oE),OE=(e,t)=>t,Xj=(e,t,r)=>r,_E=(e,t,r,n)=>n,V9=Ge(ho,e=>Dg(e,t=>t.coordinate)),DE=Ge([Uu,OE,Xj,_E],Lj),Kj=Ge([DE,Gu],SE),$9=(e,t,r)=>{if(t!=null){var n=Uu(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Wj=Ge([Uu,OE,Xj,_E],Bj),tg=Ge([so,lo,Or,_n,ho,_E,Wj,Qf],jj),Y9=Ge([DE,tg],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),Zj=Ge(ho,Kj,kj),H9=Ge([Wj,Kj,fs,qL,Zj,Qf,OE],Ij),X9=Ge([DE],e=>({isActive:e.active,activeIndex:e.index})),K9=(e,t,r,n,a,i,o,l)=>{if(!(!e||!t||!n||!a||!i)){var u=zG(e.chartX,e.chartY,t,r,l);if(u){var c=UG(u,t),h=_G(c,o,i,n,a),d=FG(t,i,h,u);return{activeIndex:String(h),activeCoordinate:d}}}};function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dx.apply(null,arguments)}function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(n){W9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W9(e,t,r){return(t=Z9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z9(e){var t=Q9(e,"string");return typeof t=="symbol"?t:t+""}function Q9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J9(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:u,chartName:c}=e,h=t,d=r,v=n;if(!l||!h||c!=="ScatterChart"&&u!=="axis")return null;var p,m;if(c==="ScatterChart")p=h,m=s6;else if(c==="BarChart")p=l6(o,h,a,i),m=BR;else if(o==="radial"){var{cx:b,cy:x,radius:w,startAngle:T,endAngle:S}=IR(h);p={cx:b,cy:x,startAngle:T,endAngle:S,innerRadius:w,outerRadius:w},m=Y6}else p={points:H6(o,h,a)},m=kR;var D=typeof l=="object"&&"className"in l?l.className:void 0,R=qd(qd(qd(qd({stroke:"#ccc",pointerEvents:"none"},a),p),Ag(l)),{},{payload:d,payloadIndex:v,className:mr("recharts-tooltip-cursor",D)});return X.isValidElement(l)?X.cloneElement(l,R):X.createElement(m,R)}function eH(e){var t=G9(),r=OR(),n=Nw(),a=q9();return X.createElement(J9,Dx({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var Qj=X.createContext(null),tH=()=>X.useContext(Qj),nb={exports:{}},r_;function rH(){return r_||(r_=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(u,c,h){this.fn=u,this.context=c,this.once=h||!1}function i(u,c,h,d,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var p=new a(h,d||u,v),m=r?r+c:c;return u._events[m]?u._events[m].fn?u._events[m]=[u._events[m],p]:u._events[m].push(p):(u._events[m]=p,u._eventsCount++),u}function o(u,c){--u._eventsCount===0?u._events=new n:delete u._events[c]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],h,d;if(this._eventsCount===0)return c;for(d in h=this._events)t.call(h,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},l.prototype.listeners=function(c){var h=r?r+c:c,d=this._events[h];if(!d)return[];if(d.fn)return[d.fn];for(var v=0,p=d.length,m=new Array(p);v<p;v++)m[v]=d[v].fn;return m},l.prototype.listenerCount=function(c){var h=r?r+c:c,d=this._events[h];return d?d.fn?1:d.length:0},l.prototype.emit=function(c,h,d,v,p,m){var b=r?r+c:c;if(!this._events[b])return!1;var x=this._events[b],w=arguments.length,T,S;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,d),!0;case 4:return x.fn.call(x.context,h,d,v),!0;case 5:return x.fn.call(x.context,h,d,v,p),!0;case 6:return x.fn.call(x.context,h,d,v,p,m),!0}for(S=1,T=new Array(w-1);S<w;S++)T[S-1]=arguments[S];x.fn.apply(x.context,T)}else{var D=x.length,R;for(S=0;S<D;S++)switch(x[S].once&&this.removeListener(c,x[S].fn,void 0,!0),w){case 1:x[S].fn.call(x[S].context);break;case 2:x[S].fn.call(x[S].context,h);break;case 3:x[S].fn.call(x[S].context,h,d);break;case 4:x[S].fn.call(x[S].context,h,d,v);break;default:if(!T)for(R=1,T=new Array(w-1);R<w;R++)T[R-1]=arguments[R];x[S].fn.apply(x[S].context,T)}}return!0},l.prototype.on=function(c,h,d){return i(this,c,h,d,!1)},l.prototype.once=function(c,h,d){return i(this,c,h,d,!0)},l.prototype.removeListener=function(c,h,d,v){var p=r?r+c:c;if(!this._events[p])return this;if(!h)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===h&&(!v||m.once)&&(!d||m.context===d)&&o(this,p);else{for(var b=0,x=[],w=m.length;b<w;b++)(m[b].fn!==h||v&&!m[b].once||d&&m[b].context!==d)&&x.push(m[b]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},l.prototype.removeAllListeners=function(c){var h;return c?(h=r?r+c:c,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(nb)),nb.exports}var nH=rH();const aH=Ha(nH);var Sf=new aH,kx="recharts.syncEvent.tooltip",n_="recharts.syncEvent.brush";function iH(e,t){if(t){var r=Number.parseInt(t,10);if(!oi(r))return e==null?void 0:e[r]}}var oH={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Jj=Ca({name:"options",initialState:oH,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),sH=Jj.reducer,{createEventEmitter:lH}=Jj.actions;function uH(e){return e.tooltip.syncInteraction}var cH={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},eB=Ca({name:"chartData",initialState:cH,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:a_,setDataStartEndIndexes:fH,setComputedData:Jae}=eB.actions,hH=eB.reducer,dH=["x","y"];function i_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ql(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(r),!0).forEach(function(n){vH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vH(e,t,r){return(t=gH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gH(e){var t=pH(e,"string");return typeof t=="symbol"?t:t+""}function pH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mH(e,t){if(e==null)return{};var r,n,a=yH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tB=()=>{};function bH(){var e=Ot(sE),t=Ot(lE),r=nn(),n=Ot(jL),a=Ot(ho),i=Nw(),o=Fg(),l=Ot(u=>u.rootProps.className);X.useEffect(()=>{if(e==null)return tB;var u=(c,h,d)=>{if(t!==d&&e===c){if(n==="index"){var v;if(o&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var p=h.payload.coordinate,{x:m,y:b}=p,x=mH(p,dH),{x:w,y:T,width:S,height:D}=h.payload.sourceViewBox,R=Ql(Ql({},x),{},{x:o.x+(S?(m-w)/S:0)*o.width,y:o.y+(D?(b-T)/D:0)*o.height});r(Ql(Ql({},h),{},{payload:Ql(Ql({},h.payload),{},{coordinate:R})}))}else r(h);return}if(a!=null){var L;if(typeof n=="function"){var _={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},N=n(a,_);L=a[N]}else n==="value"&&(L=a.find(q=>String(q.value)===h.payload.label));var{coordinate:P}=h.payload;if(L==null||h.payload.active===!1||P==null||o==null){r(Ox({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:U,y:j}=P,F=Math.min(U,o.x+o.width),I=Math.min(j,o.y+o.height),G={x:i==="horizontal"?L.coordinate:F,y:i==="horizontal"?I:L.coordinate},Y=Ox({active:h.payload.active,coordinate:G,dataKey:h.payload.dataKey,index:String(L.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});r(Y)}}};return Sf.on(kx,u),()=>{Sf.off(kx,u)}},[l,r,t,e,n,a,i,o])}function xH(){var e=Ot(sE),t=Ot(lE),r=nn();X.useEffect(()=>{if(e==null)return tB;var n=(a,i,o)=>{t!==o&&e===a&&r(fH(i))};return Sf.on(n_,n),()=>{Sf.off(n_,n)}},[r,t,e])}function wH(){var e=nn();X.useEffect(()=>{e(lH())},[e]),bH(),xH()}function EH(e,t,r,n,a,i){var o=Ot(p=>$9(p,e,t)),l=Ot(lE),u=Ot(sE),c=Ot(jL),h=Ot(uH),d=h==null?void 0:h.active,v=Fg();X.useEffect(()=>{if(!d&&u!=null&&l!=null){var p=Ox({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:v});Sf.emit(kx,u,p,l)}},[d,r,o,a,n,l,u,c,i,v])}function o_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(r),!0).forEach(function(n){SH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SH(e,t,r){return(t=TH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TH(e){var t=AH(e,"string");return typeof t=="symbol"?t:t+""}function AH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CH(e){return e.dataKey}function MH(e,t){return X.isValidElement(e)?X.cloneElement(e,t):typeof e=="function"?X.createElement(e,t):X.createElement(zq,t)}var l_=[],OH={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ru.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function rg(e){var t=Xa(e,OH),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:o,filterNull:l,isAnimationActive:u,offset:c,payloadUniqBy:h,position:d,reverseDirection:v,useTranslate3d:p,wrapperStyle:m,cursor:b,shared:x,trigger:w,defaultIndex:T,portal:S,axisId:D}=t,R=nn(),L=typeof T=="number"?String(T):T;X.useEffect(()=>{R(KY({shared:x,trigger:w,axisId:D,active:r,defaultIndex:L}))},[R,x,w,D,r,L]);var _=Fg(),N=DR(),P=VY(x),{activeIndex:U,isActive:j}=Ot(oe=>X9(oe,P,w,L)),F=Ot(oe=>H9(oe,P,w,L)),I=Ot(oe=>Zj(oe,P,w,L)),G=Ot(oe=>Y9(oe,P,w,L)),Y=F,q=tH(),V=r??j,[W,J]=YP([Y,V]),ie=P==="axis"?I:void 0;EH(P,w,G,ie,U,V);var K=S??q;if(K==null)return null;var Z=Y??l_;V||(Z=l_),l&&Z.length&&(Z=UP(Y.filter(oe=>oe.value!=null&&(oe.hide!==!0||t.includeHidden)),h,CH));var fe=Z.length>0,he=X.createElement(Yq,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:u,active:V,coordinate:G,hasPayload:fe,offset:c,position:d,reverseDirection:v,useTranslate3d:p,viewBox:_,wrapperStyle:m,lastBoundingBox:W,innerRef:J,hasPortalFromProps:!!S},MH(o,s_(s_({},t),{},{payload:Z,label:ie,active:V,coordinate:G,accessibilityLayer:N})));return X.createElement(X.Fragment,null,uP.createPortal(he,K),V&&X.createElement(eH,{cursor:b,tooltipEventType:P,coordinate:G,payload:Y,index:U}))}function _H(e,t,r){return(t=DH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DH(e){var t=kH(e,"string");return typeof t=="symbol"?t:t+""}function kH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class NH{constructor(t){_H(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function u_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(r),!0).forEach(function(n){RH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RH(e,t,r){return(t=LH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LH(e){var t=jH(e,"string");return typeof t=="symbol"?t:t+""}function jH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BH={cacheSize:2e3,enableCache:!0},rB=PH({},BH),c_=new NH(rB.cacheSize),IH={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},f_="recharts_measurement_span";function zH(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var h_=(e,t)=>{try{var r=document.getElementById(f_);r||(r=document.createElement("span"),r.setAttribute("id",f_),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,IH,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},uf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ru.isSsr)return{width:0,height:0};if(!rB.enableCache)return h_(t,r);var n=zH(t,r),a=c_.get(n);if(a)return a;var i=h_(t,r);return c_.set(n,i),i},d_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,v_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,UH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,nB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},GH=Object.keys(nB),fu="NaN";function qH(e,t){return e*nB[t]}class ta{static parse(t){var r,[,n,a]=(r=UH.exec(t))!==null&&r!==void 0?r:[];return new ta(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,oi(t)&&(this.unit=""),r!==""&&!FH.test(r)&&(this.num=NaN,this.unit=""),GH.includes(r)&&(this.num=qH(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new ta(NaN,""):new ta(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ta(NaN,""):new ta(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ta(NaN,""):new ta(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ta(NaN,""):new ta(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return oi(this.num)}}function aB(e){if(e.includes(fu))return fu;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=d_.exec(t))!==null&&r!==void 0?r:[],o=ta.parse(n??""),l=ta.parse(i??""),u=a==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return fu;t=t.replace(d_,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,h,d,v]=(c=v_.exec(t))!==null&&c!==void 0?c:[],p=ta.parse(h??""),m=ta.parse(v??""),b=d==="+"?p.add(m):p.subtract(m);if(b.isNaN())return fu;t=t.replace(v_,b.toString())}return t}var g_=/\(([^()]*)\)/;function VH(e){for(var t=e,r;(r=g_.exec(t))!=null;){var[,n]=r;t=t.replace(g_,aB(n))}return t}function $H(e){var t=e.replace(/\s+/g,"");return t=VH(t),t=aB(t),t}function YH(e){try{return $H(e)}catch{return fu}}function ab(e){var t=YH(e.slice(5,-1));return t===fu?"":t}var HH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],XH=["dx","dy","angle","className","breakAll"];function Nx(){return Nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nx.apply(null,arguments)}function p_(e,t){if(e==null)return{};var r,n,a=KH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function KH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var iB=/[ \f\n\r\t\v\u2028\u2029]+/,oB=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];gn(t)||(r?a=t.toString().split(""):a=t.toString().split(iB));var i=a.map(l=>({word:l,width:uf(l,n).width})),o=r?0:uf(" ",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},WH=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:l,breakAll:u}=e,c=Rt(i),h=o,d=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return j.reduce((F,I)=>{var{word:G,width:Y}=I,q=F[F.length-1];if(q&&(n==null||a||q.width+Y+r<Number(n)))q.words.push(G),q.width+=Y+r;else{var V={words:[G],width:Y};F.push(V)}return F},[])},v=d(t),p=U=>U.reduce((j,F)=>j.width>F.width?j:F);if(!c||a)return v;var m=v.length>i||p(v).width>Number(n);if(!m)return v;for(var b="…",x=U=>{var j=h.slice(0,U),F=oB({breakAll:u,style:l,children:j+b}).wordsWithComputedWidth,I=d(F),G=I.length>i||p(I).width>Number(n);return[G,I]},w=0,T=h.length-1,S=0,D;w<=T&&S<=h.length-1;){var R=Math.floor((w+T)/2),L=R-1,[_,N]=x(L),[P]=x(R);if(!_&&!P&&(w=R+1),_&&P&&(T=R-1),!_&&P){D=N;break}S++}return D||v},m_=e=>{var t=gn(e)?[]:e.toString().split(iB);return[{words:t}]},ZH=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!Ru.isSsr){var l,u,c=oB({breakAll:i,children:n,style:a});if(c){var{wordsWithComputedWidth:h,spaceWidth:d}=c;l=h,u=d}else return m_(n);return WH({breakAll:i,children:n,maxLines:o,style:a},l,u,t,r)}return m_(n)},y_="#808080",kE=X.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:u="end",fill:c=y_}=e,h=p_(e,HH),d=X.useMemo(()=>ZH({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:o,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,o,h.style,h.width]),{dx:v,dy:p,angle:m,className:b,breakAll:x}=h,w=p_(h,XH);if(!ia(r)||!ia(n)||d.length===0)return null;var T=r+(Rt(v)?v:0),S=n+(Rt(p)?p:0),D;switch(u){case"start":D=ab("calc(".concat(i,")"));break;case"middle":D=ab("calc(".concat((d.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:D=ab("calc(".concat(d.length-1," * -").concat(a,")"));break}var R=[];if(o){var L=d[0].width,{width:_}=h;R.push("scale(".concat(Rt(_)?_/L:1,")"))}return m&&R.push("rotate(".concat(m,", ").concat(T,", ").concat(S,")")),R.length&&(w.transform=R.join(" ")),X.createElement("text",Nx({},la(w),{ref:t,x:T,y:S,className:mr("recharts-text",b),textAnchor:l,fill:c.includes("url")?y_:c}),d.map((N,P)=>{var U=N.words.join(x?"":" ");return X.createElement("tspan",{x:T,dy:P===0?D:a,key:"".concat(U,"-").concat(P)},U)}))});kE.displayName="Text";var QH=["labelRef"];function JH(e,t){if(e==null)return{};var r,n,a=e7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function e7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function b_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(r),!0).forEach(function(n){t7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t7(e,t,r){return(t=r7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r7(e){var t=n7(e,"string");return typeof t=="symbol"?t:t+""}function n7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hi.apply(null,arguments)}var sB=X.createContext(null),lB=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,o=X.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return X.createElement(sB.Provider,{value:o},i)},uB=()=>{var e=X.useContext(sB),t=Fg();return e||t},a7=X.createContext(null),i7=()=>{var e=X.useContext(a7),t=Ot(UL);return e||t},o7=e=>{var{value:t,formatter:r}=e,n=gn(e.children)?t:e.children;return typeof r=="function"?r(n):n},NE=e=>e!=null&&typeof e=="function",s7=(e,t)=>{var r=Ga(t-e),n=Math.min(Math.abs(t-e),360);return r*n},l7=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:l,cy:u,innerRadius:c,outerRadius:h,startAngle:d,endAngle:v,clockWise:p}=a,m=(c+h)/2,b=s7(d,v),x=b>=0?1:-1,w,T;switch(t){case"insideStart":w=d+x*i,T=p;break;case"insideEnd":w=v-x*i,T=!p;break;case"end":w=v+x*i,T=p;break;default:throw new Error("Unsupported position ".concat(t))}T=b<=0?T:!T;var S=Cn(l,u,m,w),D=Cn(l,u,m,w+(T?1:-1)*359),R="M".concat(S.x,",").concat(S.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(T?0:1,`,
    `).concat(D.x,",").concat(D.y),L=gn(e.id)?df("recharts-radial-line-"):e.id;return X.createElement("text",Hi({},n,{dominantBaseline:"central",className:mr("recharts-radial-bar-label",o)}),X.createElement("defs",null,X.createElement("path",{id:L,d:R})),X.createElement("textPath",{xlinkHref:"#".concat(L)},r))},u7=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:u}=e,c=(l+u)/2;if(r==="outside"){var{x:h,y:d}=Cn(n,a,o+t,c);return{x:h,y:d,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(i+o)/2,{x:p,y:m}=Cn(n,a,v,c);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}},cB=e=>"cx"in e&&Rt(e.cx),c7=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!cB(r)&&(i=r);var{x:o,y:l,width:u,height:c}=t,h=c>=0?1:-1,d=h*n,v=h>0?"end":"start",p=h>0?"start":"end",m=u>=0?1:-1,b=m*n,x=m>0?"end":"start",w=m>0?"start":"end";if(a==="top"){var T={x:o+u/2,y:l-h*n,textAnchor:"middle",verticalAnchor:v};return qr(qr({},T),i?{height:Math.max(l-i.y,0),width:u}:{})}if(a==="bottom"){var S={x:o+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:p};return qr(qr({},S),i?{height:Math.max(i.y+i.height-(l+c),0),width:u}:{})}if(a==="left"){var D={x:o-b,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return qr(qr({},D),i?{width:Math.max(D.x-i.x,0),height:c}:{})}if(a==="right"){var R={x:o+u+b,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return qr(qr({},R),i?{width:Math.max(i.x+i.width-R.x,0),height:c}:{})}var L=i?{width:u,height:c}:{};return a==="insideLeft"?qr({x:o+b,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},L):a==="insideRight"?qr({x:o+u-b,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},L):a==="insideTop"?qr({x:o+u/2,y:l+d,textAnchor:"middle",verticalAnchor:p},L):a==="insideBottom"?qr({x:o+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:v},L):a==="insideTopLeft"?qr({x:o+b,y:l+d,textAnchor:w,verticalAnchor:p},L):a==="insideTopRight"?qr({x:o+u-b,y:l+d,textAnchor:x,verticalAnchor:p},L):a==="insideBottomLeft"?qr({x:o+b,y:l+c-d,textAnchor:w,verticalAnchor:v},L):a==="insideBottomRight"?qr({x:o+u-b,y:l+c-d,textAnchor:x,verticalAnchor:v},L):a&&typeof a=="object"&&(Rt(a.x)||Ji(a.x))&&(Rt(a.y)||Ji(a.y))?qr({x:o+es(a.x,u),y:l+es(a.y,c),textAnchor:"end",verticalAnchor:"end"},L):qr({x:o+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},L)},f7={offset:5};function $o(e){var t=Xa(e,f7),{viewBox:r,position:n,value:a,children:i,content:o,className:l="",textBreakAll:u,labelRef:c}=t,h=i7(),d=uB(),v=n==="center"?d:h??d,p=r||v;if(!p||gn(a)&&gn(i)&&!X.isValidElement(o)&&typeof o!="function")return null;var m=qr(qr({},t),{},{viewBox:p});if(X.isValidElement(o)){var{labelRef:b}=m,x=JH(m,QH);return X.cloneElement(o,x)}var w;if(typeof o=="function"){if(w=X.createElement(o,m),X.isValidElement(w))return w}else w=o7(t);var T=cB(p),S=la(t);if(T&&(n==="insideStart"||n==="insideEnd"||n==="end"))return l7(t,n,w,S,p);var D=T?u7(p,t.offset,t.position):c7(t,p);return X.createElement(kE,Hi({ref:c,className:mr("recharts-label",l)},S,D,{breakAll:u}),w)}$o.displayName="Label";var h7=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?X.createElement($o,Hi({key:"label-implicit"},n)):ia(e)?X.createElement($o,Hi({key:"label-implicit",value:e},n)):X.isValidElement(e)?e.type===$o?X.cloneElement(e,qr({key:"label-implicit"},n)):X.createElement($o,Hi({key:"label-implicit",content:e},n)):NE(e)?X.createElement($o,Hi({key:"label-implicit",content:e},n)):e&&typeof e=="object"?X.createElement($o,Hi({},e,{key:"label-implicit"},n)):null};function fB(e){var{label:t,labelRef:r}=e,n=uB();return h7(t,n,r)||null}var ib={},ob={},x_;function d7(){return x_||(x_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(ob)),ob}var sb={},w_;function v7(){return w_||(w_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(sb)),sb}var E_;function g7(){return E_||(E_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d7(),r=v7(),n=ww();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(ib)),ib}var lb,S_;function p7(){return S_||(S_=1,lb=g7().last),lb}var m7=p7();const y7=Ha(m7);var b7=["valueAccessor"],x7=["dataKey","clockWise","id","textBreakAll"];function ng(){return ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ng.apply(null,arguments)}function T_(e,t){if(e==null)return{};var r,n,a=w7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function w7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var E7=e=>Array.isArray(e.value)?y7(e.value):e.value,hB=X.createContext(void 0),S7=hB.Provider,dB=X.createContext(void 0);dB.Provider;function T7(){return X.useContext(hB)}function A7(){return X.useContext(dB)}function uv(e){var{valueAccessor:t=E7}=e,r=T_(e,b7),{dataKey:n,clockWise:a,id:i,textBreakAll:o}=r,l=T_(r,x7),u=T7(),c=A7(),h=u||c;return!h||!h.length?null:X.createElement(gl,{className:"recharts-label-list"},h.map((d,v)=>{var p,m=gn(n)?t(d,v):Vn(d&&d.payload,n),b=gn(i)?{}:{id:"".concat(i,"-").concat(v)};return X.createElement($o,ng({key:"label-".concat(v)},la(d),l,b,{fill:(p=r.fill)!==null&&p!==void 0?p:d.fill,parentViewBox:d.parentViewBox,value:m,textBreakAll:o,viewBox:d.viewBox,index:v}))}))}uv.displayName="LabelList";function C7(e){var{label:t}=e;return t?t===!0?X.createElement(uv,{key:"labelList-implicit"}):X.isValidElement(t)||NE(t)?X.createElement(uv,{key:"labelList-implicit",content:t}):typeof t=="object"?X.createElement(uv,ng({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Px.apply(null,arguments)}var vB=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=mr("recharts-dot",a);return t===+t&&r===+r&&n===+n?X.createElement("circle",Px({},xi(e),yw(e),{className:i,cx:t,cy:r,r:n})):null},M7={radiusAxis:{},angleAxis:{}},gB=Ca({name:"polarAxis",initialState:M7,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:eie,removeRadiusAxis:tie,addAngleAxis:rie,removeAngleAxis:nie}=gB.actions,O7=gB.reducer,pB=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function _7(e){var{fn:t,args:r}=e,n=nn(),a=ca();return X.useLayoutEffect(()=>{if(!a){var i=t(r);return n(HY(i)),()=>{n(XY(i))}}},[t,r,n,a]),null}var D7=()=>{};function k7(e){var{legendPayload:t}=e,r=nn(),n=ca();return X.useLayoutEffect(()=>n?D7:(r(wq(t)),()=>{r(Eq(t))}),[r,n,t]),null}var ub,N7=()=>{var[e]=X.useState(()=>df("uid-"));return e},P7=(ub=l4.useId)!==null&&ub!==void 0?ub:N7;function R7(e,t){var r=P7();return t||(e?"".concat(e,"-").concat(r):r)}var L7=X.createContext(void 0),j7=e=>{var{id:t,type:r,children:n}=e,a=R7("recharts-".concat(r),t);return X.createElement(L7.Provider,{value:a},n(a))},B7={cartesianItems:[],polarItems:[]},mB=Ca({name:"graphicalItems",initialState:B7,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Gn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Zi(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Gn()},removeCartesianGraphicalItem:{reducer(e,t){var r=Zi(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Gn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Gn()},removePolarGraphicalItem:{reducer(e,t){var r=Zi(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Gn()}}}),{addCartesianGraphicalItem:I7,replaceCartesianGraphicalItem:z7,removeCartesianGraphicalItem:F7,addPolarGraphicalItem:aie,removePolarGraphicalItem:iie}=mB.actions,U7=mB.reducer;function G7(e){var t=nn(),r=X.useRef(null);return X.useLayoutEffect(()=>{r.current===null?t(I7(e)):r.current!==e&&t(z7({prev:r.current,next:e})),r.current=e},[t,e]),X.useLayoutEffect(()=>()=>{r.current&&(t(F7(r.current)),r.current=null)},[t]),null}function A_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function C_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A_(Object(r),!0).forEach(function(n){q7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q7(e,t,r){return(t=V7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V7(e){var t=$7(e,"string");return typeof t=="symbol"?t:t+""}function $7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y7={xAxis:{},yAxis:{},zAxis:{}},yB=Ca({name:"cartesianAxis",initialState:Y7,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Gn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Gn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Gn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Gn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Gn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Gn()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=C_(C_({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:H7,removeXAxis:X7,addYAxis:K7,removeYAxis:W7,addZAxis:oie,removeZAxis:sie,updateYAxisWidth:Z7}=yB.actions,Q7=yB.reducer,J7=Ge([_n],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),eX=Ge([J7,so,lo],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),PE=()=>Ot(eX),tX=()=>Ot(B9);function M_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M_(Object(r),!0).forEach(function(n){rX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rX(e,t,r){return(t=nX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nX(e){var t=aX(e,"string");return typeof t=="symbol"?t:t+""}function aX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iX=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var o=O_(O_({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Ag(a)),yw(a)),l;return X.isValidElement(a)?l=X.cloneElement(a,o):typeof a=="function"?l=a(o):l=X.createElement(vB,o),X.createElement(gl,{className:"recharts-active-dot"},l)};function oX(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=Ot(Ef),o=tX();if(t==null||o==null)return null;var l=t.find(u=>o.includes(u.payload));return gn(l)?null:iX({point:l,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var sX={},bB=Ca({name:"errorBars",initialState:sX,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:lie,replaceErrorBar:uie,removeErrorBar:cie}=bB.actions,lX=bB.reducer,uX=["children"];function cX(e,t){if(e==null)return{};var r,n,a=fX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hX={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},dX=X.createContext(hX);function vX(e){var{children:t}=e,r=cX(e,uX);return X.createElement(dX.Provider,{value:r},t)}function xB(e,t){var r,n,a=Ot(c=>co(c,e)),i=Ot(c=>fo(c,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ya.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ba.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function gX(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=PE(),{needClipX:i,needClipY:o,needClip:l}=xB(t,r);if(!l)return null;var{x:u,y:c,width:h,height:d}=a;return X.createElement("clipPath",{id:"clipPath-".concat(n)},X.createElement("rect",{x:i?u:u-h/2,y:o?c:c-d/2,width:i?h:h*2,height:o?d:d*2}))}var pX=e=>{var{chartData:t}=e,r=nn(),n=ca();return X.useEffect(()=>n?()=>{}:(r(a_(t)),()=>{r(a_(void 0))}),[t,r,n]),null},__={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},wB=Ca({name:"brush",initialState:__,reducers:{setBrushSettings(e,t){return t.payload==null?__:t.payload}}}),{setBrushSettings:fie}=wB.actions,mX=wB.reducer;function D_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D_(Object(r),!0).forEach(function(n){EB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EB(e,t,r){return(t=yX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yX(e){var t=bX(e,"string");return typeof t=="symbol"?t:t+""}function bX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xX=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return{x:Math.min(r,a),y:Math.min(n,i),width:Math.abs(a-r),height:Math.abs(i-n)}};class ip{static create(t){return new ip(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}EB(ip,"EPS",1e-4);var wX=e=>{var t=Object.keys(e).reduce((r,n)=>Vd(Vd({},r),{},{[n]:ip.create(e[n])}),{});return Vd(Vd({},t),{},{apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(i=>{var[o,l]=i;return[o,t[o].apply(l,{bandAware:n,position:a})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function EX(e){return(e%180+180)%180}var SX=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=EX(a),o=i*Math.PI/180,l=Math.atan(n/r),u=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},TX={dots:[],areas:[],lines:[]},SB=Ca({name:"referenceElements",initialState:TX,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Zi(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Zi(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Zi(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:hie,removeDot:die,addArea:AX,removeArea:CX,addLine:vie,removeLine:gie}=SB.actions,MX=SB.reducer,TB=X.createContext(void 0),OX=e=>{var{children:t}=e,[r]=X.useState("".concat(df("recharts"),"-clip")),n=PE();if(n==null)return null;var{x:a,y:i,width:o,height:l}=n;return X.createElement(TB.Provider,{value:r},X.createElement("defs",null,X.createElement("clipPath",{id:r},X.createElement("rect",{x:a,y:i,height:l,width:o}))),t)},_X=()=>X.useContext(TB);function k_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(r),!0).forEach(function(n){RE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RE(e,t,r){return(t=DX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DX(e){var t=kX(e,"string");return typeof t=="symbol"?t:t+""}function kX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rx(){return Rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rx.apply(null,arguments)}var NX=(e,t,r,n,a,i,o)=>{var{x1:l,x2:u,y1:c,y2:h}=o;if(a==null||i==null)return null;var d=wX({x:a,y:i}),v={x:e?d.x.apply(l,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(c,{position:"start"}):d.y.rangeMin},p={x:t?d.x.apply(u,{position:"end"}):d.x.rangeMax,y:n?d.y.apply(h,{position:"end"}):d.y.rangeMax};return o.ifOverflow==="discard"&&(!d.isInRange(v)||!d.isInRange(p))?null:xX(v,p)},PX=(e,t)=>{var r;return X.isValidElement(e)?r=X.cloneElement(e,t):typeof e=="function"?r=e(t):r=X.createElement(BR,Rx({},t,{className:"recharts-reference-area-rect"})),r};function RX(e){var t=nn();return X.useEffect(()=>(t(AX(e)),()=>{t(CX(e))})),null}function LX(e){var{x1:t,x2:r,y1:n,y2:a,className:i,shape:o,xAxisId:l,yAxisId:u}=e,c=_X(),h=ca(),d=Ot(D=>ts(D,"xAxis",l,h)),v=Ot(D=>ts(D,"yAxis",u,h));if(d==null||!v==null)return null;var p=ia(t),m=ia(r),b=ia(n),x=ia(a);if(!p&&!m&&!b&&!x&&!o)return null;var w=NX(p,m,b,x,d,v,e);if(!w&&!o)return null;var T=e.ifOverflow==="hidden",S=T?"url(#".concat(c,")"):void 0;return X.createElement(gl,{className:mr("recharts-reference-area",i)},PX(o,N_(N_({clipPath:S},la(e)),w)),X.createElement(lB,w,X.createElement(fB,{label:e.label}),e.children))}function jX(e){return X.createElement(X.Fragment,null,X.createElement(RX,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}),X.createElement(LX,e))}class op extends X.Component{render(){return X.createElement(jX,this.props)}}RE(op,"displayName","ReferenceArea");RE(op,"defaultProps",{ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});function _u(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function AB(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function BX(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return SX(n,r)}function IX(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function ag(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function zX(e,t){return AB(e,t+1)}function FX(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:l}=t,u=0,c=1,h=o,d=function(){var m=n==null?void 0:n[u];if(m===void 0)return{v:AB(n,c)};var b=u,x,w=()=>(x===void 0&&(x=r(m,b)),x),T=m.coordinate,S=u===0||ag(e,T,w,h,l);S||(u=0,h=o,c+=1),S&&(h=T+e*(w()/2+a),u+=c)},v;c<=i.length;)if(v=d(),v)return v.v;return[]}function P_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P_(Object(r),!0).forEach(function(n){UX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UX(e,t,r){return(t=GX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GX(e){var t=qX(e,"string");return typeof t=="symbol"?t:t+""}function qX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VX(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:u}=t,c=function(v){var p=i[v],m,b=()=>(m===void 0&&(m=r(p,v)),m);if(v===o-1){var x=e*(p.coordinate+e*b()/2-u);i[v]=p=Rn(Rn({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else i[v]=p=Rn(Rn({},p),{},{tickCoord:p.coordinate});var w=ag(e,p.tickCoord,b,l,u);w&&(u=p.tickCoord-e*(b()/2+a),i[v]=Rn(Rn({},p),{},{isShow:!0}))},h=o-1;h>=0;h--)c(h);return i}function $X(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,{start:u,end:c}=t;if(i){var h=n[l-1],d=r(h,l-1),v=e*(h.coordinate+e*d/2-c);o[l-1]=h=Rn(Rn({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate});var p=ag(e,h.tickCoord,()=>d,u,c);p&&(c=h.tickCoord-e*(d/2+a),o[l-1]=Rn(Rn({},h),{},{isShow:!0}))}for(var m=i?l-1:l,b=function(T){var S=o[T],D,R=()=>(D===void 0&&(D=r(S,T)),D);if(T===0){var L=e*(S.coordinate-e*R()/2-u);o[T]=S=Rn(Rn({},S),{},{tickCoord:L<0?S.coordinate-L*e:S.coordinate})}else o[T]=S=Rn(Rn({},S),{},{tickCoord:S.coordinate});var _=ag(e,S.tickCoord,R,u,c);_&&(u=S.tickCoord+e*(R()/2+a),o[T]=Rn(Rn({},S),{},{isShow:!0}))},x=0;x<m;x++)b(x);return o}function LE(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:u,tickFormatter:c,unit:h,angle:d}=e;if(!a||!a.length||!n)return[];if(Rt(u)||Ru.isSsr){var v;return(v=zX(a,Rt(u)?u:0))!==null&&v!==void 0?v:[]}var p=[],m=l==="top"||l==="bottom"?"width":"height",b=h&&m==="width"?uf(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(S,D)=>{var R=typeof c=="function"?c(S.value,D):S.value;return m==="width"?BX(uf(R,{fontSize:t,letterSpacing:r}),b,d):uf(R,{fontSize:t,letterSpacing:r})[m]},w=a.length>=2?Ga(a[1].coordinate-a[0].coordinate):1,T=IX(i,w,m);return u==="equidistantPreserveStart"?FX(w,T,x,a,o):(u==="preserveStart"||u==="preserveStartEnd"?p=$X(w,T,x,a,o,u==="preserveStartEnd"):p=VX(w,T,x,a,o),p.filter(S=>S.isShow))}var YX=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(h=>{if(h){var d=h.getBoundingClientRect();d.width>o&&(o=d.width)}});var l=r?r.getBoundingClientRect().width:0,u=a+i,c=o+u+l+(r?n:0);return Math.round(c)}return 0},HX=["axisLine","width","height","className","hide","ticks"],XX=["viewBox"],KX=["viewBox"];function Lx(e,t){if(e==null)return{};var r,n,a=WX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function WX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sl(){return sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sl.apply(null,arguments)}function R_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R_(Object(r),!0).forEach(function(n){ZX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZX(e,t,r){return(t=QX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QX(e){var t=JX(e,"string");return typeof t=="symbol"?t:t+""}function JX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jE={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function eK(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var c=en(en(en({},u),xi(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var h=+(i==="top"&&!o||i==="bottom"&&o);c=en(en({},c),{},{x1:t,y1:r+h*a,x2:t+n,y2:r+h*a})}else{var d=+(i==="left"&&!o||i==="right"&&o);c=en(en({},c),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+a})}return X.createElement("line",sl({},c,{className:mr("recharts-cartesian-axis-line",_g(l,"className"))}))}function tK(e,t,r,n,a,i,o,l,u){var c,h,d,v,p,m,b=l?-1:1,x=e.tickSize||o,w=Rt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=h=e.coordinate,v=r+ +!l*a,d=v-b*x,m=d-b*u,p=w;break;case"left":d=v=e.coordinate,h=t+ +!l*n,c=h-b*x,p=c-b*u,m=w;break;case"right":d=v=e.coordinate,h=t+ +l*n,c=h+b*x,p=c+b*u,m=w;break;default:c=h=e.coordinate,v=r+ +l*a,d=v+b*x,m=d+b*u,p=w;break}return{line:{x1:c,y1:d,x2:h,y2:v},tick:{x:p,y:m}}}function rK(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function nK(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function aK(e){var{option:t,tickProps:r,value:n}=e,a,i=mr(r.className,"recharts-cartesian-axis-tick-value");if(X.isValidElement(t))a=X.cloneElement(t,en(en({},r),{},{className:i}));else if(typeof t=="function")a=t(en(en({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=mr(o,t==null?void 0:t.className)),a=X.createElement(kE,sl({},r,{className:o}),n)}return a}function iK(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:o,padding:l,tickTextProps:u,orientation:c,mirror:h,x:d,y:v,width:p,height:m,tickSize:b,tickMargin:x,fontSize:w,letterSpacing:T,getTicksConfig:S,events:D}=e,R=LE(en(en({},S),{},{ticks:t}),w,T),L=rK(c,h),_=nK(c,h),N=xi(S),P=Ag(r),U={};typeof n=="object"&&(U=n);var j=en(en({},N),{},{fill:"none"},U),F=R.map((I,G)=>{var{line:Y,tick:q}=tK(I,d,v,p,m,c,b,h,x),V=en(en(en(en({textAnchor:L,verticalAnchor:_},N),{},{stroke:"none",fill:a},P),q),{},{index:G,payload:I,visibleTicksCount:R.length,tickFormatter:i,padding:l},u);return X.createElement(gl,sl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},NP(D,I,G)),n&&X.createElement("line",sl({},j,Y,{className:mr("recharts-cartesian-axis-tick-line",_g(n,"className"))})),r&&X.createElement(aK,{option:r,tickProps:V,value:"".concat(typeof i=="function"?i(I.value,G):I.value).concat(o||"")}))});return F.length>0?X.createElement("g",{className:"recharts-cartesian-axis-ticks"},F):null}var oK=X.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:l}=e,u=Lx(e,HX),[c,h]=X.useState(""),[d,v]=X.useState(""),p=X.useRef(null);X.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return YX({ticks:p.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var m=X.useCallback(b=>{if(b){var x=b.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=x;var w=x[0];if(w){var T=window.getComputedStyle(w),S=T.fontSize,D=T.letterSpacing;(S!==c||D!==d)&&(h(S),v(D))}}},[c,d]);return o||n!=null&&n<=0||a!=null&&a<=0?null:X.createElement(gl,{className:mr("recharts-cartesian-axis",i),ref:m},X.createElement(eK,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:xi(e)}),X.createElement(iK,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:c,letterSpacing:d,getTicksConfig:e,events:u}),X.createElement(lB,{x:e.x,y:e.y,width:e.width,height:e.height},X.createElement(fB,{label:e.label,labelRef:e.labelRef}),e.children))}),sK=X.memo(oK,(e,t)=>{var{viewBox:r}=e,n=Lx(e,XX),{viewBox:a}=t,i=Lx(t,KX);return _u(r,a)&&_u(n,i)}),BE=X.forwardRef((e,t)=>{var r=Xa(e,jE);return X.createElement(sK,sl({},r,{ref:t}))});BE.displayName="CartesianAxis";var lK=["x1","y1","x2","y2","key"],uK=["offset"],cK=["xAxisId","yAxisId"],fK=["xAxisId","yAxisId"];function L_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(r),!0).forEach(function(n){hK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hK(e,t,r){return(t=dK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dK(e){var t=vK(e,"string");return typeof t=="symbol"?t:t+""}function vK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zs(){return Zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zs.apply(null,arguments)}function ig(e,t){if(e==null)return{};var r,n,a=gK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pK=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:l}=e;return X.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function CB(e,t){var r;if(X.isValidElement(e))r=X.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:o,key:l}=t,u=ig(t,lK),c=xi(u),{offset:h}=c,d=ig(c,uK);r=X.createElement("line",Zs({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function mK(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=ig(e,cK),u=a.map((c,h)=>{var d=Ln(Ln({},l),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(h),index:h});return CB(n,d)});return X.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function yK(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=ig(e,fK),u=a.map((c,h)=>{var d=Ln(Ln({},l),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(h),index:h});return CB(n,d)});return X.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function bK(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length)return null;var c=l.map(d=>Math.round(d+a-a)).sort((d,v)=>d-v);a!==c[0]&&c.unshift(0);var h=c.map((d,v)=>{var p=!c[v+1],m=p?a+o-d:c[v+1]-d;if(m<=0)return null;var b=v%t.length;return X.createElement("rect",{key:"react-".concat(v),y:d,x:n,height:m,width:i,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function xK(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:l,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var c=u.map(d=>Math.round(d+a-a)).sort((d,v)=>d-v);a!==c[0]&&c.unshift(0);var h=c.map((d,v)=>{var p=!c[v+1],m=p?a+o-d:c[v+1]-d;if(m<=0)return null;var b=v%r.length;return X.createElement("rect",{key:"react-".concat(v),x:d,y:i,width:m,height:l,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var wK=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return xR(LE(Ln(Ln(Ln({},jE),r),{},{ticks:wR(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},EK=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return xR(LE(Ln(Ln(Ln({},jE),r),{},{ticks:wR(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},SK={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Tf(e){var t=Dw(),r=kw(),n=OR(),a=Ln(Ln({},Xa(e,SK)),{},{x:Rt(e.x)?e.x:n.left,y:Rt(e.y)?e.y:n.top,width:Rt(e.width)?e.width:n.width,height:Rt(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:u,width:c,height:h,syncWithTicks:d,horizontalValues:v,verticalValues:p}=a,m=ca(),b=Ot(P=>KO(P,"xAxis",i,m)),x=Ot(P=>KO(P,"yAxis",o,m));if(!Rt(c)||c<=0||!Rt(h)||h<=0||!Rt(l)||l!==+l||!Rt(u)||u!==+u)return null;var w=a.verticalCoordinatesGenerator||wK,T=a.horizontalCoordinatesGenerator||EK,{horizontalPoints:S,verticalPoints:D}=a;if((!S||!S.length)&&typeof T=="function"){var R=v&&v.length,L=T({yAxis:x?Ln(Ln({},x),{},{ticks:R?v:x.ticks}):void 0,width:t,height:r,offset:n},R?!0:d);Iv(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(S=L)}if((!D||!D.length)&&typeof w=="function"){var _=p&&p.length,N=w({xAxis:b?Ln(Ln({},b),{},{ticks:_?p:b.ticks}):void 0,width:t,height:r,offset:n},_?!0:d);Iv(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(D=N)}return X.createElement("g",{className:"recharts-cartesian-grid"},X.createElement(pK,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),X.createElement(bK,Zs({},a,{horizontalPoints:S})),X.createElement(xK,Zs({},a,{verticalPoints:D})),X.createElement(mK,Zs({},a,{offset:n,horizontalPoints:S,xAxis:b,yAxis:x})),X.createElement(yK,Zs({},a,{offset:n,verticalPoints:D,xAxis:b,yAxis:x})))}Tf.displayName="CartesianGrid";var MB=(e,t,r,n)=>Mj(e,"xAxis",t,n),OB=(e,t,r,n)=>Cj(e,"xAxis",t,n),_B=(e,t,r,n)=>Mj(e,"yAxis",r,n),DB=(e,t,r,n)=>Cj(e,"yAxis",r,n),TK=Ge([Or,MB,_B,OB,DB],(e,t,r,n,a)=>ls(e,"xAxis")?ux(t,n,!1):ux(r,a,!1)),AK=(e,t,r,n,a)=>a;function CK(e){return e.type==="line"}var MK=Ge([KL,AK],(e,t)=>e.filter(CK).find(r=>r.id===t)),OK=Ge([Or,MB,_B,OB,DB,MK,TK,nE],(e,t,r,n,a,i,o,l)=>{var{chartData:u,dataStartIndex:c,dataEndIndex:h}=l;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null)){var{dataKey:d,data:v}=i,p;if(v!=null&&v.length>0?p=v:p=u==null?void 0:u.slice(c,h+1),p!=null)return ZK({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:d,bandSize:o,displayedData:p})}});function _K(e){var t=Ag(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),l=Number(i);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=n),{r:o,strokeWidth:l}}return{r,strokeWidth:n}}var DK=["id"],kK=["type","layout","connectNulls","needClip"],NK=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function j_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j_(Object(r),!0).forEach(function(n){PK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PK(e,t,r){return(t=RK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RK(e){var t=LK(e,"string");return typeof t=="symbol"?t:t+""}function LK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IE(e,t){if(e==null)return{};var r,n,a=jK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ll(){return ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ll.apply(null,arguments)}var BK=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:ER(r,t),payload:e}]};function IK(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:l,unit:u}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:ER(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:u}}}var kB=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function zK(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var FK=(e,t,r)=>{var n=r.reduce((d,v)=>d+v);if(!n)return kB(t,e);for(var a=Math.floor(e/n),i=e%n,o=t-e,l=[],u=0,c=0;u<r.length;c+=r[u],++u)if(c+r[u]>i){l=[...r.slice(0,u),i-c];break}var h=l.length%2===0?[0,o]:[o];return[...zK(r,a),...l,...h].map(d=>"".concat(d,"px")).join(", ")};function UK(e,t){var r;if(X.isValidElement(e))r=X.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=mr("recharts-line-dot",typeof e!="boolean"?e.className:"");r=X.createElement(vB,ll({},t,{className:n}))}return r}function GK(e,t){return e==null?!1:t?!0:e.length===1}function qK(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:o}=n;if(!GK(r,a))return null;var{id:l}=n,u=IE(n,DK),c=pB(a),h=xi(u),d=w4(a),v=r.map((m,b)=>{var x=wa(wa(wa({key:"dot-".concat(b),r:3},h),d),{},{index:b,cx:m.x,cy:m.y,dataKey:i,value:m.value,payload:m.payload,points:r});return UK(a,x)}),p={clipPath:o?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return X.createElement(gl,ll({className:"recharts-line-dots",key:"dots"},p),v)}function VK(e){var{showLabels:t,children:r,points:n}=e,a=X.useMemo(()=>n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return wa(wa({},o),{},{value:i.value,payload:i.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[n]);return X.createElement(S7,{value:t?a:null},r)}function B_(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:o,layout:l,connectNulls:u,needClip:c}=i,h=IE(i,kK),d=wa(wa({},la(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:u,strokeDasharray:a??i.strokeDasharray});return X.createElement(X.Fragment,null,(n==null?void 0:n.length)>1&&X.createElement(kR,ll({},d,{pathRef:r})),X.createElement(qK,{points:n,clipPathId:t,props:i}))}function $K(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function YK(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:u,animationBegin:c,animationDuration:h,animationEasing:d,animateNewValues:v,width:p,height:m,onAnimationEnd:b,onAnimationStart:x}=r,w=a.current,T=jR(r,"recharts-line-"),[S,D]=X.useState(!1),R=!S,L=X.useCallback(()=>{typeof b=="function"&&b(),D(!1)},[b]),_=X.useCallback(()=>{typeof x=="function"&&x(),D(!0)},[x]),N=$K(n.current),P=i.current;return X.createElement(VK,{points:o,showLabels:R},r.children,X.createElement(LR,{animationId:T,begin:c,duration:h,isActive:u,easing:d,onAnimationEnd:L,onAnimationStart:_,key:T},U=>{var j=$i(P,N+P,U),F=Math.min(j,N),I;if(u)if(l){var G="".concat(l).split(/[,\s]+/gim).map(V=>parseFloat(V));I=FK(F,N,G)}else I=kB(N,F);else I=l==null?void 0:String(l);if(w){var Y=w.length/o.length,q=U===1?o:o.map((V,W)=>{var J=Math.floor(W*Y);if(w[J]){var ie=w[J];return wa(wa({},V),{},{x:$i(ie.x,V.x,U),y:$i(ie.y,V.y,U)})}return v?wa(wa({},V),{},{x:$i(p*2,V.x,U),y:$i(m/2,V.y,U)}):wa(wa({},V),{},{x:V.x,y:V.y})});return a.current=q,X.createElement(B_,{props:r,points:q,clipPathId:t,pathRef:n,strokeDasharray:I})}return U>0&&N>0&&(a.current=o,i.current=F),X.createElement(B_,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:I})}),X.createElement(C7,{label:r.label}))}function HK(e){var{clipPathId:t,props:r}=e,n=X.useRef(null),a=X.useRef(0),i=X.useRef(null);return X.createElement(YK,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var XK=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Vn(e.payload,t)});class KK extends X.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:o,top:l,left:u,width:c,height:h,id:d,needClip:v}=this.props;if(t)return null;var p=mr("recharts-line",a),m=d,{r:b,strokeWidth:x}=_K(r),w=pB(r),T=b*2+x;return X.createElement(X.Fragment,null,X.createElement(gl,{className:p},v&&X.createElement("defs",null,X.createElement(gX,{clipPathId:m,xAxisId:i,yAxisId:o}),!w&&X.createElement("clipPath",{id:"clipPath-dots-".concat(m)},X.createElement("rect",{x:u-T/2,y:l-T/2,width:c+T,height:h+T}))),X.createElement(vX,{xAxisId:i,yAxisId:o,data:n,dataPointFormatter:XK,errorBarOffset:0},X.createElement(HK,{props:this.props,clipPathId:m}))),X.createElement(oX,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var NB={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ru.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function WK(e){var t=Xa(e,NB),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:u,hide:c,isAnimationActive:h,label:d,legendType:v,xAxisId:p,yAxisId:m,id:b}=t,x=IE(t,NK),{needClip:w}=xB(p,m),T=PE(),S=Nw(),D=ca(),R=Ot(U=>OK(U,p,m,D,b));if(S!=="horizontal"&&S!=="vertical"||R==null||T==null)return null;var{height:L,width:_,x:N,y:P}=T;return X.createElement(KK,ll({},x,{id:b,connectNulls:l,dot:u,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:h,hide:c,label:d,legendType:v,xAxisId:p,yAxisId:m,points:R,layout:S,height:L,width:_,left:N,top:P,needClip:w}))}function ZK(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:u}=e;return u.map((c,h)=>{var d=Vn(c,o);if(t==="horizontal"){var v=AM({axis:r,ticks:a,bandSize:l,entry:c,index:h}),p=gn(d)?null:n.scale(d);return{x:v,y:p,value:d,payload:c}}var m=gn(d)?null:r.scale(d),b=AM({axis:n,ticks:i,bandSize:l,entry:c,index:h});return m==null||b==null?null:{x:m,y:b,value:d,payload:c}}).filter(Boolean)}function QK(e){var t=Xa(e,NB),r=ca();return X.createElement(j7,{id:t.id,type:"line"},n=>X.createElement(X.Fragment,null,X.createElement(k7,{legendPayload:BK(t)}),X.createElement(_7,{fn:IK,args:t}),X.createElement(G7,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),X.createElement(WK,ll({},t,{id:n}))))}var Af=X.memo(QK);Af.displayName="Line";var JK=["dangerouslySetInnerHTML","ticks"],eW=["id"],tW=["domain"],rW=["domain"];function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jx.apply(null,arguments)}function og(e,t){if(e==null)return{};var r,n,a=nW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aW(e){var t=nn();return X.useLayoutEffect(()=>(t(H7(e)),()=>{t(X7(e))}),[e,t]),null}var iW=e=>{var{xAxisId:t,className:r}=e,n=Ot(TR),a=ca(),i="xAxis",o=Ot(x=>ts(x,i,t,a)),l=Ot(x=>Aj(x,i,t,a)),u=Ot(x=>DY(x,t)),c=Ot(x=>jY(x,t)),h=Ot(x=>$L(x,t));if(u==null||c==null||h==null)return null;var{dangerouslySetInnerHTML:d,ticks:v}=e,p=og(e,JK),{id:m}=h,b=og(h,eW);return X.createElement(BE,jx({},p,b,{scale:o,x:c.x,y:c.y,width:u.width,height:u.height,className:mr("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l}))},oW={allowDataOverflow:ya.allowDataOverflow,allowDecimals:ya.allowDecimals,allowDuplicatedCategory:ya.allowDuplicatedCategory,height:ya.height,hide:!1,mirror:ya.mirror,orientation:ya.orientation,padding:ya.padding,reversed:ya.reversed,scale:ya.scale,tickCount:ya.tickCount,type:ya.type,xAxisId:0},sW=e=>{var t,r,n,a,i,o=Xa(e,oW);return X.createElement(X.Fragment,null,X.createElement(aW,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),X.createElement(iW,o))},lW=(e,t)=>{var{domain:r}=e,n=og(e,tW),{domain:a}=t,i=og(t,rW);return _u(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:_u({domain:r},{domain:a}):!1},Cf=X.memo(sW,lW);Cf.displayName="XAxis";var uW=["dangerouslySetInnerHTML","ticks"],cW=["id"],fW=["domain"],hW=["domain"];function Bx(){return Bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bx.apply(null,arguments)}function sg(e,t){if(e==null)return{};var r,n,a=dW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vW(e){var t=nn();return X.useLayoutEffect(()=>(t(K7(e)),()=>{t(W7(e))}),[e,t]),null}var gW=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=X.useRef(null),o=X.useRef(null),l=Ot(TR),u=ca(),c=nn(),h="yAxis",d=Ot(R=>ts(R,h,t,u)),v=Ot(R=>zY(R,t)),p=Ot(R=>IY(R,t)),m=Ot(R=>Aj(R,h,t,u)),b=Ot(R=>YL(R,t));if(X.useLayoutEffect(()=>{if(!(n!=="auto"||!v||NE(a)||X.isValidElement(a)||b==null)){var R=i.current;if(R){var L=R.getCalculatedWidth();Math.round(v.width)!==Math.round(L)&&c(Z7({id:t,width:L}))}}},[m,v,c,a,t,n,b]),v==null||p==null||b==null)return null;var{dangerouslySetInnerHTML:x,ticks:w}=e,T=sg(e,uW),{id:S}=b,D=sg(b,cW);return X.createElement(BE,Bx({},T,D,{ref:i,labelRef:o,scale:d,x:p.x,y:p.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:v.width,height:v.height,className:mr("recharts-".concat(h," ").concat(h),r),viewBox:l,ticks:m}))},pW={allowDataOverflow:ba.allowDataOverflow,allowDecimals:ba.allowDecimals,allowDuplicatedCategory:ba.allowDuplicatedCategory,hide:!1,mirror:ba.mirror,orientation:ba.orientation,padding:ba.padding,reversed:ba.reversed,scale:ba.scale,tickCount:ba.tickCount,type:ba.type,width:ba.width,yAxisId:0},mW=e=>{var t,r,n,a,i,o=Xa(e,pW);return X.createElement(X.Fragment,null,X.createElement(vW,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),X.createElement(gW,o))},yW=(e,t)=>{var{domain:r}=e,n=sg(e,fW),{domain:a}=t,i=sg(t,hW);return _u(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:_u({domain:r},{domain:a}):!1},Mf=X.memo(mW,yW);Mf.displayName="YAxis";var cb={exports:{}},fb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function bW(){if(I_)return fb;I_=1;var e=Pu();function t(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,o=e.useMemo,l=e.useDebugValue;return fb.useSyncExternalStoreWithSelector=function(u,c,h,d,v){var p=a(null);if(p.current===null){var m={hasValue:!1,value:null};p.current=m}else m=p.current;p=o(function(){function x(R){if(!w){if(w=!0,T=R,R=d(R),v!==void 0&&m.hasValue){var L=m.value;if(v(L,R))return S=L}return S=R}if(L=S,r(T,R))return L;var _=d(R);return v!==void 0&&v(L,_)?(T=R,L):(T=R,S=_)}var w=!1,T,S,D=h===void 0?null:h;return[function(){return x(c())},D===null?void 0:function(){return x(D())}]},[c,h,d,v]);var b=n(u,p[0],p[1]);return i(function(){m.hasValue=!0,m.value=b},[b]),l(b),b},fb}var z_;function xW(){return z_||(z_=1,cb.exports=bW()),cb.exports}xW();function wW(e){e()}function EW(){let e=null,t=null;return{clear(){e=null,t=null},notify(){wW(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var F_={notify(){},get:()=>[]};function SW(e,t){let r,n=F_,a=0,i=!1;function o(b){h();const x=n.subscribe(b);let w=!1;return()=>{w||(w=!0,x(),d())}}function l(){n.notify()}function u(){m.onStateChange&&m.onStateChange()}function c(){return i}function h(){a++,r||(r=e.subscribe(u),n=EW())}function d(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=F_)}function v(){i||(i=!0,h())}function p(){i&&(i=!1,d())}const m={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:c,trySubscribe:v,tryUnsubscribe:p,getListeners:()=>n};return m}var TW=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AW=TW(),CW=()=>typeof navigator<"u"&&navigator.product==="ReactNative",MW=CW(),OW=()=>AW||MW?X.useLayoutEffect:X.useEffect,_W=OW(),hb=Symbol.for("react-redux-context"),db=typeof globalThis<"u"?globalThis:{};function DW(){if(!X.createContext)return{};const e=db[hb]??(db[hb]=new Map);let t=e.get(X.createContext);return t||(t=X.createContext(null),e.set(X.createContext,t)),t}var kW=DW();function NW(e){const{children:t,context:r,serverState:n,store:a}=e,i=X.useMemo(()=>{const u=SW(a);return{store:a,subscription:u,getServerState:n?()=>n:void 0}},[a,n]),o=X.useMemo(()=>a.getState(),[a]);_W(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==a.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,o]);const l=r||kW;return X.createElement(l.Provider,{value:i},t)}var PW=NW,RW=(e,t)=>t,zE=Ge([RW,Or,UL,sn,qj,ho,V9,_n],K9),FE=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},PB=$a("mouseClick"),RB=Uf();RB.startListening({actionCreator:PB,effect:(e,t)=>{var r=e.payload,n=zE(t.getState(),FE(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(ZY({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Ix=$a("mouseMove"),LB=Uf();LB.startListening({actionCreator:Ix,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=EE(n,n.tooltip.settings.shared),i=zE(n,FE(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(Rj({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(Pj()))}});var U_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},jB=Ca({name:"rootProps",initialState:U_,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:U_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),LW=jB.reducer,{updateOptions:jW}=jB.actions,BB=Ca({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:pie}=BB.actions,BW=BB.reducer,IB=$a("keyDown"),zB=$a("focus"),UE=Uf();UE.startListening({actionCreator:IB,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(SE(a,Gu(r))),l=ho(r);if(i==="Enter"){var u=tg(r,"axis","hover",String(a.index));t.dispatch(_x({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:u}));return}var c=qY(r),h=c==="left-to-right"?1:-1,d=i==="ArrowRight"?1:-1,v=o+d*h;if(!(l==null||v>=l.length||v<0)){var p=tg(r,"axis","hover",String(v));t.dispatch(_x({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});UE.startListening({actionCreator:zB,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=tg(r,"axis","hover",String(i));t.dispatch(_x({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Ia=$a("externalEvent"),FB=Uf();FB.startListening({actionCreator:Ia,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:R9(r),activeDataKey:N9(r),activeIndex:Ef(r),activeLabel:Yj(r),activeTooltipIndex:Ef(r),isTooltipActive:L9(r)};e.payload.handler(n,e.payload.reactEvent)}}});var IW=Ge([Uu],e=>e.tooltipItemPayloads),zW=Ge([IW,Qf,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),UB=$a("touchMove"),GB=Uf();GB.startListening({actionCreator:UB,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=EE(n,n.tooltip.settings.shared);if(a==="axis"){var i=zE(n,FE({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(Rj({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,l=r.touches[0],u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(qG),h=(o=u.getAttribute(VG))!==null&&o!==void 0?o:void 0,d=zW(t.getState(),c,h);t.dispatch(WY({activeDataKey:h,activeIndex:c,activeCoordinate:d}))}}});var FW=XP({brush:mX,cartesianAxis:Q7,chartData:hH,errorBars:lX,graphicalItems:U7,layout:gG,legend:Sq,options:sH,polarAxis:O7,polarOptions:BW,referenceElements:MX,rootProps:LW,tooltip:QY}),UW=function(t){return FU({reducer:FW,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([RB.middleware,LB.middleware,UE.middleware,FB.middleware,GB.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(oR({type:"raf"}))},devTools:Ru.devToolsEnabled})};function GW(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=ca(),i=X.useRef(null);if(a)return r;i.current==null&&(i.current=UW(t));var o=Sw;return X.createElement(PW,{context:o,store:i.current},r)}function qW(e){var{layout:t,margin:r}=e,n=nn(),a=ca();return X.useEffect(()=>{a||(n(hG(t)),n(fG(r)))},[n,a,t,r]),null}function VW(e){var t=nn();return X.useEffect(()=>{t(jW(e))},[t,e]),null}var $W=["children"];function YW(e,t){if(e==null)return{};var r,n,a=HW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function HW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lg.apply(null,arguments)}var XW={width:"100%",height:"100%",display:"block"},KW=X.forwardRef((e,t)=>{var r=Dw(),n=kw(),a=DR();if(!Tu(r)||!Tu(n))return null;var{children:i,otherAttributes:o,title:l,desc:u}=e,c,h;return typeof o.tabIndex=="number"?c=o.tabIndex:c=a?0:void 0,typeof o.role=="string"?h=o.role:h=a?"application":void 0,X.createElement(fw,lg({},o,{title:l,desc:u,role:h,tabIndex:c,width:r,height:n,style:XW,ref:t}),i)}),WW=e=>{var{children:t}=e,r=Ot(zg);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return X.createElement(fw,{width:n,height:a,x:o,y:i},t)},G_=X.forwardRef((e,t)=>{var{children:r}=e,n=YW(e,$W),a=ca();return a?X.createElement(WW,null,r):X.createElement(KW,lg({ref:t},n),r)});function ZW(){var e=nn(),[t,r]=X.useState(null),n=Ot(GG);return X.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;ua(i)&&i!==n&&e(vG(i))}},[t,e,n]),r}function q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(r),!0).forEach(function(n){JW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JW(e,t,r){return(t=eZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eZ(e){var t=tZ(e,"string");return typeof t=="symbol"?t:t+""}function tZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ul(){return ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ul.apply(null,arguments)}var rZ=()=>(wH(),null);function ug(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var nZ=X.forwardRef((e,t)=>{var r,n,a=X.useRef(null),[i,o]=X.useState({containerWidth:ug((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:ug((n=e.style)===null||n===void 0?void 0:n.height)}),l=X.useCallback((c,h)=>{o(d=>{var v=Math.round(c),p=Math.round(h);return d.containerWidth===v&&d.containerHeight===p?d:{containerWidth:v,containerHeight:p}})},[]),u=X.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:h,height:d}=c.getBoundingClientRect();l(h,d);var v=m=>{var{width:b,height:x}=m[0].contentRect;l(b,x)},p=new ResizeObserver(v);p.observe(c),a.current=p}},[t,l]);return X.useEffect(()=>()=>{var c=a.current;c!=null&&c.disconnect()},[l]),X.createElement(X.Fragment,null,X.createElement(Ug,{width:i.containerWidth,height:i.containerHeight}),X.createElement("div",ul({ref:u},e)))}),aZ=X.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=X.useState({containerWidth:ug(r),containerHeight:ug(n)}),o=X.useCallback((u,c)=>{i(h=>{var d=Math.round(u),v=Math.round(c);return h.containerWidth===d&&h.containerHeight===v?h:{containerWidth:d,containerHeight:v}})},[]),l=X.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:c,height:h}=u.getBoundingClientRect();o(c,h)}},[t,o]);return X.createElement(X.Fragment,null,X.createElement(Ug,{width:a.containerWidth,height:a.containerHeight}),X.createElement("div",ul({ref:l},e)))}),iZ=X.forwardRef((e,t)=>{var{width:r,height:n}=e;return X.createElement(X.Fragment,null,X.createElement(Ug,{width:r,height:n}),X.createElement("div",ul({ref:t},e)))}),oZ=X.forwardRef((e,t)=>{var{width:r,height:n}=e;return Ji(r)||Ji(n)?X.createElement(aZ,ul({},e,{ref:t})):X.createElement(iZ,ul({},e,{ref:t}))});function sZ(e){return e===!0?nZ:oZ}var lZ=X.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:c,onMouseLeave:h,onMouseMove:d,onMouseUp:v,onTouchEnd:p,onTouchMove:m,onTouchStart:b,style:x,width:w,responsive:T,dispatchTouchEvents:S=!0}=e,D=X.useRef(null),R=nn(),[L,_]=X.useState(null),[N,P]=X.useState(null),U=ZW(),j=_w(),F=(j==null?void 0:j.width)>0?j.width:w,I=(j==null?void 0:j.height)>0?j.height:a,G=X.useCallback(ce=>{U(ce),typeof t=="function"&&t(ce),_(ce),P(ce),ce!=null&&(D.current=ce)},[U,t,_,P]),Y=X.useCallback(ce=>{R(PB(ce)),R(Ia({handler:i,reactEvent:ce}))},[R,i]),q=X.useCallback(ce=>{R(Ix(ce)),R(Ia({handler:c,reactEvent:ce}))},[R,c]),V=X.useCallback(ce=>{R(Pj()),R(Ia({handler:h,reactEvent:ce}))},[R,h]),W=X.useCallback(ce=>{R(Ix(ce)),R(Ia({handler:d,reactEvent:ce}))},[R,d]),J=X.useCallback(()=>{R(zB())},[R]),ie=X.useCallback(ce=>{R(IB(ce.key))},[R]),K=X.useCallback(ce=>{R(Ia({handler:o,reactEvent:ce}))},[R,o]),Z=X.useCallback(ce=>{R(Ia({handler:l,reactEvent:ce}))},[R,l]),fe=X.useCallback(ce=>{R(Ia({handler:u,reactEvent:ce}))},[R,u]),he=X.useCallback(ce=>{R(Ia({handler:v,reactEvent:ce}))},[R,v]),oe=X.useCallback(ce=>{R(Ia({handler:b,reactEvent:ce}))},[R,b]),be=X.useCallback(ce=>{S&&R(UB(ce)),R(Ia({handler:m,reactEvent:ce}))},[R,S,m]),Ae=X.useCallback(ce=>{R(Ia({handler:p,reactEvent:ce}))},[R,p]),Le=sZ(T);return X.createElement(Qj.Provider,{value:L},X.createElement(cP.Provider,{value:N},X.createElement(Le,{width:F??(x==null?void 0:x.width),height:I??(x==null?void 0:x.height),className:mr("recharts-wrapper",n),style:QW({position:"relative",cursor:"default",width:F,height:I},x),onClick:Y,onContextMenu:K,onDoubleClick:Z,onFocus:J,onKeyDown:ie,onMouseDown:fe,onMouseEnter:q,onMouseLeave:V,onMouseMove:W,onMouseUp:he,onTouchEnd:Ae,onTouchMove:be,onTouchStart:oe,ref:G},X.createElement(rZ,null),r)))}),uZ=["width","height","responsive","children","className","style","compact","title","desc"];function cZ(e,t){if(e==null)return{};var r,n,a=fZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hZ=X.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:l,compact:u,title:c,desc:h}=e,d=cZ(e,uZ),v=xi(d);return u?X.createElement(X.Fragment,null,X.createElement(Ug,{width:r,height:n}),X.createElement(G_,{otherAttributes:v,title:c,desc:h},i)):X.createElement(lZ,{className:o,style:l,width:r,height:n,responsive:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},X.createElement(G_,{otherAttributes:v,title:c,desc:h,ref:t},X.createElement(OX,null,i)))});function zx(){return zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zx.apply(null,arguments)}var dZ={top:5,right:5,bottom:5,left:5},vZ={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:dZ,reverseStackOrder:!1,syncMethod:"index",responsive:!1},gZ=X.forwardRef(function(t,r){var n,a=Xa(t.categoricalChartProps,vZ),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:c}=t,h={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return X.createElement(GW,{preloadedState:{options:h},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:i},X.createElement(pX,{chartData:c.data}),X.createElement(qW,{layout:a.layout,margin:a.margin}),X.createElement(VW,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),X.createElement(hZ,zx({},a,{ref:r})))}),pZ=["axis"],cg=X.forwardRef((e,t)=>X.createElement(gZ,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:pZ,tooltipPayloadSearcher:iH,categoricalChartProps:e,ref:t}));const mZ=e=>{const{payload:t,onClick:r}=e;return B.jsx("div",{className:"flex flex-wrap justify-center items-center gap-x-4 gap-y-2 mt-4 px-4",children:t.map((n,a)=>B.jsxs("div",{onClick:()=>r(n),className:`flex items-center cursor-pointer transition-opacity ${n.inactive?"opacity-50":"opacity-100"}`,children:[B.jsx("div",{style:{width:12,height:12,backgroundColor:n.color,marginRight:6,borderRadius:"2px"}}),B.jsx("span",{className:"text-xs text-slate-700 dark:text-slate-300",children:n.value})]},`item-${a}`))})},yZ=({results:e,model:t,visibleSpecies:r,onVisibleSpeciesChange:n})=>{const[a,i]=X.useState([]),[o,l]=X.useState(null);if(!e||e.data.length===0)return B.jsx(Tn,{className:"h-96 flex items-center justify-center",children:B.jsx("p",{className:"text-slate-500",children:"Run a simulation to see the results."})});const u=b=>{const x=new Set(r),w=b.dataKey||b.value;x.has(w)?x.delete(w):x.add(w),n(x)},c=b=>{b&&b.activeLabel&&l({x1:b.activeLabel,x2:b.activeLabel,y1:b.activeCoordinate.y,y2:b.activeCoordinate.y})},h=b=>{o&&b&&b.activeLabel&&l({...o,x2:b.activeLabel})},d=()=>{if(o){const{x1:b,x2:x}=o;if(typeof b=="number"&&typeof x=="number"&&Math.abs(b-x)>.001){const w={x1:Math.min(b,x),x2:Math.max(b,x),y1:"dataMin",y2:"dataMax"};i([...a,w])}l(null)}},v=()=>{i([])},p=e.headers.filter(b=>b!=="time"),m=a.length>0?a[a.length-1]:void 0;return B.jsxs(Tn,{children:[B.jsx(zv,{width:"100%",height:400,children:B.jsxs(cg,{data:e.data,margin:{top:5,right:20,left:10,bottom:5},onMouseDown:c,onMouseMove:h,onMouseUp:d,onDoubleClick:v,children:[B.jsx(Tf,{strokeDasharray:"3 3",stroke:"rgba(128, 128, 128, 0.3)"}),B.jsx(Cf,{dataKey:"time",label:{value:"Time",position:"insideBottom",offset:-5},type:"number",domain:m?[m.x1,m.x2]:["dataMin","dataMax"],allowDataOverflow:!0}),B.jsx(Mf,{label:{value:"Concentration",angle:-90,position:"insideLeft"},domain:m?[m.y1,m.y2]:[0,"dataMax"],allowDataOverflow:!0,tickFormatter:b=>b.toFixed(0)}),B.jsx(rg,{formatter:b=>(typeof b=="number"?b:parseFloat(b)).toFixed(2),labelFormatter:b=>`Time: ${typeof b=="number"?b.toFixed(2):b}`}),B.jsx(qf,{onClick:u,content:B.jsx(mZ,{})}),p.map((b,x)=>B.jsx(Af,{type:"monotone",dataKey:b,stroke:Xs[x%Xs.length],strokeWidth:2,dot:!1,hide:!r.has(b)},b)),o&&B.jsx(op,{x1:o.x1,x2:o.x2,strokeOpacity:.3,fill:"#8884d8",fillOpacity:.2})]})}),B.jsx("div",{className:"text-center text-xs text-slate-500 mt-2",children:"Click and drag to zoom, double-click to reset."})]})};function Fx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function bZ(e){if(Array.isArray(e))return e}function xZ(e){if(Array.isArray(e))return Fx(e)}function hs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VB(n.key),n)}}function ds(e,t,r){return t&&wZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sa(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=GE(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return o=u.done,u},e:function(u){l=!0,i=u},f:function(){try{o||r.return==null||r.return()}finally{if(l)throw i}}}}function qB(e,t,r){return(t=VB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(h){c=!0,a=h}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}function TZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wr(e,t){return bZ(e)||SZ(e,t)||GE(e,t)||TZ()}function fg(e){return xZ(e)||EZ(e)||GE(e)||AZ()}function CZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function VB(e){var t=CZ(e,"string");return typeof t=="symbol"?t:t+""}function rn(e){"@babel/helpers - typeof";return rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rn(e)}function GE(e,t){if(e){if(typeof e=="string")return Fx(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fx(e,t):void 0}}var Jr=typeof window>"u"?null:window,V_=Jr?Jr.navigator:null;Jr&&Jr.document;var MZ=rn(""),$B=rn({}),OZ=rn(function(){}),_Z=typeof HTMLElement>"u"?"undefined":rn(HTMLElement),eh=function(t){return t&&t.instanceString&&Lr(t.instanceString)?t.instanceString():null},Mt=function(t){return t!=null&&rn(t)==MZ},Lr=function(t){return t!=null&&rn(t)===OZ},xr=function(t){return!Ta(t)&&(Array.isArray?Array.isArray(t):t!=null&&t instanceof Array)},Zt=function(t){return t!=null&&rn(t)===$B&&!xr(t)&&t.constructor===Object},DZ=function(t){return t!=null&&rn(t)===$B},pt=function(t){return t!=null&&rn(t)===rn(1)&&!isNaN(t)},kZ=function(t){return pt(t)&&Math.floor(t)===t},hg=function(t){if(_Z!=="undefined")return t!=null&&t instanceof HTMLElement},Ta=function(t){return th(t)||YB(t)},th=function(t){return eh(t)==="collection"&&t._private.single},YB=function(t){return eh(t)==="collection"&&!t._private.single},qE=function(t){return eh(t)==="core"},HB=function(t){return eh(t)==="stylesheet"},NZ=function(t){return eh(t)==="event"},rs=function(t){return t==null?!0:!!(t===""||t.match(/^\s+$/))},PZ=function(t){return typeof HTMLElement>"u"?!1:t instanceof HTMLElement},RZ=function(t){return Zt(t)&&pt(t.x1)&&pt(t.x2)&&pt(t.y1)&&pt(t.y2)},LZ=function(t){return DZ(t)&&Lr(t.then)},jZ=function(){return V_&&V_.userAgent.match(/msie|trident|edge/i)},Du=function(t,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);return i.join("$")});var n=function(){var i=this,o=arguments,l,u=r.apply(i,o),c=n.cache;return(l=c[u])||(l=c[u]=t.apply(i,o)),l};return n.cache={},n},VE=Du(function(e){return e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),sp=Du(function(e){return e.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),XB=Du(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),$_=function(t){return rs(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},Xo=function(t,r){return t.slice(-1*r.length)===r},tn="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",BZ="rgb[a]?\\(("+tn+"[%]?)\\s*,\\s*("+tn+"[%]?)\\s*,\\s*("+tn+"[%]?)(?:\\s*,\\s*("+tn+"))?\\)",IZ="rgb[a]?\\((?:"+tn+"[%]?)\\s*,\\s*(?:"+tn+"[%]?)\\s*,\\s*(?:"+tn+"[%]?)(?:\\s*,\\s*(?:"+tn+"))?\\)",zZ="hsl[a]?\\(("+tn+")\\s*,\\s*("+tn+"[%])\\s*,\\s*("+tn+"[%])(?:\\s*,\\s*("+tn+"))?\\)",FZ="hsl[a]?\\((?:"+tn+")\\s*,\\s*(?:"+tn+"[%])\\s*,\\s*(?:"+tn+"[%])(?:\\s*,\\s*(?:"+tn+"))?\\)",UZ="\\#[0-9a-fA-F]{3}",GZ="\\#[0-9a-fA-F]{6}",KB=function(t,r){return t<r?-1:t>r?1:0},qZ=function(t,r){return-1*KB(t,r)},Nt=Object.assign!=null?Object.assign.bind(Object):function(e){for(var t=arguments,r=1;r<t.length;r++){var n=t[r];if(n!=null)for(var a=Object.keys(n),i=0;i<a.length;i++){var o=a[i];e[o]=n[o]}}return e},VZ=function(t){if(!(!(t.length===4||t.length===7)||t[0]!=="#")){var r=t.length===4,n,a,i,o=16;return r?(n=parseInt(t[1]+t[1],o),a=parseInt(t[2]+t[2],o),i=parseInt(t[3]+t[3],o)):(n=parseInt(t[1]+t[2],o),a=parseInt(t[3]+t[4],o),i=parseInt(t[5]+t[6],o)),[n,a,i]}},$Z=function(t){var r,n,a,i,o,l,u,c;function h(m,b,x){return x<0&&(x+=1),x>1&&(x-=1),x<1/6?m+(b-m)*6*x:x<1/2?b:x<2/3?m+(b-m)*(2/3-x)*6:m}var d=new RegExp("^"+zZ+"$").exec(t);if(d){if(n=parseInt(d[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,a=parseFloat(d[2]),a<0||a>100||(a=a/100,i=parseFloat(d[3]),i<0||i>100)||(i=i/100,o=d[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(a===0)l=u=c=Math.round(i*255);else{var v=i<.5?i*(1+a):i+a-i*a,p=2*i-v;l=Math.round(255*h(p,v,n+1/3)),u=Math.round(255*h(p,v,n)),c=Math.round(255*h(p,v,n-1/3))}r=[l,u,c,o]}return r},YZ=function(t){var r,n=new RegExp("^"+BZ+"$").exec(t);if(n){r=[];for(var a=[],i=1;i<=3;i++){var o=n[i];if(o[o.length-1]==="%"&&(a[i]=!0),o=parseFloat(o),a[i]&&(o=o/100*255),o<0||o>255)return;r.push(Math.floor(o))}var l=a[1]||a[2]||a[3],u=a[1]&&a[2]&&a[3];if(l&&!u)return;var c=n[4];if(c!==void 0){if(c=parseFloat(c),c<0||c>1)return;r.push(c)}}return r},HZ=function(t){return XZ[t.toLowerCase()]},WB=function(t){return(xr(t)?t:null)||HZ(t)||VZ(t)||YZ(t)||$Z(t)},XZ={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ZB=function(t){for(var r=t.map,n=t.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(Zt(o))throw Error("Tried to set map with object key");i<n.length-1?(r[o]==null&&(r[o]={}),r=r[o]):r[o]=t.value}},QB=function(t){for(var r=t.map,n=t.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(Zt(o))throw Error("Tried to get map with object key");if(r=r[o],r==null)return r}return r},$d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vb,Y_;function nh(){if(Y_)return vb;Y_=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return vb=e,vb}var gb,H_;function KZ(){if(H_)return gb;H_=1;var e=typeof $d=="object"&&$d&&$d.Object===Object&&$d;return gb=e,gb}var pb,X_;function lp(){if(X_)return pb;X_=1;var e=KZ(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return pb=r,pb}var mb,K_;function WZ(){if(K_)return mb;K_=1;var e=lp(),t=function(){return e.Date.now()};return mb=t,mb}var yb,W_;function ZZ(){if(W_)return yb;W_=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return yb=t,yb}var bb,Z_;function QZ(){if(Z_)return bb;Z_=1;var e=ZZ(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return bb=r,bb}var xb,Q_;function $E(){if(Q_)return xb;Q_=1;var e=lp(),t=e.Symbol;return xb=t,xb}var wb,J_;function JZ(){if(J_)return wb;J_=1;var e=$E(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(o){var l=r.call(o,a),u=o[a];try{o[a]=void 0;var c=!0}catch{}var h=n.call(o);return c&&(l?o[a]=u:delete o[a]),h}return wb=i,wb}var Eb,eD;function eQ(){if(eD)return Eb;eD=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Eb=r,Eb}var Sb,tD;function JB(){if(tD)return Sb;tD=1;var e=$E(),t=JZ(),r=eQ(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?a:n:i&&i in Object(l)?t(l):r(l)}return Sb=o,Sb}var Tb,rD;function tQ(){if(rD)return Tb;rD=1;function e(t){return t!=null&&typeof t=="object"}return Tb=e,Tb}var Ab,nD;function ah(){if(nD)return Ab;nD=1;var e=JB(),t=tQ(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return Ab=n,Ab}var Cb,aD;function rQ(){if(aD)return Cb;aD=1;var e=QZ(),t=nh(),r=ah(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function u(c){if(typeof c=="number")return c;if(r(c))return n;if(t(c)){var h=typeof c.valueOf=="function"?c.valueOf():c;c=t(h)?h+"":h}if(typeof c!="string")return c===0?c:+c;c=e(c);var d=i.test(c);return d||o.test(c)?l(c.slice(2),d?2:8):a.test(c)?n:+c}return Cb=u,Cb}var Mb,iD;function nQ(){if(iD)return Mb;iD=1;var e=nh(),t=WZ(),r=rQ(),n="Expected a function",a=Math.max,i=Math.min;function o(l,u,c){var h,d,v,p,m,b,x=0,w=!1,T=!1,S=!0;if(typeof l!="function")throw new TypeError(n);u=r(u)||0,e(c)&&(w=!!c.leading,T="maxWait"in c,v=T?a(r(c.maxWait)||0,u):v,S="trailing"in c?!!c.trailing:S);function D(I){var G=h,Y=d;return h=d=void 0,x=I,p=l.apply(Y,G),p}function R(I){return x=I,m=setTimeout(N,u),w?D(I):p}function L(I){var G=I-b,Y=I-x,q=u-G;return T?i(q,v-Y):q}function _(I){var G=I-b,Y=I-x;return b===void 0||G>=u||G<0||T&&Y>=v}function N(){var I=t();if(_(I))return P(I);m=setTimeout(N,L(I))}function P(I){return m=void 0,S&&h?D(I):(h=d=void 0,p)}function U(){m!==void 0&&clearTimeout(m),x=0,h=b=d=m=void 0}function j(){return m===void 0?p:P(t())}function F(){var I=t(),G=_(I);if(h=arguments,d=this,b=I,G){if(m===void 0)return R(b);if(T)return clearTimeout(m),m=setTimeout(N,u),D(b)}return m===void 0&&(m=setTimeout(N,u)),p}return F.cancel=U,F.flush=j,F}return Mb=o,Mb}var aQ=nQ(),ih=rh(aQ),Ob=Jr?Jr.performance:null,eI=Ob&&Ob.now?function(){return Ob.now()}:function(){return Date.now()},iQ=(function(){if(Jr){if(Jr.requestAnimationFrame)return function(e){Jr.requestAnimationFrame(e)};if(Jr.mozRequestAnimationFrame)return function(e){Jr.mozRequestAnimationFrame(e)};if(Jr.webkitRequestAnimationFrame)return function(e){Jr.webkitRequestAnimationFrame(e)};if(Jr.msRequestAnimationFrame)return function(e){Jr.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(eI())},1e3/60)}})(),dg=function(t){return iQ(t)},ao=eI,Ys=9261,tI=65599,cu=5381,rI=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ys,n=r,a;a=t.next(),!a.done;)n=n*tI+a.value|0;return n},Of=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ys;return r*tI+t|0},_f=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cu;return(r<<5)+r+t|0},oQ=function(t,r){return t*2097152+r},Uo=function(t){return t[0]*2097152+t[1]},Yd=function(t,r){return[Of(t[0],r[0]),_f(t[1],r[1])]},oD=function(t,r){var n={value:0,done:!1},a=0,i=t.length,o={next:function(){return a<i?n.value=t[a++]:n.done=!0,n}};return rI(o,r)},cl=function(t,r){var n={value:0,done:!1},a=0,i=t.length,o={next:function(){return a<i?n.value=t.charCodeAt(a++):n.done=!0,n}};return rI(o,r)},nI=function(){return sQ(arguments)},sQ=function(t){for(var r,n=0;n<t.length;n++){var a=t[n];n===0?r=cl(a):r=cl(a,r)}return r};function lQ(e,t,r,n,a){var i=a*Math.PI/180,o=Math.cos(i)*(e-r)-Math.sin(i)*(t-n)+r,l=Math.sin(i)*(e-r)+Math.cos(i)*(t-n)+n;return{x:o,y:l}}var uQ=function(t,r,n,a,i,o){return{x:(t-n)*i+n,y:(r-a)*o+a}};function cQ(e,t,r){if(r===0)return e;var n=(t.x1+t.x2)/2,a=(t.y1+t.y2)/2,i=t.w/t.h,o=1/i,l=lQ(e.x,e.y,n,a,r),u=uQ(l.x,l.y,n,a,i,o);return{x:u.x,y:u.y}}var sD=!0,fQ=console.warn!=null,hQ=console.trace!=null,YE=Number.MAX_SAFE_INTEGER||9007199254740991,aI=function(){return!0},vg=function(){return!1},lD=function(){return 0},HE=function(){},Rr=function(t){throw new Error(t)},iI=function(t){if(t!==void 0)sD=!!t;else return sD},sr=function(t){iI()&&(fQ?console.warn(t):(console.log(t),hQ&&console.trace()))},dQ=function(t){return Nt({},t)},yi=function(t){return t==null?t:xr(t)?t.slice():Zt(t)?dQ(t):t},vQ=function(t){return t.slice()},oI=function(t,r){for(r=t="";t++<36;r+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-");return r},gQ={},sI=function(){return gQ},Dn=function(t){var r=Object.keys(t);return function(n){for(var a={},i=0;i<r.length;i++){var o=r[i],l=n==null?void 0:n[o];a[o]=l===void 0?t[o]:l}return a}},ns=function(t,r,n){for(var a=t.length-1;a>=0;a--)t[a]===r&&t.splice(a,1)},XE=function(t){t.splice(0,t.length)},pQ=function(t,r){for(var n=0;n<r.length;n++){var a=r[n];t.push(a)}},ra=function(t,r,n){return n&&(r=XB(n,r)),t[r]},Vi=function(t,r,n,a){n&&(r=XB(n,r)),t[r]=a},mQ=(function(){function e(){hs(this,e),this._obj={}}return ds(e,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}])})(),Wi=typeof Map<"u"?Map:mQ,yQ="undefined",bQ=(function(){function e(t){if(hs(this,e),this._obj=Object.create(null),this.size=0,t!=null){var r;t.instanceString!=null&&t.instanceString()===this.instanceString()?r=t.toArray():r=t;for(var n=0;n<r.length;n++)this.add(r[n])}}return ds(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}])})(),qu=(typeof Set>"u"?"undefined":rn(Set))!==yQ?Set:bQ,up=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t===void 0||r===void 0||!qE(t)){Rr("An element must have a core reference and parameters set");return}var a=r.group;if(a==null&&(r.data&&r.data.source!=null&&r.data.target!=null?a="edges":a="nodes"),a!=="nodes"&&a!=="edges"){Rr("An element must be of type `nodes` or `edges`; you specified `"+a+"`");return}this.length=1,this[0]=this;var i=this._private={cy:t,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?a==="edges":!!r.pannable,active:!1,classes:new qu,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),r.renderedPosition){var o=r.renderedPosition,l=t.pan(),u=t.zoom();i.position={x:(o.x-l.x)/u,y:(o.y-l.y)/u}}var c=[];xr(r.classes)?c=r.classes:Mt(r.classes)&&(c=r.classes.split(/\s+/));for(var h=0,d=c.length;h<d;h++){var v=c[h];!v||v===""||i.classes.add(v)}this.createEmitter(),(n===void 0||n)&&this.restore();var p=r.style||r.css;p&&(sr("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(p))},uD=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(n,a,i){var o;Zt(n)&&!Ta(n)&&(o=n,n=o.roots||o.root,a=o.visit,i=o.directed),i=arguments.length===2&&!Lr(a)?a:i,a=Lr(a)?a:function(){};for(var l=this._private.cy,u=n=Mt(n)?this.filter(n):n,c=[],h=[],d={},v={},p={},m=0,b,x=this.byGroup(),w=x.nodes,T=x.edges,S=0;S<u.length;S++){var D=u[S],R=D.id();D.isNode()&&(c.unshift(D),t.bfs&&(p[R]=!0,h.push(D)),v[R]=0)}for(var L=function(){var I=t.bfs?c.shift():c.pop(),G=I.id();if(t.dfs){if(p[G])return 0;p[G]=!0,h.push(I)}var Y=v[G],q=d[G],V=q!=null?q.source():null,W=q!=null?q.target():null,J=q==null?void 0:I.same(V)?W[0]:V[0],ie;if(ie=a(I,q,J,m++,Y),ie===!0)return b=I,1;if(ie===!1)return 1;for(var K=I.connectedEdges().filter(function(be){return(!i||be.source().same(I))&&T.has(be)}),Z=0;Z<K.length;Z++){var fe=K[Z],he=fe.connectedNodes().filter(function(be){return!be.same(I)&&w.has(be)}),oe=he.id();he.length!==0&&!p[oe]&&(he=he[0],c.push(he),t.bfs&&(p[oe]=!0,h.push(he)),d[oe]=fe,v[oe]=v[G]+1)}},_;c.length!==0&&(_=L(),!(_!==0&&_===1)););for(var N=l.collection(),P=0;P<h.length;P++){var U=h[P],j=d[U.id()];j!=null&&N.push(j),N.push(U)}return{path:l.collection(N),found:l.collection(b)}}},Df={breadthFirstSearch:uD({bfs:!0}),depthFirstSearch:uD({dfs:!0})};Df.bfs=Df.breadthFirstSearch;Df.dfs=Df.depthFirstSearch;var cv={exports:{}},xQ=cv.exports,cD;function wQ(){return cD||(cD=1,(function(e,t){(function(){var r,n,a,i,o,l,u,c,h,d,v,p,m,b,x;a=Math.floor,d=Math.min,n=function(w,T){return w<T?-1:w>T?1:0},h=function(w,T,S,D,R){var L;if(S==null&&(S=0),R==null&&(R=n),S<0)throw new Error("lo must be non-negative");for(D==null&&(D=w.length);S<D;)L=a((S+D)/2),R(T,w[L])<0?D=L:S=L+1;return[].splice.apply(w,[S,S-S].concat(T)),T},l=function(w,T,S){return S==null&&(S=n),w.push(T),b(w,0,w.length-1,S)},o=function(w,T){var S,D;return T==null&&(T=n),S=w.pop(),w.length?(D=w[0],w[0]=S,x(w,0,T)):D=S,D},c=function(w,T,S){var D;return S==null&&(S=n),D=w[0],w[0]=T,x(w,0,S),D},u=function(w,T,S){var D;return S==null&&(S=n),w.length&&S(w[0],T)<0&&(D=[w[0],T],T=D[0],w[0]=D[1],x(w,0,S)),T},i=function(w,T){var S,D,R,L,_,N;for(T==null&&(T=n),L=(function(){N=[];for(var P=0,U=a(w.length/2);0<=U?P<U:P>U;0<=U?P++:P--)N.push(P);return N}).apply(this).reverse(),_=[],D=0,R=L.length;D<R;D++)S=L[D],_.push(x(w,S,T));return _},m=function(w,T,S){var D;if(S==null&&(S=n),D=w.indexOf(T),D!==-1)return b(w,0,D,S),x(w,D,S)},v=function(w,T,S){var D,R,L,_,N;if(S==null&&(S=n),R=w.slice(0,T),!R.length)return R;for(i(R,S),N=w.slice(T),L=0,_=N.length;L<_;L++)D=N[L],u(R,D,S);return R.sort(S).reverse()},p=function(w,T,S){var D,R,L,_,N,P,U,j,F;if(S==null&&(S=n),T*10<=w.length){if(L=w.slice(0,T).sort(S),!L.length)return L;for(R=L[L.length-1],U=w.slice(T),_=0,P=U.length;_<P;_++)D=U[_],S(D,R)<0&&(h(L,D,0,null,S),L.pop(),R=L[L.length-1]);return L}for(i(w,S),F=[],N=0,j=d(T,w.length);0<=j?N<j:N>j;0<=j?++N:--N)F.push(o(w,S));return F},b=function(w,T,S,D){var R,L,_;for(D==null&&(D=n),R=w[S];S>T;){if(_=S-1>>1,L=w[_],D(R,L)<0){w[S]=L,S=_;continue}break}return w[S]=R},x=function(w,T,S){var D,R,L,_,N;for(S==null&&(S=n),R=w.length,N=T,L=w[T],D=2*T+1;D<R;)_=D+1,_<R&&!(S(w[D],w[_])<0)&&(D=_),w[T]=w[D],T=D,D=2*T+1;return w[T]=L,b(w,N,T,S)},r=(function(){w.push=l,w.pop=o,w.replace=c,w.pushpop=u,w.heapify=i,w.updateItem=m,w.nlargest=v,w.nsmallest=p;function w(T){this.cmp=T??n,this.nodes=[]}return w.prototype.push=function(T){return l(this.nodes,T,this.cmp)},w.prototype.pop=function(){return o(this.nodes,this.cmp)},w.prototype.peek=function(){return this.nodes[0]},w.prototype.contains=function(T){return this.nodes.indexOf(T)!==-1},w.prototype.replace=function(T){return c(this.nodes,T,this.cmp)},w.prototype.pushpop=function(T){return u(this.nodes,T,this.cmp)},w.prototype.heapify=function(){return i(this.nodes,this.cmp)},w.prototype.updateItem=function(T){return m(this.nodes,T,this.cmp)},w.prototype.clear=function(){return this.nodes=[]},w.prototype.empty=function(){return this.nodes.length===0},w.prototype.size=function(){return this.nodes.length},w.prototype.clone=function(){var T;return T=new w,T.nodes=this.nodes.slice(0),T},w.prototype.toArray=function(){return this.nodes.slice(0)},w.prototype.insert=w.prototype.push,w.prototype.top=w.prototype.peek,w.prototype.front=w.prototype.peek,w.prototype.has=w.prototype.contains,w.prototype.copy=w.prototype.clone,w})(),(function(w,T){return e.exports=T()})(this,function(){return r})}).call(xQ)})(cv)),cv.exports}var _b,fD;function EQ(){return fD||(fD=1,_b=wQ()),_b}var SQ=EQ(),oh=rh(SQ),TQ=Dn({root:null,weight:function(t){return 1},directed:!1}),AQ={dijkstra:function(t){if(!Zt(t)){var r=arguments;t={root:r[0],weight:r[1],directed:r[2]}}var n=TQ(t),a=n.root,i=n.weight,o=n.directed,l=this,u=i,c=Mt(a)?this.filter(a)[0]:a[0],h={},d={},v={},p=this.byGroup(),m=p.nodes,b=p.edges;b.unmergeBy(function(Y){return Y.isLoop()});for(var x=function(q){return h[q.id()]},w=function(q,V){h[q.id()]=V,T.updateItem(q)},T=new oh(function(Y,q){return x(Y)-x(q)}),S=0;S<m.length;S++){var D=m[S];h[D.id()]=D.same(c)?0:1/0,T.push(D)}for(var R=function(q,V){for(var W=(o?q.edgesTo(V):q.edgesWith(V)).intersect(b),J=1/0,ie,K=0;K<W.length;K++){var Z=W[K],fe=u(Z);(fe<J||!ie)&&(J=fe,ie=Z)}return{edge:ie,dist:J}};T.size()>0;){var L=T.pop(),_=x(L),N=L.id();if(v[N]=_,_!==1/0)for(var P=L.neighborhood().intersect(m),U=0;U<P.length;U++){var j=P[U],F=j.id(),I=R(L,j),G=_+I.dist;G<x(j)&&(w(j,G),d[F]={node:L,edge:I.edge})}}return{distanceTo:function(q){var V=Mt(q)?m.filter(q)[0]:q[0];return v[V.id()]},pathTo:function(q){var V=Mt(q)?m.filter(q)[0]:q[0],W=[],J=V,ie=J.id();if(V.length>0)for(W.unshift(V);d[ie];){var K=d[ie];W.unshift(K.edge),W.unshift(K.node),J=K.node,ie=J.id()}return l.spawn(W)}}}},CQ={kruskal:function(t){t=t||function(S){return 1};for(var r=this.byGroup(),n=r.nodes,a=r.edges,i=n.length,o=new Array(i),l=n,u=function(D){for(var R=0;R<o.length;R++){var L=o[R];if(L.has(D))return R}},c=0;c<i;c++)o[c]=this.spawn(n[c]);for(var h=a.sort(function(S,D){return t(S)-t(D)}),d=0;d<h.length;d++){var v=h[d],p=v.source()[0],m=v.target()[0],b=u(p),x=u(m),w=o[b],T=o[x];b!==x&&(l.merge(v),w.merge(T),o.splice(x,1))}return l}},MQ=Dn({root:null,goal:null,weight:function(t){return 1},heuristic:function(t){return 0},directed:!1}),OQ={aStar:function(t){var r=this.cy(),n=MQ(t),a=n.root,i=n.goal,o=n.heuristic,l=n.directed,u=n.weight;a=r.collection(a)[0],i=r.collection(i)[0];var c=a.id(),h=i.id(),d={},v={},p={},m=new oh(function(ie,K){return v[ie.id()]-v[K.id()]}),b=new qu,x={},w={},T=function(K,Z){m.push(K),b.add(Z)},S,D,R=function(){S=m.pop(),D=S.id(),b.delete(D)},L=function(K){return b.has(K)};T(a,c),d[c]=0,v[c]=o(a);for(var _=0;m.size()>0;){if(R(),_++,D===h){for(var N=[],P=i,U=h,j=w[U];N.unshift(P),j!=null&&N.unshift(j),P=x[U],P!=null;)U=P.id(),j=w[U];return{found:!0,distance:d[D],path:this.spawn(N),steps:_}}p[D]=!0;for(var F=S._private.edges,I=0;I<F.length;I++){var G=F[I];if(this.hasElementWithId(G.id())&&!(l&&G.data("source")!==D)){var Y=G.source(),q=G.target(),V=Y.id()!==D?Y:q,W=V.id();if(this.hasElementWithId(W)&&!p[W]){var J=d[D]+u(G);if(!L(W)){d[W]=J,v[W]=J+o(V),T(V,W),x[W]=S,w[W]=G;continue}J<d[W]&&(d[W]=J,v[W]=J+o(V),x[W]=S,w[W]=G)}}}}return{found:!1,distance:void 0,path:void 0,steps:_}}},_Q=Dn({weight:function(t){return 1},directed:!1}),DQ={floydWarshall:function(t){for(var r=this.cy(),n=_Q(t),a=n.weight,i=n.directed,o=a,l=this.byGroup(),u=l.nodes,c=l.edges,h=u.length,d=h*h,v=function(fe){return u.indexOf(fe)},p=function(fe){return u[fe]},m=new Array(d),b=0;b<d;b++){var x=b%h,w=(b-x)/h;w===x?m[b]=0:m[b]=1/0}for(var T=new Array(d),S=new Array(d),D=0;D<c.length;D++){var R=c[D],L=R.source()[0],_=R.target()[0];if(L!==_){var N=v(L),P=v(_),U=N*h+P,j=o(R);if(m[U]>j&&(m[U]=j,T[U]=P,S[U]=R),!i){var F=P*h+N;!i&&m[F]>j&&(m[F]=j,T[F]=N,S[F]=R)}}}for(var I=0;I<h;I++)for(var G=0;G<h;G++)for(var Y=G*h+I,q=0;q<h;q++){var V=G*h+q,W=I*h+q;m[Y]+m[W]<m[V]&&(m[V]=m[Y]+m[W],T[V]=T[Y])}var J=function(fe){return(Mt(fe)?r.filter(fe):fe)[0]},ie=function(fe){return v(J(fe))},K={distance:function(fe,he){var oe=ie(fe),be=ie(he);return m[oe*h+be]},path:function(fe,he){var oe=ie(fe),be=ie(he),Ae=p(oe);if(oe===be)return Ae.collection();if(T[oe*h+be]==null)return r.collection();var Le=r.collection(),ce=oe,ae;for(Le.merge(Ae);oe!==be;)ce=oe,oe=T[oe*h+be],ae=S[ce*h+oe],Le.merge(ae),Le.merge(p(oe));return Le}};return K}},kQ=Dn({weight:function(t){return 1},directed:!1,root:null}),NQ={bellmanFord:function(t){var r=this,n=kQ(t),a=n.weight,i=n.directed,o=n.root,l=a,u=this,c=this.cy(),h=this.byGroup(),d=h.edges,v=h.nodes,p=v.length,m=new Wi,b=!1,x=[];o=c.collection(o)[0],d.unmergeBy(function(Oe){return Oe.isLoop()});for(var w=d.length,T=function(je){var Ue=m.get(je.id());return Ue||(Ue={},m.set(je.id(),Ue)),Ue},S=function(je){return(Mt(je)?c.$(je):je)[0]},D=function(je){return T(S(je)).dist},R=function(je){for(var Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,qe=S(je),Ke=[],Xe=qe;;){if(Xe==null)return r.spawn();var ot=T(Xe),Ye=ot.edge,ct=ot.pred;if(Ke.unshift(Xe[0]),Xe.same(Ue)&&Ke.length>0)break;Ye!=null&&Ke.unshift(Ye),Xe=ct}return u.spawn(Ke)},L=0;L<p;L++){var _=v[L],N=T(_);_.same(o)?N.dist=0:N.dist=1/0,N.pred=null,N.edge=null}for(var P=!1,U=function(je,Ue,qe,Ke,Xe,ot){var Ye=Ke.dist+ot;Ye<Xe.dist&&!qe.same(Ke.edge)&&(Xe.dist=Ye,Xe.pred=je,Xe.edge=qe,P=!0)},j=1;j<p;j++){P=!1;for(var F=0;F<w;F++){var I=d[F],G=I.source(),Y=I.target(),q=l(I),V=T(G),W=T(Y);U(G,Y,I,V,W,q),i||U(Y,G,I,W,V,q)}if(!P)break}if(P)for(var J=[],ie=0;ie<w;ie++){var K=d[ie],Z=K.source(),fe=K.target(),he=l(K),oe=T(Z).dist,be=T(fe).dist;if(oe+he<be||!i&&be+he<oe)if(b||(sr("Graph contains a negative weight cycle for Bellman-Ford"),b=!0),t.findNegativeWeightCycles!==!1){var Ae=[];oe+he<be&&Ae.push(Z),!i&&be+he<oe&&Ae.push(fe);for(var Le=Ae.length,ce=0;ce<Le;ce++){var ae=Ae[ce],le=[ae];le.push(T(ae).edge);for(var re=T(ae).pred;le.indexOf(re)===-1;)le.push(re),le.push(T(re).edge),re=T(re).pred;le=le.slice(le.indexOf(re));for(var ge=le[0].id(),Se=0,ze=2;ze<le.length;ze+=2)le[ze].id()<ge&&(ge=le[ze].id(),Se=ze);le=le.slice(Se).concat(le.slice(0,Se)),le.push(le[0]);var Qe=le.map(function(Oe){return Oe.id()}).join(",");J.indexOf(Qe)===-1&&(x.push(u.spawn(le)),J.push(Qe))}}else break}return{distanceTo:D,pathTo:R,hasNegativeWeightCycle:b,negativeWeightCycles:x}}},PQ=Math.sqrt(2),RQ=function(t,r,n){n.length===0&&Rr("Karger-Stein must be run on a connected (sub)graph");for(var a=n[t],i=a[1],o=a[2],l=r[i],u=r[o],c=n,h=c.length-1;h>=0;h--){var d=c[h],v=d[1],p=d[2];(r[v]===l&&r[p]===u||r[v]===u&&r[p]===l)&&c.splice(h,1)}for(var m=0;m<c.length;m++){var b=c[m];b[1]===u?(c[m]=b.slice(),c[m][1]=l):b[2]===u&&(c[m]=b.slice(),c[m][2]=l)}for(var x=0;x<r.length;x++)r[x]===u&&(r[x]=l);return c},Db=function(t,r,n,a){for(;n>a;){var i=Math.floor(Math.random()*r.length);r=RQ(i,t,r),n--}return r},LQ={kargerStein:function(){var t=this,r=this.byGroup(),n=r.nodes,a=r.edges;a.unmergeBy(function(W){return W.isLoop()});var i=n.length,o=a.length,l=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),u=Math.floor(i/PQ);if(i<2){Rr("At least 2 nodes are required for Karger-Stein algorithm");return}for(var c=[],h=0;h<o;h++){var d=a[h];c.push([h,n.indexOf(d.source()),n.indexOf(d.target())])}for(var v=1/0,p=[],m=new Array(i),b=new Array(i),x=new Array(i),w=function(J,ie){for(var K=0;K<i;K++)ie[K]=J[K]},T=0;T<=l;T++){for(var S=0;S<i;S++)b[S]=S;var D=Db(b,c.slice(),i,u),R=D.slice();w(b,x);var L=Db(b,D,u,2),_=Db(x,R,u,2);L.length<=_.length&&L.length<v?(v=L.length,p=L,w(b,m)):_.length<=L.length&&_.length<v&&(v=_.length,p=_,w(x,m))}for(var N=this.spawn(p.map(function(W){return a[W[0]]})),P=this.spawn(),U=this.spawn(),j=m[0],F=0;F<m.length;F++){var I=m[F],G=n[F];I===j?P.merge(G):U.merge(G)}var Y=function(J){var ie=t.spawn();return J.forEach(function(K){ie.merge(K),K.connectedEdges().forEach(function(Z){t.contains(Z)&&!N.contains(Z)&&ie.merge(Z)})}),ie},q=[Y(P),Y(U)],V={cut:N,components:q,partition1:P,partition2:U};return V}},kb,jQ=function(t){return{x:t.x,y:t.y}},cp=function(t,r,n){return{x:t.x*r+n.x,y:t.y*r+n.y}},lI=function(t,r,n){return{x:(t.x-n.x)/r,y:(t.y-n.y)/r}},hu=function(t){return{x:t[0],y:t[1]}},BQ=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=1/0,i=r;i<n;i++){var o=t[i];isFinite(o)&&(a=Math.min(o,a))}return a},IQ=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=-1/0,i=r;i<n;i++){var o=t[i];isFinite(o)&&(a=Math.max(o,a))}return a},zQ=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=0,i=0,o=r;o<n;o++){var l=t[o];isFinite(l)&&(a+=l,i++)}return a/i},FQ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;a?t=t.slice(r,n):(n<t.length&&t.splice(n,t.length-n),r>0&&t.splice(0,r));for(var l=0,u=t.length-1;u>=0;u--){var c=t[u];o?isFinite(c)||(t[u]=-1/0,l++):t.splice(u,1)}i&&t.sort(function(v,p){return v-p});var h=t.length,d=Math.floor(h/2);return h%2!==0?t[d+1+l]:(t[d-1+l]+t[d+l])/2},UQ=function(t){return Math.PI*t/180},Hd=function(t,r){return Math.atan2(r,t)-Math.PI/2},KE=Math.log2||function(e){return Math.log(e)/Math.log(2)},WE=function(t){return t>0?1:t<0?-1:0},fl=function(t,r){return Math.sqrt(Vs(t,r))},Vs=function(t,r){var n=r.x-t.x,a=r.y-t.y;return n*n+a*a},GQ=function(t){for(var r=t.length,n=0,a=0;a<r;a++)n+=t[a];for(var i=0;i<r;i++)t[i]=t[i]/n;return t},dn=function(t,r,n,a){return(1-a)*(1-a)*t+2*(1-a)*a*r+a*a*n},yu=function(t,r,n,a){return{x:dn(t.x,r.x,n.x,a),y:dn(t.y,r.y,n.y,a)}},qQ=function(t,r,n,a){var i={x:r.x-t.x,y:r.y-t.y},o=fl(t,r),l={x:i.x/o,y:i.y/o};return n=n??0,a=a??n*o,{x:t.x+l.x*a,y:t.y+l.y*a}},kf=function(t,r,n){return Math.max(t,Math.min(n,r))},$n=function(t){if(t==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(t.x1!=null&&t.y1!=null){if(t.x2!=null&&t.y2!=null&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(t.w!=null&&t.h!=null&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},VQ=function(t){return{x1:t.x1,x2:t.x2,w:t.w,y1:t.y1,y2:t.y2,h:t.h}},$Q=function(t){t.x1=1/0,t.y1=1/0,t.x2=-1/0,t.y2=-1/0,t.w=0,t.h=0},YQ=function(t,r){t.x1=Math.min(t.x1,r.x1),t.x2=Math.max(t.x2,r.x2),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,r.y1),t.y2=Math.max(t.y2,r.y2),t.h=t.y2-t.y1},uI=function(t,r,n){t.x1=Math.min(t.x1,r),t.x2=Math.max(t.x2,r),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,n),t.y2=Math.max(t.y2,n),t.h=t.y2-t.y1},fv=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.x1-=r,t.x2+=r,t.y1-=r,t.y2+=r,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},hv=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,a,i,o;if(r.length===1)n=a=i=o=r[0];else if(r.length===2)n=i=r[0],o=a=r[1];else if(r.length===4){var l=Wr(r,4);n=l[0],a=l[1],i=l[2],o=l[3]}return t.x1-=o,t.x2+=a,t.y1-=n,t.y2+=i,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},hD=function(t,r){t.x1=r.x1,t.y1=r.y1,t.x2=r.x2,t.y2=r.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},ZE=function(t,r){return!(t.x1>r.x2||r.x1>t.x2||t.x2<r.x1||r.x2<t.x1||t.y2<r.y1||r.y2<t.y1||t.y1>r.y2||r.y1>t.y2)},Ko=function(t,r,n){return t.x1<=r&&r<=t.x2&&t.y1<=n&&n<=t.y2},dD=function(t,r){return Ko(t,r.x,r.y)},cI=function(t,r){return Ko(t,r.x1,r.y1)&&Ko(t,r.x2,r.y2)},HQ=(kb=Math.hypot)!==null&&kb!==void 0?kb:function(e,t){return Math.sqrt(e*e+t*t)};function XQ(e,t){if(e.length<3)throw new Error("Need at least 3 vertices");var r=function(N,P){return{x:N.x+P.x,y:N.y+P.y}},n=function(N,P){return{x:N.x-P.x,y:N.y-P.y}},a=function(N,P){return{x:N.x*P,y:N.y*P}},i=function(N,P){return N.x*P.y-N.y*P.x},o=function(N){var P=HQ(N.x,N.y);return P===0?{x:0,y:0}:{x:N.x/P,y:N.y/P}},l=function(N){for(var P=0,U=0;U<N.length;U++){var j=N[U],F=N[(U+1)%N.length];P+=j.x*F.y-F.x*j.y}return P/2},u=function(N,P,U,j){var F=n(P,N),I=n(j,U),G=i(F,I);if(Math.abs(G)<1e-9)return r(N,a(F,.5));var Y=i(n(U,N),I)/G;return r(N,a(F,Y))},c=e.map(function(_){return{x:_.x,y:_.y}});l(c)<0&&c.reverse();for(var h=c.length,d=[],v=0;v<h;v++){var p=c[v],m=c[(v+1)%h],b=n(m,p),x=o({x:b.y,y:-b.x});d.push(x)}for(var w=d.map(function(_,N){var P=r(c[N],a(_,t)),U=r(c[(N+1)%h],a(_,t));return{p1:P,p2:U}}),T=[],S=0;S<h;S++){var D=w[(S-1+h)%h],R=w[S],L=u(D.p1,D.p2,R.p1,R.p2);T.push(L)}return T}function KQ(e,t,r,n,a,i){var o=aJ(e,t,r,n,a),l=XQ(o,i),u=$n();return l.forEach(function(c){return uI(u,c.x,c.y)}),u}var fI=function(t,r,n,a,i,o,l){var u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",c=u==="auto"?as(i,o):u,h=i/2,d=o/2;c=Math.min(c,h,d);var v=c!==h,p=c!==d,m;if(v){var b=n-h+c-l,x=a-d-l,w=n+h-c+l,T=x;if(m=Wo(t,r,n,a,b,x,w,T,!1),m.length>0)return m}if(p){var S=n+h+l,D=a-d+c-l,R=S,L=a+d-c+l;if(m=Wo(t,r,n,a,S,D,R,L,!1),m.length>0)return m}if(v){var _=n-h+c-l,N=a+d+l,P=n+h-c+l,U=N;if(m=Wo(t,r,n,a,_,N,P,U,!1),m.length>0)return m}if(p){var j=n-h-l,F=a-d+c-l,I=j,G=a+d-c+l;if(m=Wo(t,r,n,a,j,F,I,G,!1),m.length>0)return m}var Y;{var q=n-h+c,V=a-d+c;if(Y=of(t,r,n,a,q,V,c+l),Y.length>0&&Y[0]<=q&&Y[1]<=V)return[Y[0],Y[1]]}{var W=n+h-c,J=a-d+c;if(Y=of(t,r,n,a,W,J,c+l),Y.length>0&&Y[0]>=W&&Y[1]<=J)return[Y[0],Y[1]]}{var ie=n+h-c,K=a+d-c;if(Y=of(t,r,n,a,ie,K,c+l),Y.length>0&&Y[0]>=ie&&Y[1]>=K)return[Y[0],Y[1]]}{var Z=n-h+c,fe=a+d-c;if(Y=of(t,r,n,a,Z,fe,c+l),Y.length>0&&Y[0]<=Z&&Y[1]>=fe)return[Y[0],Y[1]]}return[]},WQ=function(t,r,n,a,i,o,l){var u=l,c=Math.min(n,i),h=Math.max(n,i),d=Math.min(a,o),v=Math.max(a,o);return c-u<=t&&t<=h+u&&d-u<=r&&r<=v+u},ZQ=function(t,r,n,a,i,o,l,u,c){var h={x1:Math.min(n,l,i)-c,x2:Math.max(n,l,i)+c,y1:Math.min(a,u,o)-c,y2:Math.max(a,u,o)+c};return!(t<h.x1||t>h.x2||r<h.y1||r>h.y2)},QQ=function(t,r,n,a){n-=a;var i=r*r-4*t*n;if(i<0)return[];var o=Math.sqrt(i),l=2*t,u=(-r+o)/l,c=(-r-o)/l;return[u,c]},JQ=function(t,r,n,a,i){var o=1e-5;t===0&&(t=o),r/=t,n/=t,a/=t;var l,u,c,h,d,v,p,m;if(u=(3*n-r*r)/9,c=-(27*a)+r*(9*n-2*(r*r)),c/=54,l=u*u*u+c*c,i[1]=0,p=r/3,l>0){d=c+Math.sqrt(l),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),v=c-Math.sqrt(l),v=v<0?-Math.pow(-v,1/3):Math.pow(v,1/3),i[0]=-p+d+v,p+=(d+v)/2,i[4]=i[2]=-p,p=Math.sqrt(3)*(-v+d)/2,i[3]=p,i[5]=-p;return}if(i[5]=i[3]=0,l===0){m=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3),i[0]=-p+2*m,i[4]=i[2]=-(m+p);return}u=-u,h=u*u*u,h=Math.acos(c/Math.sqrt(h)),m=2*Math.sqrt(u),i[0]=-p+m*Math.cos(h/3),i[2]=-p+m*Math.cos((h+2*Math.PI)/3),i[4]=-p+m*Math.cos((h+4*Math.PI)/3)},eJ=function(t,r,n,a,i,o,l,u){var c=1*n*n-4*n*i+2*n*l+4*i*i-4*i*l+l*l+a*a-4*a*o+2*a*u+4*o*o-4*o*u+u*u,h=9*n*i-3*n*n-3*n*l-6*i*i+3*i*l+9*a*o-3*a*a-3*a*u-6*o*o+3*o*u,d=3*n*n-6*n*i+n*l-n*t+2*i*i+2*i*t-l*t+3*a*a-6*a*o+a*u-a*r+2*o*o+2*o*r-u*r,v=1*n*i-n*n+n*t-i*t+a*o-a*a+a*r-o*r,p=[];JQ(c,h,d,v,p);for(var m=1e-7,b=[],x=0;x<6;x+=2)Math.abs(p[x+1])<m&&p[x]>=0&&p[x]<=1&&b.push(p[x]);b.push(1),b.push(0);for(var w=-1,T,S,D,R=0;R<b.length;R++)T=Math.pow(1-b[R],2)*n+2*(1-b[R])*b[R]*i+b[R]*b[R]*l,S=Math.pow(1-b[R],2)*a+2*(1-b[R])*b[R]*o+b[R]*b[R]*u,D=Math.pow(T-t,2)+Math.pow(S-r,2),w>=0?D<w&&(w=D):w=D;return w},tJ=function(t,r,n,a,i,o){var l=[t-n,r-a],u=[i-n,o-a],c=u[0]*u[0]+u[1]*u[1],h=l[0]*l[0]+l[1]*l[1],d=l[0]*u[0]+l[1]*u[1],v=d*d/c;return d<0?h:v>c?(t-i)*(t-i)+(r-o)*(r-o):h-v},na=function(t,r,n){for(var a,i,o,l,u,c=0,h=0;h<n.length/2;h++)if(a=n[h*2],i=n[h*2+1],h+1<n.length/2?(o=n[(h+1)*2],l=n[(h+1)*2+1]):(o=n[(h+1-n.length/2)*2],l=n[(h+1-n.length/2)*2+1]),!(a==t&&o==t))if(a>=t&&t>=o||a<=t&&t<=o)u=(t-a)/(o-a)*(l-i)+i,u>r&&c++;else continue;return c%2!==0},io=function(t,r,n,a,i,o,l,u,c){var h=new Array(n.length),d;u[0]!=null?(d=Math.atan(u[1]/u[0]),u[0]<0?d=d+Math.PI/2:d=-d-Math.PI/2):d=u;for(var v=Math.cos(-d),p=Math.sin(-d),m=0;m<h.length/2;m++)h[m*2]=o/2*(n[m*2]*v-n[m*2+1]*p),h[m*2+1]=l/2*(n[m*2+1]*v+n[m*2]*p),h[m*2]+=a,h[m*2+1]+=i;var b;if(c>0){var x=pg(h,-c);b=gg(x)}else b=h;return na(t,r,b)},rJ=function(t,r,n,a,i,o,l,u){for(var c=new Array(n.length*2),h=0;h<u.length;h++){var d=u[h];c[h*4+0]=d.startX,c[h*4+1]=d.startY,c[h*4+2]=d.stopX,c[h*4+3]=d.stopY;var v=Math.pow(d.cx-t,2)+Math.pow(d.cy-r,2);if(v<=Math.pow(d.radius,2))return!0}return na(t,r,c)},gg=function(t){for(var r=new Array(t.length/2),n,a,i,o,l,u,c,h,d=0;d<t.length/4;d++){n=t[d*4],a=t[d*4+1],i=t[d*4+2],o=t[d*4+3],d<t.length/4-1?(l=t[(d+1)*4],u=t[(d+1)*4+1],c=t[(d+1)*4+2],h=t[(d+1)*4+3]):(l=t[0],u=t[1],c=t[2],h=t[3]);var v=Wo(n,a,i,o,l,u,c,h,!0);r[d*2]=v[0],r[d*2+1]=v[1]}return r},pg=function(t,r){for(var n=new Array(t.length*2),a,i,o,l,u=0;u<t.length/2;u++){a=t[u*2],i=t[u*2+1],u<t.length/2-1?(o=t[(u+1)*2],l=t[(u+1)*2+1]):(o=t[0],l=t[1]);var c=l-i,h=-(o-a),d=Math.sqrt(c*c+h*h),v=c/d,p=h/d;n[u*4]=a+v*r,n[u*4+1]=i+p*r,n[u*4+2]=o+v*r,n[u*4+3]=l+p*r}return n},nJ=function(t,r,n,a,i,o){var l=n-t,u=a-r;l/=i,u/=o;var c=Math.sqrt(l*l+u*u),h=c-1;if(h<0)return[];var d=h/c;return[(n-t)*d+t,(a-r)*d+r]},Qs=function(t,r,n,a,i,o,l){return t-=i,r-=o,t/=n/2+l,r/=a/2+l,t*t+r*r<=1},of=function(t,r,n,a,i,o,l){var u=[n-t,a-r],c=[t-i,r-o],h=u[0]*u[0]+u[1]*u[1],d=2*(c[0]*u[0]+c[1]*u[1]),v=c[0]*c[0]+c[1]*c[1]-l*l,p=d*d-4*h*v;if(p<0)return[];var m=(-d+Math.sqrt(p))/(2*h),b=(-d-Math.sqrt(p))/(2*h),x=Math.min(m,b),w=Math.max(m,b),T=[];if(x>=0&&x<=1&&T.push(x),w>=0&&w<=1&&T.push(w),T.length===0)return[];var S=T[0]*u[0]+t,D=T[0]*u[1]+r;if(T.length>1){if(T[0]==T[1])return[S,D];var R=T[1]*u[0]+t,L=T[1]*u[1]+r;return[S,D,R,L]}else return[S,D]},Nb=function(t,r,n){return r<=t&&t<=n||n<=t&&t<=r?t:t<=r&&r<=n||n<=r&&r<=t?r:n},Wo=function(t,r,n,a,i,o,l,u,c){var h=t-i,d=n-t,v=l-i,p=r-o,m=a-r,b=u-o,x=v*p-b*h,w=d*p-m*h,T=b*d-v*m;if(T!==0){var S=x/T,D=w/T,R=.001,L=0-R,_=1+R;return L<=S&&S<=_&&L<=D&&D<=_?[t+S*d,r+S*m]:c?[t+S*d,r+S*m]:[]}else return x===0||w===0?Nb(t,n,l)===l?[l,u]:Nb(t,n,i)===i?[i,o]:Nb(i,l,n)===n?[n,a]:[]:[]},aJ=function(t,r,n,a,i){var o=[],l=a/2,u=i/2,c=r,h=n;o.push({x:c+l*t[0],y:h+u*t[1]});for(var d=1;d<t.length/2;d++)o.push({x:c+l*t[d*2],y:h+u*t[d*2+1]});return o},Nf=function(t,r,n,a,i,o,l,u){var c=[],h,d=new Array(n.length),v=!0;o==null&&(v=!1);var p;if(v){for(var m=0;m<d.length/2;m++)d[m*2]=n[m*2]*o+a,d[m*2+1]=n[m*2+1]*l+i;if(u>0){var b=pg(d,-u);p=gg(b)}else p=d}else p=n;for(var x,w,T,S,D=0;D<p.length/2;D++)x=p[D*2],w=p[D*2+1],D<p.length/2-1?(T=p[(D+1)*2],S=p[(D+1)*2+1]):(T=p[0],S=p[1]),h=Wo(t,r,a,i,x,w,T,S),h.length!==0&&c.push(h[0],h[1]);return c},iJ=function(t,r,n,a,i,o,l,u,c){var h=[],d,v=new Array(n.length*2);c.forEach(function(T,S){S===0?(v[v.length-2]=T.startX,v[v.length-1]=T.startY):(v[S*4-2]=T.startX,v[S*4-1]=T.startY),v[S*4]=T.stopX,v[S*4+1]=T.stopY,d=of(t,r,a,i,T.cx,T.cy,T.radius),d.length!==0&&h.push(d[0],d[1])});for(var p=0;p<v.length/4;p++)d=Wo(t,r,a,i,v[p*4],v[p*4+1],v[p*4+2],v[p*4+3],!1),d.length!==0&&h.push(d[0],d[1]);if(h.length>2){for(var m=[h[0],h[1]],b=Math.pow(m[0]-t,2)+Math.pow(m[1]-r,2),x=1;x<h.length/2;x++){var w=Math.pow(h[x*2]-t,2)+Math.pow(h[x*2+1]-r,2);w<=b&&(m[0]=h[x*2],m[1]=h[x*2+1],b=w)}return m}return h},Xd=function(t,r,n){var a=[t[0]-r[0],t[1]-r[1]],i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=(i-n)/i;return o<0&&(o=1e-5),[r[0]+o*a[0],r[1]+o*a[1]]},Fn=function(t,r){var n=Ux(t,r);return n=hI(n),n},hI=function(t){for(var r,n,a=t.length/2,i=1/0,o=1/0,l=-1/0,u=-1/0,c=0;c<a;c++)r=t[2*c],n=t[2*c+1],i=Math.min(i,r),l=Math.max(l,r),o=Math.min(o,n),u=Math.max(u,n);for(var h=2/(l-i),d=2/(u-o),v=0;v<a;v++)r=t[2*v]=t[2*v]*h,n=t[2*v+1]=t[2*v+1]*d,i=Math.min(i,r),l=Math.max(l,r),o=Math.min(o,n),u=Math.max(u,n);if(o<-1)for(var p=0;p<a;p++)n=t[2*p+1]=t[2*p+1]+(-1-o);return t},Ux=function(t,r){var n=1/t*2*Math.PI,a=t%2===0?Math.PI/2+n/2:Math.PI/2;a+=r;for(var i=new Array(t*2),o,l=0;l<t;l++)o=l*n+a,i[2*l]=Math.cos(o),i[2*l+1]=Math.sin(-o);return i},as=function(t,r){return Math.min(t/4,r/4,8)},dI=function(t,r){return Math.min(t/10,r/10,8)},QE=function(){return 8},oJ=function(t,r,n){return[t-2*r+n,2*(r-t),t]},Gx=function(t,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}};function Pb(e,t){function r(d){for(var v=[],p=0;p<d.length;p++){var m=d[p],b=d[(p+1)%d.length],x={x:b.x-m.x,y:b.y-m.y},w={x:-x.y,y:x.x},T=Math.sqrt(w.x*w.x+w.y*w.y);v.push({x:w.x/T,y:w.y/T})}return v}function n(d,v){var p=1/0,m=-1/0,b=sa(d),x;try{for(b.s();!(x=b.n()).done;){var w=x.value,T=w.x*v.x+w.y*v.y;p=Math.min(p,T),m=Math.max(m,T)}}catch(S){b.e(S)}finally{b.f()}return{min:p,max:m}}function a(d,v){return!(d.max<v.min||v.max<d.min)}var i=[].concat(fg(r(e)),fg(r(t))),o=sa(i),l;try{for(o.s();!(l=o.n()).done;){var u=l.value,c=n(e,u),h=n(t,u);if(!a(c,h))return!1}}catch(d){o.e(d)}finally{o.f()}return!0}var sJ=Dn({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(t){return 1}}),lJ={pageRank:function(t){for(var r=sJ(t),n=r.dampingFactor,a=r.precision,i=r.iterations,o=r.weight,l=this._private.cy,u=this.byGroup(),c=u.nodes,h=u.edges,d=c.length,v=d*d,p=h.length,m=new Array(v),b=new Array(d),x=(1-n)/d,w=0;w<d;w++){for(var T=0;T<d;T++){var S=w*d+T;m[S]=0}b[w]=0}for(var D=0;D<p;D++){var R=h[D],L=R.data("source"),_=R.data("target");if(L!==_){var N=c.indexOfId(L),P=c.indexOfId(_),U=o(R),j=P*d+N;m[j]+=U,b[N]+=U}}for(var F=1/d+x,I=0;I<d;I++)if(b[I]===0)for(var G=0;G<d;G++){var Y=G*d+I;m[Y]=F}else for(var q=0;q<d;q++){var V=q*d+I;m[V]=m[V]/b[I]+x}for(var W=new Array(d),J=new Array(d),ie,K=0;K<d;K++)W[K]=1;for(var Z=0;Z<i;Z++){for(var fe=0;fe<d;fe++)J[fe]=0;for(var he=0;he<d;he++)for(var oe=0;oe<d;oe++){var be=he*d+oe;J[he]+=m[be]*W[oe]}GQ(J),ie=W,W=J,J=ie;for(var Ae=0,Le=0;Le<d;Le++){var ce=ie[Le]-W[Le];Ae+=ce*ce}if(Ae<a)break}var ae={rank:function(re){return re=l.collection(re)[0],W[c.indexOf(re)]}};return ae}},vD=Dn({root:null,weight:function(t){return 1},directed:!1,alpha:0}),bu={degreeCentralityNormalized:function(t){t=vD(t);var r=this.cy(),n=this.nodes(),a=n.length;if(t.directed){for(var h={},d={},v=0,p=0,m=0;m<a;m++){var b=n[m],x=b.id();t.root=b;var w=this.degreeCentrality(t);v<w.indegree&&(v=w.indegree),p<w.outdegree&&(p=w.outdegree),h[x]=w.indegree,d[x]=w.outdegree}return{indegree:function(S){return v==0?0:(Mt(S)&&(S=r.filter(S)),h[S.id()]/v)},outdegree:function(S){return p===0?0:(Mt(S)&&(S=r.filter(S)),d[S.id()]/p)}}}else{for(var i={},o=0,l=0;l<a;l++){var u=n[l];t.root=u;var c=this.degreeCentrality(t);o<c.degree&&(o=c.degree),i[u.id()]=c.degree}return{degree:function(S){return o===0?0:(Mt(S)&&(S=r.filter(S)),i[S.id()]/o)}}}},degreeCentrality:function(t){t=vD(t);var r=this.cy(),n=this,a=t,i=a.root,o=a.weight,l=a.directed,u=a.alpha;if(i=r.collection(i)[0],l){for(var p=i.connectedEdges(),m=p.filter(function(L){return L.target().same(i)&&n.has(L)}),b=p.filter(function(L){return L.source().same(i)&&n.has(L)}),x=m.length,w=b.length,T=0,S=0,D=0;D<m.length;D++)T+=o(m[D]);for(var R=0;R<b.length;R++)S+=o(b[R]);return{indegree:Math.pow(x,1-u)*Math.pow(T,u),outdegree:Math.pow(w,1-u)*Math.pow(S,u)}}else{for(var c=i.connectedEdges().intersection(n),h=c.length,d=0,v=0;v<c.length;v++)d+=o(c[v]);return{degree:Math.pow(h,1-u)*Math.pow(d,u)}}}};bu.dc=bu.degreeCentrality;bu.dcn=bu.degreeCentralityNormalised=bu.degreeCentralityNormalized;var gD=Dn({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),xu={closenessCentralityNormalized:function(t){for(var r=gD(t),n=r.harmonic,a=r.weight,i=r.directed,o=this.cy(),l={},u=0,c=this.nodes(),h=this.floydWarshall({weight:a,directed:i}),d=0;d<c.length;d++){for(var v=0,p=c[d],m=0;m<c.length;m++)if(d!==m){var b=h.distance(p,c[m]);n?v+=1/b:v+=b}n||(v=1/v),u<v&&(u=v),l[p.id()]=v}return{closeness:function(w){return u==0?0:(Mt(w)?w=o.filter(w)[0].id():w=w.id(),l[w]/u)}}},closenessCentrality:function(t){var r=gD(t),n=r.root,a=r.weight,i=r.directed,o=r.harmonic;n=this.filter(n)[0];for(var l=this.dijkstra({root:n,weight:a,directed:i}),u=0,c=this.nodes(),h=0;h<c.length;h++){var d=c[h];if(!d.same(n)){var v=l.distanceTo(d);o?u+=1/v:u+=v}}return o?u:1/u}};xu.cc=xu.closenessCentrality;xu.ccn=xu.closenessCentralityNormalised=xu.closenessCentralityNormalized;var uJ=Dn({weight:null,directed:!1}),qx={betweennessCentrality:function(t){for(var r=uJ(t),n=r.directed,a=r.weight,i=a!=null,o=this.cy(),l=this.nodes(),u={},c={},h=0,d={set:function(S,D){c[S]=D,D>h&&(h=D)},get:function(S){return c[S]}},v=0;v<l.length;v++){var p=l[v],m=p.id();n?u[m]=p.outgoers().nodes():u[m]=p.openNeighborhood().nodes(),d.set(m,0)}for(var b=function(){for(var S=l[x].id(),D=[],R={},L={},_={},N=new oh(function(he,oe){return _[he]-_[oe]}),P=0;P<l.length;P++){var U=l[P].id();R[U]=[],L[U]=0,_[U]=1/0}for(L[S]=1,_[S]=0,N.push(S);!N.empty();){var j=N.pop();if(D.push(j),i)for(var F=0;F<u[j].length;F++){var I=u[j][F],G=o.getElementById(j),Y=void 0;G.edgesTo(I).length>0?Y=G.edgesTo(I)[0]:Y=I.edgesTo(G)[0];var q=a(Y);I=I.id(),_[I]>_[j]+q&&(_[I]=_[j]+q,N.nodes.indexOf(I)<0?N.push(I):N.updateItem(I),L[I]=0,R[I]=[]),_[I]==_[j]+q&&(L[I]=L[I]+L[j],R[I].push(j))}else for(var V=0;V<u[j].length;V++){var W=u[j][V].id();_[W]==1/0&&(N.push(W),_[W]=_[j]+1),_[W]==_[j]+1&&(L[W]=L[W]+L[j],R[W].push(j))}}for(var J={},ie=0;ie<l.length;ie++)J[l[ie].id()]=0;for(;D.length>0;){for(var K=D.pop(),Z=0;Z<R[K].length;Z++){var fe=R[K][Z];J[fe]=J[fe]+L[fe]/L[K]*(1+J[K])}K!=l[x].id()&&d.set(K,d.get(K)+J[K])}},x=0;x<l.length;x++)b();var w={betweenness:function(S){var D=o.collection(S).id();return d.get(D)},betweennessNormalized:function(S){if(h==0)return 0;var D=o.collection(S).id();return d.get(D)/h}};return w.betweennessNormalised=w.betweennessNormalized,w}};qx.bc=qx.betweennessCentrality;var cJ=Dn({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),fJ=function(t){return cJ(t)},hJ=function(t,r){for(var n=0,a=0;a<r.length;a++)n+=r[a](t);return n},dJ=function(t,r,n){for(var a=0;a<r;a++)t[a*r+a]=n},vI=function(t,r){for(var n,a=0;a<r;a++){n=0;for(var i=0;i<r;i++)n+=t[i*r+a];for(var o=0;o<r;o++)t[o*r+a]=t[o*r+a]/n}},vJ=function(t,r,n){for(var a=new Array(n*n),i=0;i<n;i++){for(var o=0;o<n;o++)a[i*n+o]=0;for(var l=0;l<n;l++)for(var u=0;u<n;u++)a[i*n+u]+=t[i*n+l]*r[l*n+u]}return a},gJ=function(t,r,n){for(var a=t.slice(0),i=1;i<n;i++)t=vJ(t,a,r);return t},pJ=function(t,r,n){for(var a=new Array(r*r),i=0;i<r*r;i++)a[i]=Math.pow(t[i],n);return vI(a,r),a},mJ=function(t,r,n,a){for(var i=0;i<n;i++){var o=Math.round(t[i]*Math.pow(10,a))/Math.pow(10,a),l=Math.round(r[i]*Math.pow(10,a))/Math.pow(10,a);if(o!==l)return!1}return!0},yJ=function(t,r,n,a){for(var i=[],o=0;o<r;o++){for(var l=[],u=0;u<r;u++)Math.round(t[o*r+u]*1e3)/1e3>0&&l.push(n[u]);l.length!==0&&i.push(a.collection(l))}return i},bJ=function(t,r){for(var n=0;n<t.length;n++)if(!r[n]||t[n].id()!==r[n].id())return!1;return!0},xJ=function(t){for(var r=0;r<t.length;r++)for(var n=0;n<t.length;n++)r!=n&&bJ(t[r],t[n])&&t.splice(n,1);return t},pD=function(t){for(var r=this.nodes(),n=this.edges(),a=this.cy(),i=fJ(t),o={},l=0;l<r.length;l++)o[r[l].id()]=l;for(var u=r.length,c=u*u,h=new Array(c),d,v=0;v<c;v++)h[v]=0;for(var p=0;p<n.length;p++){var m=n[p],b=o[m.source().id()],x=o[m.target().id()],w=hJ(m,i.attributes);h[b*u+x]+=w,h[x*u+b]+=w}dJ(h,u,i.multFactor),vI(h,u);for(var T=!0,S=0;T&&S<i.maxIterations;)T=!1,d=gJ(h,u,i.expandFactor),h=pJ(d,u,i.inflateFactor),mJ(h,d,c,4)||(T=!0),S++;var D=yJ(h,u,r,a);return D=xJ(D),D},wJ={markovClustering:pD,mcl:pD},EJ=function(t){return t},gI=function(t,r){return Math.abs(r-t)},mD=function(t,r,n){return t+gI(r,n)},yD=function(t,r,n){return t+Math.pow(n-r,2)},SJ=function(t){return Math.sqrt(t)},TJ=function(t,r,n){return Math.max(t,gI(r,n))},Hc=function(t,r,n,a,i){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:EJ,l=a,u,c,h=0;h<t;h++)u=r(h),c=n(h),l=i(l,u,c);return o(l)},ku={euclidean:function(t,r,n){return t>=2?Hc(t,r,n,0,yD,SJ):Hc(t,r,n,0,mD)},squaredEuclidean:function(t,r,n){return Hc(t,r,n,0,yD)},manhattan:function(t,r,n){return Hc(t,r,n,0,mD)},max:function(t,r,n){return Hc(t,r,n,-1/0,TJ)}};ku["squared-euclidean"]=ku.squaredEuclidean;ku.squaredeuclidean=ku.squaredEuclidean;function fp(e,t,r,n,a,i){var o;return Lr(e)?o=e:o=ku[e]||ku.euclidean,t===0&&Lr(e)?o(a,i):o(t,r,n,a,i)}var AJ=Dn({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),JE=function(t){return AJ(t)},mg=function(t,r,n,a,i){var o=i!=="kMedoids",l=o?function(d){return n[d]}:function(d){return a[d](n)},u=function(v){return a[v](r)},c=n,h=r;return fp(t,a.length,l,u,c,h)},Rb=function(t,r,n){for(var a=n.length,i=new Array(a),o=new Array(a),l=new Array(r),u=null,c=0;c<a;c++)i[c]=t.min(n[c]).value,o[c]=t.max(n[c]).value;for(var h=0;h<r;h++){u=[];for(var d=0;d<a;d++)u[d]=Math.random()*(o[d]-i[d])+i[d];l[h]=u}return l},pI=function(t,r,n,a,i){for(var o=1/0,l=0,u=0;u<r.length;u++){var c=mg(n,t,r[u],a,i);c<o&&(o=c,l=u)}return l},mI=function(t,r,n){for(var a=[],i=null,o=0;o<r.length;o++)i=r[o],n[i.id()]===t&&a.push(i);return a},CJ=function(t,r,n){return Math.abs(r-t)<=n},MJ=function(t,r,n){for(var a=0;a<t.length;a++)for(var i=0;i<t[a].length;i++){var o=Math.abs(t[a][i]-r[a][i]);if(o>n)return!1}return!0},OJ=function(t,r,n){for(var a=0;a<n;a++)if(t===r[a])return!0;return!1},bD=function(t,r){var n=new Array(r);if(t.length<50)for(var a=0;a<r;a++){for(var i=t[Math.floor(Math.random()*t.length)];OJ(i,n,a);)i=t[Math.floor(Math.random()*t.length)];n[a]=i}else for(var o=0;o<r;o++)n[o]=t[Math.floor(Math.random()*t.length)];return n},xD=function(t,r,n){for(var a=0,i=0;i<r.length;i++)a+=mg("manhattan",r[i],t,n,"kMedoids");return a},_J=function(t){var r=this.cy(),n=this.nodes(),a=null,i=JE(t),o=new Array(i.k),l={},u;i.testMode?typeof i.testCentroids=="number"?(i.testCentroids,u=Rb(n,i.k,i.attributes)):rn(i.testCentroids)==="object"?u=i.testCentroids:u=Rb(n,i.k,i.attributes):u=Rb(n,i.k,i.attributes);for(var c=!0,h=0;c&&h<i.maxIterations;){for(var d=0;d<n.length;d++)a=n[d],l[a.id()]=pI(a,u,i.distance,i.attributes,"kMeans");c=!1;for(var v=0;v<i.k;v++){var p=mI(v,n,l);if(p.length!==0){for(var m=i.attributes.length,b=u[v],x=new Array(m),w=new Array(m),T=0;T<m;T++){w[T]=0;for(var S=0;S<p.length;S++)a=p[S],w[T]+=i.attributes[T](a);x[T]=w[T]/p.length,CJ(x[T],b[T],i.sensitivityThreshold)||(c=!0)}u[v]=x,o[v]=r.collection(p)}}h++}return o},DJ=function(t){var r=this.cy(),n=this.nodes(),a=null,i=JE(t),o=new Array(i.k),l,u={},c,h=new Array(i.k);i.testMode?typeof i.testCentroids=="number"||(rn(i.testCentroids)==="object"?l=i.testCentroids:l=bD(n,i.k)):l=bD(n,i.k);for(var d=!0,v=0;d&&v<i.maxIterations;){for(var p=0;p<n.length;p++)a=n[p],u[a.id()]=pI(a,l,i.distance,i.attributes,"kMedoids");d=!1;for(var m=0;m<l.length;m++){var b=mI(m,n,u);if(b.length!==0){h[m]=xD(l[m],b,i.attributes);for(var x=0;x<b.length;x++)c=xD(b[x],b,i.attributes),c<h[m]&&(h[m]=c,l[m]=b[x],d=!0);o[m]=r.collection(b)}}v++}return o},kJ=function(t,r,n,a,i){for(var o,l,u=0;u<r.length;u++)for(var c=0;c<t.length;c++)a[u][c]=Math.pow(n[u][c],i.m);for(var h=0;h<t.length;h++)for(var d=0;d<i.attributes.length;d++){o=0,l=0;for(var v=0;v<r.length;v++)o+=a[v][h]*i.attributes[d](r[v]),l+=a[v][h];t[h][d]=o/l}},NJ=function(t,r,n,a,i){for(var o=0;o<t.length;o++)r[o]=t[o].slice();for(var l,u,c,h=2/(i.m-1),d=0;d<n.length;d++)for(var v=0;v<a.length;v++){l=0;for(var p=0;p<n.length;p++)u=mg(i.distance,a[v],n[d],i.attributes,"cmeans"),c=mg(i.distance,a[v],n[p],i.attributes,"cmeans"),l+=Math.pow(u/c,h);t[v][d]=1/l}},PJ=function(t,r,n,a){for(var i=new Array(n.k),o=0;o<i.length;o++)i[o]=[];for(var l,u,c=0;c<r.length;c++){l=-1/0,u=-1;for(var h=0;h<r[0].length;h++)r[c][h]>l&&(l=r[c][h],u=h);i[u].push(t[c])}for(var d=0;d<i.length;d++)i[d]=a.collection(i[d]);return i},wD=function(t){var r=this.cy(),n=this.nodes(),a=JE(t),i,o,l,u,c;u=new Array(n.length);for(var h=0;h<n.length;h++)u[h]=new Array(a.k);l=new Array(n.length);for(var d=0;d<n.length;d++)l[d]=new Array(a.k);for(var v=0;v<n.length;v++){for(var p=0,m=0;m<a.k;m++)l[v][m]=Math.random(),p+=l[v][m];for(var b=0;b<a.k;b++)l[v][b]=l[v][b]/p}o=new Array(a.k);for(var x=0;x<a.k;x++)o[x]=new Array(a.attributes.length);c=new Array(n.length);for(var w=0;w<n.length;w++)c[w]=new Array(a.k);for(var T=!0,S=0;T&&S<a.maxIterations;)T=!1,kJ(o,n,l,c,a),NJ(l,u,o,n,a),MJ(l,u,a.sensitivityThreshold)||(T=!0),S++;return i=PJ(n,l,a,r),{clusters:i,degreeOfMembership:l}},RJ={kMeans:_J,kMedoids:DJ,fuzzyCMeans:wD,fcm:wD},LJ=Dn({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),jJ={single:"min",complete:"max"},BJ=function(t){var r=LJ(t),n=jJ[r.linkage];return n!=null&&(r.linkage=n),r},ED=function(t,r,n,a,i){for(var o=0,l=1/0,u,c=i.attributes,h=function(P,U){return fp(i.distance,c.length,function(j){return c[j](P)},function(j){return c[j](U)},P,U)},d=0;d<t.length;d++){var v=t[d].key,p=n[v][a[v]];p<l&&(o=v,l=p)}if(i.mode==="threshold"&&l>=i.threshold||i.mode==="dendrogram"&&t.length===1)return!1;var m=r[o],b=r[a[o]],x;i.mode==="dendrogram"?x={left:m,right:b,key:m.key}:x={value:m.value.concat(b.value),key:m.key},t[m.index]=x,t.splice(b.index,1),r[m.key]=x;for(var w=0;w<t.length;w++){var T=t[w];m.key===T.key?u=1/0:i.linkage==="min"?(u=n[m.key][T.key],n[m.key][T.key]>n[b.key][T.key]&&(u=n[b.key][T.key])):i.linkage==="max"?(u=n[m.key][T.key],n[m.key][T.key]<n[b.key][T.key]&&(u=n[b.key][T.key])):i.linkage==="mean"?u=(n[m.key][T.key]*m.size+n[b.key][T.key]*b.size)/(m.size+b.size):i.mode==="dendrogram"?u=h(T.value,m.value):u=h(T.value[0],m.value[0]),n[m.key][T.key]=n[T.key][m.key]=u}for(var S=0;S<t.length;S++){var D=t[S].key;if(a[D]===m.key||a[D]===b.key){for(var R=D,L=0;L<t.length;L++){var _=t[L].key;n[D][_]<n[D][R]&&(R=_)}a[D]=R}t[S].index=S}return m.key=b.key=m.index=b.index=null,!0},du=function(t,r,n){t&&(t.value?r.push(t.value):(t.left&&du(t.left,r),t.right&&du(t.right,r)))},Vx=function(t,r){if(!t)return"";if(t.left&&t.right){var n=Vx(t.left,r),a=Vx(t.right,r),i=r.add({group:"nodes",data:{id:n+","+a}});return r.add({group:"edges",data:{source:n,target:i.id()}}),r.add({group:"edges",data:{source:a,target:i.id()}}),i.id()}else if(t.value)return t.value.id()},$x=function(t,r,n){if(!t)return[];var a=[],i=[],o=[];return r===0?(t.left&&du(t.left,a),t.right&&du(t.right,i),o=a.concat(i),[n.collection(o)]):r===1?t.value?[n.collection(t.value)]:(t.left&&du(t.left,a),t.right&&du(t.right,i),[n.collection(a),n.collection(i)]):t.value?[n.collection(t.value)]:(t.left&&(a=$x(t.left,r-1,n)),t.right&&(i=$x(t.right,r-1,n)),a.concat(i))},SD=function(t){for(var r=this.cy(),n=this.nodes(),a=BJ(t),i=a.attributes,o=function(S,D){return fp(a.distance,i.length,function(R){return i[R](S)},function(R){return i[R](D)},S,D)},l=[],u=[],c=[],h=[],d=0;d<n.length;d++){var v={value:a.mode==="dendrogram"?n[d]:[n[d]],key:d,index:d};l[d]=v,h[d]=v,u[d]=[],c[d]=0}for(var p=0;p<l.length;p++)for(var m=0;m<=p;m++){var b=void 0;a.mode==="dendrogram"?b=p===m?1/0:o(l[p].value,l[m].value):b=p===m?1/0:o(l[p].value[0],l[m].value[0]),u[p][m]=b,u[m][p]=b,b<u[p][c[p]]&&(c[p]=m)}for(var x=ED(l,h,u,c,a);x;)x=ED(l,h,u,c,a);var w;return a.mode==="dendrogram"?(w=$x(l[0],a.dendrogramDepth,r),a.addDendrogram&&Vx(l[0],r)):(w=new Array(l.length),l.forEach(function(T,S){T.key=T.index=null,w[S]=r.collection(T.value)})),w},IJ={hierarchicalClustering:SD,hca:SD},zJ=Dn({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),FJ=function(t){var r=t.damping,n=t.preference;.5<=r&&r<1||Rr("Damping must range on [0.5, 1).  Got: ".concat(r));var a=["median","mean","min","max"];return a.some(function(i){return i===n})||pt(n)||Rr("Preference must be one of [".concat(a.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(n)),zJ(t)},UJ=function(t,r,n,a){var i=function(l,u){return a[u](l)};return-fp(t,a.length,function(o){return i(r,o)},function(o){return i(n,o)},r,n)},GJ=function(t,r){var n=null;return r==="median"?n=FQ(t):r==="mean"?n=zQ(t):r==="min"?n=BQ(t):r==="max"?n=IQ(t):n=r,n},qJ=function(t,r,n){for(var a=[],i=0;i<t;i++)r[i*t+i]+n[i*t+i]>0&&a.push(i);return a},TD=function(t,r,n){for(var a=[],i=0;i<t;i++){for(var o=-1,l=-1/0,u=0;u<n.length;u++){var c=n[u];r[i*t+c]>l&&(o=c,l=r[i*t+c])}o>0&&a.push(o)}for(var h=0;h<n.length;h++)a[n[h]]=n[h];return a},VJ=function(t,r,n){for(var a=TD(t,r,n),i=0;i<n.length;i++){for(var o=[],l=0;l<a.length;l++)a[l]===n[i]&&o.push(l);for(var u=-1,c=-1/0,h=0;h<o.length;h++){for(var d=0,v=0;v<o.length;v++)d+=r[o[v]*t+o[h]];d>c&&(u=h,c=d)}n[i]=o[u]}return a=TD(t,r,n),a},AD=function(t){for(var r=this.cy(),n=this.nodes(),a=FJ(t),i={},o=0;o<n.length;o++)i[n[o].id()]=o;var l,u,c,h,d,v;l=n.length,u=l*l,c=new Array(u);for(var p=0;p<u;p++)c[p]=-1/0;for(var m=0;m<l;m++)for(var b=0;b<l;b++)m!==b&&(c[m*l+b]=UJ(a.distance,n[m],n[b],a.attributes));h=GJ(c,a.preference);for(var x=0;x<l;x++)c[x*l+x]=h;d=new Array(u);for(var w=0;w<u;w++)d[w]=0;v=new Array(u);for(var T=0;T<u;T++)v[T]=0;for(var S=new Array(l),D=new Array(l),R=new Array(l),L=0;L<l;L++)S[L]=0,D[L]=0,R[L]=0;for(var _=new Array(l*a.minIterations),N=0;N<_.length;N++)_[N]=0;var P;for(P=0;P<a.maxIterations;P++){for(var U=0;U<l;U++){for(var j=-1/0,F=-1/0,I=-1,G=0,Y=0;Y<l;Y++)S[Y]=d[U*l+Y],G=v[U*l+Y]+c[U*l+Y],G>=j?(F=j,j=G,I=Y):G>F&&(F=G);for(var q=0;q<l;q++)d[U*l+q]=(1-a.damping)*(c[U*l+q]-j)+a.damping*S[q];d[U*l+I]=(1-a.damping)*(c[U*l+I]-F)+a.damping*S[I]}for(var V=0;V<l;V++){for(var W=0,J=0;J<l;J++)S[J]=v[J*l+V],D[J]=Math.max(0,d[J*l+V]),W+=D[J];W-=D[V],D[V]=d[V*l+V],W+=D[V];for(var ie=0;ie<l;ie++)v[ie*l+V]=(1-a.damping)*Math.min(0,W-D[ie])+a.damping*S[ie];v[V*l+V]=(1-a.damping)*(W-D[V])+a.damping*S[V]}for(var K=0,Z=0;Z<l;Z++){var fe=v[Z*l+Z]+d[Z*l+Z]>0?1:0;_[P%a.minIterations*l+Z]=fe,K+=fe}if(K>0&&(P>=a.minIterations-1||P==a.maxIterations-1)){for(var he=0,oe=0;oe<l;oe++){R[oe]=0;for(var be=0;be<a.minIterations;be++)R[oe]+=_[be*l+oe];(R[oe]===0||R[oe]===a.minIterations)&&he++}if(he===l)break}}for(var Ae=qJ(l,d,v),Le=VJ(l,c,Ae),ce={},ae=0;ae<Ae.length;ae++)ce[Ae[ae]]=[];for(var le=0;le<n.length;le++){var re=i[n[le].id()],ge=Le[re];ge!=null&&ce[ge].push(n[le])}for(var Se=new Array(Ae.length),ze=0;ze<Ae.length;ze++)Se[ze]=r.collection(ce[Ae[ze]]);return Se},$J={affinityPropagation:AD,ap:AD},YJ=Dn({root:void 0,directed:!1}),HJ={hierholzer:function(t){if(!Zt(t)){var r=arguments;t={root:r[0],directed:r[1]}}var n=YJ(t),a=n.root,i=n.directed,o=this,l=!1,u,c,h;a&&(h=Mt(a)?this.filter(a)[0].id():a[0].id());var d={},v={};i?o.forEach(function(T){var S=T.id();if(T.isNode()){var D=T.indegree(!0),R=T.outdegree(!0),L=D-R,_=R-D;L==1?u?l=!0:u=S:_==1?c?l=!0:c=S:(_>1||L>1)&&(l=!0),d[S]=[],T.outgoers().forEach(function(N){N.isEdge()&&d[S].push(N.id())})}else v[S]=[void 0,T.target().id()]}):o.forEach(function(T){var S=T.id();if(T.isNode()){var D=T.degree(!0);D%2&&(u?c?l=!0:c=S:u=S),d[S]=[],T.connectedEdges().forEach(function(R){return d[S].push(R.id())})}else v[S]=[T.source().id(),T.target().id()]});var p={found:!1,trail:void 0};if(l)return p;if(c&&u)if(i){if(h&&c!=h)return p;h=c}else{if(h&&c!=h&&u!=h)return p;h||(h=c)}else h||(h=o[0].id());var m=function(S){for(var D=S,R=[S],L,_,N;d[D].length;)L=d[D].shift(),_=v[L][0],N=v[L][1],D!=N?(d[N]=d[N].filter(function(P){return P!=L}),D=N):!i&&D!=_&&(d[_]=d[_].filter(function(P){return P!=L}),D=_),R.unshift(L),R.unshift(D);return R},b=[],x=[];for(x=m(h);x.length!=1;)d[x[0]].length==0?(b.unshift(o.getElementById(x.shift())),b.unshift(o.getElementById(x.shift()))):x=m(x.shift()).concat(x);b.unshift(o.getElementById(x.shift()));for(var w in d)if(d[w].length)return p;return p.found=!0,p.trail=this.spawn(b,!0),p}},Kd=function(){var t=this,r={},n=0,a=0,i=[],o=[],l={},u=function(v,p){for(var m=o.length-1,b=[],x=t.spawn();o[m].x!=v||o[m].y!=p;)b.push(o.pop().edge),m--;b.push(o.pop().edge),b.forEach(function(w){var T=w.connectedNodes().intersection(t);x.merge(w),T.forEach(function(S){var D=S.id(),R=S.connectedEdges().intersection(t);x.merge(S),r[D].cutVertex?x.merge(R.filter(function(L){return L.isLoop()})):x.merge(R)})}),i.push(x)},c=function(v,p,m){v===m&&(a+=1),r[p]={id:n,low:n++,cutVertex:!1};var b=t.getElementById(p).connectedEdges().intersection(t);if(b.size()===0)i.push(t.spawn(t.getElementById(p)));else{var x,w,T,S;b.forEach(function(D){x=D.source().id(),w=D.target().id(),T=x===p?w:x,T!==m&&(S=D.id(),l[S]||(l[S]=!0,o.push({x:p,y:T,edge:D})),T in r?r[p].low=Math.min(r[p].low,r[T].id):(c(v,T,p),r[p].low=Math.min(r[p].low,r[T].low),r[p].id<=r[T].low&&(r[p].cutVertex=!0,u(p,T))))})}};t.forEach(function(d){if(d.isNode()){var v=d.id();v in r||(a=0,c(v,v),r[v].cutVertex=a>1)}});var h=Object.keys(r).filter(function(d){return r[d].cutVertex}).map(function(d){return t.getElementById(d)});return{cut:t.spawn(h),components:i}},XJ={hopcroftTarjanBiconnected:Kd,htbc:Kd,htb:Kd,hopcroftTarjanBiconnectedComponents:Kd},Wd=function(){var t=this,r={},n=0,a=[],i=[],o=t.spawn(t),l=function(c){i.push(c),r[c]={index:n,low:n++,explored:!1};var h=t.getElementById(c).connectedEdges().intersection(t);if(h.forEach(function(b){var x=b.target().id();x!==c&&(x in r||l(x),r[x].explored||(r[c].low=Math.min(r[c].low,r[x].low)))}),r[c].index===r[c].low){for(var d=t.spawn();;){var v=i.pop();if(d.merge(t.getElementById(v)),r[v].low=r[c].index,r[v].explored=!0,v===c)break}var p=d.edgesWith(d),m=d.merge(p);a.push(m),o=o.difference(m)}};return t.forEach(function(u){if(u.isNode()){var c=u.id();c in r||l(c)}}),{cut:o,components:a}},KJ={tarjanStronglyConnected:Wd,tsc:Wd,tscc:Wd,tarjanStronglyConnectedComponents:Wd},yI={};[Df,AQ,CQ,OQ,DQ,NQ,LQ,lJ,bu,xu,qx,wJ,RJ,IJ,$J,HJ,XJ,KJ].forEach(function(e){Nt(yI,e)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var bI=0,xI=1,wI=2,si=function(t){if(!(this instanceof si))return new si(t);this.id="Thenable/1.0.7",this.state=bI,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof t=="function"&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};si.prototype={fulfill:function(t){return CD(this,xI,"fulfillValue",t)},reject:function(t){return CD(this,wI,"rejectReason",t)},then:function(t,r){var n=this,a=new si;return n.onFulfilled.push(OD(t,a,"fulfill")),n.onRejected.push(OD(r,a,"reject")),EI(n),a.proxy}};var CD=function(t,r,n,a){return t.state===bI&&(t.state=r,t[n]=a,EI(t)),t},EI=function(t){t.state===xI?MD(t,"onFulfilled",t.fulfillValue):t.state===wI&&MD(t,"onRejected",t.rejectReason)},MD=function(t,r,n){if(t[r].length!==0){var a=t[r];t[r]=[];var i=function(){for(var l=0;l<a.length;l++)a[l](n)};typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}},OD=function(t,r,n){return function(a){if(typeof t!="function")r[n].call(r,a);else{var i;try{i=t(a)}catch(o){r.reject(o);return}SI(r,i)}}},SI=function(t,r){if(t===r||t.proxy===r){t.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(rn(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(i){t.reject(i);return}if(typeof n=="function"){var a=!1;try{n.call(r,function(i){a||(a=!0,i===r?t.reject(new TypeError("circular thenable chain")):SI(t,i))},function(i){a||(a=!0,t.reject(i))})}catch(i){a||t.reject(i)}return}t.fulfill(r)};si.all=function(e){return new si(function(t,r){for(var n=new Array(e.length),a=0,i=function(u,c){n[u]=c,a++,a===e.length&&t(n)},o=0;o<e.length;o++)(function(l){var u=e[l],c=u!=null&&u.then!=null;if(c)u.then(function(d){i(l,d)},function(d){r(d)});else{var h=u;i(l,h)}})(o)})};si.resolve=function(e){return new si(function(t,r){t(e)})};si.reject=function(e){return new si(function(t,r){r(e)})};var Vu=typeof Promise<"u"?Promise:si,Yx=function(t,r,n){var a=qE(t),i=!a,o=this._private=Nt({duration:1e3},r,n);if(o.target=t,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&Lr(o.complete)&&o.completes.push(o.complete),i){var l=t.position();o.startPosition=o.startPosition||{x:l.x,y:l.y},o.startStyle=o.startStyle||t.cy().style().getAnimationStartStyle(t,o.style)}if(a){var u=t.pan();o.startPan={x:u.x,y:u.y},o.startZoom=t.zoom()}this.length=1,this[0]=this},hl=Yx.prototype;Nt(hl,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var r,n=t.target._private.animation;t.queue?r=n.queue:r=n.current,r.push(this),Ta(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return t.progress===1&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var r=this._private;return t===void 0?r.progress*r.duration:this.progress(t/r.duration)},progress:function(t){var r=this._private,n=r.playing;return t===void 0?r.progress:(n&&this.pause(),r.progress=t,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var t=this._private,r=t.playing;r&&this.pause(),t.progress=1-t.progress,t.started=!1;var n=function(c,h){var d=t[c];d!=null&&(t[c]=t[h],t[h]=d)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),t.style)for(var a=0;a<t.style.length;a++){var i=t.style[a],o=i.name,l=t.startStyle[o];t.startStyle[o]=i,t.style[a]=l}return r&&this.play(),this},promise:function(t){var r=this._private,n;switch(t){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new Vu(function(a,i){n.push(function(){a()})})}});hl.complete=hl.completed;hl.run=hl.play;hl.running=hl.playing;var WJ={animated:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return!1;var o=a[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var o=0;o<a.length;o++){var l=a[o];l._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],l=this._private.cy||this,u=!i,c=!u;if(!l.styleEnabled())return this;var h=l.style();r=Nt({},r,n);var d=Object.keys(r).length===0;if(d)return new Yx(o[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(c&&(r.style=h.getPropsList(r.style||r.css),r.css=void 0),c&&r.renderedPosition!=null){var v=r.renderedPosition,p=l.pan(),m=l.zoom();r.position=lI(v,m,p)}if(u&&r.panBy!=null){var b=r.panBy,x=l.pan();r.pan={x:x.x+b.x,y:x.y+b.y}}var w=r.center||r.centre;if(u&&w!=null){var T=l.getCenterPan(w.eles,r.zoom);T!=null&&(r.pan=T)}if(u&&r.fit!=null){var S=r.fit,D=l.getFitViewport(S.eles||S.boundingBox,S.padding);D!=null&&(r.pan=D.pan,r.zoom=D.zoom)}if(u&&Zt(r.zoom)){var R=l.getZoomedViewport(r.zoom);R!=null?(R.zoomed&&(r.zoom=R.zoom),R.panned&&(r.pan=R.pan)):r.zoom=null}return new Yx(o[0],r)}},animate:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],l=this._private.cy||this;if(!l.styleEnabled())return this;n&&(r=Nt({},r,n));for(var u=0;u<o.length;u++){var c=o[u],h=c.animated()&&(r.queue===void 0||r.queue),d=c.animation(r,h?{queue:!0}:void 0);d.play()}return this}},stop:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],l=this._private.cy||this;if(!l.styleEnabled())return this;for(var u=0;u<o.length;u++){for(var c=o[u],h=c._private,d=h.animation.current,v=0;v<d.length;v++){var p=d[v],m=p._private;n&&(m.duration=0)}r&&(h.animation.queue=[]),n||(h.animation.current=[])}return l.notify("draw"),this}}},Lb,_D;function hp(){if(_D)return Lb;_D=1;var e=Array.isArray;return Lb=e,Lb}var jb,DD;function ZJ(){if(DD)return jb;DD=1;var e=hp(),t=ah(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(e(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return jb=a,jb}var Bb,kD;function QJ(){if(kD)return Bb;kD=1;var e=JB(),t=nh(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!t(l))return!1;var u=e(l);return u==n||u==a||u==r||u==i}return Bb=o,Bb}var Ib,ND;function JJ(){if(ND)return Ib;ND=1;var e=lp(),t=e["__core-js_shared__"];return Ib=t,Ib}var zb,PD;function eee(){if(PD)return zb;PD=1;var e=JJ(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return zb=r,zb}var Fb,RD;function tee(){if(RD)return Fb;RD=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Fb=r,Fb}var Ub,LD;function ree(){if(LD)return Ub;LD=1;var e=QJ(),t=eee(),r=nh(),n=tee(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,u=o.toString,c=l.hasOwnProperty,h=RegExp("^"+u.call(c).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(v){if(!r(v)||t(v))return!1;var p=e(v)?h:i;return p.test(n(v))}return Ub=d,Ub}var Gb,jD;function nee(){if(jD)return Gb;jD=1;function e(t,r){return t==null?void 0:t[r]}return Gb=e,Gb}var qb,BD;function eS(){if(BD)return qb;BD=1;var e=ree(),t=nee();function r(n,a){var i=t(n,a);return e(i)?i:void 0}return qb=r,qb}var Vb,ID;function dp(){if(ID)return Vb;ID=1;var e=eS(),t=e(Object,"create");return Vb=t,Vb}var $b,zD;function aee(){if(zD)return $b;zD=1;var e=dp();function t(){this.__data__=e?e(null):{},this.size=0}return $b=t,$b}var Yb,FD;function iee(){if(FD)return Yb;FD=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Yb=e,Yb}var Hb,UD;function oee(){if(UD)return Hb;UD=1;var e=dp(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var o=this.__data__;if(e){var l=o[i];return l===t?void 0:l}return n.call(o,i)?o[i]:void 0}return Hb=a,Hb}var Xb,GD;function see(){if(GD)return Xb;GD=1;var e=dp(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:r.call(i,a)}return Xb=n,Xb}var Kb,qD;function lee(){if(qD)return Kb;qD=1;var e=dp(),t="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?t:a,this}return Kb=r,Kb}var Wb,VD;function uee(){if(VD)return Wb;VD=1;var e=aee(),t=iee(),r=oee(),n=see(),a=lee();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var c=o[l];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Wb=i,Wb}var Zb,$D;function cee(){if($D)return Zb;$D=1;function e(){this.__data__=[],this.size=0}return Zb=e,Zb}var Qb,YD;function TI(){if(YD)return Qb;YD=1;function e(t,r){return t===r||t!==t&&r!==r}return Qb=e,Qb}var Jb,HD;function vp(){if(HD)return Jb;HD=1;var e=TI();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return Jb=t,Jb}var e1,XD;function fee(){if(XD)return e1;XD=1;var e=vp(),t=Array.prototype,r=t.splice;function n(a){var i=this.__data__,o=e(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return e1=n,e1}var t1,KD;function hee(){if(KD)return t1;KD=1;var e=vp();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return t1=t,t1}var r1,WD;function dee(){if(WD)return r1;WD=1;var e=vp();function t(r){return e(this.__data__,r)>-1}return r1=t,r1}var n1,ZD;function vee(){if(ZD)return n1;ZD=1;var e=vp();function t(r,n){var a=this.__data__,i=e(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return n1=t,n1}var a1,QD;function gee(){if(QD)return a1;QD=1;var e=cee(),t=fee(),r=hee(),n=dee(),a=vee();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var c=o[l];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,a1=i,a1}var i1,JD;function pee(){if(JD)return i1;JD=1;var e=eS(),t=lp(),r=e(t,"Map");return i1=r,i1}var o1,ek;function mee(){if(ek)return o1;ek=1;var e=uee(),t=gee(),r=pee();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return o1=n,o1}var s1,tk;function yee(){if(tk)return s1;tk=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return s1=e,s1}var l1,rk;function gp(){if(rk)return l1;rk=1;var e=yee();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return l1=t,l1}var u1,nk;function bee(){if(nk)return u1;nk=1;var e=gp();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return u1=t,u1}var c1,ak;function xee(){if(ak)return c1;ak=1;var e=gp();function t(r){return e(this,r).get(r)}return c1=t,c1}var f1,ik;function wee(){if(ik)return f1;ik=1;var e=gp();function t(r){return e(this,r).has(r)}return f1=t,f1}var h1,ok;function Eee(){if(ok)return h1;ok=1;var e=gp();function t(r,n){var a=e(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return h1=t,h1}var d1,sk;function See(){if(sk)return d1;sk=1;var e=mee(),t=bee(),r=xee(),n=wee(),a=Eee();function i(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var c=o[l];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,d1=i,d1}var v1,lk;function Tee(){if(lk)return v1;lk=1;var e=See(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],u=i.cache;if(u.has(l))return u.get(l);var c=n.apply(this,o);return i.cache=u.set(l,c)||u,c};return i.cache=new(r.Cache||e),i}return r.Cache=e,v1=r,v1}var g1,uk;function Aee(){if(uk)return g1;uk=1;var e=Tee(),t=500;function r(n){var a=e(n,function(o){return i.size===t&&i.clear(),o}),i=a.cache;return a}return g1=r,g1}var p1,ck;function AI(){if(ck)return p1;ck=1;var e=Aee(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(o,l,u,c){i.push(u?c.replace(r,"$1"):l||o)}),i});return p1=n,p1}var m1,fk;function CI(){if(fk)return m1;fk=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=Array(a);++n<a;)i[n]=r(t[n],n,t);return i}return m1=e,m1}var y1,hk;function Cee(){if(hk)return y1;hk=1;var e=$E(),t=CI(),r=hp(),n=ah(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return t(l,o)+"";if(n(l))return i?i.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}return y1=o,y1}var b1,dk;function MI(){if(dk)return b1;dk=1;var e=Cee();function t(r){return r==null?"":e(r)}return b1=t,b1}var x1,vk;function OI(){if(vk)return x1;vk=1;var e=hp(),t=ZJ(),r=AI(),n=MI();function a(i,o){return e(i)?i:t(i,o)?[i]:r(n(i))}return x1=a,x1}var w1,gk;function tS(){if(gk)return w1;gk=1;var e=ah();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return w1=t,w1}var E1,pk;function Mee(){if(pk)return E1;pk=1;var e=OI(),t=tS();function r(n,a){a=e(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[t(a[i++])];return i&&i==o?n:void 0}return E1=r,E1}var S1,mk;function Oee(){if(mk)return S1;mk=1;var e=Mee();function t(r,n,a){var i=r==null?void 0:e(r,n);return i===void 0?a:i}return S1=t,S1}var _ee=Oee(),Dee=rh(_ee),T1,yk;function kee(){if(yk)return T1;yk=1;var e=eS(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return T1=t,T1}var A1,bk;function Nee(){if(bk)return A1;bk=1;var e=kee();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return A1=t,A1}var C1,xk;function Pee(){if(xk)return C1;xk=1;var e=Nee(),t=TI(),r=Object.prototype,n=r.hasOwnProperty;function a(i,o,l){var u=i[o];(!(n.call(i,o)&&t(u,l))||l===void 0&&!(o in i))&&e(i,o,l)}return C1=a,C1}var M1,wk;function Ree(){if(wk)return M1;wk=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return M1=r,M1}var O1,Ek;function Lee(){if(Ek)return O1;Ek=1;var e=Pee(),t=OI(),r=Ree(),n=nh(),a=tS();function i(o,l,u,c){if(!n(o))return o;l=t(l,o);for(var h=-1,d=l.length,v=d-1,p=o;p!=null&&++h<d;){var m=a(l[h]),b=u;if(m==="__proto__"||m==="constructor"||m==="prototype")return o;if(h!=v){var x=p[m];b=c?c(x,m,p):void 0,b===void 0&&(b=n(x)?x:r(l[h+1])?[]:{})}e(p,m,b),p=p[m]}return o}return O1=i,O1}var _1,Sk;function jee(){if(Sk)return _1;Sk=1;var e=Lee();function t(r,n,a){return r==null?r:e(r,n,a)}return _1=t,_1}var Bee=jee(),Iee=rh(Bee),D1,Tk;function zee(){if(Tk)return D1;Tk=1;function e(t,r){var n=-1,a=t.length;for(r||(r=Array(a));++n<a;)r[n]=t[n];return r}return D1=e,D1}var k1,Ak;function Fee(){if(Ak)return k1;Ak=1;var e=CI(),t=zee(),r=hp(),n=ah(),a=AI(),i=tS(),o=MI();function l(u){return r(u)?e(u,i):n(u)?[u]:t(a(o(u)))}return k1=l,k1}var Uee=Fee(),Gee=rh(Uee),qee={data:function(t){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,i){},onSet:function(a){},canSet:function(a){return!0}};return t=Nt({},r,t),function(a,i){var o=t,l=this,u=l.length!==void 0,c=u?l:[l],h=u?l[0]:l;if(Mt(a)){var d=a.indexOf(".")!==-1,v=d&&Gee(a);if(o.allowGetting&&i===void 0){var p;return h&&(o.beforeGet(h),v&&h._private[o.field][a]===void 0?p=Dee(h._private[o.field],v):p=h._private[o.field][a]),p}else if(o.allowSetting&&i!==void 0){var m=!o.immutableKeys[a];if(m){var b=qB({},a,i);o.beforeSet(l,b);for(var x=0,w=c.length;x<w;x++){var T=c[x];o.canSet(T)&&(v&&h._private[o.field][a]===void 0?Iee(T._private[o.field],v,i):T._private[o.field][a]=i)}o.updateStyle&&l.updateStyle(),o.onSet(l),o.settingTriggersEvent&&l[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&Zt(a)){var S=a,D,R,L=Object.keys(S);o.beforeSet(l,S);for(var _=0;_<L.length;_++){D=L[_],R=S[D];var N=!o.immutableKeys[D];if(N)for(var P=0;P<c.length;P++){var U=c[P];o.canSet(U)&&(U._private[o.field][D]=R)}}o.updateStyle&&l.updateStyle(),o.onSet(l),o.settingTriggersEvent&&l[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&Lr(a)){var j=a;l.on(o.bindingEvent,j)}else if(o.allowGetting&&a===void 0){var F;return h&&(o.beforeGet(h),F=h._private[o.field]),F}return l}},removeData:function(t){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return t=Nt({},r,t),function(a){var i=t,o=this,l=o.length!==void 0,u=l?o:[o];if(Mt(a)){for(var c=a.split(/\s+/),h=c.length,d=0;d<h;d++){var v=c[d];if(!rs(v)){var p=!i.immutableKeys[v];if(p)for(var m=0,b=u.length;m<b;m++)u[m]._private[i.field][v]=void 0}}i.triggerEvent&&o[i.triggerFnName](i.event)}else if(a===void 0){for(var x=0,w=u.length;x<w;x++)for(var T=u[x]._private[i.field],S=Object.keys(T),D=0;D<S.length;D++){var R=S[D],L=!i.immutableKeys[R];L&&(T[R]=void 0)}i.triggerEvent&&o[i.triggerFnName](i.event)}return o}}},Vee={eventAliasesOn:function(t){var r=t;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,a){var i=this,o=Array.prototype.slice.call(arguments,0);return new Vu(function(l,u){var c=function(p){i.off.apply(i,d),l(p)},h=o.concat([c]),d=h.concat([]);i.on.apply(i,h)})}}},or={};[WJ,qee,Vee].forEach(function(e){Nt(or,e)});var $ee={animate:or.animate(),animation:or.animation(),animated:or.animated(),clearQueue:or.clearQueue(),delay:or.delay(),delayAnimation:or.delayAnimation(),stop:or.stop()},dv={classes:function(t){var r=this;if(t===void 0){var n=[];return r[0]._private.classes.forEach(function(m){return n.push(m)}),n}else xr(t)||(t=(t||"").match(/\S+/g)||[]);for(var a=[],i=new qu(t),o=0;o<r.length;o++){for(var l=r[o],u=l._private,c=u.classes,h=!1,d=0;d<t.length;d++){var v=t[d],p=c.has(v);if(!p){h=!0;break}}h||(h=c.size!==t.length),h&&(u.classes=i,a.push(l))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),r},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var r=this[0];return r!=null&&r._private.classes.has(t)},toggleClass:function(t,r){xr(t)||(t=t.match(/\S+/g)||[]);for(var n=this,a=r===void 0,i=[],o=0,l=n.length;o<l;o++)for(var u=n[o],c=u._private.classes,h=!1,d=0;d<t.length;d++){var v=t[d],p=c.has(v),m=!1;r||a&&!p?(c.add(v),m=!0):(!r||a&&p)&&(c.delete(v),m=!0),!h&&m&&(i.push(u),h=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(t),setTimeout(function(){n.removeClass(t)},r),n}};dv.className=dv.classNames=dv.classes;var Wt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:tn,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Wt.variable="(?:[\\w-.]|(?:\\\\"+Wt.metaChar+"))+";Wt.className="(?:[\\w-]|(?:\\\\"+Wt.metaChar+"))+";Wt.value=Wt.string+"|"+Wt.number;Wt.id=Wt.variable;(function(){var e,t,r;for(e=Wt.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],Wt.comparatorOp+="|@"+t;for(e=Wt.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],!(t.indexOf("!")>=0)&&t!=="="&&(Wt.comparatorOp+="|\\!"+t)})();var pr=function(){return{checks:[]}},wt={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},Hx=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":compound",matches:function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort(function(e,t){return qZ(e.selector,t.selector)}),Yee=(function(){for(var e={},t,r=0;r<Hx.length;r++)t=Hx[r],e[t.selector]=t.matches;return e})(),Hee=function(t,r){return Yee[t](r)},Xee="("+Hx.map(function(e){return e.selector}).join("|")+")",Jl=function(t){return t.replace(new RegExp("\\\\("+Wt.metaChar+")","g"),function(r,n){return n})},Go=function(t,r,n){t[t.length-1]=n},Xx=[{name:"group",query:!0,regex:"("+Wt.group+")",populate:function(t,r,n){var a=Wr(n,1),i=a[0];r.checks.push({type:wt.GROUP,value:i==="*"?i:i+"s"})}},{name:"state",query:!0,regex:Xee,populate:function(t,r,n){var a=Wr(n,1),i=a[0];r.checks.push({type:wt.STATE,value:i})}},{name:"id",query:!0,regex:"\\#("+Wt.id+")",populate:function(t,r,n){var a=Wr(n,1),i=a[0];r.checks.push({type:wt.ID,value:Jl(i)})}},{name:"className",query:!0,regex:"\\.("+Wt.className+")",populate:function(t,r,n){var a=Wr(n,1),i=a[0];r.checks.push({type:wt.CLASS,value:Jl(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Wt.variable+")\\s*\\]",populate:function(t,r,n){var a=Wr(n,1),i=a[0];r.checks.push({type:wt.DATA_EXIST,field:Jl(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Wt.variable+")\\s*("+Wt.comparatorOp+")\\s*("+Wt.value+")\\s*\\]",populate:function(t,r,n){var a=Wr(n,3),i=a[0],o=a[1],l=a[2],u=new RegExp("^"+Wt.string+"$").exec(l)!=null;u?l=l.substring(1,l.length-1):l=parseFloat(l),r.checks.push({type:wt.DATA_COMPARE,field:Jl(i),operator:o,value:l})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Wt.boolOp+")\\s*("+Wt.variable+")\\s*\\]",populate:function(t,r,n){var a=Wr(n,2),i=a[0],o=a[1];r.checks.push({type:wt.DATA_BOOL,field:Jl(o),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Wt.meta+")\\s*("+Wt.comparatorOp+")\\s*("+Wt.number+")\\s*\\]\\]",populate:function(t,r,n){var a=Wr(n,3),i=a[0],o=a[1],l=a[2];r.checks.push({type:wt.META_COMPARE,field:Jl(i),operator:o,value:parseFloat(l)})}},{name:"nextQuery",separator:!0,regex:Wt.separator,populate:function(t,r){var n=t.currentSubject,a=t.edgeCount,i=t.compoundCount,o=t[t.length-1];n!=null&&(o.subject=n,t.currentSubject=null),o.edgeCount=a,o.compoundCount=i,t.edgeCount=0,t.compoundCount=0;var l=t[t.length++]=pr();return l}},{name:"directedEdge",separator:!0,regex:Wt.directedEdge,populate:function(t,r){if(t.currentSubject==null){var n=pr(),a=r,i=pr();return n.checks.push({type:wt.DIRECTED_EDGE,source:a,target:i}),Go(t,r,n),t.edgeCount++,i}else{var o=pr(),l=r,u=pr();return o.checks.push({type:wt.NODE_SOURCE,source:l,target:u}),Go(t,r,o),t.edgeCount++,u}}},{name:"undirectedEdge",separator:!0,regex:Wt.undirectedEdge,populate:function(t,r){if(t.currentSubject==null){var n=pr(),a=r,i=pr();return n.checks.push({type:wt.UNDIRECTED_EDGE,nodes:[a,i]}),Go(t,r,n),t.edgeCount++,i}else{var o=pr(),l=r,u=pr();return o.checks.push({type:wt.NODE_NEIGHBOR,node:l,neighbor:u}),Go(t,r,o),u}}},{name:"child",separator:!0,regex:Wt.child,populate:function(t,r){if(t.currentSubject==null){var n=pr(),a=pr(),i=t[t.length-1];return n.checks.push({type:wt.CHILD,parent:i,child:a}),Go(t,r,n),t.compoundCount++,a}else if(t.currentSubject===r){var o=pr(),l=t[t.length-1],u=pr(),c=pr(),h=pr(),d=pr();return o.checks.push({type:wt.COMPOUND_SPLIT,left:l,right:u,subject:c}),c.checks=r.checks,r.checks=[{type:wt.TRUE}],d.checks.push({type:wt.TRUE}),u.checks.push({type:wt.PARENT,parent:d,child:h}),Go(t,l,o),t.currentSubject=c,t.compoundCount++,h}else{var v=pr(),p=pr(),m=[{type:wt.PARENT,parent:v,child:p}];return v.checks=r.checks,r.checks=m,t.compoundCount++,p}}},{name:"descendant",separator:!0,regex:Wt.descendant,populate:function(t,r){if(t.currentSubject==null){var n=pr(),a=pr(),i=t[t.length-1];return n.checks.push({type:wt.DESCENDANT,ancestor:i,descendant:a}),Go(t,r,n),t.compoundCount++,a}else if(t.currentSubject===r){var o=pr(),l=t[t.length-1],u=pr(),c=pr(),h=pr(),d=pr();return o.checks.push({type:wt.COMPOUND_SPLIT,left:l,right:u,subject:c}),c.checks=r.checks,r.checks=[{type:wt.TRUE}],d.checks.push({type:wt.TRUE}),u.checks.push({type:wt.ANCESTOR,ancestor:d,descendant:h}),Go(t,l,o),t.currentSubject=c,t.compoundCount++,h}else{var v=pr(),p=pr(),m=[{type:wt.ANCESTOR,ancestor:v,descendant:p}];return v.checks=r.checks,r.checks=m,t.compoundCount++,p}}},{name:"subject",modifier:!0,regex:Wt.subject,populate:function(t,r){if(t.currentSubject!=null&&t.currentSubject!==r)return sr("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=r;var n=t[t.length-1],a=n.checks[0],i=a==null?null:a.type;i===wt.DIRECTED_EDGE?a.type=wt.NODE_TARGET:i===wt.UNDIRECTED_EDGE&&(a.type=wt.NODE_NEIGHBOR,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];Xx.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)});var Kee=function(t){for(var r,n,a,i=0;i<Xx.length;i++){var o=Xx[i],l=o.name,u=t.match(o.regexObj);if(u!=null){n=u,r=o,a=l;var c=u[0];t=t.substring(c.length);break}}return{expr:r,match:n,name:a,remaining:t}},Wee=function(t){var r=t.match(/^\s+/);if(r){var n=r[0];t=t.substring(n.length)}return t},Zee=function(t){var r=this,n=r.inputText=t,a=r[0]=pr();for(r.length=1,n=Wee(n);;){var i=Kee(n);if(i.expr==null)return sr("The selector `"+t+"`is invalid"),!1;var o=i.match.slice(1),l=i.expr.populate(r,a,o);if(l===!1)return!1;if(l!=null&&(a=l),n=i.remaining,n.match(/^\s*$/))break}var u=r[r.length-1];r.currentSubject!=null&&(u.subject=r.currentSubject),u.edgeCount=r.edgeCount,u.compoundCount=r.compoundCount;for(var c=0;c<r.length;c++){var h=r[c];if(h.compoundCount>0&&h.edgeCount>0)return sr("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(h.edgeCount>1)return sr("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;h.edgeCount===1&&sr("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},Qee=function(){if(this.toStringCache!=null)return this.toStringCache;for(var t=function(h){return h??""},r=function(h){return Mt(h)?'"'+h+'"':t(h)},n=function(h){return" "+h+" "},a=function(h,d){var v=h.type,p=h.value;switch(v){case wt.GROUP:{var m=t(p);return m.substring(0,m.length-1)}case wt.DATA_COMPARE:{var b=h.field,x=h.operator;return"["+b+n(t(x))+r(p)+"]"}case wt.DATA_BOOL:{var w=h.operator,T=h.field;return"["+t(w)+T+"]"}case wt.DATA_EXIST:{var S=h.field;return"["+S+"]"}case wt.META_COMPARE:{var D=h.operator,R=h.field;return"[["+R+n(t(D))+r(p)+"]]"}case wt.STATE:return p;case wt.ID:return"#"+p;case wt.CLASS:return"."+p;case wt.PARENT:case wt.CHILD:return i(h.parent,d)+n(">")+i(h.child,d);case wt.ANCESTOR:case wt.DESCENDANT:return i(h.ancestor,d)+" "+i(h.descendant,d);case wt.COMPOUND_SPLIT:{var L=i(h.left,d),_=i(h.subject,d),N=i(h.right,d);return L+(L.length>0?" ":"")+_+N}case wt.TRUE:return""}},i=function(h,d){return h.checks.reduce(function(v,p,m){return v+(d===h&&m===0?"$":"")+a(p,d)},"")},o="",l=0;l<this.length;l++){var u=this[l];o+=i(u,u.subject),this.length>1&&l<this.length-1&&(o+=", ")}return this.toStringCache=o,o},Jee={parse:Zee,toString:Qee},_I=function(t,r,n){var a,i=Mt(t),o=pt(t),l=Mt(n),u,c,h=!1,d=!1,v=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),d=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),h=!0),(i||l||h)&&(u=!i&&!o?"":""+t,c=""+n),h&&(t=u=u.toLowerCase(),n=c=c.toLowerCase()),r){case"*=":a=u.indexOf(c)>=0;break;case"$=":a=u.indexOf(c,u.length-c.length)>=0;break;case"^=":a=u.indexOf(c)===0;break;case"=":a=t===n;break;case">":v=!0,a=t>n;break;case">=":v=!0,a=t>=n;break;case"<":v=!0,a=t<n;break;case"<=":v=!0,a=t<=n;break;default:a=!1;break}return d&&(t!=null||!v)&&(a=!a),a},ete=function(t,r){switch(r){case"?":return!!t;case"!":return!t;case"^":return t===void 0}},tte=function(t){return t!==void 0},rS=function(t,r){return t.data(r)},rte=function(t,r){return t[r]()},zr=[],Mr=function(t,r){return t.checks.every(function(n){return zr[n.type](n,r)})};zr[wt.GROUP]=function(e,t){var r=e.value;return r==="*"||r===t.group()};zr[wt.STATE]=function(e,t){var r=e.value;return Hee(r,t)};zr[wt.ID]=function(e,t){var r=e.value;return t.id()===r};zr[wt.CLASS]=function(e,t){var r=e.value;return t.hasClass(r)};zr[wt.META_COMPARE]=function(e,t){var r=e.field,n=e.operator,a=e.value;return _I(rte(t,r),n,a)};zr[wt.DATA_COMPARE]=function(e,t){var r=e.field,n=e.operator,a=e.value;return _I(rS(t,r),n,a)};zr[wt.DATA_BOOL]=function(e,t){var r=e.field,n=e.operator;return ete(rS(t,r),n)};zr[wt.DATA_EXIST]=function(e,t){var r=e.field;return e.operator,tte(rS(t,r))};zr[wt.UNDIRECTED_EDGE]=function(e,t){var r=e.nodes[0],n=e.nodes[1],a=t.source(),i=t.target();return Mr(r,a)&&Mr(n,i)||Mr(n,a)&&Mr(r,i)};zr[wt.NODE_NEIGHBOR]=function(e,t){return Mr(e.node,t)&&t.neighborhood().some(function(r){return r.isNode()&&Mr(e.neighbor,r)})};zr[wt.DIRECTED_EDGE]=function(e,t){return Mr(e.source,t.source())&&Mr(e.target,t.target())};zr[wt.NODE_SOURCE]=function(e,t){return Mr(e.source,t)&&t.outgoers().some(function(r){return r.isNode()&&Mr(e.target,r)})};zr[wt.NODE_TARGET]=function(e,t){return Mr(e.target,t)&&t.incomers().some(function(r){return r.isNode()&&Mr(e.source,r)})};zr[wt.CHILD]=function(e,t){return Mr(e.child,t)&&Mr(e.parent,t.parent())};zr[wt.PARENT]=function(e,t){return Mr(e.parent,t)&&t.children().some(function(r){return Mr(e.child,r)})};zr[wt.DESCENDANT]=function(e,t){return Mr(e.descendant,t)&&t.ancestors().some(function(r){return Mr(e.ancestor,r)})};zr[wt.ANCESTOR]=function(e,t){return Mr(e.ancestor,t)&&t.descendants().some(function(r){return Mr(e.descendant,r)})};zr[wt.COMPOUND_SPLIT]=function(e,t){return Mr(e.subject,t)&&Mr(e.left,t)&&Mr(e.right,t)};zr[wt.TRUE]=function(){return!0};zr[wt.COLLECTION]=function(e,t){var r=e.value;return r.has(t)};zr[wt.FILTER]=function(e,t){var r=e.value;return r(t)};var nte=function(t){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===wt.ID)return t.getElementById(r[0].checks[0].value).collection();var n=function(i){for(var o=0;o<r.length;o++){var l=r[o];if(Mr(l,i))return!0}return!1};return r.text()==null&&(n=function(){return!0}),t.filter(n)},ate=function(t){for(var r=this,n=0;n<r.length;n++){var a=r[n];if(Mr(a,t))return!0}return!1},ite={matches:ate,filter:nte},is=function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,t==null||Mt(t)&&t.match(/^\s*$/)||(Ta(t)?this.addQuery({checks:[{type:wt.COLLECTION,value:t.collection()}]}):Lr(t)?this.addQuery({checks:[{type:wt.FILTER,value:t}]}):Mt(t)?this.parse(t)||(this.invalid=!0):Rr("A selector must be created from a string; found "))},os=is.prototype;[Jee,ite].forEach(function(e){return Nt(os,e)});os.text=function(){return this.inputText};os.size=function(){return this.length};os.eq=function(e){return this[e]};os.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()};os.addQuery=function(e){this[this.length++]=e};os.selector=os.toString;var Qo={allAre:function(t){var r=new is(t);return this.every(function(n){return r.matches(n)})},is:function(t){var r=new is(t);return this.some(function(n){return r.matches(n)})},some:function(t,r){for(var n=0;n<this.length;n++){var a=r?t.apply(r,[this[n],n,this]):t(this[n],n,this);if(a)return!0}return!1},every:function(t,r){for(var n=0;n<this.length;n++){var a=r?t.apply(r,[this[n],n,this]):t(this[n],n,this);if(!a)return!1}return!0},same:function(t){if(this===t)return!0;t=this.cy().collection(t);var r=this.length,n=t.length;return r!==n?!1:r===1?this[0]===t[0]:this.every(function(a){return t.hasElementWithId(a.id())})},anySame:function(t){return t=this.cy().collection(t),this.some(function(r){return t.hasElementWithId(r.id())})},allAreNeighbors:function(t){t=this.cy().collection(t);var r=this.neighborhood();return t.every(function(n){return r.hasElementWithId(n.id())})},contains:function(t){t=this.cy().collection(t);var r=this;return t.every(function(n){return r.hasElementWithId(n.id())})}};Qo.allAreNeighbours=Qo.allAreNeighbors;Qo.has=Qo.contains;Qo.equal=Qo.equals=Qo.same;var Va=function(t,r){return function(a,i,o,l){var u=a,c=this,h;if(u==null?h="":Ta(u)&&u.length===1&&(h=u.id()),c.length===1&&h){var d=c[0]._private,v=d.traversalCache=d.traversalCache||{},p=v[r]=v[r]||[],m=cl(h),b=p[m];return b||(p[m]=t.call(c,a,i,o,l))}else return t.call(c,a,i,o,l)}},Nu={parent:function(t){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var a=0;a<this.length;a++){var i=this[a],o=i._private.parent;o&&r.push(o)}return this.spawn(r,!0).filter(t)},parents:function(t){for(var r=[],n=this.parent();n.nonempty();){for(var a=0;a<n.length;a++){var i=n[a];r.push(i)}n=n.parent()}return this.spawn(r,!0).filter(t)},commonAncestors:function(t){for(var r,n=0;n<this.length;n++){var a=this[n],i=a.parents();r=r||i,r=r.intersect(i)}return r.filter(t)},orphans:function(t){return this.stdFilter(function(r){return r.isOrphan()}).filter(t)},nonorphans:function(t){return this.stdFilter(function(r){return r.isChild()}).filter(t)},children:Va(function(e){for(var t=[],r=0;r<this.length;r++)for(var n=this[r],a=n._private.children,i=0;i<a.length;i++)t.push(a[i]);return this.spawn(t,!0).filter(e)},"children"),siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length!==0},isChildless:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length===0},isChild:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent!=null},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent==null},descendants:function(t){var r=[];function n(a){for(var i=0;i<a.length;i++){var o=a[i];r.push(o),o.children().nonempty()&&n(o.children())}}return n(this.children()),this.spawn(r,!0).filter(t)}};function nS(e,t,r,n){for(var a=[],i=new qu,o=e.cy(),l=o.hasCompoundNodes(),u=0;u<e.length;u++){var c=e[u];r?a.push(c):l&&n(a,i,c)}for(;a.length>0;){var h=a.shift();t(h),i.add(h.id()),l&&n(a,i,h)}return e}function DI(e,t,r){if(r.isParent())for(var n=r._private.children,a=0;a<n.length;a++){var i=n[a];t.has(i.id())||e.push(i)}}Nu.forEachDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return nS(this,e,t,DI)};function kI(e,t,r){if(r.isChild()){var n=r._private.parent;t.has(n.id())||e.push(n)}}Nu.forEachUp=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return nS(this,e,t,kI)};function ote(e,t,r){kI(e,t,r),DI(e,t,r)}Nu.forEachUpAndDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return nS(this,e,t,ote)};Nu.ancestors=Nu.parents;var Pf,NI;Pf=NI={data:or.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:or.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:or.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:or.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:or.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:or.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}};Pf.attr=Pf.data;Pf.removeAttr=Pf.removeData;var ste=NI,pp={};function N1(e){return function(t){var r=this;if(t===void 0&&(t=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,a=r[0],i=a._private.edges,o=0;o<i.length;o++){var l=i[o];!t&&l.isLoop()||(n+=e(a,l))}return n}else return}}Nt(pp,{degree:N1(function(e,t){return t.source().same(t.target())?2:1}),indegree:N1(function(e,t){return t.target().same(e)?1:0}),outdegree:N1(function(e,t){return t.source().same(e)?1:0})});function eu(e,t){return function(r){for(var n,a=this.nodes(),i=0;i<a.length;i++){var o=a[i],l=o[e](r);l!==void 0&&(n===void 0||t(l,n))&&(n=l)}return n}}Nt(pp,{minDegree:eu("degree",function(e,t){return e<t}),maxDegree:eu("degree",function(e,t){return e>t}),minIndegree:eu("indegree",function(e,t){return e<t}),maxIndegree:eu("indegree",function(e,t){return e>t}),minOutdegree:eu("outdegree",function(e,t){return e<t}),maxOutdegree:eu("outdegree",function(e,t){return e>t})});Nt(pp,{totalDegree:function(t){for(var r=0,n=this.nodes(),a=0;a<n.length;a++)r+=n[a].degree(t);return r}});var ii,PI,RI=function(t,r,n){for(var a=0;a<t.length;a++){var i=t[a];if(!i.locked()){var o=i._private.position,l={x:r.x!=null?r.x-o.x:0,y:r.y!=null?r.y-o.y:0};i.isParent()&&!(l.x===0&&l.y===0)&&i.children().shift(l,n),i.dirtyBoundingBoxCache()}}},Ck={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:function(t,r){RI(t,r,!1)},onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}};ii=PI={position:or.data(Ck),silentPosition:or.data(Nt({},Ck,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(t,r){RI(t,r,!0)},onSet:function(t){t.dirtyCompoundBoundsCache()}})),positions:function(t,r){if(Zt(t))r?this.silentPosition(t):this.position(t);else if(Lr(t)){var n=t,a=this.cy();a.startBatch();for(var i=0;i<this.length;i++){var o=this[i],l=void 0;(l=n(o,i))&&(r?o.silentPosition(l):o.position(l))}a.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,r,n){var a;if(Zt(t)?(a={x:pt(t.x)?t.x:0,y:pt(t.y)?t.y:0},n=r):Mt(t)&&pt(r)&&(a={x:0,y:0},a[t]=r),a!=null){var i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var l=this[o];if(!(i.hasCompoundNodes()&&l.isChild()&&l.ancestors().anySame(this))){var u=l.position(),c={x:u.x+a.x,y:u.y+a.y};n?l.silentPosition(c):l.position(c)}}i.endBatch()}return this},silentShift:function(t,r){return Zt(t)?this.shift(t,!0):Mt(t)&&pt(r)&&this.shift(t,r,!0),this},renderedPosition:function(t,r){var n=this[0],a=this.cy(),i=a.zoom(),o=a.pan(),l=Zt(t)?t:void 0,u=l!==void 0||r!==void 0&&Mt(t);if(n&&n.isNode())if(u)for(var c=0;c<this.length;c++){var h=this[c];r!==void 0?h.position(t,(r-o[t])/i):l!==void 0&&h.position(lI(l,i,o))}else{var d=n.position();return l=cp(d,i,o),t===void 0?l:l[t]}else if(!u)return;return this},relativePosition:function(t,r){var n=this[0],a=this.cy(),i=Zt(t)?t:void 0,o=i!==void 0||r!==void 0&&Mt(t),l=a.hasCompoundNodes();if(n&&n.isNode())if(o)for(var u=0;u<this.length;u++){var c=this[u],h=l?c.parent():null,d=h&&h.length>0,v=d;d&&(h=h[0]);var p=v?h.position():{x:0,y:0};r!==void 0?c.position(t,r+p[t]):i!==void 0&&c.position({x:i.x+p.x,y:i.y+p.y})}else{var m=n.position(),b=l?n.parent():null,x=b&&b.length>0,w=x;x&&(b=b[0]);var T=w?b.position():{x:0,y:0};return i={x:m.x-T.x,y:m.y-T.y},t===void 0?i:i[t]}else if(!o)return;return this}};ii.modelPosition=ii.point=ii.position;ii.modelPositions=ii.points=ii.positions;ii.renderedPoint=ii.renderedPosition;ii.relativePoint=ii.relativePosition;var lte=PI,wu,vs;wu=vs={};vs.renderedBoundingBox=function(e){var t=this.boundingBox(e),r=this.cy(),n=r.zoom(),a=r.pan(),i=t.x1*n+a.x,o=t.x2*n+a.x,l=t.y1*n+a.y,u=t.y2*n+a.y;return{x1:i,x2:o,y1:l,y2:u,w:o-i,h:u-l}};vs.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();return!t.styleEnabled()||!t.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,e||r.emitAndNotify("bounds")}}),this)};vs.updateCompoundBounds=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function r(o){if(!o.isParent())return;var l=o._private,u=o.children(),c=o.pstyle("compound-sizing-wrt-labels").value==="include",h={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},d=u.boundingBox({includeLabels:c,includeOverlays:!1,useCache:!1}),v=l.position;(d.w===0||d.h===0)&&(d={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},d.x1=v.x-d.w/2,d.x2=v.x+d.w/2,d.y1=v.y-d.h/2,d.y2=v.y+d.h/2);function p(P,U,j){var F=0,I=0,G=U+j;return P>0&&G>0&&(F=U/G*P,I=j/G*P),{biasDiff:F,biasComplementDiff:I}}function m(P,U,j,F){if(j.units==="%")switch(F){case"width":return P>0?j.pfValue*P:0;case"height":return U>0?j.pfValue*U:0;case"average":return P>0&&U>0?j.pfValue*(P+U)/2:0;case"min":return P>0&&U>0?P>U?j.pfValue*U:j.pfValue*P:0;case"max":return P>0&&U>0?P>U?j.pfValue*P:j.pfValue*U:0;default:return 0}else return j.units==="px"?j.pfValue:0}var b=h.width.left.value;h.width.left.units==="px"&&h.width.val>0&&(b=b*100/h.width.val);var x=h.width.right.value;h.width.right.units==="px"&&h.width.val>0&&(x=x*100/h.width.val);var w=h.height.top.value;h.height.top.units==="px"&&h.height.val>0&&(w=w*100/h.height.val);var T=h.height.bottom.value;h.height.bottom.units==="px"&&h.height.val>0&&(T=T*100/h.height.val);var S=p(h.width.val-d.w,b,x),D=S.biasDiff,R=S.biasComplementDiff,L=p(h.height.val-d.h,w,T),_=L.biasDiff,N=L.biasComplementDiff;l.autoPadding=m(d.w,d.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),l.autoWidth=Math.max(d.w,h.width.val),v.x=(-D+d.x1+d.x2+R)/2,l.autoHeight=Math.max(d.h,h.height.val),v.y=(-_+d.y1+d.y2+N)/2}for(var n=0;n<this.length;n++){var a=this[n],i=a._private;(!i.compoundBoundsClean||e)&&(r(a),t.batching()||(i.compoundBoundsClean=!0))}return this};var Ua=function(t){return t===1/0||t===-1/0?0:t},ri=function(t,r,n,a,i){a-r===0||i-n===0||r==null||n==null||a==null||i==null||(t.x1=r<t.x1?r:t.x1,t.x2=a>t.x2?a:t.x2,t.y1=n<t.y1?n:t.y1,t.y2=i>t.y2?i:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},Yo=function(t,r){return r==null?t:ri(t,r.x1,r.y1,r.x2,r.y2)},Xc=function(t,r,n){return ra(t,r,n)},Zd=function(t,r,n){if(!r.cy().headless()){var a=r._private,i=a.rstyle,o=i.arrowWidth/2,l=r.pstyle(n+"-arrow-shape").value,u,c;if(l!=="none"){n==="source"?(u=i.srcX,c=i.srcY):n==="target"?(u=i.tgtX,c=i.tgtY):(u=i.midX,c=i.midY);var h=a.arrowBounds=a.arrowBounds||{},d=h[n]=h[n]||{};d.x1=u-o,d.y1=c-o,d.x2=u+o,d.y2=c+o,d.w=d.x2-d.x1,d.h=d.y2-d.y1,fv(d,1),ri(t,d.x1,d.y1,d.x2,d.y2)}}},P1=function(t,r,n){if(!r.cy().headless()){var a;n?a=n+"-":a="";var i=r._private,o=i.rstyle,l=r.pstyle(a+"label").strValue;if(l){var u=r.pstyle("text-halign"),c=r.pstyle("text-valign"),h=Xc(o,"labelWidth",n),d=Xc(o,"labelHeight",n),v=Xc(o,"labelX",n),p=Xc(o,"labelY",n),m=r.pstyle(a+"text-margin-x").pfValue,b=r.pstyle(a+"text-margin-y").pfValue,x=r.isEdge(),w=r.pstyle(a+"text-rotation"),T=r.pstyle("text-outline-width").pfValue,S=r.pstyle("text-border-width").pfValue,D=S/2,R=r.pstyle("text-background-padding").pfValue,L=2,_=d,N=h,P=N/2,U=_/2,j,F,I,G;if(x)j=v-P,F=v+P,I=p-U,G=p+U;else{switch(u.value){case"left":j=v-N,F=v;break;case"center":j=v-P,F=v+P;break;case"right":j=v,F=v+N;break}switch(c.value){case"top":I=p-_,G=p;break;case"center":I=p-U,G=p+U;break;case"bottom":I=p,G=p+_;break}}var Y=m-Math.max(T,D)-R-L,q=m+Math.max(T,D)+R+L,V=b-Math.max(T,D)-R-L,W=b+Math.max(T,D)+R+L;j+=Y,F+=q,I+=V,G+=W;var J=n||"main",ie=i.labelBounds,K=ie[J]=ie[J]||{};K.x1=j,K.y1=I,K.x2=F,K.y2=G,K.w=F-j,K.h=G-I,K.leftPad=Y,K.rightPad=q,K.topPad=V,K.botPad=W;var Z=x&&w.strValue==="autorotate",fe=w.pfValue!=null&&w.pfValue!==0;if(Z||fe){var he=Z?Xc(i.rstyle,"labelAngle",n):w.pfValue,oe=Math.cos(he),be=Math.sin(he),Ae=(j+F)/2,Le=(I+G)/2;if(!x){switch(u.value){case"left":Ae=F;break;case"right":Ae=j;break}switch(c.value){case"top":Le=G;break;case"bottom":Le=I;break}}var ce=function(Oe,je){return Oe=Oe-Ae,je=je-Le,{x:Oe*oe-je*be+Ae,y:Oe*be+je*oe+Le}},ae=ce(j,I),le=ce(j,G),re=ce(F,I),ge=ce(F,G);j=Math.min(ae.x,le.x,re.x,ge.x),F=Math.max(ae.x,le.x,re.x,ge.x),I=Math.min(ae.y,le.y,re.y,ge.y),G=Math.max(ae.y,le.y,re.y,ge.y)}var Se=J+"Rot",ze=ie[Se]=ie[Se]||{};ze.x1=j,ze.y1=I,ze.x2=F,ze.y2=G,ze.w=F-j,ze.h=G-I,ri(t,j,I,F,G),ri(i.labelBounds.all,j,I,F,G)}return t}},Mk=function(t,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,a=r.pstyle("outline-width").value,i=r.pstyle("outline-offset").value,o=a+i;LI(t,r,n,o,"outside",o/2)}},LI=function(t,r,n,a,i,o){if(!(n===0||a<=0||i==="inside")){var l=r.cy(),u=r.pstyle("shape").value,c=l.renderer().nodeShapes[u],h=r.position(),d=h.x,v=h.y,p=r.width(),m=r.height();if(c.hasMiterBounds){i==="center"&&(a/=2);var b=c.miterBounds(d,v,p,m,a);Yo(t,b)}else o!=null&&o>0&&hv(t,[o,o,o,o])}},ute=function(t,r){if(!r.cy().headless()){var n=r.pstyle("border-opacity").value,a=r.pstyle("border-width").pfValue,i=r.pstyle("border-position").value;LI(t,r,n,a,i)}},cte=function(t,r){var n=t._private.cy,a=n.styleEnabled(),i=n.headless(),o=$n(),l=t._private,u=t.isNode(),c=t.isEdge(),h,d,v,p,m,b,x=l.rstyle,w=u&&a?t.pstyle("bounds-expansion").pfValue:[0],T=function(Qe){return Qe.pstyle("display").value!=="none"},S=!a||T(t)&&(!c||T(t.source())&&T(t.target()));if(S){var D=0,R=0;a&&r.includeOverlays&&(D=t.pstyle("overlay-opacity").value,D!==0&&(R=t.pstyle("overlay-padding").value));var L=0,_=0;a&&r.includeUnderlays&&(L=t.pstyle("underlay-opacity").value,L!==0&&(_=t.pstyle("underlay-padding").value));var N=Math.max(R,_),P=0,U=0;if(a&&(P=t.pstyle("width").pfValue,U=P/2),u&&r.includeNodes){var j=t.position();m=j.x,b=j.y;var F=t.outerWidth(),I=F/2,G=t.outerHeight(),Y=G/2;h=m-I,d=m+I,v=b-Y,p=b+Y,ri(o,h,v,d,p),a&&Mk(o,t),a&&r.includeOutlines&&!i&&Mk(o,t),a&&ute(o,t)}else if(c&&r.includeEdges)if(a&&!i){var q=t.pstyle("curve-style").strValue;if(h=Math.min(x.srcX,x.midX,x.tgtX),d=Math.max(x.srcX,x.midX,x.tgtX),v=Math.min(x.srcY,x.midY,x.tgtY),p=Math.max(x.srcY,x.midY,x.tgtY),h-=U,d+=U,v-=U,p+=U,ri(o,h,v,d,p),q==="haystack"){var V=x.haystackPts;if(V&&V.length===2){if(h=V[0].x,v=V[0].y,d=V[1].x,p=V[1].y,h>d){var W=h;h=d,d=W}if(v>p){var J=v;v=p,p=J}ri(o,h-U,v-U,d+U,p+U)}}else if(q==="bezier"||q==="unbundled-bezier"||Xo(q,"segments")||Xo(q,"taxi")){var ie;switch(q){case"bezier":case"unbundled-bezier":ie=x.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":ie=x.linePts;break}if(ie!=null)for(var K=0;K<ie.length;K++){var Z=ie[K];h=Z.x-U,d=Z.x+U,v=Z.y-U,p=Z.y+U,ri(o,h,v,d,p)}}}else{var fe=t.source(),he=fe.position(),oe=t.target(),be=oe.position();if(h=he.x,d=be.x,v=he.y,p=be.y,h>d){var Ae=h;h=d,d=Ae}if(v>p){var Le=v;v=p,p=Le}h-=U,d+=U,v-=U,p+=U,ri(o,h,v,d,p)}if(a&&r.includeEdges&&c&&(Zd(o,t,"mid-source"),Zd(o,t,"mid-target"),Zd(o,t,"source"),Zd(o,t,"target")),a){var ce=t.pstyle("ghost").value==="yes";if(ce){var ae=t.pstyle("ghost-offset-x").pfValue,le=t.pstyle("ghost-offset-y").pfValue;ri(o,o.x1+ae,o.y1+le,o.x2+ae,o.y2+le)}}var re=l.bodyBounds=l.bodyBounds||{};hD(re,o),hv(re,w),fv(re,1),a&&(h=o.x1,d=o.x2,v=o.y1,p=o.y2,ri(o,h-N,v-N,d+N,p+N));var ge=l.overlayBounds=l.overlayBounds||{};hD(ge,o),hv(ge,w),fv(ge,1);var Se=l.labelBounds=l.labelBounds||{};Se.all!=null?$Q(Se.all):Se.all=$n(),a&&r.includeLabels&&(r.includeMainLabels&&P1(o,t,null),c&&(r.includeSourceLabels&&P1(o,t,"source"),r.includeTargetLabels&&P1(o,t,"target")))}return o.x1=Ua(o.x1),o.y1=Ua(o.y1),o.x2=Ua(o.x2),o.y2=Ua(o.y2),o.w=Ua(o.x2-o.x1),o.h=Ua(o.y2-o.y1),o.w>0&&o.h>0&&S&&(hv(o,w),fv(o,1)),o},jI=function(t){var r=0,n=function(o){return(o?1:0)<<r++},a=0;return a+=n(t.incudeNodes),a+=n(t.includeEdges),a+=n(t.includeLabels),a+=n(t.includeMainLabels),a+=n(t.includeSourceLabels),a+=n(t.includeTargetLabels),a+=n(t.includeOverlays),a+=n(t.includeOutlines),a},BI=function(t){var r=function(l){return Math.round(l)};if(t.isEdge()){var n=t.source().position(),a=t.target().position();return oD([r(n.x),r(n.y),r(a.x),r(a.y)])}else{var i=t.position();return oD([r(i.x),r(i.y)])}},Ok=function(t,r){var n=t._private,a,i=t.isEdge(),o=r==null?_k:jI(r),l=o===_k;if(n.bbCache==null?(a=cte(t,Rf),n.bbCache=a,n.bbCachePosKey=BI(t)):a=n.bbCache,!l){var u=t.isNode();a=$n(),(r.includeNodes&&u||r.includeEdges&&!u)&&(r.includeOverlays?Yo(a,n.overlayBounds):Yo(a,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!i||r.includeSourceLabels&&r.includeTargetLabels)?Yo(a,n.labelBounds.all):(r.includeMainLabels&&Yo(a,n.labelBounds.mainRot),r.includeSourceLabels&&Yo(a,n.labelBounds.sourceRot),r.includeTargetLabels&&Yo(a,n.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},Rf={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},_k=jI(Rf),Dk=Dn(Rf);vs.boundingBox=function(e){var t,r=e===void 0||e.useCache===void 0||e.useCache===!0,n=Du(function(h){var d=h._private;return d.bbCache==null||d.styleDirty||d.bbCachePosKey!==BI(h)},function(h){return h.id()});if(r&&this.length===1&&!n(this[0]))e===void 0?e=Rf:e=Dk(e),t=Ok(this[0],e);else{t=$n(),e=e||Rf;var a=Dk(e),i=this,o=i.cy(),l=o.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),l&&this.recalculateRenderedStyle(r),this.updateCompoundBounds(!r);for(var u=0;u<i.length;u++){var c=i[u];n(c)&&c.dirtyBoundingBoxCache(),Yo(t,Ok(c,a))}}return t.x1=Ua(t.x1),t.y1=Ua(t.y1),t.x2=Ua(t.x2),t.y2=Ua(t.y2),t.w=Ua(t.x2-t.x1),t.h=Ua(t.y2-t.y1),t};vs.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};vs.boundingBoxAt=function(e){var t=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),a=r.collection();if(n&&(a=t.filter(function(c){return c.isParent()}),t=t.not(a)),Zt(e)){var i=e;e=function(){return i}}var o=function(h,d){return h._private.bbAtOldPos=e(h,d)},l=function(h){return h._private.bbAtOldPos};r.startBatch(),t.forEach(o).silentPositions(e),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var u=VQ(this.boundingBox({useCache:!1}));return t.silentPositions(l),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),r.endBatch(),u};wu.boundingbox=wu.bb=wu.boundingBox;wu.renderedBoundingbox=wu.renderedBoundingBox;var fte=vs,sf,sh;sf=sh={};var II=function(t){t.uppercaseName=$_(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=$_(t.outerName),sf[t.name]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){if(n.isParent())return n.updateCompoundBounds(),a[t.autoName]||0;var l=n.pstyle(t.name);switch(l.strValue){case"label":return n.recalculateRenderedStyle(),a.rstyle[t.labelName]||0;default:return l.pfValue}}else return 1},sf["outer"+t.uppercaseName]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){var l=n[t.name](),u=n.pstyle("border-position").value,c;u==="center"?c=n.pstyle("border-width").pfValue:u==="outside"?c=2*n.pstyle("border-width").pfValue:c=0;var h=2*n.padding();return l+c+h}else return 1},sf["rendered"+t.uppercaseName]=function(){var n=this[0];if(n){var a=n[t.name]();return a*this.cy().zoom()}},sf["rendered"+t.uppercaseOuterName]=function(){var n=this[0];if(n){var a=n[t.outerName]();return a*this.cy().zoom()}}};II({name:"width"});II({name:"height"});sh.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),t.autoPadding!==void 0?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue};sh.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()};sh.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var hte=sh,dte=function(t,r){if(t.isEdge()&&t.takesUpSpace())return r(t)},vte=function(t,r){if(t.isEdge()&&t.takesUpSpace()){var n=t.cy();return cp(r(t),n.zoom(),n.pan())}},gte=function(t,r){if(t.isEdge()&&t.takesUpSpace()){var n=t.cy(),a=n.pan(),i=n.zoom();return r(t).map(function(o){return cp(o,i,a)})}},pte=function(t){return t.renderer().getControlPoints(t)},mte=function(t){return t.renderer().getSegmentPoints(t)},yte=function(t){return t.renderer().getSourceEndpoint(t)},bte=function(t){return t.renderer().getTargetEndpoint(t)},xte=function(t){return t.renderer().getEdgeMidpoint(t)},kk={controlPoints:{get:pte,mult:!0},segmentPoints:{get:mte,mult:!0},sourceEndpoint:{get:yte},targetEndpoint:{get:bte},midpoint:{get:xte}},wte=function(t){return"rendered"+t[0].toUpperCase()+t.substr(1)},Ete=Object.keys(kk).reduce(function(e,t){var r=kk[t],n=wte(t);return e[t]=function(){return dte(this,r.get)},r.mult?e[n]=function(){return gte(this,r.get)}:e[n]=function(){return vte(this,r.get)},e},{}),Ste=Nt({},lte,fte,hte,Ete);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var zI=function(t,r){this.recycle(t,r)};function Kc(){return!1}function Qd(){return!0}zI.prototype={instanceString:function(){return"event"},recycle:function(t,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Kc,t!=null&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?Qd:Kc):t!=null&&t.type?r=t:this.type=t,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,a=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*a+i.x,y:n.y*a+i.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Qd;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Qd;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Qd,this.stopPropagation()},isDefaultPrevented:Kc,isPropagationStopped:Kc,isImmediatePropagationStopped:Kc};var FI=/^([^.]+)(\.(?:[^.]+))?$/,Tte=".*",UI={qualifierCompare:function(t,r){return t===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Nk=Object.keys(UI),Ate={};function mp(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ate,t=arguments.length>1?arguments[1]:void 0,r=0;r<Nk.length;r++){var n=Nk[r];this[n]=e[n]||UI[n]}this.context=t||this.context,this.listeners=[],this.emitting=0}var ss=mp.prototype,GI=function(t,r,n,a,i,o,l){Lr(a)&&(i=a,a=null),l&&(o==null?o=l:o=Nt({},o,l));for(var u=xr(n)?n:n.split(/\s+/),c=0;c<u.length;c++){var h=u[c];if(!rs(h)){var d=h.match(FI);if(d){var v=d[1],p=d[2]?d[2]:null,m=r(t,h,v,p,a,i,o);if(m===!1)break}}}},Pk=function(t,r){return t.addEventFields(t.context,r),new zI(r.type,r)},Cte=function(t,r,n){if(NZ(n)){r(t,n);return}else if(Zt(n)){r(t,Pk(t,n));return}for(var a=xr(n)?n:n.split(/\s+/),i=0;i<a.length;i++){var o=a[i];if(!rs(o)){var l=o.match(FI);if(l){var u=l[1],c=l[2]?l[2]:null,h=Pk(t,{type:u,namespace:c,target:t.context});r(t,h)}}}};ss.on=ss.addListener=function(e,t,r,n,a){return GI(this,function(i,o,l,u,c,h,d){Lr(h)&&i.listeners.push({event:o,callback:h,type:l,namespace:u,qualifier:c,conf:d})},e,t,r,n,a),this};ss.one=function(e,t,r,n){return this.on(e,t,r,n,{one:!0})};ss.removeListener=ss.off=function(e,t,r,n){var a=this;this.emitting!==0&&(this.listeners=vQ(this.listeners));for(var i=this.listeners,o=function(c){var h=i[c];GI(a,function(d,v,p,m,b,x){if((h.type===p||e==="*")&&(!m&&h.namespace!==".*"||h.namespace===m)&&(!b||d.qualifierCompare(h.qualifier,b))&&(!x||h.callback===x))return i.splice(c,1),!1},e,t,r,n)},l=i.length-1;l>=0;l--)o(l);return this};ss.removeAllListeners=function(){return this.removeListener("*")};ss.emit=ss.trigger=function(e,t,r){var n=this.listeners,a=n.length;return this.emitting++,xr(t)||(t=[t]),Cte(this,function(i,o){r!=null&&(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:r}],a=n.length);for(var l=function(){var h=n[u];if(h.type===o.type&&(!h.namespace||h.namespace===o.namespace||h.namespace===Tte)&&i.eventMatches(i.context,h,o)){var d=[o];t!=null&&pQ(d,t),i.beforeEmit(i.context,h,o),h.conf&&h.conf.one&&(i.listeners=i.listeners.filter(function(m){return m!==h}));var v=i.callbackContext(i.context,h,o),p=h.callback.apply(v,d);i.afterEmit(i.context,h,o),p===!1&&(o.stopPropagation(),o.preventDefault())}},u=0;u<a;u++)l();i.bubble(i.context)&&!o.isPropagationStopped()&&i.parent(i.context).emit(o,t)},e),this.emitting--,this};var Mte={qualifierCompare:function(t,r){return t==null||r==null?t==null&&r==null:t.sameText(r)},eventMatches:function(t,r,n){var a=r.qualifier;return a!=null?t!==n.target&&th(n.target)&&a.matches(n.target):!0},addEventFields:function(t,r){r.cy=t.cy(),r.target=t},callbackContext:function(t,r,n){return r.qualifier!=null?n.target:t},beforeEmit:function(t,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},Jd=function(t){return Mt(t)?new is(t):t},qI={createEmitter:function(){for(var t=0;t<this.length;t++){var r=this[t],n=r._private;n.emitter||(n.emitter=new mp(Mte,r))}return this},emitter:function(){return this._private.emitter},on:function(t,r,n){for(var a=Jd(r),i=0;i<this.length;i++){var o=this[i];o.emitter().on(t,a,n)}return this},removeListener:function(t,r,n){for(var a=Jd(r),i=0;i<this.length;i++){var o=this[i];o.emitter().removeListener(t,a,n)}return this},removeAllListeners:function(){for(var t=0;t<this.length;t++){var r=this[t];r.emitter().removeAllListeners()}return this},one:function(t,r,n){for(var a=Jd(r),i=0;i<this.length;i++){var o=this[i];o.emitter().one(t,a,n)}return this},once:function(t,r,n){for(var a=Jd(r),i=0;i<this.length;i++){var o=this[i];o.emitter().on(t,a,n,{once:!0,onceCollection:this})}},emit:function(t,r){for(var n=0;n<this.length;n++){var a=this[n];a.emitter().emit(t,r)}return this},emitAndNotify:function(t,r){if(this.length!==0)return this.cy().notify(t,this),this.emit(t,r),this}};or.eventAliasesOn(qI);var VI={nodes:function(t){return this.filter(function(r){return r.isNode()}).filter(t)},edges:function(t){return this.filter(function(r){return r.isEdge()}).filter(t)},byGroup:function(){for(var t=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var a=this[n];a.isNode()?t.push(a):r.push(a)}return{nodes:t,edges:r}},filter:function(t,r){if(t===void 0)return this;if(Mt(t)||Ta(t))return new is(t).filter(this);if(Lr(t)){for(var n=this.spawn(),a=this,i=0;i<a.length;i++){var o=a[i],l=r?t.apply(r,[o,i,a]):t(o,i,a);l&&n.push(o)}return n}return this.spawn()},not:function(t){if(t){Mt(t)&&(t=this.filter(t));for(var r=this.spawn(),n=0;n<this.length;n++){var a=this[n],i=t.has(a);i||r.push(a)}return r}else return this},absoluteComplement:function(){var t=this.cy();return t.mutableElements().not(this)},intersect:function(t){if(Mt(t)){var r=t;return this.filter(r)}for(var n=this.spawn(),a=this,i=t,o=this.length<t.length,l=o?a:i,u=o?i:a,c=0;c<l.length;c++){var h=l[c];u.has(h)&&n.push(h)}return n},xor:function(t){var r=this._private.cy;Mt(t)&&(t=r.$(t));var n=this.spawn(),a=this,i=t,o=function(u,c){for(var h=0;h<u.length;h++){var d=u[h],v=d._private.data.id,p=c.hasElementWithId(v);p||n.push(d)}};return o(a,i),o(i,a),n},diff:function(t){var r=this._private.cy;Mt(t)&&(t=r.$(t));var n=this.spawn(),a=this.spawn(),i=this.spawn(),o=this,l=t,u=function(h,d,v){for(var p=0;p<h.length;p++){var m=h[p],b=m._private.data.id,x=d.hasElementWithId(b);x?i.merge(m):v.push(m)}};return u(o,l,n),u(l,o,a),{left:n,right:a,both:i}},add:function(t){var r=this._private.cy;if(!t)return this;if(Mt(t)){var n=t;t=r.mutableElements().filter(n)}for(var a=this.spawnSelf(),i=0;i<t.length;i++){var o=t[i],l=!this.has(o);l&&a.push(o)}return a},merge:function(t){var r=this._private,n=r.cy;if(!t)return this;if(t&&Mt(t)){var a=t;t=n.mutableElements().filter(a)}for(var i=r.map,o=0;o<t.length;o++){var l=t[o],u=l._private.data.id,c=!i.has(u);if(c){var h=this.length++;this[h]=l,i.set(u,{ele:l,index:h})}}return this},unmergeAt:function(t){var r=this[t],n=r.id(),a=this._private,i=a.map;this[t]=void 0,i.delete(n);var o=t===this.length-1;if(this.length>1&&!o){var l=this.length-1,u=this[l],c=u._private.data.id;this[l]=void 0,this[t]=u,i.set(c,{ele:u,index:t})}return this.length--,this},unmergeOne:function(t){t=t[0];var r=this._private,n=t._private.data.id,a=r.map,i=a.get(n);if(!i)return this;var o=i.index;return this.unmergeAt(o),this},unmerge:function(t){var r=this._private.cy;if(!t)return this;if(t&&Mt(t)){var n=t;t=r.mutableElements().filter(n)}for(var a=0;a<t.length;a++)this.unmergeOne(t[a]);return this},unmergeBy:function(t){for(var r=this.length-1;r>=0;r--){var n=this[r];t(n)&&this.unmergeAt(r)}return this},map:function(t,r){for(var n=[],a=this,i=0;i<a.length;i++){var o=a[i],l=r?t.apply(r,[o,i,a]):t(o,i,a);n.push(l)}return n},reduce:function(t,r){for(var n=r,a=this,i=0;i<a.length;i++)n=t(n,a[i],i,a);return n},max:function(t,r){for(var n=-1/0,a,i=this,o=0;o<i.length;o++){var l=i[o],u=r?t.apply(r,[l,o,i]):t(l,o,i);u>n&&(n=u,a=l)}return{value:n,ele:a}},min:function(t,r){for(var n=1/0,a,i=this,o=0;o<i.length;o++){var l=i[o],u=r?t.apply(r,[l,o,i]):t(l,o,i);u<n&&(n=u,a=l)}return{value:n,ele:a}}},tr=VI;tr.u=tr["|"]=tr["+"]=tr.union=tr.or=tr.add;tr["\\"]=tr["!"]=tr["-"]=tr.difference=tr.relativeComplement=tr.subtract=tr.not;tr.n=tr["&"]=tr["."]=tr.and=tr.intersection=tr.intersect;tr["^"]=tr["(+)"]=tr["(-)"]=tr.symmetricDifference=tr.symdiff=tr.xor;tr.fnFilter=tr.filterFn=tr.stdFilter=tr.filter;tr.complement=tr.abscomp=tr.absoluteComplement;var Ote={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var t=this[0];if(t)return t._private.group}},$I=function(t,r){var n=t.cy(),a=n.hasCompoundNodes();function i(h){var d=h.pstyle("z-compound-depth");return d.value==="auto"?a?h.zDepth():0:d.value==="bottom"?-1:d.value==="top"?YE:0}var o=i(t)-i(r);if(o!==0)return o;function l(h){var d=h.pstyle("z-index-compare");return d.value==="auto"&&h.isNode()?1:0}var u=l(t)-l(r);if(u!==0)return u;var c=t.pstyle("z-index").value-r.pstyle("z-index").value;return c!==0?c:t.poolIndex()-r.poolIndex()},yg={forEach:function(t,r){if(Lr(t))for(var n=this.length,a=0;a<n;a++){var i=this[a],o=r?t.apply(r,[i,a,this]):t(i,a,this);if(o===!1)break}return this},toArray:function(){for(var t=[],r=0;r<this.length;r++)t.push(this[r]);return t},slice:function(t,r){var n=[],a=this.length;r==null&&(r=a),t==null&&(t=0),t<0&&(t=a+t),r<0&&(r=a+r);for(var i=t;i>=0&&i<r&&i<a;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(t){if(!Lr(t))return this;var r=this.toArray().sort(t);return this.spawn(r)},sortByZIndex:function(){return this.sort($I)},zDepth:function(){var t=this[0];if(t){var r=t._private,n=r.group;if(n==="nodes"){var a=r.data.parent?t.parents().size():0;return t.isParent()?a:YE-1}else{var i=r.source,o=r.target,l=i.zDepth(),u=o.zDepth();return Math.max(l,u,0)}}}};yg.each=yg.forEach;var _te=function(){var t="undefined",r=(typeof Symbol>"u"?"undefined":rn(Symbol))!=t&&rn(Symbol.iterator)!=t;r&&(yg[Symbol.iterator]=function(){var n=this,a={value:void 0,done:!1},i=0,o=this.length;return qB({next:function(){return i<o?a.value=n[i++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})})};_te();var Dte=Dn({nodeDimensionsIncludeLabels:!1}),vv={layoutDimensions:function(t){t=Dte(t);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(t.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(t,r,n){var a=this.nodes().filter(function(R){return!R.isParent()}),i=this.cy(),o=r.eles,l=function(L){return L.id()},u=Du(n,l);t.emit({type:"layoutstart",layout:t}),t.animations=[];var c=function(L,_,N){var P={x:_.x1+_.w/2,y:_.y1+_.h/2},U={x:(N.x-P.x)*L,y:(N.y-P.y)*L};return{x:P.x+U.x,y:P.y+U.y}},h=r.spacingFactor&&r.spacingFactor!==1,d=function(){if(!h)return null;for(var L=$n(),_=0;_<a.length;_++){var N=a[_],P=u(N,_);uI(L,P.x,P.y)}return L},v=d(),p=Du(function(R,L){var _=u(R,L);if(h){var N=Math.abs(r.spacingFactor);_=c(N,v,_)}return r.transform!=null&&(_=r.transform(R,_)),_},l);if(r.animate){for(var m=0;m<a.length;m++){var b=a[m],x=p(b,m),w=r.animateFilter==null||r.animateFilter(b,m);if(w){var T=b.animation({position:x,duration:r.animationDuration,easing:r.animationEasing});t.animations.push(T)}else b.position(x)}if(r.fit){var S=i.animation({fit:{boundingBox:o.boundingBoxAt(p),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});t.animations.push(S)}else if(r.zoom!==void 0&&r.pan!==void 0){var D=i.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});t.animations.push(D)}t.animations.forEach(function(R){return R.play()}),t.one("layoutready",r.ready),t.emit({type:"layoutready",layout:t}),Vu.all(t.animations.map(function(R){return R.promise()})).then(function(){t.one("layoutstop",r.stop),t.emit({type:"layoutstop",layout:t})})}else a.positions(p),r.fit&&i.fit(r.eles,r.padding),r.zoom!=null&&i.zoom(r.zoom),r.pan&&i.pan(r.pan),t.one("layoutready",r.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",r.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){var r=this.cy();return r.makeLayout(Nt({},t,{eles:this}))}};vv.createLayout=vv.makeLayout=vv.layout;function YI(e,t,r){var n=r._private,a=n.styleCache=n.styleCache||[],i;return(i=a[e])!=null||(i=a[e]=t(r)),i}function yp(e,t){return e=cl(e),function(n){return YI(e,t,n)}}function bp(e,t){e=cl(e);var r=function(a){return t.call(a)};return function(){var a=this[0];if(a)return YI(e,r,a)}}var Mn={recalculateRenderedStyle:function(t){var r=this.cy(),n=r.renderer(),a=r.styleEnabled();return n&&a&&n.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t=this.cy(),r=function(i){return i._private.styleCache=null};if(t.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(a){r(a),a.connectedEdges().forEach(r)});return this},updateStyle:function(t){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var a=r.hasCompoundNodes(),i=this;t=!!(t||t===void 0),a&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=i;return t?o.emitAndNotify("style"):o.emit("style"),i.forEach(function(l){return l._private.styleDirty=!0}),this},cleanStyle:function(){var t=this.cy();if(t.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,t.style().apply(n))}},parsedStyle:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],a=n.cy();if(a.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,a.style().apply(n));var i=n._private.style[t];return i??(r?a.style().getDefaultProperty(t):null)}},numericStyle:function(t){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(t);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(t){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(t).units},renderedStyle:function(t){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,t)},style:function(t,r){var n=this.cy();if(!n.styleEnabled())return this;var a=!1,i=n.style();if(Zt(t)){var o=t;i.applyBypass(this,o,a),this.emitAndNotify("style")}else if(Mt(t))if(r===void 0){var l=this[0];return l?i.getStylePropertyValue(l,t):void 0}else i.applyBypass(this,t,r,a),this.emitAndNotify("style");else if(t===void 0){var u=this[0];return u?i.getRawStyle(u):void 0}return this},removeStyle:function(t){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,a=r.style(),i=this;if(t===void 0)for(var o=0;o<i.length;o++){var l=i[o];a.removeAllBypasses(l,n)}else{t=t.split(/\s+/);for(var u=0;u<i.length;u++){var c=i[u];a.removeBypasses(c,t,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var r=t.hasCompoundNodes(),n=this[0];if(n){var a=n._private,i=n.pstyle("opacity").value;if(!r)return i;var o=a.data.parent?n.parents():null;if(o)for(var l=0;l<o.length;l++){var u=o[l],c=u.pstyle("opacity").value;i=c*i}return i}},transparent:function(){var t=this.cy();if(!t.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var t=this.cy();if(!t.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function R1(e,t){var r=e._private,n=r.data.parent?e.parents():null;if(n)for(var a=0;a<n.length;a++){var i=n[a];if(!t(i))return!1}return!0}function aS(e){var t=e.ok,r=e.edgeOkViaNode||e.ok,n=e.parentOk||e.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var i=this[0],o=a.hasCompoundNodes();if(i){var l=i._private;if(!t(i))return!1;if(i.isNode())return!o||R1(i,n);var u=l.source,c=l.target;return r(u)&&(!o||R1(u,r))&&(u===c||r(c)&&(!o||R1(c,r)))}}}var $u=yp("eleTakesUpSpace",function(e){return e.pstyle("display").value==="element"&&e.width()!==0&&(e.isNode()?e.height()!==0:!0)});Mn.takesUpSpace=bp("takesUpSpace",aS({ok:$u}));var kte=yp("eleInteractive",function(e){return e.pstyle("events").value==="yes"&&e.pstyle("visibility").value==="visible"&&$u(e)}),Nte=yp("parentInteractive",function(e){return e.pstyle("visibility").value==="visible"&&$u(e)});Mn.interactive=bp("interactive",aS({ok:kte,parentOk:Nte,edgeOkViaNode:$u}));Mn.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var Pte=yp("eleVisible",function(e){return e.pstyle("visibility").value==="visible"&&e.pstyle("opacity").pfValue!==0&&$u(e)}),Rte=$u;Mn.visible=bp("visible",aS({ok:Pte,edgeOkViaNode:Rte}));Mn.hidden=function(){var e=this[0];if(e)return!e.visible()};Mn.isBundledBezier=bp("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Mn.bypass=Mn.css=Mn.style;Mn.renderedCss=Mn.renderedStyle;Mn.removeBypass=Mn.removeCss=Mn.removeStyle;Mn.pstyle=Mn.parsedStyle;var Jo={};function Rk(e){return function(){var t=arguments,r=[];if(t.length===2){var n=t[0],a=t[1];this.on(e.event,n,a)}else if(t.length===1&&Lr(t[0])){var i=t[0];this.on(e.event,i)}else if(t.length===0||t.length===1&&xr(t[0])){for(var o=t.length===1?t[0]:null,l=0;l<this.length;l++){var u=this[l],c=!e.ableField||u._private[e.ableField],h=u._private[e.field]!=e.value;if(e.overrideAble){var d=e.overrideAble(u);if(d!==void 0&&(c=d,!d))return this}c&&(u._private[e.field]=e.value,h&&r.push(u))}var v=this.spawn(r);v.updateStyle(),v.emit(e.event),o&&v.emit(o)}return this}}function Yu(e){Jo[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var r=e.overrideField(t);if(r!==void 0)return r}return t._private[e.field]}},Jo[e.on]=Rk({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),Jo[e.off]=Rk({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}Yu({field:"locked",overrideField:function(t){return t.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Yu({field:"grabbable",overrideField:function(t){return t.cy().autoungrabify()||t.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Yu({field:"selected",ableField:"selectable",overrideAble:function(t){return t.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Yu({field:"selectable",overrideField:function(t){return t.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Jo.deselect=Jo.unselect;Jo.grabbed=function(){var e=this[0];if(e)return e._private.grabbed};Yu({field:"active",on:"activate",off:"unactivate"});Yu({field:"pannable",on:"panify",off:"unpanify"});Jo.inactive=function(){var e=this[0];if(e)return!e._private.active};var jn={},Lk=function(t){return function(n){for(var a=this,i=[],o=0;o<a.length;o++){var l=a[o];if(l.isNode()){for(var u=!1,c=l.connectedEdges(),h=0;h<c.length;h++){var d=c[h],v=d.source(),p=d.target();if(t.noIncomingEdges&&p===l&&v!==l||t.noOutgoingEdges&&v===l&&p!==l){u=!0;break}}u||i.push(l)}}return this.spawn(i,!0).filter(n)}},jk=function(t){return function(r){for(var n=this,a=[],i=0;i<n.length;i++){var o=n[i];if(o.isNode())for(var l=o.connectedEdges(),u=0;u<l.length;u++){var c=l[u],h=c.source(),d=c.target();t.outgoing&&h===o?(a.push(c),a.push(d)):t.incoming&&d===o&&(a.push(c),a.push(h))}}return this.spawn(a,!0).filter(r)}},Bk=function(t){return function(r){for(var n=this,a=[],i={};;){var o=t.outgoing?n.outgoers():n.incomers();if(o.length===0)break;for(var l=!1,u=0;u<o.length;u++){var c=o[u],h=c.id();i[h]||(i[h]=!0,a.push(c),l=!0)}if(!l)break;n=o}return this.spawn(a,!0).filter(r)}};jn.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null};Nt(jn,{roots:Lk({noIncomingEdges:!0}),leaves:Lk({noOutgoingEdges:!0}),outgoers:Va(jk({outgoing:!0}),"outgoers"),successors:Bk({outgoing:!0}),incomers:Va(jk({incoming:!0}),"incomers"),predecessors:Bk({})});Nt(jn,{neighborhood:Va(function(e){for(var t=[],r=this.nodes(),n=0;n<r.length;n++)for(var a=r[n],i=a.connectedEdges(),o=0;o<i.length;o++){var l=i[o],u=l.source(),c=l.target(),h=a===u?c:u;h.length>0&&t.push(h[0]),t.push(l[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}});jn.neighbourhood=jn.neighborhood;jn.closedNeighbourhood=jn.closedNeighborhood;jn.openNeighbourhood=jn.openNeighborhood;Nt(jn,{source:Va(function(t){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&t?n.filter(t):n},"source"),target:Va(function(t){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&t?n.filter(t):n},"target"),sources:Ik({attr:"source"}),targets:Ik({attr:"target"})});function Ik(e){return function(r){for(var n=[],a=0;a<this.length;a++){var i=this[a],o=i._private[e.attr];o&&n.push(o)}return this.spawn(n,!0).filter(r)}}Nt(jn,{edgesWith:Va(zk(),"edgesWith"),edgesTo:Va(zk({thisIsSrc:!0}),"edgesTo")});function zk(e){return function(r){var n=[],a=this._private.cy,i=e||{};Mt(r)&&(r=a.$(r));for(var o=0;o<r.length;o++)for(var l=r[o]._private.edges,u=0;u<l.length;u++){var c=l[u],h=c._private.data,d=this.hasElementWithId(h.source)&&r.hasElementWithId(h.target),v=r.hasElementWithId(h.source)&&this.hasElementWithId(h.target),p=d||v;p&&((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!d||i.thisIsTgt&&!v)||n.push(c))}return this.spawn(n,!0)}}Nt(jn,{connectedEdges:Va(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var a=r[n];if(a.isNode())for(var i=a._private.edges,o=0;o<i.length;o++){var l=i[o];t.push(l)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:Va(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var a=r[n];a.isEdge()&&(t.push(a.source()[0]),t.push(a.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:Va(Fk(),"parallelEdges"),codirectedEdges:Va(Fk({codirected:!0}),"codirectedEdges")});function Fk(e){var t={codirected:!1};return e=Nt({},t,e),function(n){for(var a=[],i=this.edges(),o=e,l=0;l<i.length;l++)for(var u=i[l],c=u._private,h=c.source,d=h._private.data.id,v=c.data.target,p=h._private.edges,m=0;m<p.length;m++){var b=p[m],x=b._private.data,w=x.target,T=x.source,S=w===v&&T===d,D=d===w&&v===T;(o.codirected&&S||!o.codirected&&(S||D))&&a.push(b)}return this.spawn(a,!0).filter(n)}}Nt(jn,{components:function(t){var r=this,n=r.cy(),a=n.collection(),i=t==null?r.nodes():t.nodes(),o=[];t!=null&&i.empty()&&(i=t.sources());var l=function(h,d){a.merge(h),i.unmerge(h),d.merge(h)};if(i.empty())return r.spawn();var u=function(){var h=n.collection();o.push(h);var d=i[0];l(d,h),r.bfs({directed:!1,roots:d,visit:function(p){return l(p,h)}}),h.forEach(function(v){v.connectedEdges().forEach(function(p){r.has(p)&&h.has(p.source())&&h.has(p.target())&&h.merge(p)})})};do u();while(i.length>0);return o},component:function(){var t=this[0];return t.cy().mutableElements().components(t)[0]}});jn.componentsOf=jn.components;var On=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t===void 0){Rr("A collection must have a reference to the core");return}var i=new Wi,o=!1;if(!r)r=[];else if(r.length>0&&Zt(r[0])&&!th(r[0])){o=!0;for(var l=[],u=new qu,c=0,h=r.length;c<h;c++){var d=r[c];d.data==null&&(d.data={});var v=d.data;if(v.id==null)v.id=oI();else if(t.hasElementWithId(v.id)||u.has(v.id))continue;var p=new up(t,d,!1);l.push(p),u.add(v.id)}r=l}this.length=0;for(var m=0,b=r.length;m<b;m++){var x=r[m][0];if(x!=null){var w=x._private.data.id;(!n||!i.has(w))&&(n&&i.set(w,{index:this.length,ele:x}),this[this.length]=x,this.length++)}}this._private={eles:this,cy:t,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(T){this.lazyMap=T},rebuildMap:function(){for(var S=this.lazyMap=new Wi,D=this.eles,R=0;R<D.length;R++){var L=D[R];S.set(L.id(),{index:R,ele:L})}}},n&&(this._private.map=i),o&&!a&&this.restore()},Sr=up.prototype=On.prototype=Object.create(Array.prototype);Sr.instanceString=function(){return"collection"};Sr.spawn=function(e,t){return new On(this.cy(),e,t)};Sr.spawnSelf=function(){return this.spawn(this)};Sr.cy=function(){return this._private.cy};Sr.renderer=function(){return this._private.cy.renderer()};Sr.element=function(){return this[0]};Sr.collection=function(){return YB(this)?this:new On(this._private.cy,[this])};Sr.unique=function(){return new On(this._private.cy,this,!0)};Sr.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)};Sr.getElementById=function(e){e=""+e;var t=this._private.cy,r=this._private.map.get(e);return r?r.ele:new On(t)};Sr.$id=Sr.getElementById;Sr.poolIndex=function(){var e=this._private.cy,t=e._private.elements,r=this[0]._private.data.id;return t._private.map.get(r).index};Sr.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index};Sr.indexOfId=function(e){return e=""+e,this._private.map.get(e).index};Sr.json=function(e){var t=this.element(),r=this.cy();if(t==null&&e)return this;if(t!=null){var n=t._private;if(Zt(e)){if(r.startBatch(),e.data){t.data(e.data);var a=n.data;if(t.isEdge()){var i=!1,o={},l=e.data.source,u=e.data.target;l!=null&&l!=a.source&&(o.source=""+l,i=!0),u!=null&&u!=a.target&&(o.target=""+u,i=!0),i&&(t=t.move(o))}else{var c="parent"in e.data,h=e.data.parent;c&&(h!=null||a.parent!=null)&&h!=a.parent&&(h===void 0&&(h=null),h!=null&&(h=""+h),t=t.move({parent:h}))}}e.position&&t.position(e.position);var d=function(b,x,w){var T=e[b];T!=null&&T!==n[b]&&(T?t[x]():t[w]())};return d("removed","remove","restore"),d("selected","select","unselect"),d("selectable","selectify","unselectify"),d("locked","lock","unlock"),d("grabbable","grabify","ungrabify"),d("pannable","panify","unpanify"),e.classes!=null&&t.classes(e.classes),r.endBatch(),this}else if(e===void 0){var v={data:yi(n.data),position:yi(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};v.classes="";var p=0;return n.classes.forEach(function(m){return v.classes+=p++===0?m:" "+m}),v}}};Sr.jsons=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t],n=r.json();e.push(n)}return e};Sr.clone=function(){for(var e=this.cy(),t=[],r=0;r<this.length;r++){var n=this[r],a=n.json(),i=new up(e,a,!1);t.push(i)}return new On(e,t)};Sr.copy=Sr.clone;Sr.restore=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),a=n._private,i=[],o=[],l,u=0,c=r.length;u<c;u++){var h=r[u];t&&!h.removed()||(h.isNode()?i.push(h):o.push(h))}l=i.concat(o);var d,v=function(){l.splice(d,1),d--};for(d=0;d<l.length;d++){var p=l[d],m=p._private,b=m.data;if(p.clearTraversalCache(),!(!t&&!m.removed)){if(b.id===void 0)b.id=oI();else if(pt(b.id))b.id=""+b.id;else if(rs(b.id)||!Mt(b.id)){Rr("Can not create element with invalid string ID `"+b.id+"`"),v();continue}else if(n.hasElementWithId(b.id)){Rr("Can not create second element with ID `"+b.id+"`"),v();continue}}var x=b.id;if(p.isNode()){var w=m.position;w.x==null&&(w.x=0),w.y==null&&(w.y=0)}if(p.isEdge()){for(var T=p,S=["source","target"],D=S.length,R=!1,L=0;L<D;L++){var _=S[L],N=b[_];pt(N)&&(N=b[_]=""+b[_]),N==null||N===""?(Rr("Can not create edge `"+x+"` with unspecified "+_),R=!0):n.hasElementWithId(N)||(Rr("Can not create edge `"+x+"` with nonexistant "+_+" `"+N+"`"),R=!0)}if(R){v();continue}var P=n.getElementById(b.source),U=n.getElementById(b.target);P.same(U)?P._private.edges.push(T):(P._private.edges.push(T),U._private.edges.push(T)),T._private.source=P,T._private.target=U}m.map=new Wi,m.map.set(x,{ele:p,index:0}),m.removed=!1,t&&n.addToPool(p)}for(var j=0;j<i.length;j++){var F=i[j],I=F._private.data;pt(I.parent)&&(I.parent=""+I.parent);var G=I.parent,Y=G!=null;if(Y||F._private.parent){var q=F._private.parent?n.collection().merge(F._private.parent):n.getElementById(G);if(q.empty())I.parent=void 0;else if(q[0].removed())sr("Node added with missing parent, reference to parent removed"),I.parent=void 0,F._private.parent=null;else{for(var V=!1,W=q;!W.empty();){if(F.same(W)){V=!0,I.parent=void 0;break}W=W.parent()}V||(q[0]._private.children.push(F),F._private.parent=q[0],a.hasCompoundNodes=!0)}}}if(l.length>0){for(var J=l.length===r.length?r:new On(n,l),ie=0;ie<J.length;ie++){var K=J[ie];K.isNode()||(K.parallelEdges().clearTraversalCache(),K.source().clearTraversalCache(),K.target().clearTraversalCache())}var Z;a.hasCompoundNodes?Z=n.collection().merge(J).merge(J.connectedNodes()).merge(J.parent()):Z=J,Z.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(e),e?J.emitAndNotify("add"):t&&J.emit("add")}return r};Sr.removed=function(){var e=this[0];return e&&e._private.removed};Sr.inside=function(){var e=this[0];return e&&!e._private.removed};Sr.remove=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],a={},i=r._private.cy;function o(G){for(var Y=G._private.edges,q=0;q<Y.length;q++)u(Y[q])}function l(G){for(var Y=G._private.children,q=0;q<Y.length;q++)u(Y[q])}function u(G){var Y=a[G.id()];t&&G.removed()||Y||(a[G.id()]=!0,G.isNode()?(n.push(G),o(G),l(G)):n.unshift(G))}for(var c=0,h=r.length;c<h;c++){var d=r[c];u(d)}function v(G,Y){var q=G._private.edges;ns(q,Y),G.clearTraversalCache()}function p(G){G.clearTraversalCache()}var m=[];m.ids={};function b(G,Y){Y=Y[0],G=G[0];var q=G._private.children,V=G.id();ns(q,Y),Y._private.parent=null,m.ids[V]||(m.ids[V]=!0,m.push(G))}r.dirtyCompoundBoundsCache(),t&&i.removeFromPool(n);for(var x=0;x<n.length;x++){var w=n[x];if(w.isEdge()){var T=w.source()[0],S=w.target()[0];v(T,w),v(S,w);for(var D=w.parallelEdges(),R=0;R<D.length;R++){var L=D[R];p(L),L.isBundledBezier()&&L.dirtyBoundingBoxCache()}}else{var _=w.parent();_.length!==0&&b(_,w)}t&&(w._private.removed=!0)}var N=i._private.elements;i._private.hasCompoundNodes=!1;for(var P=0;P<N.length;P++){var U=N[P];if(U.isParent()){i._private.hasCompoundNodes=!0;break}}var j=new On(this.cy(),n);j.size()>0&&(e?j.emitAndNotify("remove"):t&&j.emit("remove"));for(var F=0;F<m.length;F++){var I=m[F];(!t||!I.removed())&&I.updateStyle()}return j};Sr.move=function(e){var t=this._private.cy,r=this,n=!1,a=!1,i=function(m){return m==null?m:""+m};if(e.source!==void 0||e.target!==void 0){var o=i(e.source),l=i(e.target),u=o!=null&&t.hasElementWithId(o),c=l!=null&&t.hasElementWithId(l);(u||c)&&(t.batch(function(){r.remove(n,a),r.emitAndNotify("moveout");for(var p=0;p<r.length;p++){var m=r[p],b=m._private.data;m.isEdge()&&(u&&(b.source=o),c&&(b.target=l))}r.restore(n,a)}),r.emitAndNotify("move"))}else if(e.parent!==void 0){var h=i(e.parent),d=h===null||t.hasElementWithId(h);if(d){var v=h===null?void 0:h;t.batch(function(){var p=r.remove(n,a);p.emitAndNotify("moveout");for(var m=0;m<r.length;m++){var b=r[m],x=b._private.data;b.isNode()&&(x.parent=v)}p.restore(n,a)}),r.emitAndNotify("move")}}return this};[yI,$ee,dv,Qo,Nu,ste,pp,Ste,qI,VI,Ote,yg,vv,Mn,Jo,jn].forEach(function(e){Nt(Sr,e)});var Lte={add:function(t){var r,n=this;if(Ta(t)){var a=t;if(a._private.cy===n)r=a.restore();else{for(var i=[],o=0;o<a.length;o++){var l=a[o];i.push(l.json())}r=new On(n,i)}}else if(xr(t)){var u=t;r=new On(n,u)}else if(Zt(t)&&(xr(t.nodes)||xr(t.edges))){for(var c=t,h=[],d=["nodes","edges"],v=0,p=d.length;v<p;v++){var m=d[v],b=c[m];if(xr(b))for(var x=0,w=b.length;x<w;x++){var T=Nt({group:m},b[x]);h.push(T)}}r=new On(n,h)}else{var S=t;r=new up(n,S).collection()}return r},remove:function(t){if(!Ta(t)){if(Mt(t)){var r=t;t=this.$(r)}}return t.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function jte(e,t,r,n){var a=4,i=.001,o=1e-7,l=10,u=11,c=1/(u-1),h=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var d=0;d<4;++d)if(typeof arguments[d]!="number"||isNaN(arguments[d])||!isFinite(arguments[d]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var v=h?new Float32Array(u):new Array(u);function p(U,j){return 1-3*j+3*U}function m(U,j){return 3*j-6*U}function b(U){return 3*U}function x(U,j,F){return((p(j,F)*U+m(j,F))*U+b(j))*U}function w(U,j,F){return 3*p(j,F)*U*U+2*m(j,F)*U+b(j)}function T(U,j){for(var F=0;F<a;++F){var I=w(j,e,r);if(I===0)return j;var G=x(j,e,r)-U;j-=G/I}return j}function S(){for(var U=0;U<u;++U)v[U]=x(U*c,e,r)}function D(U,j,F){var I,G,Y=0;do G=j+(F-j)/2,I=x(G,e,r)-U,I>0?F=G:j=G;while(Math.abs(I)>o&&++Y<l);return G}function R(U){for(var j=0,F=1,I=u-1;F!==I&&v[F]<=U;++F)j+=c;--F;var G=(U-v[F])/(v[F+1]-v[F]),Y=j+G*c,q=w(Y,e,r);return q>=i?T(U,Y):q===0?Y:D(U,j,j+c)}var L=!1;function _(){L=!0,(e!==t||r!==n)&&S()}var N=function(j){return L||_(),e===t&&r===n?j:j===0?0:j===1?1:x(R(j),t,n)};N.getControlPoints=function(){return[{x:e,y:t},{x:r,y:n}]};var P="generateBezier("+[e,t,r,n]+")";return N.toString=function(){return P},N}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var Bte=(function(){function e(n){return-n.tension*n.x-n.friction*n.v}function t(n,a,i){var o={x:n.x+i.dx*a,v:n.v+i.dv*a,tension:n.tension,friction:n.friction};return{dx:o.v,dv:e(o)}}function r(n,a){var i={dx:n.v,dv:e(n)},o=t(n,a*.5,i),l=t(n,a*.5,o),u=t(n,a,l),c=1/6*(i.dx+2*(o.dx+l.dx)+u.dx),h=1/6*(i.dv+2*(o.dv+l.dv)+u.dv);return n.x=n.x+c*a,n.v=n.v+h*a,n}return function n(a,i,o){var l={x:-1,v:0,tension:null,friction:null},u=[0],c=0,h=1/1e4,d=16/1e3,v,p,m;for(a=parseFloat(a)||500,i=parseFloat(i)||20,o=o||null,l.tension=a,l.friction=i,v=o!==null,v?(c=n(a,i),p=c/o*d):p=d;m=r(m||l,p),u.push(1+m.x),c+=16,Math.abs(m.x)>h&&Math.abs(m.v)>h;);return v?function(b){return u[b*(u.length-1)|0]}:c}})(),wr=function(t,r,n,a){var i=jte(t,r,n,a);return function(o,l,u){return o+(l-o)*i(u)}},gv={linear:function(t,r,n){return t+(r-t)*n},ease:wr(.25,.1,.25,1),"ease-in":wr(.42,0,1,1),"ease-out":wr(0,0,.58,1),"ease-in-out":wr(.42,0,.58,1),"ease-in-sine":wr(.47,0,.745,.715),"ease-out-sine":wr(.39,.575,.565,1),"ease-in-out-sine":wr(.445,.05,.55,.95),"ease-in-quad":wr(.55,.085,.68,.53),"ease-out-quad":wr(.25,.46,.45,.94),"ease-in-out-quad":wr(.455,.03,.515,.955),"ease-in-cubic":wr(.55,.055,.675,.19),"ease-out-cubic":wr(.215,.61,.355,1),"ease-in-out-cubic":wr(.645,.045,.355,1),"ease-in-quart":wr(.895,.03,.685,.22),"ease-out-quart":wr(.165,.84,.44,1),"ease-in-out-quart":wr(.77,0,.175,1),"ease-in-quint":wr(.755,.05,.855,.06),"ease-out-quint":wr(.23,1,.32,1),"ease-in-out-quint":wr(.86,0,.07,1),"ease-in-expo":wr(.95,.05,.795,.035),"ease-out-expo":wr(.19,1,.22,1),"ease-in-out-expo":wr(1,0,0,1),"ease-in-circ":wr(.6,.04,.98,.335),"ease-out-circ":wr(.075,.82,.165,1),"ease-in-out-circ":wr(.785,.135,.15,.86),spring:function(t,r,n){if(n===0)return gv.linear;var a=Bte(t,r,n);return function(i,o,l){return i+(o-i)*a(l)}},"cubic-bezier":wr};function Uk(e,t,r,n,a){if(n===1||t===r)return r;var i=a(t,r,n);return e==null||((e.roundValue||e.color)&&(i=Math.round(i)),e.min!==void 0&&(i=Math.max(i,e.min)),e.max!==void 0&&(i=Math.min(i,e.max))),i}function Gk(e,t){return e.pfValue!=null||e.value!=null?e.pfValue!=null&&(t==null||t.type.units!=="%")?e.pfValue:e.value:e}function tu(e,t,r,n,a){var i=a!=null?a.type:null;r<0?r=0:r>1&&(r=1);var o=Gk(e,a),l=Gk(t,a);if(pt(o)&&pt(l))return Uk(i,o,l,r,n);if(xr(o)&&xr(l)){for(var u=[],c=0;c<l.length;c++){var h=o[c],d=l[c];if(h!=null&&d!=null){var v=Uk(i,h,d,r,n);u.push(v)}else u.push(d)}return u}}function Ite(e,t,r,n){var a=!n,i=e._private,o=t._private,l=o.easing,u=o.startTime,c=n?e:e.cy(),h=c.style();if(!o.easingImpl)if(l==null)o.easingImpl=gv.linear;else{var d;if(Mt(l)){var v=h.parse("transition-timing-function",l);d=v.value}else d=l;var p,m;Mt(d)?(p=d,m=[]):(p=d[1],m=d.slice(2).map(function(J){return+J})),m.length>0?(p==="spring"&&m.push(o.duration),o.easingImpl=gv[p].apply(null,m)):o.easingImpl=gv[p]}var b=o.easingImpl,x;if(o.duration===0?x=1:x=(r-u)/o.duration,o.applying&&(x=o.progress),x<0?x=0:x>1&&(x=1),o.delay==null){var w=o.startPosition,T=o.position;if(T&&a&&!e.locked()){var S={};Wc(w.x,T.x)&&(S.x=tu(w.x,T.x,x,b)),Wc(w.y,T.y)&&(S.y=tu(w.y,T.y,x,b)),e.position(S)}var D=o.startPan,R=o.pan,L=i.pan,_=R!=null&&n;_&&(Wc(D.x,R.x)&&(L.x=tu(D.x,R.x,x,b)),Wc(D.y,R.y)&&(L.y=tu(D.y,R.y,x,b)),e.emit("pan"));var N=o.startZoom,P=o.zoom,U=P!=null&&n;U&&(Wc(N,P)&&(i.zoom=kf(i.minZoom,tu(N,P,x,b),i.maxZoom)),e.emit("zoom")),(_||U)&&e.emit("viewport");var j=o.style;if(j&&j.length>0&&a){for(var F=0;F<j.length;F++){var I=j[F],G=I.name,Y=I,q=o.startStyle[G],V=h.properties[q.name],W=tu(q,Y,x,b,V);h.overrideBypass(e,G,W)}e.emit("style")}}return o.progress=x,x}function Wc(e,t){return e==null||t==null?!1:pt(e)&&pt(t)?!0:!!(e&&t)}function zte(e,t,r,n){var a=t._private;a.started=!0,a.startTime=r-a.progress*a.duration}function qk(e,t){var r=t._private.aniEles,n=[];function a(h,d){var v=h._private,p=v.animation.current,m=v.animation.queue,b=!1;if(p.length===0){var x=m.shift();x&&p.push(x)}for(var w=function(L){for(var _=L.length-1;_>=0;_--){var N=L[_];N()}L.splice(0,L.length)},T=p.length-1;T>=0;T--){var S=p[T],D=S._private;if(D.stopped){p.splice(T,1),D.hooked=!1,D.playing=!1,D.started=!1,w(D.frames);continue}!D.playing&&!D.applying||(D.playing&&D.applying&&(D.applying=!1),D.started||zte(h,S,e),Ite(h,S,e,d),D.applying&&(D.applying=!1),w(D.frames),D.step!=null&&D.step(e),S.completed()&&(p.splice(T,1),D.hooked=!1,D.playing=!1,D.started=!1,w(D.completes)),b=!0)}return!d&&p.length===0&&m.length===0&&n.push(h),b}for(var i=!1,o=0;o<r.length;o++){var l=r[o],u=a(l);i=i||u}var c=a(t,!0);(i||c)&&(r.length>0?t.notify("draw",r):t.notify("draw")),r.unmerge(n),t.emit("step")}var Fte={animate:or.animate(),animation:or.animation(),animated:or.animated(),clearQueue:or.clearQueue(),delay:or.delay(),delayAnimation:or.delayAnimation(),stop:or.stop(),addToAnimationPool:function(t){var r=this;r.styleEnabled()&&r._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,!t.styleEnabled())return;function r(){t._private.animationsRunning&&dg(function(i){qk(i,t),r()})}var n=t.renderer();n&&n.beforeRender?n.beforeRender(function(i,o){qk(o,t)},n.beforeRenderPriorities.animations):r()}},Ute={qualifierCompare:function(t,r){return t==null||r==null?t==null&&r==null:t.sameText(r)},eventMatches:function(t,r,n){var a=r.qualifier;return a!=null?t!==n.target&&th(n.target)&&a.matches(n.target):!0},addEventFields:function(t,r){r.cy=t,r.target=t},callbackContext:function(t,r,n){return r.qualifier!=null?n.target:t}},ev=function(t){return Mt(t)?new is(t):t},HI={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new mp(Ute,this)),this},emitter:function(){return this._private.emitter},on:function(t,r,n){return this.emitter().on(t,ev(r),n),this},removeListener:function(t,r,n){return this.emitter().removeListener(t,ev(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(t,r,n){return this.emitter().one(t,ev(r),n),this},once:function(t,r,n){return this.emitter().one(t,ev(r),n),this},emit:function(t,r){return this.emitter().emit(t,r),this},emitAndNotify:function(t,r){return this.emit(t),this.notify(t,r),this}};or.eventAliasesOn(HI);var Kx={png:function(t){var r=this._private.renderer;return t=t||{},r.png(t)},jpg:function(t){var r=this._private.renderer;return t=t||{},t.bg=t.bg||"#fff",r.jpg(t)}};Kx.jpeg=Kx.jpg;var pv={layout:function(t){var r=this;if(t==null){Rr("Layout options must be specified to make a layout");return}if(t.name==null){Rr("A `name` must be specified to make a layout");return}var n=t.name,a=r.extension("layout",n);if(a==null){Rr("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var i;Mt(t.eles)?i=r.$(t.eles):i=t.eles!=null?t.eles:r.$();var o=new a(Nt({},t,{cy:r,eles:i}));return o}};pv.createLayout=pv.makeLayout=pv.layout;var Gte={notify:function(t,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var a=n.batchNotifications[t]=n.batchNotifications[t]||this.collection();r!=null&&a.merge(r);return}if(n.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(t,r)}},notifications:function(t){var r=this._private;return t===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!t,this)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return t.batchCount==null&&(t.batchCount=0),t.batchCount===0&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},endBatch:function(){var t=this._private;if(t.batchCount===0)return this;if(t.batchCount--,t.batchCount===0){t.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(t.batchNotifications).forEach(function(n){var a=t.batchNotifications[n];a.empty()?r.notify(n):r.notify(n,a)})}return this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var r=this;return this.batch(function(){for(var n=Object.keys(t),a=0;a<n.length;a++){var i=n[a],o=t[i],l=r.getElementById(i);l.data(o)}})}},qte=Dn({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),Wx={renderTo:function(t,r,n,a){var i=this._private.renderer;return i.renderTo(t,r,n,a),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(t){var r=this,n=r.extension("renderer",t.name);if(n==null){Rr("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}t.wheelSensitivity!==void 0&&sr("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=qte(t);a.cy=r,r._private.renderer=new n(a),this.notify("init")},destroyRenderer:function(){var t=this;t.notify("destroy");var r=t.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);t._private.renderer=null,t.mutableElements().forEach(function(n){var a=n._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};Wx.invalidateDimensions=Wx.resize;var mv={collection:function(t,r){return Mt(t)?this.$(t):Ta(t)?t.collection():xr(t)?(r||(r={}),new On(this,t,r.unique,r.removed)):new On(this)},nodes:function(t){var r=this.$(function(n){return n.isNode()});return t?r.filter(t):r},edges:function(t){var r=this.$(function(n){return n.isEdge()});return t?r.filter(t):r},$:function(t){var r=this._private.elements;return t?r.filter(t):r.spawnSelf()},mutableElements:function(){return this._private.elements}};mv.elements=mv.filter=mv.$;var yn={},cf="t",Vte="f";yn.apply=function(e){for(var t=this,r=t._private,n=r.cy,a=n.collection(),i=0;i<e.length;i++){var o=e[i],l=t.getContextMeta(o);if(!l.empty){var u=t.getContextStyle(l),c=t.applyContextStyle(l,u,o);o._private.appliedInitStyle?t.updateTransitions(o,c.diffProps):o._private.appliedInitStyle=!0;var h=t.updateStyleHints(o);h&&a.push(o)}}return a};yn.getPropertiesDiff=function(e,t){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},a=e+"-"+t,i=n[a];if(i)return i;for(var o=[],l={},u=0;u<r.length;u++){var c=r[u],h=e[u]===cf,d=t[u]===cf,v=h!==d,p=c.mappedProperties.length>0;if(v||d&&p){var m=void 0;v&&p||v?m=c.properties:p&&(m=c.mappedProperties);for(var b=0;b<m.length;b++){for(var x=m[b],w=x.name,T=!1,S=u+1;S<r.length;S++){var D=r[S],R=t[S]===cf;if(R&&(T=D.properties[x.name]!=null,T))break}!l[w]&&!T&&(l[w]=!0,o.push(w))}}}return n[a]=o,o};yn.getContextMeta=function(e){for(var t=this,r="",n,a=e._private.styleCxtKey||"",i=0;i<t.length;i++){var o=t[i],l=o.selector&&o.selector.matches(e);l?r+=cf:r+=Vte}return n=t.getPropertiesDiff(a,r),e._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};yn.getContextStyle=function(e){var t=e.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var a={_private:{key:t}},i=0;i<r.length;i++){var o=r[i],l=t[i]===cf;if(l)for(var u=0;u<o.properties.length;u++){var c=o.properties[u];a[c.name]=c}}return n[t]=a,a};yn.applyContextStyle=function(e,t,r){for(var n=this,a=e.diffPropNames,i={},o=n.types,l=0;l<a.length;l++){var u=a[l],c=t[u],h=r.pstyle(u);if(!c)if(h)h.bypass?c={name:u,deleteBypassed:!0}:c={name:u,delete:!0};else continue;if(h!==c){if(c.mapped===o.fn&&h!=null&&h.mapping!=null&&h.mapping.value===c.value){var d=h.mapping,v=d.fnValue=c.value(r);if(v===d.prevFnValue)continue}var p=i[u]={prev:h};n.applyParsedProperty(r,c),p.next=r.pstyle(u),p.next&&p.next.bypass&&(p.next=p.next.bypassed)}}return{diffProps:i}};yn.updateStyleHints=function(e){var t=e._private,r=this,n=r.propertyGroupNames,a=r.propertyGroupKeys,i=function(re,ge,Se){return r.getPropertiesHash(re,ge,Se)},o=t.styleKey;if(e.removed())return!1;var l=t.group==="nodes",u=e._private.style;n=Object.keys(u);for(var c=0;c<a.length;c++){var h=a[c];t.styleKeys[h]=[Ys,cu]}for(var d=function(re,ge){return t.styleKeys[ge][0]=Of(re,t.styleKeys[ge][0])},v=function(re,ge){return t.styleKeys[ge][1]=_f(re,t.styleKeys[ge][1])},p=function(re,ge){d(re,ge),v(re,ge)},m=function(re,ge){for(var Se=0;Se<re.length;Se++){var ze=re.charCodeAt(Se);d(ze,ge),v(ze,ge)}},b=2e9,x=function(re){return-128<re&&re<128&&Math.floor(re)!==re?b-(re*1024|0):re},w=0;w<n.length;w++){var T=n[w],S=u[T];if(S!=null){var D=this.properties[T],R=D.type,L=D.groupKey,_=void 0;D.hashOverride!=null?_=D.hashOverride(e,S):S.pfValue!=null&&(_=S.pfValue);var N=D.enums==null?S.value:null,P=_!=null,U=N!=null,j=P||U,F=S.units;if(R.number&&j&&!R.multiple){var I=P?_:N;p(x(I),L),!P&&F!=null&&m(F,L)}else m(S.strValue,L)}}for(var G=[Ys,cu],Y=0;Y<a.length;Y++){var q=a[Y],V=t.styleKeys[q];G[0]=Of(V[0],G[0]),G[1]=_f(V[1],G[1])}t.styleKey=oQ(G[0],G[1]);var W=t.styleKeys;t.labelDimsKey=Uo(W.labelDimensions);var J=i(e,["label"],W.labelDimensions);if(t.labelKey=Uo(J),t.labelStyleKey=Uo(Yd(W.commonLabel,J)),!l){var ie=i(e,["source-label"],W.labelDimensions);t.sourceLabelKey=Uo(ie),t.sourceLabelStyleKey=Uo(Yd(W.commonLabel,ie));var K=i(e,["target-label"],W.labelDimensions);t.targetLabelKey=Uo(K),t.targetLabelStyleKey=Uo(Yd(W.commonLabel,K))}if(l){var Z=t.styleKeys,fe=Z.nodeBody,he=Z.nodeBorder,oe=Z.nodeOutline,be=Z.backgroundImage,Ae=Z.compound,Le=Z.pie,ce=Z.stripe,ae=[fe,he,oe,be,Ae,Le,ce].filter(function(le){return le!=null}).reduce(Yd,[Ys,cu]);t.nodeKey=Uo(ae),t.hasPie=Le!=null&&Le[0]!==Ys&&Le[1]!==cu,t.hasStripe=ce!=null&&ce[0]!==Ys&&ce[1]!==cu}return o!==t.styleKey};yn.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null,t.hasStripe=null};yn.applyParsedProperty=function(e,t){var r=this,n=t,a=e._private.style,i,o=r.types,l=r.properties[n.name].type,u=n.bypass,c=a[n.name],h=c&&c.bypass,d=e._private,v="mapping",p=function(fe){return fe==null?null:fe.pfValue!=null?fe.pfValue:fe.value},m=function(){var fe=p(c),he=p(n);r.checkTriggers(e,n.name,fe,he)};if(t.name==="curve-style"&&e.isEdge()&&(t.value!=="bezier"&&e.isLoop()||t.value==="haystack"&&(e.source().isParent()||e.target().isParent()))&&(n=t=this.parse(t.name,"bezier",u)),n.delete)return a[n.name]=void 0,m(),!0;if(n.deleteBypassed)return c?c.bypass?(c.bypassed=void 0,m(),!0):!1:(m(),!0);if(n.deleteBypass)return c?c.bypass?(a[n.name]=c.bypassed,m(),!0):!1:(m(),!0);var b=function(){sr("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case o.mapData:{for(var x=n.field.split("."),w=d.data,T=0;T<x.length&&w;T++){var S=x[T];w=w[S]}if(w==null)return b(),!1;var D;if(pt(w)){var R=n.fieldMax-n.fieldMin;R===0?D=0:D=(w-n.fieldMin)/R}else return sr("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+w+"` for `"+e.id()+"` is non-numeric)"),!1;if(D<0?D=0:D>1&&(D=1),l.color){var L=n.valueMin[0],_=n.valueMax[0],N=n.valueMin[1],P=n.valueMax[1],U=n.valueMin[2],j=n.valueMax[2],F=n.valueMin[3]==null?1:n.valueMin[3],I=n.valueMax[3]==null?1:n.valueMax[3],G=[Math.round(L+(_-L)*D),Math.round(N+(P-N)*D),Math.round(U+(j-U)*D),Math.round(F+(I-F)*D)];i={bypass:n.bypass,name:n.name,value:G,strValue:"rgb("+G[0]+", "+G[1]+", "+G[2]+")"}}else if(l.number){var Y=n.valueMin+(n.valueMax-n.valueMin)*D;i=this.parse(n.name,Y,n.bypass,v)}else return!1;if(!i)return b(),!1;i.mapping=n,n=i;break}case o.data:{for(var q=n.field.split("."),V=d.data,W=0;W<q.length&&V;W++){var J=q[W];V=V[J]}if(V!=null&&(i=this.parse(n.name,V,n.bypass,v)),!i)return b(),!1;i.mapping=n,n=i;break}case o.fn:{var ie=n.value,K=n.fnValue!=null?n.fnValue:ie(e);if(n.prevFnValue=K,K==null)return sr("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+e.id()+"` is null)"),!1;if(i=this.parse(n.name,K,n.bypass,v),!i)return sr("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+e.id()+"` is invalid)"),!1;i.mapping=yi(n),n=i;break}case void 0:break;default:return!1}return u?(h?n.bypassed=c.bypassed:n.bypassed=c,a[n.name]=n):h?c.bypassed=n:a[n.name]=n,m(),!0};yn.cleanElements=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!t)n._private.style={};else for(var a=n._private.style,i=Object.keys(a),o=0;o<i.length;o++){var l=i[o],u=a[l];u!=null&&(u.bypass?u.bypassed=null:a[l]=null)}}};yn.update=function(){var e=this._private.cy,t=e.mutableElements();t.updateStyle()};yn.updateTransitions=function(e,t){var r=this,n=e._private,a=e.pstyle("transition-property").value,i=e.pstyle("transition-duration").pfValue,o=e.pstyle("transition-delay").pfValue;if(a.length>0&&i>0){for(var l={},u=!1,c=0;c<a.length;c++){var h=a[c],d=e.pstyle(h),v=t[h];if(v){var p=v.prev,m=p,b=v.next!=null?v.next:d,x=!1,w=void 0,T=1e-6;m&&(pt(m.pfValue)&&pt(b.pfValue)?(x=b.pfValue-m.pfValue,w=m.pfValue+T*x):pt(m.value)&&pt(b.value)?(x=b.value-m.value,w=m.value+T*x):xr(m.value)&&xr(b.value)&&(x=m.value[0]!==b.value[0]||m.value[1]!==b.value[1]||m.value[2]!==b.value[2],w=m.strValue),x&&(l[h]=b.strValue,this.applyBypass(e,h,w),u=!0))}}if(!u)return;n.transitioning=!0,new Vu(function(S){o>0?e.delayAnimation(o).play().promise().then(S):S()}).then(function(){return e.animation({style:l,duration:i,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(e,a),e.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(e,a),e.emitAndNotify("style"),n.transitioning=!1)};yn.checkTrigger=function(e,t,r,n,a,i){var o=this.properties[t],l=a(o);e.removed()||l!=null&&l(r,n,e)&&i(o)};yn.checkZOrderTrigger=function(e,t,r,n){var a=this;this.checkTrigger(e,t,r,n,function(i){return i.triggersZOrder},function(){a._private.cy.notify("zorder",e)})};yn.checkBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(a){return a.triggersBounds},function(a){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache()})};yn.checkConnectedEdgesBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(a){return a.triggersBoundsOfConnectedEdges},function(a){e.connectedEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};yn.checkParallelEdgesBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(a){return a.triggersBoundsOfParallelEdges},function(a){e.parallelEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};yn.checkTriggers=function(e,t,r,n){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,r,n),this.checkBoundsTrigger(e,t,r,n),this.checkConnectedEdgesBoundsTrigger(e,t,r,n),this.checkParallelEdgesBoundsTrigger(e,t,r,n)};var lh={};lh.applyBypass=function(e,t,r,n){var a=this,i=[],o=!0;if(t==="*"||t==="**"){if(r!==void 0)for(var l=0;l<a.properties.length;l++){var u=a.properties[l],c=u.name,h=this.parse(c,r,!0);h&&i.push(h)}}else if(Mt(t)){var d=this.parse(t,r,!0);d&&i.push(d)}else if(Zt(t)){var v=t;n=r;for(var p=Object.keys(v),m=0;m<p.length;m++){var b=p[m],x=v[b];if(x===void 0&&(x=v[sp(b)]),x!==void 0){var w=this.parse(b,x,!0);w&&i.push(w)}}}else return!1;if(i.length===0)return!1;for(var T=!1,S=0;S<e.length;S++){for(var D=e[S],R={},L=void 0,_=0;_<i.length;_++){var N=i[_];if(n){var P=D.pstyle(N.name);L=R[N.name]={prev:P}}T=this.applyParsedProperty(D,yi(N))||T,n&&(L.next=D.pstyle(N.name))}T&&this.updateStyleHints(D),n&&this.updateTransitions(D,R,o)}return T};lh.overrideBypass=function(e,t,r){t=VE(t);for(var n=0;n<e.length;n++){var a=e[n],i=a._private.style[t],o=this.properties[t].type,l=o.color,u=o.mutiple,c=i?i.pfValue!=null?i.pfValue:i.value:null;!i||!i.bypass?this.applyBypass(a,t,r):(i.value=r,i.pfValue!=null&&(i.pfValue=r),l?i.strValue="rgb("+r.join(",")+")":u?i.strValue=r.join(" "):i.strValue=""+r,this.updateStyleHints(a)),this.checkTriggers(a,t,c,r)}};lh.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)};lh.removeBypasses=function(e,t,r){for(var n=!0,a=0;a<e.length;a++){for(var i=e[a],o={},l=0;l<t.length;l++){var u=t[l],c=this.properties[u],h=i.pstyle(c.name);if(!(!h||!h.bypass)){var d="",v=this.parse(u,d,!0),p=o[c.name]={prev:h};this.applyParsedProperty(i,v),p.next=i.pstyle(c.name)}}this.updateStyleHints(i),r&&this.updateTransitions(i,o,n)}};var iS={};iS.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return e!=null?parseFloat(e):1};iS.containerCss=function(e){var t=this._private.cy,r=t.container(),n=t.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(e)};var Ei={};Ei.getRenderedStyle=function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)};Ei.getRawStyle=function(e,t){var r=this;if(e=e[0],e){for(var n={},a=0;a<r.properties.length;a++){var i=r.properties[a],o=r.getStylePropertyValue(e,i.name,t);o!=null&&(n[i.name]=o,n[sp(i.name)]=o)}return n}};Ei.getIndexedStyle=function(e,t,r,n){var a=e.pstyle(t)[r][n];return a??e.cy().style().getDefaultProperty(t)[r][0]};Ei.getStylePropertyValue=function(e,t,r){var n=this;if(e=e[0],e){var a=n.properties[t];a.alias&&(a=a.pointsTo);var i=a.type,o=e.pstyle(a.name);if(o){var l=o.value,u=o.units,c=o.strValue;if(r&&i.number&&l!=null&&pt(l)){var h=e.cy().zoom(),d=function(x){return x*h},v=function(x,w){return d(x)+w},p=xr(l),m=p?u.every(function(b){return b!=null}):u!=null;return m?p?l.map(function(b,x){return v(b,u[x])}).join(" "):v(l,u):p?l.map(function(b){return Mt(b)?b:""+d(b)}).join(" "):""+d(l)}else if(c!=null)return c}return null}};Ei.getAnimationStartStyle=function(e,t){for(var r={},n=0;n<t.length;n++){var a=t[n],i=a.name,o=e.pstyle(i);o!==void 0&&(Zt(o)?o=this.parse(i,o.strValue):o=this.parse(i,o)),o&&(r[i]=o)}return r};Ei.getPropsList=function(e){var t=this,r=[],n=e,a=t.properties;if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var l=i[o],u=n[l],c=a[l]||a[VE(l)],h=this.parse(c.name,u);h&&r.push(h)}return r};Ei.getNonDefaultPropertiesHash=function(e,t,r){var n=r.slice(),a,i,o,l,u,c;for(u=0;u<t.length;u++)if(a=t[u],i=e.pstyle(a,!1),i!=null)if(i.pfValue!=null)n[0]=Of(l,n[0]),n[1]=_f(l,n[1]);else for(o=i.strValue,c=0;c<o.length;c++)l=o.charCodeAt(c),n[0]=Of(l,n[0]),n[1]=_f(l,n[1]);return n};Ei.getPropertiesHash=Ei.getNonDefaultPropertiesHash;var xp={};xp.appendFromJson=function(e){for(var t=this,r=0;r<e.length;r++){var n=e[r],a=n.selector,i=n.style||n.css,o=Object.keys(i);t.selector(a);for(var l=0;l<o.length;l++){var u=o[l],c=i[u];t.css(u,c)}}return t};xp.fromJson=function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t};xp.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var r=this[t],n=r.selector,a=r.properties,i={},o=0;o<a.length;o++){var l=a[o];i[l.name]=l.strValue}e.push({selector:n?n.toString():"core",style:i})}return e};var oS={};oS.appendFromString=function(e){var t=this,r=this,n=""+e,a,i,o;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function l(){n.length>a.length?n=n.substr(a.length):n=""}function u(){i.length>o.length?i=i.substr(o.length):i=""}for(;;){var c=n.match(/^\s*$/);if(c)break;var h=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!h){sr("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}a=h[0];var d=h[1];if(d!=="core"){var v=new is(d);if(v.invalid){sr("Skipping parsing of block: Invalid selector found in string stylesheet: "+d),l();continue}}var p=h[2],m=!1;i=p;for(var b=[];;){var x=i.match(/^\s*$/);if(x)break;var w=i.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!w){sr("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+p),m=!0;break}o=w[0];var T=w[1],S=w[2],D=t.properties[T];if(!D){sr("Skipping property: Invalid property name in: "+o),u();continue}var R=r.parse(T,S);if(!R){sr("Skipping property: Invalid property definition in: "+o),u();continue}b.push({name:T,val:S}),u()}if(m){l();break}r.selector(d);for(var L=0;L<b.length;L++){var _=b[L];r.css(_.name,_.val)}l()}return r};oS.fromString=function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t};var Kr={};(function(){var e=tn,t=IZ,r=FZ,n=UZ,a=GZ,i=function(le){return"^"+le+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(le){var re=e+"|\\w+|"+t+"|"+r+"|"+n+"|"+a;return"^"+le+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+re+")\\s*\\,\\s*("+re+")\\)$"},l=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Kr.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:i("data")},layoutData:{mapping:!0,regex:i("layoutData")},scratch:{mapping:!0,regex:i("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:l,singleRegexMatchValue:!0},urls:{regexes:l,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(le,re){switch(le.length){case 2:return re[0]!=="deg"&&re[0]!=="rad"&&re[1]!=="deg"&&re[1]!=="rad";case 1:return Mt(le[0])||re[0]==="deg"||re[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(le){var re=le.length;return re===1||re===2||re===4}}};var u={zeroNonZero:function(le,re){return(le==null||re==null)&&le!==re||le==0&&re!=0?!0:le!=0&&re==0},any:function(le,re){return le!=re},emptyNonEmpty:function(le,re){var ge=rs(le),Se=rs(re);return ge&&!Se||!ge&&Se}},c=Kr.types,h=[{name:"label",type:c.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:c.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:c.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:c.bidirectionalSize,triggersBounds:u.any}],d=[{name:"source-label",type:c.text,triggersBounds:u.any},{name:"source-text-rotation",type:c.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:c.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:c.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:c.size,triggersBounds:u.any}],v=[{name:"target-label",type:c.text,triggersBounds:u.any},{name:"target-text-rotation",type:c.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:c.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:c.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:c.size,triggersBounds:u.any}],p=[{name:"font-family",type:c.fontFamily,triggersBounds:u.any},{name:"font-style",type:c.fontStyle,triggersBounds:u.any},{name:"font-weight",type:c.fontWeight,triggersBounds:u.any},{name:"font-size",type:c.size,triggersBounds:u.any},{name:"text-transform",type:c.textTransform,triggersBounds:u.any},{name:"text-wrap",type:c.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:c.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:c.size,triggersBounds:u.any},{name:"text-outline-width",type:c.size,triggersBounds:u.any},{name:"line-height",type:c.positiveNumber,triggersBounds:u.any}],m=[{name:"text-valign",type:c.valign,triggersBounds:u.any},{name:"text-halign",type:c.halign,triggersBounds:u.any},{name:"color",type:c.color},{name:"text-outline-color",type:c.color},{name:"text-outline-opacity",type:c.zeroOneNumber},{name:"text-background-color",type:c.color},{name:"text-background-opacity",type:c.zeroOneNumber},{name:"text-background-padding",type:c.size,triggersBounds:u.any},{name:"text-border-opacity",type:c.zeroOneNumber},{name:"text-border-color",type:c.color},{name:"text-border-width",type:c.size,triggersBounds:u.any},{name:"text-border-style",type:c.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:c.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:c.justification},{name:"box-select-labels",type:c.bool,triggersBounds:u.any}],b=[{name:"events",type:c.bool,triggersZOrder:u.any},{name:"text-events",type:c.bool,triggersZOrder:u.any},{name:"box-selection",type:c.boxSelection,triggersZOrder:u.any}],x=[{name:"display",type:c.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfConnectedEdges:u.any,triggersBoundsOfParallelEdges:function(le,re,ge){return le===re?!1:ge.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:c.visibility,triggersZOrder:u.any},{name:"opacity",type:c.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:c.zeroOneNumber},{name:"min-zoomed-font-size",type:c.size},{name:"z-compound-depth",type:c.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:c.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:c.number,triggersZOrder:u.any}],w=[{name:"overlay-padding",type:c.size,triggersBounds:u.any},{name:"overlay-color",type:c.color},{name:"overlay-opacity",type:c.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"overlay-shape",type:c.overlayShape,triggersBounds:u.any},{name:"overlay-corner-radius",type:c.cornerRadius}],T=[{name:"underlay-padding",type:c.size,triggersBounds:u.any},{name:"underlay-color",type:c.color},{name:"underlay-opacity",type:c.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"underlay-shape",type:c.overlayShape,triggersBounds:u.any},{name:"underlay-corner-radius",type:c.cornerRadius}],S=[{name:"transition-property",type:c.propList},{name:"transition-duration",type:c.time},{name:"transition-delay",type:c.time},{name:"transition-timing-function",type:c.easing}],D=function(le,re){return re.value==="label"?-le.poolIndex():re.pfValue},R=[{name:"height",type:c.nodeSize,triggersBounds:u.any,hashOverride:D},{name:"width",type:c.nodeSize,triggersBounds:u.any,hashOverride:D},{name:"shape",type:c.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:c.polygonPointList,triggersBounds:u.any},{name:"corner-radius",type:c.cornerRadius},{name:"background-color",type:c.color},{name:"background-fill",type:c.fill},{name:"background-opacity",type:c.zeroOneNumber},{name:"background-blacken",type:c.nOneOneNumber},{name:"background-gradient-stop-colors",type:c.colors},{name:"background-gradient-stop-positions",type:c.percentages},{name:"background-gradient-direction",type:c.gradientDirection},{name:"padding",type:c.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:c.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:c.boundsExpansion,triggersBounds:u.any}],L=[{name:"border-color",type:c.color},{name:"border-opacity",type:c.zeroOneNumber},{name:"border-width",type:c.size,triggersBounds:u.any},{name:"border-style",type:c.borderStyle},{name:"border-cap",type:c.lineCap},{name:"border-join",type:c.lineJoin},{name:"border-dash-pattern",type:c.numbers},{name:"border-dash-offset",type:c.number},{name:"border-position",type:c.linePosition}],_=[{name:"outline-color",type:c.color},{name:"outline-opacity",type:c.zeroOneNumber},{name:"outline-width",type:c.size,triggersBounds:u.any},{name:"outline-style",type:c.borderStyle},{name:"outline-offset",type:c.size,triggersBounds:u.any}],N=[{name:"background-image",type:c.urls},{name:"background-image-crossorigin",type:c.bgCrossOrigin},{name:"background-image-opacity",type:c.zeroOneNumbers},{name:"background-image-containment",type:c.bgContainment},{name:"background-image-smoothing",type:c.bools},{name:"background-position-x",type:c.bgPos},{name:"background-position-y",type:c.bgPos},{name:"background-width-relative-to",type:c.bgRelativeTo},{name:"background-height-relative-to",type:c.bgRelativeTo},{name:"background-repeat",type:c.bgRepeat},{name:"background-fit",type:c.bgFit},{name:"background-clip",type:c.bgClip},{name:"background-width",type:c.bgWH},{name:"background-height",type:c.bgWH},{name:"background-offset-x",type:c.bgPos},{name:"background-offset-y",type:c.bgPos}],P=[{name:"position",type:c.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:c.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:c.size,triggersBounds:u.any},{name:"min-width-bias-left",type:c.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:c.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:c.size,triggersBounds:u.any},{name:"min-height-bias-top",type:c.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:c.sizeMaybePercent,triggersBounds:u.any}],U=[{name:"line-style",type:c.lineStyle},{name:"line-color",type:c.color},{name:"line-fill",type:c.fill},{name:"line-cap",type:c.lineCap},{name:"line-opacity",type:c.zeroOneNumber},{name:"line-dash-pattern",type:c.numbers},{name:"line-dash-offset",type:c.number},{name:"line-outline-width",type:c.size},{name:"line-outline-color",type:c.color},{name:"line-gradient-stop-colors",type:c.colors},{name:"line-gradient-stop-positions",type:c.percentages},{name:"curve-style",type:c.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelEdges:function(le,re){return le===re?!1:le==="bezier"||re==="bezier"}},{name:"haystack-radius",type:c.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:c.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:c.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:c.size,triggersBounds:u.any},{name:"control-point-distances",type:c.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:c.numbers,triggersBounds:u.any},{name:"segment-distances",type:c.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:c.numbers,triggersBounds:u.any},{name:"segment-radii",type:c.numbers,triggersBounds:u.any},{name:"radius-type",type:c.radiusType,triggersBounds:u.any},{name:"taxi-turn",type:c.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:c.size,triggersBounds:u.any},{name:"taxi-direction",type:c.axisDirection,triggersBounds:u.any},{name:"taxi-radius",type:c.number,triggersBounds:u.any},{name:"edge-distances",type:c.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:c.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:c.angle,triggersBounds:u.any},{name:"loop-sweep",type:c.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:c.size,triggersBounds:u.any},{name:"target-distance-from-node",type:c.size,triggersBounds:u.any}],j=[{name:"ghost",type:c.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:c.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:c.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:c.zeroOneNumber}],F=[{name:"selection-box-color",type:c.color},{name:"selection-box-opacity",type:c.zeroOneNumber},{name:"selection-box-border-color",type:c.color},{name:"selection-box-border-width",type:c.size},{name:"active-bg-color",type:c.color},{name:"active-bg-opacity",type:c.zeroOneNumber},{name:"active-bg-size",type:c.size},{name:"outside-texture-bg-color",type:c.color},{name:"outside-texture-bg-opacity",type:c.zeroOneNumber}],I=[];Kr.pieBackgroundN=16,I.push({name:"pie-size",type:c.sizeMaybePercent}),I.push({name:"pie-hole",type:c.sizeMaybePercent}),I.push({name:"pie-start-angle",type:c.angle});for(var G=1;G<=Kr.pieBackgroundN;G++)I.push({name:"pie-"+G+"-background-color",type:c.color}),I.push({name:"pie-"+G+"-background-size",type:c.percent}),I.push({name:"pie-"+G+"-background-opacity",type:c.zeroOneNumber});var Y=[];Kr.stripeBackgroundN=16,Y.push({name:"stripe-size",type:c.sizeMaybePercent}),Y.push({name:"stripe-direction",type:c.axisDirectionPrimary});for(var q=1;q<=Kr.stripeBackgroundN;q++)Y.push({name:"stripe-"+q+"-background-color",type:c.color}),Y.push({name:"stripe-"+q+"-background-size",type:c.percent}),Y.push({name:"stripe-"+q+"-background-opacity",type:c.zeroOneNumber});var V=[],W=Kr.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:c.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:c.color},{name:"arrow-fill",type:c.arrowFill},{name:"arrow-width",type:c.arrowWidth}].forEach(function(ae){W.forEach(function(le){var re=le+"-"+ae.name,ge=ae.type,Se=ae.triggersBounds;V.push({name:re,type:ge,triggersBounds:Se})})},{});var J=Kr.properties=[].concat(b,S,x,w,T,j,m,p,h,d,v,R,L,_,N,I,Y,P,U,V,F),ie=Kr.propertyGroups={behavior:b,transition:S,visibility:x,overlay:w,underlay:T,ghost:j,commonLabel:m,labelDimensions:p,mainLabel:h,sourceLabel:d,targetLabel:v,nodeBody:R,nodeBorder:L,nodeOutline:_,backgroundImage:N,pie:I,stripe:Y,compound:P,edgeLine:U,edgeArrow:V,core:F},K=Kr.propertyGroupNames={},Z=Kr.propertyGroupKeys=Object.keys(ie);Z.forEach(function(ae){K[ae]=ie[ae].map(function(le){return le.name}),ie[ae].forEach(function(le){return le.groupKey=ae})});var fe=Kr.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Kr.propertyNames=J.map(function(ae){return ae.name});for(var he=0;he<J.length;he++){var oe=J[he];J[oe.name]=oe}for(var be=0;be<fe.length;be++){var Ae=fe[be],Le=J[Ae.pointsTo],ce={name:Ae.name,alias:!0,pointsTo:Le};J.push(ce),J[Ae.name]=ce}})();Kr.getDefaultProperty=function(e){return this.getDefaultProperties()[e]};Kr.getDefaultProperties=function(){var e=this._private;if(e.defaultProperties!=null)return e.defaultProperties;for(var t=Nt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,c){for(var h=1;h<=Kr.pieBackgroundN;h++){var d=c.name.replace("{{i}}",h),v=c.value;u[d]=v}return u},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(u,c){for(var h=1;h<=Kr.stripeBackgroundN;h++){var d=c.name.replace("{{i}}",h),v=c.value;u[d]=v}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(u,c){return Kr.arrowPrefixes.forEach(function(h){var d=h+"-"+c.name,v=c.value;u[d]=v}),u},{})),r={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var i=a.name,o=t[i],l=this.parse(i,o);r[i]=l}}return e.defaultProperties=r,e.defaultProperties};Kr.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var wp={};wp.parse=function(e,t,r,n){var a=this;if(Lr(t))return a.parseImplWarn(e,t,r,n);var i=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,o=r?"t":"f",l=""+t,u=nI(e,l,o,i),c=a.propCache=a.propCache||[],h;return(h=c[u])||(h=c[u]=a.parseImplWarn(e,t,r,n)),(r||n==="mapping")&&(h=yi(h),h&&(h.value=yi(h.value))),h};wp.parseImplWarn=function(e,t,r,n){var a=this.parseImpl(e,t,r,n);return!a&&t!=null&&sr("The style property `".concat(e,": ").concat(t,"` is invalid")),a&&(a.name==="width"||a.name==="height")&&t==="label"&&sr("The style value of `label` is deprecated for `"+a.name+"`"),a};wp.parseImpl=function(e,t,r,n){var a=this;e=VE(e);var i=a.properties[e],o=t,l=a.types;if(!i||t===void 0)return null;i.alias&&(i=i.pointsTo,e=i.name);var u=Mt(t);u&&(t=t.trim());var c=i.type;if(!c)return null;if(r&&(t===""||t===null))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(Lr(t))return{name:e,value:t,strValue:"fn",mapped:l.fn,bypass:r};var h,d;if(!(!u||n||t.length<7||t[1]!=="a")){if(t.length>=7&&t[0]==="d"&&(h=new RegExp(l.data.regex).exec(t))){if(r)return!1;var v=l.data;return{name:e,value:h,strValue:""+t,mapped:v,field:h[1],bypass:r}}else if(t.length>=10&&t[0]==="m"&&(d=new RegExp(l.mapData.regex).exec(t))){if(r||c.multiple)return!1;var p=l.mapData;if(!(c.color||c.number))return!1;var m=this.parse(e,d[4]);if(!m||m.mapped)return!1;var b=this.parse(e,d[5]);if(!b||b.mapped)return!1;if(m.pfValue===b.pfValue||m.strValue===b.strValue)return sr("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+m.strValue+"`"),this.parse(e,m.strValue);if(c.color){var x=m.value,w=b.value,T=x[0]===w[0]&&x[1]===w[1]&&x[2]===w[2]&&(x[3]===w[3]||(x[3]==null||x[3]===1)&&(w[3]==null||w[3]===1));if(T)return!1}return{name:e,value:d,strValue:""+t,mapped:p,field:d[1],fieldMin:parseFloat(d[2]),fieldMax:parseFloat(d[3]),valueMin:m.value,valueMax:b.value,bypass:r}}}if(c.multiple&&n!=="multiple"){var S;if(u?S=t.split(/\s+/):xr(t)?S=t:S=[t],c.evenMultiple&&S.length%2!==0)return null;for(var D=[],R=[],L=[],_="",N=!1,P=0;P<S.length;P++){var U=a.parse(e,S[P],r,"multiple");N=N||Mt(U.value),D.push(U.value),L.push(U.pfValue!=null?U.pfValue:U.value),R.push(U.units),_+=(P>0?" ":"")+U.strValue}return c.validate&&!c.validate(D,R)?null:c.singleEnum&&N?D.length===1&&Mt(D[0])?{name:e,value:D[0],strValue:D[0],bypass:r}:null:{name:e,value:D,pfValue:L,strValue:_,bypass:r,units:R}}var j=function(){for(var ce=0;ce<c.enums.length;ce++){var ae=c.enums[ce];if(ae===t)return{name:e,value:t,strValue:""+t,bypass:r}}return null};if(c.number){var F,I="px";if(c.units&&(F=c.units),c.implicitUnits&&(I=c.implicitUnits),!c.unitless)if(u){var G="px|em"+(c.allowPercent?"|\\%":"");F&&(G=F);var Y=t.match("^("+tn+")("+G+")?$");Y&&(t=Y[1],F=Y[2]||I)}else(!F||c.implicitUnits)&&(F=I);if(t=parseFloat(t),isNaN(t)&&c.enums===void 0)return null;if(isNaN(t)&&c.enums!==void 0)return t=o,j();if(c.integer&&!kZ(t)||c.min!==void 0&&(t<c.min||c.strictMin&&t===c.min)||c.max!==void 0&&(t>c.max||c.strictMax&&t===c.max))return null;var q={name:e,value:t,strValue:""+t+(F||""),units:F,bypass:r};return c.unitless||F!=="px"&&F!=="em"?q.pfValue=t:q.pfValue=F==="px"||!F?t:this.getEmSizeInPixels()*t,(F==="ms"||F==="s")&&(q.pfValue=F==="ms"?t:1e3*t),(F==="deg"||F==="rad")&&(q.pfValue=F==="rad"?t:UQ(t)),F==="%"&&(q.pfValue=t/100),q}else if(c.propList){var V=[],W=""+t;if(W!=="none"){for(var J=W.split(/\s*,\s*|\s+/),ie=0;ie<J.length;ie++){var K=J[ie].trim();a.properties[K]?V.push(K):sr("`"+K+"` is not a valid property name")}if(V.length===0)return null}return{name:e,value:V,strValue:V.length===0?"none":V.join(" "),bypass:r}}else if(c.color){var Z=WB(t);return Z?{name:e,value:Z,pfValue:Z,strValue:"rgb("+Z[0]+","+Z[1]+","+Z[2]+")",bypass:r}:null}else if(c.regex||c.regexes){if(c.enums){var fe=j();if(fe)return fe}for(var he=c.regexes?c.regexes:[c.regex],oe=0;oe<he.length;oe++){var be=new RegExp(he[oe]),Ae=be.exec(t);if(Ae)return{name:e,value:c.singleRegexMatchValue?Ae[1]:Ae,strValue:""+t,bypass:r}}return null}else return c.string?{name:e,value:""+t,strValue:""+t,bypass:r}:c.enums?j():null};var pn=function(t){if(!(this instanceof pn))return new pn(t);if(!qE(t)){Rr("A style must have a core reference");return}this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()},Bn=pn.prototype;Bn.instanceString=function(){return"style"};Bn.clear=function(){for(var e=this._private,t=e.cy,r=t.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(r,!0),r.forEach(function(a){var i=a[0]._private;i.styleDirty=!0,i.appliedInitStyle=!1}),this};Bn.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Bn.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)};Bn.selector=function(e){var t=e==="core"?null:new is(e),r=this.length++;return this[r]={selector:t,properties:[],mappedProperties:[],index:r},this};Bn.css=function(){var e=this,t=arguments;if(t.length===1)for(var r=t[0],n=0;n<e.properties.length;n++){var a=e.properties[n],i=r[a.name];i===void 0&&(i=r[sp(a.name)]),i!==void 0&&this.cssRule(a.name,i)}else t.length===2&&this.cssRule(t[0],t[1]);return this};Bn.style=Bn.css;Bn.cssRule=function(e,t){var r=this.parse(e,t);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.name.match(/stripe-(\d+)-background-size/)&&r.value&&(this._private.hasStripe=!0),r.mapped&&this[n].mappedProperties.push(r);var a=!this[n].selector;a&&(this._private.coreStyle[r.name]=r)}return this};Bn.append=function(e){return HB(e)?e.appendToStyle(this):xr(e)?this.appendFromJson(e):Mt(e)&&this.appendFromString(e),this};pn.fromJson=function(e,t){var r=new pn(e);return r.fromJson(t),r};pn.fromString=function(e,t){return new pn(e).fromString(t)};[yn,lh,iS,Ei,xp,oS,Kr,wp].forEach(function(e){Nt(Bn,e)});pn.types=Bn.types;pn.properties=Bn.properties;pn.propertyGroups=Bn.propertyGroups;pn.propertyGroupNames=Bn.propertyGroupNames;pn.propertyGroupKeys=Bn.propertyGroupKeys;var $te={style:function(t){if(t){var r=this.setStyle(t);r.update()}return this._private.style},setStyle:function(t){var r=this._private;return HB(t)?r.style=t.generateStyle(this):xr(t)?r.style=pn.fromJson(this,t):Mt(t)?r.style=pn.fromString(this,t):r.style=pn(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},Yte="single",dl={autolock:function(t){if(t!==void 0)this._private.autolock=!!t;else return this._private.autolock;return this},autoungrabify:function(t){if(t!==void 0)this._private.autoungrabify=!!t;else return this._private.autoungrabify;return this},autounselectify:function(t){if(t!==void 0)this._private.autounselectify=!!t;else return this._private.autounselectify;return this},selectionType:function(t){var r=this._private;if(r.selectionType==null&&(r.selectionType=Yte),t!==void 0)(t==="additive"||t==="single")&&(r.selectionType=t);else return r.selectionType;return this},panningEnabled:function(t){if(t!==void 0)this._private.panningEnabled=!!t;else return this._private.panningEnabled;return this},userPanningEnabled:function(t){if(t!==void 0)this._private.userPanningEnabled=!!t;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(t){if(t!==void 0)this._private.zoomingEnabled=!!t;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(t){if(t!==void 0)this._private.userZoomingEnabled=!!t;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(t){if(t!==void 0)this._private.boxSelectionEnabled=!!t;else return this._private.boxSelectionEnabled;return this},pan:function(){var t=arguments,r=this._private.pan,n,a,i,o,l;switch(t.length){case 0:return r;case 1:if(Mt(t[0]))return n=t[0],r[n];if(Zt(t[0])){if(!this._private.panningEnabled)return this;i=t[0],o=i.x,l=i.y,pt(o)&&(r.x=o),pt(l)&&(r.y=l),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=t[0],a=t[1],(n==="x"||n==="y")&&pt(a)&&(r[n]=a),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(t,r){var n=arguments,a=this._private.pan,i,o,l,u,c;if(!this._private.panningEnabled)return this;switch(n.length){case 1:Zt(t)&&(l=n[0],u=l.x,c=l.y,pt(u)&&(a.x+=u),pt(c)&&(a.y+=c),this.emit("pan viewport"));break;case 2:i=t,o=r,(i==="x"||i==="y")&&pt(o)&&(a[i]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(t,r){var n=this.getFitViewport(t,r);if(n){var a=this._private;a.zoom=n.zoom,a.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(t,r){if(pt(t)&&r===void 0&&(r=t,t=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(Mt(t)){var a=t;t=this.$(a)}else if(RZ(t)){var i=t;n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Ta(t)||(t=this.mutableElements());if(!(Ta(t)&&t.empty())){n=n||t.boundingBox();var o=this.width(),l=this.height(),u;if(r=pt(r)?r:0,!isNaN(o)&&!isNaN(l)&&o>0&&l>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){u=Math.min((o-2*r)/n.w,(l-2*r)/n.h),u=u>this._private.maxZoom?this._private.maxZoom:u,u=u<this._private.minZoom?this._private.minZoom:u;var c={x:(o-u*(n.x1+n.x2))/2,y:(l-u*(n.y1+n.y2))/2};return{zoom:u,pan:c}}}}},zoomRange:function(t,r){var n=this._private;if(r==null){var a=t;t=a.min,r=a.max}return pt(t)&&pt(r)&&t<=r?(n.minZoom=t,n.maxZoom=r):pt(t)&&r===void 0&&t<=n.maxZoom?n.minZoom=t:pt(r)&&t===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(t){return t===void 0?this._private.minZoom:this.zoomRange({min:t})},maxZoom:function(t){return t===void 0?this._private.maxZoom:this.zoomRange({max:t})},getZoomedViewport:function(t){var r=this._private,n=r.pan,a=r.zoom,i,o,l=!1;if(r.zoomingEnabled||(l=!0),pt(t)?o=t:Zt(t)&&(o=t.level,t.position!=null?i=cp(t.position,a,n):t.renderedPosition!=null&&(i=t.renderedPosition),i!=null&&!r.panningEnabled&&(l=!0)),o=o>r.maxZoom?r.maxZoom:o,o=o<r.minZoom?r.minZoom:o,l||!pt(o)||o===a||i!=null&&(!pt(i.x)||!pt(i.y)))return null;if(i!=null){var u=n,c=a,h=o,d={x:-h/c*(i.x-u.x)+i.x,y:-h/c*(i.y-u.y)+i.y};return{zoomed:!0,panned:!0,zoom:h,pan:d}}else return{zoomed:!0,panned:!1,zoom:o,pan:n}},zoom:function(t){if(t===void 0)return this._private.zoom;var r=this.getZoomedViewport(t),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(t){var r=this._private,n=!0,a=!0,i=[],o=!1,l=!1;if(!t)return this;if(pt(t.zoom)||(n=!1),Zt(t.pan)||(a=!1),!n&&!a)return this;if(n){var u=t.zoom;u<r.minZoom||u>r.maxZoom||!r.zoomingEnabled?o=!0:(r.zoom=u,i.push("zoom"))}if(a&&(!o||!t.cancelOnFailedZoom)&&r.panningEnabled){var c=t.pan;pt(c.x)&&(r.pan.x=c.x,l=!1),pt(c.y)&&(r.pan.y=c.y,l=!1),l||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(t){var r=this.getCenterPan(t);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(t,r){if(this._private.panningEnabled){if(Mt(t)){var n=t;t=this.mutableElements().filter(n)}else Ta(t)||(t=this.mutableElements());if(t.length!==0){var a=t.boundingBox(),i=this.width(),o=this.height();r=r===void 0?this._private.zoom:r;var l={x:(i-r*(a.x1+a.x2))/2,y:(o-r*(a.y1+a.y2))/2};return l}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t=this._private,r=t.container,n=this;return t.sizeCache=t.sizeCache||(r?(function(){var a=n.window().getComputedStyle(r),i=function(l){return parseFloat(a.getPropertyValue(l))};return{width:r.clientWidth-i("padding-left")-i("padding-right"),height:r.clientHeight-i("padding-top")-i("padding-bottom")}})():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),a={x1:(n.x1-t.x)/r,x2:(n.x2-t.x)/r,y1:(n.y1-t.y)/r,y2:(n.y2-t.y)/r};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var t=this.width(),r=this.height();return{x1:0,y1:0,x2:t,y2:r,w:t,h:r}},multiClickDebounceTime:function(t){if(t)this._private.multiClickDebounceTime=t;else return this._private.multiClickDebounceTime;return this}};dl.centre=dl.center;dl.autolockNodes=dl.autolock;dl.autoungrabifyNodes=dl.autoungrabify;var Lf={data:or.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:or.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:or.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:or.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Lf.attr=Lf.data;Lf.removeAttr=Lf.removeData;var jf=function(t){var r=this;t=Nt({},t);var n=t.container;n&&!hg(n)&&hg(n[0])&&(n=n[0]);var a=n?n._cyreg:null;a=a||{},a&&a.cy&&(a.cy.destroy(),a={});var i=a.readies=a.readies||[];n&&(n._cyreg=a),a.cy=r;var o=Jr!==void 0&&n!==void 0&&!t.headless,l=t;l.layout=Nt({name:o?"grid":"null"},l.layout),l.renderer=Nt({name:o?"canvas":"null"},l.renderer);var u=function(m,b,x){return b!==void 0?b:x!==void 0?x:m},c=this._private={container:n,ready:!1,options:l,elements:new On(this),listeners:[],aniEles:new On(this),data:l.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:u(!0,l.zoomingEnabled),userZoomingEnabled:u(!0,l.userZoomingEnabled),panningEnabled:u(!0,l.panningEnabled),userPanningEnabled:u(!0,l.userPanningEnabled),boxSelectionEnabled:u(!0,l.boxSelectionEnabled),autolock:u(!1,l.autolock,l.autolockNodes),autoungrabify:u(!1,l.autoungrabify,l.autoungrabifyNodes),autounselectify:u(!1,l.autounselectify),styleEnabled:l.styleEnabled===void 0?o:l.styleEnabled,zoom:pt(l.zoom)?l.zoom:1,pan:{x:Zt(l.pan)&&pt(l.pan.x)?l.pan.x:0,y:Zt(l.pan)&&pt(l.pan.y)?l.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:u(250,l.multiClickDebounceTime)};this.createEmitter(),this.selectionType(l.selectionType),this.zoomRange({min:l.minZoom,max:l.maxZoom});var h=function(m,b){var x=m.some(LZ);if(x)return Vu.all(m).then(b);b(m)};c.styleEnabled&&r.setStyle([]);var d=Nt({},l,l.renderer);r.initRenderer(d);var v=function(m,b,x){r.notifications(!1);var w=r.mutableElements();w.length>0&&w.remove(),m!=null&&(Zt(m)||xr(m))&&r.add(m),r.one("layoutready",function(S){r.notifications(!0),r.emit(S),r.one("load",b),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",x),r.emit("done")});var T=Nt({},r._private.options.layout);T.eles=r.elements(),r.layout(T).run()};h([l.style,l.elements],function(p){var m=p[0],b=p[1];c.styleEnabled&&r.style().append(m),v(b,function(){r.startAnimationLoop(),c.ready=!0,Lr(l.ready)&&r.on("ready",l.ready);for(var x=0;x<i.length;x++){var w=i[x];r.on("ready",w)}a&&(a.readies=[]),r.emit("ready")},l.done)})},bg=jf.prototype;Nt(bg,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.destroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container||null},window:function(){var t=this._private.container;if(t==null)return Jr;var r=this._private.container.ownerDocument;return r===void 0||r==null?Jr:r.defaultView||Jr},mount:function(t){if(t!=null){var r=this,n=r._private,a=n.options;return!hg(t)&&hg(t[0])&&(t=t[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=t,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(Nt({},a,a.renderer,{name:a.renderer.name==="null"?"canvas":a.renderer.name})),r.startAnimationLoop(),r.style(a.style),r.emit("mount"),r}},unmount:function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},options:function(){return yi(this._private.options)},json:function(t){var r=this,n=r._private,a=r.mutableElements(),i=function(D){return r.getElementById(D.id())};if(Zt(t)){if(r.startBatch(),t.elements){var o={},l=function(D,R){for(var L=[],_=[],N=0;N<D.length;N++){var P=D[N];if(!P.data.id){sr("cy.json() cannot handle elements without an ID attribute");continue}var U=""+P.data.id,j=r.getElementById(U);o[U]=!0,j.length!==0?_.push({ele:j,json:P}):(R&&(P.group=R),L.push(P))}r.add(L);for(var F=0;F<_.length;F++){var I=_[F],G=I.ele,Y=I.json;G.json(Y)}};if(xr(t.elements))l(t.elements);else for(var u=["nodes","edges"],c=0;c<u.length;c++){var h=u[c],d=t.elements[h];xr(d)&&l(d,h)}var v=r.collection();a.filter(function(S){return!o[S.id()]}).forEach(function(S){S.isParent()?v.merge(S):S.remove()}),v.forEach(function(S){return S.children().move({parent:null})}),v.forEach(function(S){return i(S).remove()})}t.style&&r.style(t.style),t.zoom!=null&&t.zoom!==n.zoom&&r.zoom(t.zoom),t.pan&&(t.pan.x!==n.pan.x||t.pan.y!==n.pan.y)&&r.pan(t.pan),t.data&&r.data(t.data);for(var p=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],m=0;m<p.length;m++){var b=p[m];t[b]!=null&&r[b](t[b])}return r.endBatch(),this}else{var x=!!t,w={};x?w.elements=this.elements().map(function(S){return S.json()}):(w.elements={},a.forEach(function(S){var D=S.group();w.elements[D]||(w.elements[D]=[]),w.elements[D].push(S.json())})),this._private.styleEnabled&&(w.style=r.style().json()),w.data=yi(r.data());var T=n.options;return w.zoomingEnabled=n.zoomingEnabled,w.userZoomingEnabled=n.userZoomingEnabled,w.zoom=n.zoom,w.minZoom=n.minZoom,w.maxZoom=n.maxZoom,w.panningEnabled=n.panningEnabled,w.userPanningEnabled=n.userPanningEnabled,w.pan=yi(n.pan),w.boxSelectionEnabled=n.boxSelectionEnabled,w.renderer=yi(T.renderer),w.hideEdgesOnViewport=T.hideEdgesOnViewport,w.textureOnViewport=T.textureOnViewport,w.wheelSensitivity=T.wheelSensitivity,w.motionBlur=T.motionBlur,w.multiClickDebounceTime=T.multiClickDebounceTime,w}}});bg.$id=bg.getElementById;[Lte,Fte,HI,Kx,pv,Gte,Wx,mv,$te,dl,Lf].forEach(function(e){Nt(bg,e)});var Hte={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}},Xte={maximal:!1,acyclic:!1},ru=function(t){return t.scratch("breadthfirst")},Vk=function(t,r){return t.scratch("breadthfirst",r)};function XI(e){this.options=Nt({},Hte,Xte,e)}XI.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,n=r.nodes().filter(function(Ue){return Ue.isChildless()}),a=r,i=e.directed,o=e.acyclic||e.maximal||e.maximalAdjustments>0,l=!!e.boundingBox,u=$n(l?e.boundingBox:structuredClone(t.extent())),c;if(Ta(e.roots))c=e.roots;else if(xr(e.roots)){for(var h=[],d=0;d<e.roots.length;d++){var v=e.roots[d],p=t.getElementById(v);h.push(p)}c=t.collection(h)}else if(Mt(e.roots))c=t.$(e.roots);else if(i)c=n.roots();else{var m=r.components();c=t.collection();for(var b=function(){var qe=m[x],Ke=qe.maxDegree(!1),Xe=qe.filter(function(ot){return ot.degree(!1)===Ke});c=c.add(Xe)},x=0;x<m.length;x++)b()}var w=[],T={},S=function(qe,Ke){w[Ke]==null&&(w[Ke]=[]);var Xe=w[Ke].length;w[Ke].push(qe),Vk(qe,{index:Xe,depth:Ke})},D=function(qe,Ke){var Xe=ru(qe),ot=Xe.depth,Ye=Xe.index;w[ot][Ye]=null,qe.isChildless()&&S(qe,Ke)};a.bfs({roots:c,directed:e.directed,visit:function(qe,Ke,Xe,ot,Ye){var ct=qe[0],ht=ct.id();ct.isChildless()&&S(ct,Ye),T[ht]=!0}});for(var R=[],L=0;L<n.length;L++){var _=n[L];T[_.id()]||R.push(_)}var N=function(qe){for(var Ke=w[qe],Xe=0;Xe<Ke.length;Xe++){var ot=Ke[Xe];if(ot==null){Ke.splice(Xe,1),Xe--;continue}Vk(ot,{depth:qe,index:Xe})}},P=function(qe,Ke){for(var Xe=ru(qe),ot=qe.incomers().filter(function(mt){return mt.isNode()&&r.has(mt)}),Ye=-1,ct=qe.id(),ht=0;ht<ot.length;ht++){var dt=ot[ht],yt=ru(dt);Ye=Math.max(Ye,yt.depth)}if(Xe.depth<=Ye){if(!e.acyclic&&Ke[ct])return null;var bt=Ye+1;return D(qe,bt),Ke[ct]=bt,!0}return!1};if(i&&o){var U=[],j={},F=function(qe){return U.push(qe)},I=function(){return U.shift()};for(n.forEach(function(Ue){return U.push(Ue)});U.length>0;){var G=I(),Y=P(G,j);if(Y)G.outgoers().filter(function(Ue){return Ue.isNode()&&r.has(Ue)}).forEach(F);else if(Y===null){sr("Detected double maximal shift for node `"+G.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var q=0;if(e.avoidOverlap)for(var V=0;V<n.length;V++){var W=n[V],J=W.layoutDimensions(e),ie=J.w,K=J.h;q=Math.max(q,ie,K)}var Z={},fe=function(qe){if(Z[qe.id()])return Z[qe.id()];for(var Ke=ru(qe).depth,Xe=qe.neighborhood(),ot=0,Ye=0,ct=0;ct<Xe.length;ct++){var ht=Xe[ct];if(!(ht.isEdge()||ht.isParent()||!n.has(ht))){var dt=ru(ht);if(dt!=null){var yt=dt.index,bt=dt.depth;if(!(yt==null||bt==null)){var mt=w[bt].length;bt<Ke&&(ot+=yt/mt,Ye++)}}}}return Ye=Math.max(1,Ye),ot=ot/Ye,Ye===0&&(ot=0),Z[qe.id()]=ot,ot},he=function(qe,Ke){var Xe=fe(qe),ot=fe(Ke),Ye=Xe-ot;return Ye===0?KB(qe.id(),Ke.id()):Ye};e.depthSort!==void 0&&(he=e.depthSort);for(var oe=w.length,be=0;be<oe;be++)w[be].sort(he),N(be);for(var Ae=[],Le=0;Le<R.length;Le++)Ae.push(R[Le]);var ce=function(){for(var qe=0;qe<oe;qe++)N(qe)};Ae.length&&(w.unshift(Ae),oe=w.length,ce());for(var ae=0,le=0;le<oe;le++)ae=Math.max(w[le].length,ae);var re={x:u.x1+u.w/2,y:u.y1+u.h/2},ge=n.reduce(function(Ue,qe){return(function(Ke){return{w:Ue.w===-1?Ke.w:(Ue.w+Ke.w)/2,h:Ue.h===-1?Ke.h:(Ue.h+Ke.h)/2}})(qe.boundingBox({includeLabels:e.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),Se=Math.max(oe===1?0:l?(u.h-e.padding*2-ge.h)/(oe-1):(u.h-e.padding*2-ge.h)/(oe+1),q),ze=w.reduce(function(Ue,qe){return Math.max(Ue,qe.length)},0),Qe=function(qe){var Ke=ru(qe),Xe=Ke.depth,ot=Ke.index;if(e.circle){var Ye=Math.min(u.w/2/oe,u.h/2/oe);Ye=Math.max(Ye,q);var ct=Ye*Xe+Ye-(oe>0&&w[0].length<=3?Ye/2:0),ht=2*Math.PI/w[Xe].length*ot;return Xe===0&&w[0].length===1&&(ct=1),{x:re.x+ct*Math.cos(ht),y:re.y+ct*Math.sin(ht)}}else{var dt=w[Xe].length,yt=Math.max(dt===1?0:l?(u.w-e.padding*2-ge.w)/((e.grid?ze:dt)-1):(u.w-e.padding*2-ge.w)/((e.grid?ze:dt)+1),q),bt={x:re.x+(ot+1-(dt+1)/2)*yt,y:re.y+(Xe+1-(oe+1)/2)*Se};return bt}},Oe={downward:0,leftward:90,upward:180,rightward:-90};Object.keys(Oe).indexOf(e.direction)===-1&&Rr("Invalid direction '".concat(e.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(Oe).join(", ")));var je=function(qe){return cQ(Qe(qe),u,Oe[e.direction])};return r.nodes().layoutPositions(this,e,je),this};var Kte={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function KI(e){this.options=Nt({},Kte,e)}KI.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,a=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,i=n.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));for(var o=$n(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l={x:o.x1+o.w/2,y:o.y1+o.h/2},u=t.sweep===void 0?2*Math.PI-2*Math.PI/i.length:t.sweep,c=u/Math.max(1,i.length-1),h,d=0,v=0;v<i.length;v++){var p=i[v],m=p.layoutDimensions(t),b=m.w,x=m.h;d=Math.max(d,b,x)}if(pt(t.radius)?h=t.radius:i.length<=1?h=0:h=Math.min(o.h,o.w)/2-d,i.length>1&&t.avoidOverlap){d*=1.75;var w=Math.cos(c)-Math.cos(0),T=Math.sin(c)-Math.sin(0),S=Math.sqrt(d*d/(w*w+T*T));h=Math.max(S,h)}var D=function(L,_){var N=t.startAngle+_*c*(a?1:-1),P=h*Math.cos(N),U=h*Math.sin(N),j={x:l.x+P,y:l.y+U};return j};return n.nodes().layoutPositions(this,t,D),this};var Wte={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function WI(e){this.options=Nt({},Wte,e)}WI.prototype.run=function(){for(var e=this.options,t=e,r=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,n=e.cy,a=t.eles,i=a.nodes().not(":parent"),o=$n(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l={x:o.x1+o.w/2,y:o.y1+o.h/2},u=[],c=0,h=0;h<i.length;h++){var d=i[h],v=void 0;v=t.concentric(d),u.push({value:v,node:d}),d._private.scratch.concentric=v}i.updateStyle();for(var p=0;p<i.length;p++){var m=i[p],b=m.layoutDimensions(t);c=Math.max(c,b.w,b.h)}u.sort(function(Se,ze){return ze.value-Se.value});for(var x=t.levelWidth(i),w=[[]],T=w[0],S=0;S<u.length;S++){var D=u[S];if(T.length>0){var R=Math.abs(T[0].value-D.value);R>=x&&(T=[],w.push(T))}T.push(D)}var L=c+t.minNodeSpacing;if(!t.avoidOverlap){var _=w.length>0&&w[0].length>1,N=Math.min(o.w,o.h)/2-L,P=N/(w.length+_?1:0);L=Math.min(L,P)}for(var U=0,j=0;j<w.length;j++){var F=w[j],I=t.sweep===void 0?2*Math.PI-2*Math.PI/F.length:t.sweep,G=F.dTheta=I/Math.max(1,F.length-1);if(F.length>1&&t.avoidOverlap){var Y=Math.cos(G)-Math.cos(0),q=Math.sin(G)-Math.sin(0),V=Math.sqrt(L*L/(Y*Y+q*q));U=Math.max(V,U)}F.r=U,U+=L}if(t.equidistant){for(var W=0,J=0,ie=0;ie<w.length;ie++){var K=w[ie],Z=K.r-J;W=Math.max(W,Z)}J=0;for(var fe=0;fe<w.length;fe++){var he=w[fe];fe===0&&(J=he.r),he.r=J,J+=W}}for(var oe={},be=0;be<w.length;be++)for(var Ae=w[be],Le=Ae.dTheta,ce=Ae.r,ae=0;ae<Ae.length;ae++){var le=Ae[ae],re=t.startAngle+(r?1:-1)*Le*ae,ge={x:l.x+ce*Math.cos(re),y:l.y+ce*Math.sin(re)};oe[le.node.id()]=ge}return a.nodes().layoutPositions(this,t,function(Se){var ze=Se.id();return oe[ze]}),this};var L1,Zte={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Ep(e){this.options=Nt({},Zte,e),this.options.layout=this;var t=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(a){var i=a.source().data("id"),o=a.target().data("id"),l=t.some(function(c){return c.data("id")===i}),u=t.some(function(c){return c.data("id")===o});return!l||!u});this.options.eles=this.options.eles.not(n)}Ep.prototype.run=function(){var e=this.options,t=e.cy,r=this;r.stopped=!1,(e.animate===!0||e.animate===!1)&&r.emit({type:"layoutstart",layout:r}),e.debug===!0?L1=!0:L1=!1;var n=Qte(t,r,e);L1&&ere(n),e.randomize&&tre(n);var a=ao(),i=function(){rre(n,t,e),e.fit===!0&&t.fit(e.padding)},o=function(v){return!(r.stopped||v>=e.numIter||(nre(n,e),n.temperature=n.temperature*e.coolingFactor,n.temperature<e.minTemp))},l=function(){if(e.animate===!0||e.animate===!1)i(),r.one("layoutstop",e.stop),r.emit({type:"layoutstop",layout:r});else{var v=e.eles.nodes(),p=QI(n,e,v);v.layoutPositions(r,e,p)}},u=0,c=!0;if(e.animate===!0){var h=function(){for(var v=0;c&&v<e.refresh;)c=o(u),u++,v++;if(!c)Yk(n,e),l();else{var p=ao();p-a>=e.animationThreshold&&i(),dg(h)}};h()}else{for(;c;)c=o(u),u++;Yk(n,e),l()}return this};Ep.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Ep.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Qte=function(t,r,n){for(var a=n.eles.edges(),i=n.eles.nodes(),o=$n(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),l={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:n.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},u=n.eles.components(),c={},h=0;h<u.length;h++)for(var d=u[h],v=0;v<d.length;v++){var p=d[v];c[p.id()]=h}for(var h=0;h<l.nodeSize;h++){var m=i[h],b=m.layoutDimensions(n),x={};x.isLocked=m.locked(),x.id=m.data("id"),x.parentId=m.data("parent"),x.cmptId=c[m.id()],x.children=[],x.positionX=m.position("x"),x.positionY=m.position("y"),x.offsetX=0,x.offsetY=0,x.height=b.w,x.width=b.h,x.maxX=x.positionX+x.width/2,x.minX=x.positionX-x.width/2,x.maxY=x.positionY+x.height/2,x.minY=x.positionY-x.height/2,x.padLeft=parseFloat(m.style("padding")),x.padRight=parseFloat(m.style("padding")),x.padTop=parseFloat(m.style("padding")),x.padBottom=parseFloat(m.style("padding")),x.nodeRepulsion=Lr(n.nodeRepulsion)?n.nodeRepulsion(m):n.nodeRepulsion,l.layoutNodes.push(x),l.idToIndex[x.id]=h}for(var w=[],T=0,S=-1,D=[],h=0;h<l.nodeSize;h++){var m=l.layoutNodes[h],R=m.parentId;R!=null?l.layoutNodes[l.idToIndex[R]].children.push(m.id):(w[++S]=m.id,D.push(m.id))}for(l.graphSet.push(D);T<=S;){var L=w[T++],_=l.idToIndex[L],p=l.layoutNodes[_],N=p.children;if(N.length>0){l.graphSet.push(N);for(var h=0;h<N.length;h++)w[++S]=N[h]}}for(var h=0;h<l.graphSet.length;h++)for(var P=l.graphSet[h],v=0;v<P.length;v++){var U=l.idToIndex[P[v]];l.indexToGraph[U]=h}for(var h=0;h<l.edgeSize;h++){var j=a[h],F={};F.id=j.data("id"),F.sourceId=j.data("source"),F.targetId=j.data("target");var I=Lr(n.idealEdgeLength)?n.idealEdgeLength(j):n.idealEdgeLength,G=Lr(n.edgeElasticity)?n.edgeElasticity(j):n.edgeElasticity,Y=l.idToIndex[F.sourceId],q=l.idToIndex[F.targetId],V=l.indexToGraph[Y],W=l.indexToGraph[q];if(V!=W){for(var J=Jte(F.sourceId,F.targetId,l),ie=l.graphSet[J],K=0,x=l.layoutNodes[Y];ie.indexOf(x.id)===-1;)x=l.layoutNodes[l.idToIndex[x.parentId]],K++;for(x=l.layoutNodes[q];ie.indexOf(x.id)===-1;)x=l.layoutNodes[l.idToIndex[x.parentId]],K++;I*=K*n.nestingFactor}F.idealLength=I,F.elasticity=G,l.layoutEdges.push(F)}return l},Jte=function(t,r,n){var a=ZI(t,r,0,n);return 2>a.count?0:a.graph},ZI=function(t,r,n,a){var i=a.graphSet[n];if(-1<i.indexOf(t)&&-1<i.indexOf(r))return{count:2,graph:n};for(var o=0,l=0;l<i.length;l++){var u=i[l],c=a.idToIndex[u],h=a.layoutNodes[c].children;if(h.length!==0){var d=a.indexToGraph[a.idToIndex[h[0]]],v=ZI(t,r,d,a);if(v.count!==0)if(v.count===1){if(o++,o===2)break}else return v}}return{count:o,graph:n}},ere,tre=function(t,r){for(var n=t.clientWidth,a=t.clientHeight,i=0;i<t.nodeSize;i++){var o=t.layoutNodes[i];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*n,o.positionY=Math.random()*a)}},QI=function(t,r,n){var a=t.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(o){var l=t.layoutNodes[t.idToIndex[o.data("id")]];i.x1=Math.min(i.x1,l.positionX),i.x2=Math.max(i.x2,l.positionX),i.y1=Math.min(i.y1,l.positionY),i.y2=Math.max(i.y2,l.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(o,l){var u=t.layoutNodes[t.idToIndex[o.data("id")]];if(r.boundingBox){var c=i.w===0?.5:(u.positionX-i.x1)/i.w,h=i.h===0?.5:(u.positionY-i.y1)/i.h;return{x:a.x1+c*a.w,y:a.y1+h*a.h}}else return{x:u.positionX,y:u.positionY}}},rre=function(t,r,n){var a=n.layout,i=n.eles.nodes(),o=QI(t,n,i);i.positions(o),t.ready!==!0&&(t.ready=!0,a.one("layoutready",n.ready),a.emit({type:"layoutready",layout:this}))},nre=function(t,r,n){are(t,r),sre(t),lre(t,r),ure(t),cre(t)},are=function(t,r){for(var n=0;n<t.graphSet.length;n++)for(var a=t.graphSet[n],i=a.length,o=0;o<i;o++)for(var l=t.layoutNodes[t.idToIndex[a[o]]],u=o+1;u<i;u++){var c=t.layoutNodes[t.idToIndex[a[u]]];ire(l,c,t,r)}},$k=function(t){return-1+2*t*Math.random()},ire=function(t,r,n,a){var i=t.cmptId,o=r.cmptId;if(!(i!==o&&!n.isCompound)){var l=r.positionX-t.positionX,u=r.positionY-t.positionY,c=1;l===0&&u===0&&(l=$k(c),u=$k(c));var h=ore(t,r,l,u);if(h>0)var d=a.nodeOverlap*h,v=Math.sqrt(l*l+u*u),p=d*l/v,m=d*u/v;else var b=xg(t,l,u),x=xg(r,-1*l,-1*u),w=x.x-b.x,T=x.y-b.y,S=w*w+T*T,v=Math.sqrt(S),d=(t.nodeRepulsion+r.nodeRepulsion)/S,p=d*w/v,m=d*T/v;t.isLocked||(t.offsetX-=p,t.offsetY-=m),r.isLocked||(r.offsetX+=p,r.offsetY+=m)}},ore=function(t,r,n,a){if(n>0)var i=t.maxX-r.minX;else var i=r.maxX-t.minX;if(a>0)var o=t.maxY-r.minY;else var o=r.maxY-t.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},xg=function(t,r,n){var a=t.positionX,i=t.positionY,o=t.height||1,l=t.width||1,u=n/r,c=o/l,h={};return r===0&&0<n||r===0&&0>n?(h.x=a,h.y=i+o/2,h):0<r&&-1*c<=u&&u<=c?(h.x=a+l/2,h.y=i+l*n/2/r,h):0>r&&-1*c<=u&&u<=c?(h.x=a-l/2,h.y=i-l*n/2/r,h):0<n&&(u<=-1*c||u>=c)?(h.x=a+o*r/2/n,h.y=i+o/2,h):(0>n&&(u<=-1*c||u>=c)&&(h.x=a-o*r/2/n,h.y=i-o/2),h)},sre=function(t,r){for(var n=0;n<t.edgeSize;n++){var a=t.layoutEdges[n],i=t.idToIndex[a.sourceId],o=t.layoutNodes[i],l=t.idToIndex[a.targetId],u=t.layoutNodes[l],c=u.positionX-o.positionX,h=u.positionY-o.positionY;if(!(c===0&&h===0)){var d=xg(o,c,h),v=xg(u,-1*c,-1*h),p=v.x-d.x,m=v.y-d.y,b=Math.sqrt(p*p+m*m),x=Math.pow(a.idealLength-b,2)/a.elasticity;if(b!==0)var w=x*p/b,T=x*m/b;else var w=0,T=0;o.isLocked||(o.offsetX+=w,o.offsetY+=T),u.isLocked||(u.offsetX-=w,u.offsetY-=T)}}},lre=function(t,r){if(r.gravity!==0)for(var n=1,a=0;a<t.graphSet.length;a++){var i=t.graphSet[a],o=i.length;if(a===0)var l=t.clientHeight/2,u=t.clientWidth/2;else var c=t.layoutNodes[t.idToIndex[i[0]]],h=t.layoutNodes[t.idToIndex[c.parentId]],l=h.positionX,u=h.positionY;for(var d=0;d<o;d++){var v=t.layoutNodes[t.idToIndex[i[d]]];if(!v.isLocked){var p=l-v.positionX,m=u-v.positionY,b=Math.sqrt(p*p+m*m);if(b>n){var x=r.gravity*p/b,w=r.gravity*m/b;v.offsetX+=x,v.offsetY+=w}}}}},ure=function(t,r){var n=[],a=0,i=-1;for(n.push.apply(n,t.graphSet[0]),i+=t.graphSet[0].length;a<=i;){var o=n[a++],l=t.idToIndex[o],u=t.layoutNodes[l],c=u.children;if(0<c.length&&!u.isLocked){for(var h=u.offsetX,d=u.offsetY,v=0;v<c.length;v++){var p=t.layoutNodes[t.idToIndex[c[v]]];p.offsetX+=h,p.offsetY+=d,n[++i]=c[v]}u.offsetX=0,u.offsetY=0}}},cre=function(t,r){for(var n=0;n<t.nodeSize;n++){var a=t.layoutNodes[n];0<a.children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(var n=0;n<t.nodeSize;n++){var a=t.layoutNodes[n];if(!(0<a.children.length||a.isLocked)){var i=fre(a.offsetX,a.offsetY,t.temperature);a.positionX+=i.x,a.positionY+=i.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,JI(a,t)}}for(var n=0;n<t.nodeSize;n++){var a=t.layoutNodes[n];0<a.children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},fre=function(t,r,n){var a=Math.sqrt(t*t+r*r);if(a>n)var i={x:n*t/a,y:n*r/a};else var i={x:t,y:r};return i},JI=function(t,r){var n=t.parentId;if(n!=null){var a=r.layoutNodes[r.idToIndex[n]],i=!1;if((a.maxX==null||t.maxX+a.padRight>a.maxX)&&(a.maxX=t.maxX+a.padRight,i=!0),(a.minX==null||t.minX-a.padLeft<a.minX)&&(a.minX=t.minX-a.padLeft,i=!0),(a.maxY==null||t.maxY+a.padBottom>a.maxY)&&(a.maxY=t.maxY+a.padBottom,i=!0),(a.minY==null||t.minY-a.padTop<a.minY)&&(a.minY=t.minY-a.padTop,i=!0),i)return JI(a,r)}},Yk=function(t,r){for(var n=t.layoutNodes,a=[],i=0;i<n.length;i++){var o=n[i],l=o.cmptId,u=a[l]=a[l]||[];u.push(o)}for(var c=0,i=0;i<a.length;i++){var h=a[i];if(h){h.x1=1/0,h.x2=-1/0,h.y1=1/0,h.y2=-1/0;for(var d=0;d<h.length;d++){var v=h[d];h.x1=Math.min(h.x1,v.positionX-v.width/2),h.x2=Math.max(h.x2,v.positionX+v.width/2),h.y1=Math.min(h.y1,v.positionY-v.height/2),h.y2=Math.max(h.y2,v.positionY+v.height/2)}h.w=h.x2-h.x1,h.h=h.y2-h.y1,c+=h.w*h.h}}a.sort(function(T,S){return S.w*S.h-T.w*T.h});for(var p=0,m=0,b=0,x=0,w=Math.sqrt(c)*t.clientWidth/t.clientHeight,i=0;i<a.length;i++){var h=a[i];if(h){for(var d=0;d<h.length;d++){var v=h[d];v.isLocked||(v.positionX+=p-h.x1,v.positionY+=m-h.y1)}p+=h.w+r.componentSpacing,b+=h.w+r.componentSpacing,x=Math.max(x,h.h),b>w&&(m+=x+r.componentSpacing,p=0,b=0,x=0)}}},hre={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function e3(e){this.options=Nt({},hre,e)}e3.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,a=n.nodes().not(":parent");t.sort&&(a=a.sort(t.sort));var i=$n(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(i.h===0||i.w===0)n.nodes().layoutPositions(this,t,function(fe){return{x:i.x1,y:i.y1}});else{var o=a.size(),l=Math.sqrt(o*i.h/i.w),u=Math.round(l),c=Math.round(i.w/i.h*l),h=function(he){if(he==null)return Math.min(u,c);var oe=Math.min(u,c);oe==u?u=he:c=he},d=function(he){if(he==null)return Math.max(u,c);var oe=Math.max(u,c);oe==u?u=he:c=he},v=t.rows,p=t.cols!=null?t.cols:t.columns;if(v!=null&&p!=null)u=v,c=p;else if(v!=null&&p==null)u=v,c=Math.ceil(o/u);else if(v==null&&p!=null)c=p,u=Math.ceil(o/c);else if(c*u>o){var m=h(),b=d();(m-1)*b>=o?h(m-1):(b-1)*m>=o&&d(b-1)}else for(;c*u<o;){var x=h(),w=d();(w+1)*x>=o?d(w+1):h(x+1)}var T=i.w/c,S=i.h/u;if(t.condense&&(T=0,S=0),t.avoidOverlap)for(var D=0;D<a.length;D++){var R=a[D],L=R._private.position;(L.x==null||L.y==null)&&(L.x=0,L.y=0);var _=R.layoutDimensions(t),N=t.avoidOverlapPadding,P=_.w+N,U=_.h+N;T=Math.max(T,P),S=Math.max(S,U)}for(var j={},F=function(he,oe){return!!j["c-"+he+"-"+oe]},I=function(he,oe){j["c-"+he+"-"+oe]=!0},G=0,Y=0,q=function(){Y++,Y>=c&&(Y=0,G++)},V={},W=0;W<a.length;W++){var J=a[W],ie=t.position(J);if(ie&&(ie.row!==void 0||ie.col!==void 0)){var K={row:ie.row,col:ie.col};if(K.col===void 0)for(K.col=0;F(K.row,K.col);)K.col++;else if(K.row===void 0)for(K.row=0;F(K.row,K.col);)K.row++;V[J.id()]=K,I(K.row,K.col)}}var Z=function(he,oe){var be,Ae;if(he.locked()||he.isParent())return!1;var Le=V[he.id()];if(Le)be=Le.col*T+T/2+i.x1,Ae=Le.row*S+S/2+i.y1;else{for(;F(G,Y);)q();be=Y*T+T/2+i.x1,Ae=G*S+S/2+i.y1,I(G,Y),q()}return{x:be,y:Ae}};a.layoutPositions(this,t,Z)}return this};var dre={ready:function(){},stop:function(){}};function sS(e){this.options=Nt({},dre,e)}sS.prototype.run=function(){var e=this.options,t=e.eles,r=this;return e.cy,r.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",e.ready),r.emit("layoutready"),r.one("layoutstop",e.stop),r.emit("layoutstop"),this};sS.prototype.stop=function(){return this};var vre={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function t3(e){this.options=Nt({},vre,e)}t3.prototype.run=function(){var e=this.options,t=e.eles,r=t.nodes(),n=Lr(e.positions);function a(i){if(e.positions==null)return jQ(i.position());if(n)return e.positions(i);var o=e.positions[i._private.data.id];return o??null}return r.layoutPositions(this,e,function(i,o){var l=a(i);return i.locked()||l==null?!1:l}),this};var gre={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function r3(e){this.options=Nt({},gre,e)}r3.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,n=$n(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),a=function(o,l){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,e,a),this};var pre=[{name:"breadthfirst",impl:XI},{name:"circle",impl:KI},{name:"concentric",impl:WI},{name:"cose",impl:Ep},{name:"grid",impl:e3},{name:"null",impl:sS},{name:"preset",impl:t3},{name:"random",impl:r3}];function n3(e){this.options=e,this.notifications=0}var Hk=function(){},Xk=function(){throw new Error("A headless instance can not render images")};n3.prototype={recalculateRenderedStyle:Hk,notify:function(){this.notifications++},init:Hk,isHeadless:function(){return!0},png:Xk,jpg:Xk};var lS={};lS.arrowShapeWidth=.3;lS.registerArrowShapes=function(){var e=this.arrowShapes={},t=this,r=function(c,h,d,v,p,m,b){var x=p.x-d/2-b,w=p.x+d/2+b,T=p.y-d/2-b,S=p.y+d/2+b,D=x<=c&&c<=w&&T<=h&&h<=S;return D},n=function(c,h,d,v,p){var m=c*Math.cos(v)-h*Math.sin(v),b=c*Math.sin(v)+h*Math.cos(v),x=m*d,w=b*d,T=x+p.x,S=w+p.y;return{x:T,y:S}},a=function(c,h,d,v){for(var p=[],m=0;m<c.length;m+=2){var b=c[m],x=c[m+1];p.push(n(b,x,h,d,v))}return p},i=function(c){for(var h=[],d=0;d<c.length;d++){var v=c[d];h.push(v.x,v.y)}return h},o=function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").pfValue*2},l=function(c,h){Mt(h)&&(h=e[h]),e[c]=Nt({name:c,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(v,p,m,b,x,w){var T=i(a(this.points,m+2*w,b,x)),S=na(v,p,T);return S},roughCollide:r,draw:function(v,p,m,b){var x=a(this.points,p,m,b);t.arrowShapeImpl("polygon")(v,x)},spacing:function(v){return 0},gap:o},h)};l("none",{collide:vg,roughCollide:vg,draw:HE,spacing:lD,gap:lD}),l("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),l("arrow","triangle"),l("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(c,h,d,v,p){var m=a(this.points,h,d,v),b=this.controlPoint,x=n(b[0],b[1],h,d,v);t.arrowShapeImpl(this.name)(c,m,x)},gap:function(c){return o(c)*.8}}),l("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(c,h,d,v,p,m,b){var x=i(a(this.points,d+2*b,v,p)),w=i(a(this.pointsTee,d+2*b,v,p)),T=na(c,h,x)||na(c,h,w);return T},draw:function(c,h,d,v,p){var m=a(this.points,h,d,v),b=a(this.pointsTee,h,d,v);t.arrowShapeImpl(this.name)(c,m,b)}}),l("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(c,h,d,v,p,m,b){var x=p,w=Math.pow(x.x-c,2)+Math.pow(x.y-h,2)<=Math.pow((d+2*b)*this.radius,2),T=i(a(this.points,d+2*b,v,p));return na(c,h,T)||w},draw:function(c,h,d,v,p){var m=a(this.pointsTr,h,d,v);t.arrowShapeImpl(this.name)(c,m,v.x,v.y,this.radius*h)},spacing:function(c){return t.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),l("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(c,h){var d=this.baseCrossLinePts.slice(),v=h/c,p=3,m=5;return d[p]=d[p]-v,d[m]=d[m]-v,d},collide:function(c,h,d,v,p,m,b){var x=i(a(this.points,d+2*b,v,p)),w=i(a(this.crossLinePts(d,m),d+2*b,v,p)),T=na(c,h,x)||na(c,h,w);return T},draw:function(c,h,d,v,p){var m=a(this.points,h,d,v),b=a(this.crossLinePts(h,p),h,d,v);t.arrowShapeImpl(this.name)(c,m,b)}}),l("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(c){return o(c)*.525}}),l("circle",{radius:.15,collide:function(c,h,d,v,p,m,b){var x=p,w=Math.pow(x.x-c,2)+Math.pow(x.y-h,2)<=Math.pow((d+2*b)*this.radius,2);return w},draw:function(c,h,d,v,p){t.arrowShapeImpl(this.name)(c,v.x,v.y,this.radius*h)},spacing:function(c){return t.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),l("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(c){return 1},gap:function(c){return 1}}),l("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),l("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}}),l("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(c){return .95*c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}})};var yl={};yl.projectIntoViewport=function(e,t){var r=this.cy,n=this.findContainerClientCoords(),a=n[0],i=n[1],o=n[4],l=r.pan(),u=r.zoom(),c=((e-a)/o-l.x)/u,h=((t-i)/o-l.y)/u;return[c,h]};yl.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),r=this.cy.window().getComputedStyle(e),n=function(w){return parseFloat(r.getPropertyValue(w))},a={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},i={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},o=e.clientWidth,l=e.clientHeight,u=a.left+a.right,c=a.top+a.bottom,h=i.left+i.right,d=t.width/(o+h),v=o-u,p=l-c,m=t.left+a.left+i.left,b=t.top+a.top+i.top;return this.containerBB=[m,b,v,p,d]};yl.invalidateContainerClientCoordsCache=function(){this.containerBB=null};yl.findNearestElement=function(e,t,r,n){return this.findNearestElements(e,t,r,n)[0]};yl.findNearestElements=function(e,t,r,n){var a=this,i=this,o=i.getCachedZSortedEles(),l=[],u=i.cy.zoom(),c=i.cy.hasCompoundNodes(),h=(n?24:8)/u,d=(n?8:2)/u,v=(n?8:2)/u,p=1/0,m,b;r&&(o=o.interactive);function x(_,N){if(_.isNode()){if(b)return;b=_,l.push(_)}if(_.isEdge()&&(N==null||N<p))if(m){if(m.pstyle("z-compound-depth").value===_.pstyle("z-compound-depth").value&&m.pstyle("z-compound-depth").value===_.pstyle("z-compound-depth").value){for(var P=0;P<l.length;P++)if(l[P].isEdge()){l[P]=_,m=_,p=N??p;break}}}else l.push(_),m=_,p=N??p}function w(_){var N=_.outerWidth()+2*d,P=_.outerHeight()+2*d,U=N/2,j=P/2,F=_.position(),I=_.pstyle("corner-radius").value==="auto"?"auto":_.pstyle("corner-radius").pfValue,G=_._private.rscratch;if(F.x-U<=e&&e<=F.x+U&&F.y-j<=t&&t<=F.y+j){var Y=i.nodeShapes[a.getNodeShape(_)];if(Y.checkPoint(e,t,0,N,P,F.x,F.y,I,G))return x(_,0),!0}}function T(_){var N=_._private,P=N.rscratch,U=_.pstyle("width").pfValue,j=_.pstyle("arrow-scale").value,F=U/2+h,I=F*F,G=F*2,W=N.source,J=N.target,Y;if(P.edgeType==="segments"||P.edgeType==="straight"||P.edgeType==="haystack"){for(var q=P.allpts,V=0;V+3<q.length;V+=2)if(WQ(e,t,q[V],q[V+1],q[V+2],q[V+3],G)&&I>(Y=tJ(e,t,q[V],q[V+1],q[V+2],q[V+3])))return x(_,Y),!0}else if(P.edgeType==="bezier"||P.edgeType==="multibezier"||P.edgeType==="self"||P.edgeType==="compound"){for(var q=P.allpts,V=0;V+5<P.allpts.length;V+=4)if(ZQ(e,t,q[V],q[V+1],q[V+2],q[V+3],q[V+4],q[V+5],G)&&I>(Y=eJ(e,t,q[V],q[V+1],q[V+2],q[V+3],q[V+4],q[V+5])))return x(_,Y),!0}for(var W=W||N.source,J=J||N.target,ie=a.getArrowWidth(U,j),K=[{name:"source",x:P.arrowStartX,y:P.arrowStartY,angle:P.srcArrowAngle},{name:"target",x:P.arrowEndX,y:P.arrowEndY,angle:P.tgtArrowAngle},{name:"mid-source",x:P.midX,y:P.midY,angle:P.midsrcArrowAngle},{name:"mid-target",x:P.midX,y:P.midY,angle:P.midtgtArrowAngle}],V=0;V<K.length;V++){var Z=K[V],fe=i.arrowShapes[_.pstyle(Z.name+"-arrow-shape").value],he=_.pstyle("width").pfValue;if(fe.roughCollide(e,t,ie,Z.angle,{x:Z.x,y:Z.y},he,h)&&fe.collide(e,t,ie,Z.angle,{x:Z.x,y:Z.y},he,h))return x(_),!0}c&&l.length>0&&(w(W),w(J))}function S(_,N,P){return ra(_,N,P)}function D(_,N){var P=_._private,U=v,j;N?j=N+"-":j="",_.boundingBox();var F=P.labelBounds[N||"main"],I=_.pstyle(j+"label").value,G=_.pstyle("text-events").strValue==="yes";if(!(!G||!I)){var Y=S(P.rscratch,"labelX",N),q=S(P.rscratch,"labelY",N),V=S(P.rscratch,"labelAngle",N),W=_.pstyle(j+"text-margin-x").pfValue,J=_.pstyle(j+"text-margin-y").pfValue,ie=F.x1-U-W,K=F.x2+U-W,Z=F.y1-U-J,fe=F.y2+U-J;if(V){var he=Math.cos(V),oe=Math.sin(V),be=function(ge,Se){return ge=ge-Y,Se=Se-q,{x:ge*he-Se*oe+Y,y:ge*oe+Se*he+q}},Ae=be(ie,Z),Le=be(ie,fe),ce=be(K,Z),ae=be(K,fe),le=[Ae.x+W,Ae.y+J,ce.x+W,ce.y+J,ae.x+W,ae.y+J,Le.x+W,Le.y+J];if(na(e,t,le))return x(_),!0}else if(Ko(F,e,t))return x(_),!0}}for(var R=o.length-1;R>=0;R--){var L=o[R];L.isNode()?w(L)||D(L):T(L)||D(L)||D(L,"source")||D(L,"target")}return l};yl.getAllInBox=function(e,t,r,n){var a=this.getCachedZSortedEles().interactive,i=this.cy.zoom(),o=2/i,l=[],u=Math.min(e,r),c=Math.max(e,r),h=Math.min(t,n),d=Math.max(t,n);e=u,r=c,t=h,n=d;var v=$n({x1:e,y1:t,x2:r,y2:n}),p=[{x:v.x1,y:v.y1},{x:v.x2,y:v.y1},{x:v.x2,y:v.y2},{x:v.x1,y:v.y2}],m=[[p[0],p[1]],[p[1],p[2]],[p[2],p[3]],[p[3],p[0]]];function b(ge,Se,ze){return ra(ge,Se,ze)}function x(ge,Se){var ze=ge._private,Qe=o,Oe="";ge.boundingBox();var je=ze.labelBounds.main;if(!je)return null;var Ue=b(ze.rscratch,"labelX",Se),qe=b(ze.rscratch,"labelY",Se),Ke=b(ze.rscratch,"labelAngle",Se),Xe=ge.pstyle(Oe+"text-margin-x").pfValue,ot=ge.pstyle(Oe+"text-margin-y").pfValue,Ye=je.x1-Qe-Xe,ct=je.x2+Qe-Xe,ht=je.y1-Qe-ot,dt=je.y2+Qe-ot;if(Ke){var yt=Math.cos(Ke),bt=Math.sin(Ke),mt=function(de,Q){return de=de-Ue,Q=Q-qe,{x:de*yt-Q*bt+Ue,y:de*bt+Q*yt+qe}};return[mt(Ye,ht),mt(ct,ht),mt(ct,dt),mt(Ye,dt)]}else return[{x:Ye,y:ht},{x:ct,y:ht},{x:ct,y:dt},{x:Ye,y:dt}]}function w(ge,Se,ze,Qe){function Oe(je,Ue,qe){return(qe.y-je.y)*(Ue.x-je.x)>(Ue.y-je.y)*(qe.x-je.x)}return Oe(ge,ze,Qe)!==Oe(Se,ze,Qe)&&Oe(ge,Se,ze)!==Oe(ge,Se,Qe)}for(var T=0;T<a.length;T++){var S=a[T];if(S.isNode()){var D=S,R=D.pstyle("text-events").strValue==="yes",L=D.pstyle("box-selection").strValue,_=D.pstyle("box-select-labels").strValue==="yes";if(L==="none")continue;var N=(L==="overlap"||_)&&R,P=D.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:N});if(L==="contain"){var U=!1;if(_&&R){var j=x(D);j&&Pb(j,p)&&(l.push(D),U=!0)}!U&&cI(v,P)&&l.push(D)}else if(L==="overlap"&&ZE(v,P)){var F=D.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),I=[{x:F.x1,y:F.y1},{x:F.x2,y:F.y1},{x:F.x2,y:F.y2},{x:F.x1,y:F.y2}];if(Pb(I,p))l.push(D);else{var G=x(D);G&&Pb(G,p)&&l.push(D)}}}else{var Y=S,q=Y._private,V=q.rscratch,W=Y.pstyle("box-selection").strValue;if(W==="none")continue;if(W==="contain"){if(V.startX!=null&&V.startY!=null&&!Ko(v,V.startX,V.startY)||V.endX!=null&&V.endY!=null&&!Ko(v,V.endX,V.endY))continue;if(V.edgeType==="bezier"||V.edgeType==="multibezier"||V.edgeType==="self"||V.edgeType==="compound"||V.edgeType==="segments"||V.edgeType==="haystack"){for(var J=q.rstyle.bezierPts||q.rstyle.linePts||q.rstyle.haystackPts,ie=!0,K=0;K<J.length;K++)if(!dD(v,J[K])){ie=!1;break}ie&&l.push(Y)}else V.edgeType==="straight"&&l.push(Y)}else if(W==="overlap"){var Z=!1;if(V.startX!=null&&V.startY!=null&&V.endX!=null&&V.endY!=null&&(Ko(v,V.startX,V.startY)||Ko(v,V.endX,V.endY)))l.push(Y),Z=!0;else if(!Z&&V.edgeType==="haystack"){for(var fe=q.rstyle.haystackPts,he=0;he<fe.length;he++)if(dD(v,fe[he])){l.push(Y),Z=!0;break}}if(!Z){var oe=q.rstyle.bezierPts||q.rstyle.linePts||q.rstyle.haystackPts;if((!oe||oe.length<2)&&V.edgeType==="straight"&&V.startX!=null&&V.startY!=null&&V.endX!=null&&V.endY!=null&&(oe=[{x:V.startX,y:V.startY},{x:V.endX,y:V.endY}]),!oe||oe.length<2)continue;for(var be=0;be<oe.length-1;be++){for(var Ae=oe[be],Le=oe[be+1],ce=0;ce<m.length;ce++){var ae=Wr(m[ce],2),le=ae[0],re=ae[1];if(w(Ae,Le,le,re)){l.push(Y),Z=!0;break}}if(Z)break}}}}}return l};var wg={};wg.calculateArrowAngles=function(e){var t=e._private.rscratch,r=t.edgeType==="haystack",n=t.edgeType==="bezier",a=t.edgeType==="multibezier",i=t.edgeType==="segments",o=t.edgeType==="compound",l=t.edgeType==="self",u,c,h,d,v,p,w,T;if(r?(h=t.haystackPts[0],d=t.haystackPts[1],v=t.haystackPts[2],p=t.haystackPts[3]):(h=t.arrowStartX,d=t.arrowStartY,v=t.arrowEndX,p=t.arrowEndY),w=t.midX,T=t.midY,i)u=h-t.segpts[0],c=d-t.segpts[1];else if(a||o||l||n){var m=t.allpts,b=dn(m[0],m[2],m[4],.1),x=dn(m[1],m[3],m[5],.1);u=h-b,c=d-x}else u=h-w,c=d-T;t.srcArrowAngle=Hd(u,c);var w=t.midX,T=t.midY;if(r&&(w=(h+v)/2,T=(d+p)/2),u=v-h,c=p-d,i){var m=t.allpts;if(m.length/2%2===0){var S=m.length/2,D=S-2;u=m[S]-m[D],c=m[S+1]-m[D+1]}else if(t.isRound)u=t.midVector[1],c=-t.midVector[0];else{var S=m.length/2-1,D=S-2;u=m[S]-m[D],c=m[S+1]-m[D+1]}}else if(a||o||l){var m=t.allpts,R=t.ctrlpts,L,_,N,P;if(R.length/2%2===0){var U=m.length/2-1,j=U+2,F=j+2;L=dn(m[U],m[j],m[F],0),_=dn(m[U+1],m[j+1],m[F+1],0),N=dn(m[U],m[j],m[F],1e-4),P=dn(m[U+1],m[j+1],m[F+1],1e-4)}else{var j=m.length/2-1,U=j-2,F=j+2;L=dn(m[U],m[j],m[F],.4999),_=dn(m[U+1],m[j+1],m[F+1],.4999),N=dn(m[U],m[j],m[F],.5),P=dn(m[U+1],m[j+1],m[F+1],.5)}u=N-L,c=P-_}if(t.midtgtArrowAngle=Hd(u,c),t.midDispX=u,t.midDispY=c,u*=-1,c*=-1,i){var m=t.allpts;if(m.length/2%2!==0){if(!t.isRound){var S=m.length/2-1,I=S+2;u=-(m[I]-m[S]),c=-(m[I+1]-m[S+1])}}}if(t.midsrcArrowAngle=Hd(u,c),i)u=v-t.segpts[t.segpts.length-2],c=p-t.segpts[t.segpts.length-1];else if(a||o||l||n){var m=t.allpts,G=m.length,b=dn(m[G-6],m[G-4],m[G-2],.9),x=dn(m[G-5],m[G-3],m[G-1],.9);u=v-b,c=p-x}else u=v-w,c=p-T;t.tgtArrowAngle=Hd(u,c)};wg.getArrowWidth=wg.getArrowHeight=function(e,t){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[e+", "+t];return n||(n=Math.max(Math.pow(e*13.37,.9),29)*t,r[e+", "+t]=n,n)};var Zx,Qx,pi={},za={},Kk,Wk,Hs,yv,Gi,Ls,$s,di,nu,tv,a3,i3,Jx,ew,Zk,Qk=function(t,r,n){n.x=r.x-t.x,n.y=r.y-t.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},mre=function(t,r){r.x=t.x*-1,r.y=t.y*-1,r.nx=t.nx*-1,r.ny=t.ny*-1,r.ang=t.ang>0?-(Math.PI-t.ang):Math.PI+t.ang},yre=function(t,r,n,a,i){if(t!==Zk?Qk(r,t,pi):mre(za,pi),Qk(r,n,za),Kk=pi.nx*za.ny-pi.ny*za.nx,Wk=pi.nx*za.nx-pi.ny*-za.ny,Gi=Math.asin(Math.max(-1,Math.min(1,Kk))),Math.abs(Gi)<1e-6){Zx=r.x,Qx=r.y,$s=nu=0;return}Hs=1,yv=!1,Wk<0?Gi<0?Gi=Math.PI+Gi:(Gi=Math.PI-Gi,Hs=-1,yv=!0):Gi>0&&(Hs=-1,yv=!0),r.radius!==void 0?nu=r.radius:nu=a,Ls=Gi/2,tv=Math.min(pi.len/2,za.len/2),i?(di=Math.abs(Math.cos(Ls)*nu/Math.sin(Ls)),di>tv?(di=tv,$s=Math.abs(di*Math.sin(Ls)/Math.cos(Ls))):$s=nu):(di=Math.min(tv,nu),$s=Math.abs(di*Math.sin(Ls)/Math.cos(Ls))),Jx=r.x+za.nx*di,ew=r.y+za.ny*di,Zx=Jx-za.ny*$s*Hs,Qx=ew+za.nx*$s*Hs,a3=r.x+pi.nx*di,i3=r.y+pi.ny*di,Zk=r};function o3(e,t){t.radius===0?e.lineTo(t.cx,t.cy):e.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function uS(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||t.radius===0?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(yre(e,t,r,n,a),{cx:Zx,cy:Qx,radius:$s,startX:a3,startY:i3,stopX:Jx,stopY:ew,startAngle:pi.ang+Math.PI/2*Hs,endAngle:za.ang-Math.PI/2*Hs,counterClockwise:yv})}var Bf=.01,bre=Math.sqrt(2*Bf),In={};In.findMidptPtsEtc=function(e,t){var r=t.posPts,n=t.intersectionPts,a=t.vectorNormInverse,i,o=e.pstyle("source-endpoint"),l=e.pstyle("target-endpoint"),u=o.units!=null&&l.units!=null,c=function(R,L,_,N){var P=N-L,U=_-R,j=Math.sqrt(U*U+P*P);return{x:-P/j,y:U/j}},h=e.pstyle("edge-distances").value;switch(h){case"node-position":i=r;break;case"intersection":i=n;break;case"endpoints":{if(u){var d=this.manualEndptToPx(e.source()[0],o),v=Wr(d,2),p=v[0],m=v[1],b=this.manualEndptToPx(e.target()[0],l),x=Wr(b,2),w=x[0],T=x[1],S={x1:p,y1:m,x2:w,y2:T};a=c(p,m,w,T),i=S}else sr("Edge ".concat(e.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),i=n;break}}return{midptPts:i,vectorNormInverse:a}};In.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var r=e[t],n=r._private,a=n.rscratch;if(!a.haystack){var i=Math.random()*2*Math.PI;a.source={x:Math.cos(i),y:Math.sin(i)},i=Math.random()*2*Math.PI,a.target={x:Math.cos(i),y:Math.sin(i)}}var o=n.source,l=n.target,u=o.position(),c=l.position(),h=o.width(),d=l.width(),v=o.height(),p=l.height(),m=r.pstyle("haystack-radius").value,b=m/2;a.haystackPts=a.allpts=[a.source.x*h*b+u.x,a.source.y*v*b+u.y,a.target.x*d*b+c.x,a.target.y*p*b+c.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};In.findSegmentsPoints=function(e,t){var r=e._private.rscratch,n=e.pstyle("segment-weights"),a=e.pstyle("segment-distances"),i=e.pstyle("segment-radii"),o=e.pstyle("radius-type"),l=Math.min(n.pfValue.length,a.pfValue.length),u=i.pfValue[i.pfValue.length-1],c=o.pfValue[o.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var h=0;h<l;h++){var d=n.pfValue[h],v=a.pfValue[h],p=1-d,m=d,b=this.findMidptPtsEtc(e,t),x=b.midptPts,w=b.vectorNormInverse,T={x:x.x1*p+x.x2*m,y:x.y1*p+x.y2*m};r.segpts.push(T.x+w.x*v,T.y+w.y*v),r.radii.push(i.pfValue[h]!==void 0?i.pfValue[h]:u),r.isArcRadius.push((o.pfValue[h]!==void 0?o.pfValue[h]:c)==="arc-radius")}};In.findLoopPoints=function(e,t,r,n){var a=e._private.rscratch,i=t.dirCounts,o=t.srcPos,l=e.pstyle("control-point-distances"),u=l?l.pfValue[0]:void 0,c=e.pstyle("loop-direction").pfValue,h=e.pstyle("loop-sweep").pfValue,d=e.pstyle("control-point-step-size").pfValue;a.edgeType="self";var v=r,p=d;n&&(v=0,p=u);var m=c-Math.PI/2,b=m-h/2,x=m+h/2,w=c+"_"+h;v=i[w]===void 0?i[w]=0:++i[w],a.ctrlpts=[o.x+Math.cos(b)*1.4*p*(v/3+1),o.y+Math.sin(b)*1.4*p*(v/3+1),o.x+Math.cos(x)*1.4*p*(v/3+1),o.y+Math.sin(x)*1.4*p*(v/3+1)]};In.findCompoundLoopPoints=function(e,t,r,n){var a=e._private.rscratch;a.edgeType="compound";var i=t.srcPos,o=t.tgtPos,l=t.srcW,u=t.srcH,c=t.tgtW,h=t.tgtH,d=e.pstyle("control-point-step-size").pfValue,v=e.pstyle("control-point-distances"),p=v?v.pfValue[0]:void 0,m=r,b=d;n&&(m=0,b=p);var x=50,w={x:i.x-l/2,y:i.y-u/2},T={x:o.x-c/2,y:o.y-h/2},S={x:Math.min(w.x,T.x),y:Math.min(w.y,T.y)},D=.5,R=Math.max(D,Math.log(l*Bf)),L=Math.max(D,Math.log(c*Bf));a.ctrlpts=[S.x,S.y-(1+Math.pow(x,1.12)/100)*b*(m/3+1)*R,S.x-(1+Math.pow(x,1.12)/100)*b*(m/3+1)*L,S.y]};In.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"};In.findBezierPoints=function(e,t,r,n,a){var i=e._private.rscratch,o=e.pstyle("control-point-step-size").pfValue,l=e.pstyle("control-point-distances"),u=e.pstyle("control-point-weights"),c=l&&u?Math.min(l.value.length,u.value.length):1,h=l?l.pfValue[0]:void 0,d=u.value[0],v=n;i.edgeType=v?"multibezier":"bezier",i.ctrlpts=[];for(var p=0;p<c;p++){var m=(.5-t.eles.length/2+r)*o*(a?-1:1),b=void 0,x=WE(m);v&&(h=l?l.pfValue[p]:o,d=u.value[p]),n?b=h:b=h!==void 0?x*h:void 0;var w=b!==void 0?b:m,T=1-d,S=d,D=this.findMidptPtsEtc(e,t),R=D.midptPts,L=D.vectorNormInverse,_={x:R.x1*T+R.x2*S,y:R.y1*T+R.y2*S};i.ctrlpts.push(_.x+L.x*w,_.y+L.y*w)}};In.findTaxiPoints=function(e,t){var r=e._private.rscratch;r.edgeType="segments";var n="vertical",a="horizontal",i="leftward",o="rightward",l="downward",u="upward",c="auto",h=t.posPts,d=t.srcW,v=t.srcH,p=t.tgtW,m=t.tgtH,b=e.pstyle("edge-distances").value,x=b!=="node-position",w=e.pstyle("taxi-direction").value,T=w,S=e.pstyle("taxi-turn"),D=S.units==="%",R=S.pfValue,L=R<0,_=e.pstyle("taxi-turn-min-distance").pfValue,N=x?(d+p)/2:0,P=x?(v+m)/2:0,U=h.x2-h.x1,j=h.y2-h.y1,F=function(Q,ye){return Q>0?Math.max(Q-ye,0):Math.min(Q+ye,0)},I=F(U,N),G=F(j,P),Y=!1;T===c?w=Math.abs(I)>Math.abs(G)?a:n:T===u||T===l?(w=n,Y=!0):(T===i||T===o)&&(w=a,Y=!0);var q=w===n,V=q?G:I,W=q?j:U,J=WE(W),ie=!1;!(Y&&(D||L))&&(T===l&&W<0||T===u&&W>0||T===i&&W>0||T===o&&W<0)&&(J*=-1,V=J*Math.abs(V),ie=!0);var K;if(D){var Z=R<0?1+R:R;K=Z*V}else{var fe=R<0?V:0;K=fe+R*J}var he=function(Q){return Math.abs(Q)<_||Math.abs(Q)>=Math.abs(V)},oe=he(K),be=he(Math.abs(V)-Math.abs(K)),Ae=oe||be;if(Ae&&!ie)if(q){var Le=Math.abs(W)<=v/2,ce=Math.abs(U)<=p/2;if(Le){var ae=(h.x1+h.x2)/2,le=h.y1,re=h.y2;r.segpts=[ae,le,ae,re]}else if(ce){var ge=(h.y1+h.y2)/2,Se=h.x1,ze=h.x2;r.segpts=[Se,ge,ze,ge]}else r.segpts=[h.x1,h.y2]}else{var Qe=Math.abs(W)<=d/2,Oe=Math.abs(j)<=m/2;if(Qe){var je=(h.y1+h.y2)/2,Ue=h.x1,qe=h.x2;r.segpts=[Ue,je,qe,je]}else if(Oe){var Ke=(h.x1+h.x2)/2,Xe=h.y1,ot=h.y2;r.segpts=[Ke,Xe,Ke,ot]}else r.segpts=[h.x2,h.y1]}else if(q){var Ye=h.y1+K+(x?v/2*J:0),ct=h.x1,ht=h.x2;r.segpts=[ct,Ye,ht,Ye]}else{var dt=h.x1+K+(x?d/2*J:0),yt=h.y1,bt=h.y2;r.segpts=[dt,yt,dt,bt]}if(r.isRound){var mt=e.pstyle("taxi-radius").value,vt=e.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(mt),r.isArcRadius=new Array(r.segpts.length/2).fill(vt)}};In.tryToCorrectInvalidPoints=function(e,t){var r=e._private.rscratch;if(r.edgeType==="bezier"){var n=t.srcPos,a=t.tgtPos,i=t.srcW,o=t.srcH,l=t.tgtW,u=t.tgtH,c=t.srcShape,h=t.tgtShape,d=t.srcCornerRadius,v=t.tgtCornerRadius,p=t.srcRs,m=t.tgtRs,b=!pt(r.startX)||!pt(r.startY),x=!pt(r.arrowStartX)||!pt(r.arrowStartY),w=!pt(r.endX)||!pt(r.endY),T=!pt(r.arrowEndX)||!pt(r.arrowEndY),S=3,D=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth,R=S*D,L=fl({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),_=L<R,N=fl({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),P=N<R,U=!1;if(b||x||_){U=!0;var j={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},F=Math.sqrt(j.x*j.x+j.y*j.y),I={x:j.x/F,y:j.y/F},G=Math.max(i,o),Y={x:r.ctrlpts[0]+I.x*2*G,y:r.ctrlpts[1]+I.y*2*G},q=c.intersectLine(n.x,n.y,i,o,Y.x,Y.y,0,d,p);_?(r.ctrlpts[0]=r.ctrlpts[0]+I.x*(R-L),r.ctrlpts[1]=r.ctrlpts[1]+I.y*(R-L)):(r.ctrlpts[0]=q[0]+I.x*R,r.ctrlpts[1]=q[1]+I.y*R)}if(w||T||P){U=!0;var V={x:r.ctrlpts[0]-a.x,y:r.ctrlpts[1]-a.y},W=Math.sqrt(V.x*V.x+V.y*V.y),J={x:V.x/W,y:V.y/W},ie=Math.max(i,o),K={x:r.ctrlpts[0]+J.x*2*ie,y:r.ctrlpts[1]+J.y*2*ie},Z=h.intersectLine(a.x,a.y,l,u,K.x,K.y,0,v,m);P?(r.ctrlpts[0]=r.ctrlpts[0]+J.x*(R-N),r.ctrlpts[1]=r.ctrlpts[1]+J.y*(R-N)):(r.ctrlpts[0]=Z[0]+J.x*R,r.ctrlpts[1]=Z[1]+J.y*R)}U&&this.findEndpoints(e)}};In.storeAllpts=function(e){var t=e._private.rscratch;if(t.edgeType==="multibezier"||t.edgeType==="bezier"||t.edgeType==="self"||t.edgeType==="compound"){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var r=0;r+1<t.ctrlpts.length;r+=2)t.allpts.push(t.ctrlpts[r],t.ctrlpts[r+1]),r+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[r]+t.ctrlpts[r+2])/2,(t.ctrlpts[r+1]+t.ctrlpts[r+3])/2);t.allpts.push(t.endX,t.endY);var n,a;t.ctrlpts.length/2%2===0?(n=t.allpts.length/2-1,t.midX=t.allpts[n],t.midY=t.allpts[n+1]):(n=t.allpts.length/2-3,a=.5,t.midX=dn(t.allpts[n],t.allpts[n+2],t.allpts[n+4],a),t.midY=dn(t.allpts[n+1],t.allpts[n+3],t.allpts[n+5],a))}else if(t.edgeType==="straight")t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if(t.edgeType==="segments"){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(var i=2;i+3<t.allpts.length;i+=2){var o=t.radii[i/2-1],l=t.isArcRadius[i/2-1];t.roundCorners.push(uS({x:t.allpts[i-2],y:t.allpts[i-1]},{x:t.allpts[i],y:t.allpts[i+1],radius:o},{x:t.allpts[i+2],y:t.allpts[i+3]},o,l))}}if(t.segpts.length%4===0){var u=t.segpts.length/2,c=u-2;t.midX=(t.segpts[c]+t.segpts[u])/2,t.midY=(t.segpts[c+1]+t.segpts[u+1])/2}else{var h=t.segpts.length/2-1;if(!t.isRound)t.midX=t.segpts[h],t.midY=t.segpts[h+1];else{var d={x:t.segpts[h],y:t.segpts[h+1]},v=t.roundCorners[h/2];if(v.radius===0){var p={x:t.segpts[h+2],y:t.segpts[h+3]};t.midX=d.x,t.midY=d.y,t.midVector=[d.y-p.y,p.x-d.x]}else{var m=[d.x-v.cx,d.y-v.cy],b=v.radius/Math.sqrt(Math.pow(m[0],2)+Math.pow(m[1],2));m=m.map(function(x){return x*b}),t.midX=v.cx+m[0],t.midY=v.cy+m[1],t.midVector=m}}}}};In.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||pt(t.startX)&&pt(t.startY)&&pt(t.endX)&&pt(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,sr("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};In.findEdgeControlPoints=function(e){var t=this;if(!(!e||e.length===0)){for(var r=this,n=r.cy,a=n.hasCompoundNodes(),i=new Wi,o=function(P,U){return[].concat(fg(P),[U?1:0]).join("-")},l=[],u=[],c=0;c<e.length;c++){var h=e[c],d=h._private,v=h.pstyle("curve-style").value;if(!(h.removed()||!h.takesUpSpace())){if(v==="haystack"){u.push(h);continue}var p=v==="unbundled-bezier"||Xo(v,"segments")||v==="straight"||v==="straight-triangle"||Xo(v,"taxi"),m=v==="unbundled-bezier"||v==="bezier",b=d.source,x=d.target,w=b.poolIndex(),T=x.poolIndex(),S=[w,T].sort(),D=o(S,p),R=i.get(D);R==null&&(R={eles:[]},l.push({pairId:S,edgeIsUnbundled:p}),i.set(D,R)),R.eles.push(h),p&&(R.hasUnbundled=!0),m&&(R.hasBezier=!0)}}for(var L=function(){var P=l[_],U=P.pairId,j=P.edgeIsUnbundled,F=o(U,j),I=i.get(F),G;if(!I.hasUnbundled){var Y=I.eles[0].parallelEdges().filter(function(vt){return vt.isBundledBezier()});XE(I.eles),Y.forEach(function(vt){return I.eles.push(vt)}),I.eles.sort(function(vt,de){return vt.poolIndex()-de.poolIndex()})}var q=I.eles[0],V=q.source(),W=q.target();if(V.poolIndex()>W.poolIndex()){var J=V;V=W,W=J}var ie=I.srcPos=V.position(),K=I.tgtPos=W.position(),Z=I.srcW=V.outerWidth(),fe=I.srcH=V.outerHeight(),he=I.tgtW=W.outerWidth(),oe=I.tgtH=W.outerHeight(),be=I.srcShape=r.nodeShapes[t.getNodeShape(V)],Ae=I.tgtShape=r.nodeShapes[t.getNodeShape(W)],Le=I.srcCornerRadius=V.pstyle("corner-radius").value==="auto"?"auto":V.pstyle("corner-radius").pfValue,ce=I.tgtCornerRadius=W.pstyle("corner-radius").value==="auto"?"auto":W.pstyle("corner-radius").pfValue,ae=I.tgtRs=W._private.rscratch,le=I.srcRs=V._private.rscratch;I.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var re=0;re<I.eles.length;re++){var ge=I.eles[re],Se=ge[0]._private.rscratch,ze=ge.pstyle("curve-style").value,Qe=ze==="unbundled-bezier"||Xo(ze,"segments")||Xo(ze,"taxi"),Oe=!V.same(ge.source());if(!I.calculatedIntersection&&V!==W&&(I.hasBezier||I.hasUnbundled)){I.calculatedIntersection=!0;var je=be.intersectLine(ie.x,ie.y,Z,fe,K.x,K.y,0,Le,le),Ue=I.srcIntn=je,qe=Ae.intersectLine(K.x,K.y,he,oe,ie.x,ie.y,0,ce,ae),Ke=I.tgtIntn=qe,Xe=I.intersectionPts={x1:je[0],x2:qe[0],y1:je[1],y2:qe[1]},ot=I.posPts={x1:ie.x,x2:K.x,y1:ie.y,y2:K.y},Ye=qe[1]-je[1],ct=qe[0]-je[0],ht=Math.sqrt(ct*ct+Ye*Ye);pt(ht)&&ht>=bre||(ht=Math.sqrt(Math.max(ct*ct,Bf)+Math.max(Ye*Ye,Bf)));var dt=I.vector={x:ct,y:Ye},yt=I.vectorNorm={x:dt.x/ht,y:dt.y/ht},bt={x:-yt.y,y:yt.x};I.nodesOverlap=!pt(ht)||Ae.checkPoint(je[0],je[1],0,he,oe,K.x,K.y,ce,ae)||be.checkPoint(qe[0],qe[1],0,Z,fe,ie.x,ie.y,Le,le),I.vectorNormInverse=bt,G={nodesOverlap:I.nodesOverlap,dirCounts:I.dirCounts,calculatedIntersection:!0,hasBezier:I.hasBezier,hasUnbundled:I.hasUnbundled,eles:I.eles,srcPos:K,srcRs:ae,tgtPos:ie,tgtRs:le,srcW:he,srcH:oe,tgtW:Z,tgtH:fe,srcIntn:Ke,tgtIntn:Ue,srcShape:Ae,tgtShape:be,posPts:{x1:ot.x2,y1:ot.y2,x2:ot.x1,y2:ot.y1},intersectionPts:{x1:Xe.x2,y1:Xe.y2,x2:Xe.x1,y2:Xe.y1},vector:{x:-dt.x,y:-dt.y},vectorNorm:{x:-yt.x,y:-yt.y},vectorNormInverse:{x:-bt.x,y:-bt.y}}}var mt=Oe?G:I;Se.nodesOverlap=mt.nodesOverlap,Se.srcIntn=mt.srcIntn,Se.tgtIntn=mt.tgtIntn,Se.isRound=ze.startsWith("round"),a&&(V.isParent()||V.isChild()||W.isParent()||W.isChild())&&(V.parents().anySame(W)||W.parents().anySame(V)||V.same(W)&&V.isParent())?t.findCompoundLoopPoints(ge,mt,re,Qe):V===W?t.findLoopPoints(ge,mt,re,Qe):ze.endsWith("segments")?t.findSegmentsPoints(ge,mt):ze.endsWith("taxi")?t.findTaxiPoints(ge,mt):ze==="straight"||!Qe&&I.eles.length%2===1&&re===Math.floor(I.eles.length/2)?t.findStraightEdgePoints(ge):t.findBezierPoints(ge,mt,re,Qe,Oe),t.findEndpoints(ge),t.tryToCorrectInvalidPoints(ge,mt),t.checkForInvalidEdgeWarning(ge),t.storeAllpts(ge),t.storeEdgeProjections(ge),t.calculateArrowAngles(ge),t.recalculateEdgeLabelProjections(ge),t.calculateLabelAngles(ge)}},_=0;_<l.length;_++)L();this.findHaystackPoints(u)}};function s3(e){var t=[];if(e!=null){for(var r=0;r<e.length;r+=2){var n=e[r],a=e[r+1];t.push({x:n,y:a})}return t}}In.getSegmentPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if(r==="segments")return s3(t.segpts)};In.getControlPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return s3(t.ctrlpts)};In.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var uh={};uh.manualEndptToPx=function(e,t){var r=this,n=e.position(),a=e.outerWidth(),i=e.outerHeight(),o=e._private.rscratch;if(t.value.length===2){var l=[t.pfValue[0],t.pfValue[1]];return t.units[0]==="%"&&(l[0]=l[0]*a),t.units[1]==="%"&&(l[1]=l[1]*i),l[0]+=n.x,l[1]+=n.y,l}else{var u=t.pfValue[0];u=-Math.PI/2+u;var c=2*Math.max(a,i),h=[n.x+Math.cos(u)*c,n.y+Math.sin(u)*c];return r.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,a,i,h[0],h[1],0,e.pstyle("corner-radius").value==="auto"?"auto":e.pstyle("corner-radius").pfValue,o)}};uh.findEndpoints=function(e){var t,r,n,a,i=this,o,l=e.source()[0],u=e.target()[0],c=l.position(),h=u.position(),d=e.pstyle("target-arrow-shape").value,v=e.pstyle("source-arrow-shape").value,p=e.pstyle("target-distance-from-node").pfValue,m=e.pstyle("source-distance-from-node").pfValue,b=l._private.rscratch,x=u._private.rscratch,w=e.pstyle("curve-style").value,T=e._private.rscratch,S=T.edgeType,D=Xo(w,"taxi"),R=S==="self"||S==="compound",L=S==="bezier"||S==="multibezier"||R,_=S!=="bezier",N=S==="straight"||S==="segments",P=S==="segments",U=L||_||N,j=R||D,F=e.pstyle("source-endpoint"),I=j?"outside-to-node":F.value,G=l.pstyle("corner-radius").value==="auto"?"auto":l.pstyle("corner-radius").pfValue,Y=e.pstyle("target-endpoint"),q=j?"outside-to-node":Y.value,V=u.pstyle("corner-radius").value==="auto"?"auto":u.pstyle("corner-radius").pfValue;T.srcManEndpt=F,T.tgtManEndpt=Y;var W,J,ie,K,Z=(t=(Y==null||(r=Y.pfValue)===null||r===void 0?void 0:r.length)===2?Y.pfValue:null)!==null&&t!==void 0?t:[0,0],fe=(n=(F==null||(a=F.pfValue)===null||a===void 0?void 0:a.length)===2?F.pfValue:null)!==null&&n!==void 0?n:[0,0];if(L){var he=[T.ctrlpts[0],T.ctrlpts[1]],oe=_?[T.ctrlpts[T.ctrlpts.length-2],T.ctrlpts[T.ctrlpts.length-1]]:he;W=oe,J=he}else if(N){var be=P?T.segpts.slice(0,2):[h.x+Z[0],h.y+Z[1]],Ae=P?T.segpts.slice(T.segpts.length-2):[c.x+fe[0],c.y+fe[1]];W=Ae,J=be}if(q==="inside-to-node")o=[h.x,h.y];else if(Y.units)o=this.manualEndptToPx(u,Y);else if(q==="outside-to-line")o=T.tgtIntn;else if(q==="outside-to-node"||q==="outside-to-node-or-label"?ie=W:(q==="outside-to-line"||q==="outside-to-line-or-label")&&(ie=[c.x,c.y]),o=i.nodeShapes[this.getNodeShape(u)].intersectLine(h.x,h.y,u.outerWidth(),u.outerHeight(),ie[0],ie[1],0,V,x),q==="outside-to-node-or-label"||q==="outside-to-line-or-label"){var Le=u._private.rscratch,ce=Le.labelWidth,ae=Le.labelHeight,le=Le.labelX,re=Le.labelY,ge=ce/2,Se=ae/2,ze=u.pstyle("text-valign").value;ze==="top"?re-=Se:ze==="bottom"&&(re+=Se);var Qe=u.pstyle("text-halign").value;Qe==="left"?le-=ge:Qe==="right"&&(le+=ge);var Oe=Nf(ie[0],ie[1],[le-ge,re-Se,le+ge,re-Se,le+ge,re+Se,le-ge,re+Se],h.x,h.y);if(Oe.length>0){var je=c,Ue=Vs(je,hu(o)),qe=Vs(je,hu(Oe)),Ke=Ue;if(qe<Ue&&(o=Oe,Ke=qe),Oe.length>2){var Xe=Vs(je,{x:Oe[2],y:Oe[3]});Xe<Ke&&(o=[Oe[2],Oe[3]])}}}var ot=Xd(o,W,i.arrowShapes[d].spacing(e)+p),Ye=Xd(o,W,i.arrowShapes[d].gap(e)+p);if(T.endX=Ye[0],T.endY=Ye[1],T.arrowEndX=ot[0],T.arrowEndY=ot[1],I==="inside-to-node")o=[c.x,c.y];else if(F.units)o=this.manualEndptToPx(l,F);else if(I==="outside-to-line")o=T.srcIntn;else if(I==="outside-to-node"||I==="outside-to-node-or-label"?K=J:(I==="outside-to-line"||I==="outside-to-line-or-label")&&(K=[h.x,h.y]),o=i.nodeShapes[this.getNodeShape(l)].intersectLine(c.x,c.y,l.outerWidth(),l.outerHeight(),K[0],K[1],0,G,b),I==="outside-to-node-or-label"||I==="outside-to-line-or-label"){var ct=l._private.rscratch,ht=ct.labelWidth,dt=ct.labelHeight,yt=ct.labelX,bt=ct.labelY,mt=ht/2,vt=dt/2,de=l.pstyle("text-valign").value;de==="top"?bt-=vt:de==="bottom"&&(bt+=vt);var Q=l.pstyle("text-halign").value;Q==="left"?yt-=mt:Q==="right"&&(yt+=mt);var ye=Nf(K[0],K[1],[yt-mt,bt-vt,yt+mt,bt-vt,yt+mt,bt+vt,yt-mt,bt+vt],c.x,c.y);if(ye.length>0){var Te=h,Me=Vs(Te,hu(o)),Pe=Vs(Te,hu(ye)),lt=Me;if(Pe<Me&&(o=[ye[0],ye[1]],lt=Pe),ye.length>2){var Ie=Vs(Te,{x:ye[2],y:ye[3]});Ie<lt&&(o=[ye[2],ye[3]])}}}var tt=Xd(o,J,i.arrowShapes[v].spacing(e)+m),rt=Xd(o,J,i.arrowShapes[v].gap(e)+m);T.startX=rt[0],T.startY=rt[1],T.arrowStartX=tt[0],T.arrowStartY=tt[1],U&&(!pt(T.startX)||!pt(T.startY)||!pt(T.endX)||!pt(T.endY)?T.badLine=!0:T.badLine=!1)};uh.getSourceEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}};uh.getTargetEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}};var cS={};function xre(e,t,r){for(var n=function(c,h,d,v){return dn(c,h,d,v)},a=t._private,i=a.rstyle.bezierPts,o=0;o<e.bezierProjPcts.length;o++){var l=e.bezierProjPcts[o];i.push({x:n(r[0],r[2],r[4],l),y:n(r[1],r[3],r[5],l)})}}cS.storeEdgeProjections=function(e){var t=e._private,r=t.rscratch,n=r.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){t.rstyle.bezierPts=[];for(var a=0;a+5<r.allpts.length;a+=4)xre(this,e,r.allpts.slice(a,a+6))}else if(n==="segments")for(var i=t.rstyle.linePts=[],a=0;a+1<r.allpts.length;a+=2)i.push({x:r.allpts[a],y:r.allpts[a+1]});else if(n==="haystack"){var o=r.haystackPts;t.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth};cS.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var Si={};Si.recalculateNodeLabelProjection=function(e){var t=e.pstyle("label").strValue;if(!rs(t)){var r,n,a=e._private,i=e.width(),o=e.height(),l=e.padding(),u=e.position(),c=e.pstyle("text-halign").strValue,h=e.pstyle("text-valign").strValue,d=a.rscratch,v=a.rstyle;switch(c){case"left":r=u.x-i/2-l;break;case"right":r=u.x+i/2+l;break;default:r=u.x}switch(h){case"top":n=u.y-o/2-l;break;case"bottom":n=u.y+o/2+l;break;default:n=u.y}d.labelX=r,d.labelY=n,v.labelX=r,v.labelY=n,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}};var l3=function(t,r){var n=Math.atan(r/t);return t===0&&n<0&&(n=n*-1),n},u3=function(t,r){var n=r.x-t.x,a=r.y-t.y;return l3(n,a)},wre=function(t,r,n,a){var i=kf(0,a-.001,1),o=kf(0,a+.001,1),l=yu(t,r,n,i),u=yu(t,r,n,o);return u3(l,u)};Si.recalculateEdgeLabelProjections=function(e){var t,r=e._private,n=r.rscratch,a=this,i={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(i.mid||i.source||i.target){t={x:n.midX,y:n.midY};var o=function(d,v,p){Vi(r.rscratch,d,v,p),Vi(r.rstyle,d,v,p)};o("labelX",null,t.x),o("labelY",null,t.y);var l=l3(n.midDispX,n.midDispY);o("labelAutoAngle",null,l);var u=function(){if(u.cache)return u.cache;for(var d=[],v=0;v+5<n.allpts.length;v+=4){var p={x:n.allpts[v],y:n.allpts[v+1]},m={x:n.allpts[v+2],y:n.allpts[v+3]},b={x:n.allpts[v+4],y:n.allpts[v+5]};d.push({p0:p,p1:m,p2:b,startDist:0,length:0,segments:[]})}var x=r.rstyle.bezierPts,w=a.bezierProjPcts.length;function T(_,N,P,U,j){var F=fl(N,P),I=_.segments[_.segments.length-1],G={p0:N,p1:P,t0:U,t1:j,startDist:I?I.startDist+I.length:0,length:F};_.segments.push(G),_.length+=F}for(var S=0;S<d.length;S++){var D=d[S],R=d[S-1];R&&(D.startDist=R.startDist+R.length),T(D,D.p0,x[S*w],0,a.bezierProjPcts[0]);for(var L=0;L<w-1;L++)T(D,x[S*w+L],x[S*w+L+1],a.bezierProjPcts[L],a.bezierProjPcts[L+1]);T(D,x[S*w+w-1],D.p2,a.bezierProjPcts[w-1],1)}return u.cache=d},c=function(d){var v,p=d==="source";if(i[d]){var m=e.pstyle(d+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var b=u(),x,w=0,T=0,S=0;S<b.length;S++){for(var D=b[p?S:b.length-1-S],R=0;R<D.segments.length;R++){var L=D.segments[p?R:D.segments.length-1-R],_=S===b.length-1&&R===D.segments.length-1;if(w=T,T+=L.length,T>=m||_){x={cp:D,segment:L};break}}if(x)break}var N=x.cp,P=x.segment,U=(m-w)/P.length,j=P.t1-P.t0,F=p?P.t0+j*U:P.t1-j*U;F=kf(0,F,1),t=yu(N.p0,N.p1,N.p2,F),v=wre(N.p0,N.p1,N.p2,F);break}case"straight":case"segments":case"haystack":{for(var I=0,G,Y,q,V,W=n.allpts.length,J=0;J+3<W&&(p?(q={x:n.allpts[J],y:n.allpts[J+1]},V={x:n.allpts[J+2],y:n.allpts[J+3]}):(q={x:n.allpts[W-2-J],y:n.allpts[W-1-J]},V={x:n.allpts[W-4-J],y:n.allpts[W-3-J]}),G=fl(q,V),Y=I,I+=G,!(I>=m));J+=2);var ie=m-Y,K=ie/G;K=kf(0,K,1),t=qQ(q,V,K),v=u3(q,V);break}}o("labelX",d,t.x),o("labelY",d,t.y),o("labelAutoAngle",d,v)}};c("source"),c("target"),this.applyLabelDimensions(e)}};Si.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))};Si.applyPrefixedLabelDimensions=function(e,t){var r=e._private,n=this.getLabelText(e,t),a=cl(n,e._private.labelDimsKey);if(ra(r.rscratch,"prefixedLabelDimsKey",t)!==a){Vi(r.rscratch,"prefixedLabelDimsKey",t,a);var i=this.calculateLabelDimensions(e,n),o=e.pstyle("line-height").pfValue,l=e.pstyle("text-wrap").strValue,u=ra(r.rscratch,"labelWrapCachedLines",t)||[],c=l!=="wrap"?1:Math.max(u.length,1),h=i.height/c,d=h*o,v=i.width,p=i.height+(c-1)*(o-1)*h;Vi(r.rstyle,"labelWidth",t,v),Vi(r.rscratch,"labelWidth",t,v),Vi(r.rstyle,"labelHeight",t,p),Vi(r.rscratch,"labelHeight",t,p),Vi(r.rscratch,"labelLineHeight",t,d)}};Si.getLabelText=function(e,t){var r=e._private,n=t?t+"-":"",a=e.pstyle(n+"label").strValue,i=e.pstyle("text-transform").value,o=function(fe,he){return he?(Vi(r.rscratch,fe,t,he),he):ra(r.rscratch,fe,t)};if(!a)return"";i=="none"||(i=="uppercase"?a=a.toUpperCase():i=="lowercase"&&(a=a.toLowerCase()));var l=e.pstyle("text-wrap").value;if(l==="wrap"){var u=o("labelKey");if(u!=null&&o("labelWrapKey")===u)return o("labelWrapCachedText");for(var c="​",h=a.split(`
`),d=e.pstyle("text-max-width").pfValue,v=e.pstyle("text-overflow-wrap").value,p=v==="anywhere",m=[],b=/[\s\u200b]+|$/g,x=0;x<h.length;x++){var w=h[x],T=this.calculateLabelDimensions(e,w),S=T.width;if(p){var D=w.split("").join(c);w=D}if(S>d){var R=w.matchAll(b),L="",_=0,N=sa(R),P;try{for(N.s();!(P=N.n()).done;){var U=P.value,j=U[0],F=w.substring(_,U.index);_=U.index+j.length;var I=L.length===0?F:L+F+j,G=this.calculateLabelDimensions(e,I),Y=G.width;Y<=d?L+=F+j:(L&&m.push(L),L=F+j)}}catch(Z){N.e(Z)}finally{N.f()}L.match(/^[\s\u200b]+$/)||m.push(L)}else m.push(w)}o("labelWrapCachedLines",m),a=o("labelWrapCachedText",m.join(`
`)),o("labelWrapKey",u)}else if(l==="ellipsis"){var q=e.pstyle("text-max-width").pfValue,V="",W="…",J=!1;if(this.calculateLabelDimensions(e,a).width<q)return a;for(var ie=0;ie<a.length;ie++){var K=this.calculateLabelDimensions(e,V+a[ie]+W).width;if(K>q)break;V+=a[ie],ie===a.length-1&&(J=!0)}return J||(V+=W),V}return a};Si.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,r=e.pstyle("text-halign").strValue;if(t==="auto")if(e.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return t};Si.calculateLabelDimensions=function(e,t){var r=this,n=r.cy.window(),a=n.document,i=0,o=e.pstyle("font-style").strValue,l=e.pstyle("font-size").pfValue,u=e.pstyle("font-family").strValue,c=e.pstyle("font-weight").strValue,h=this.labelCalcCanvas,d=this.labelCalcCanvasContext;if(!h){h=this.labelCalcCanvas=a.createElement("canvas"),d=this.labelCalcCanvasContext=h.getContext("2d");var v=h.style;v.position="absolute",v.left="-9999px",v.top="-9999px",v.zIndex="-1",v.visibility="hidden",v.pointerEvents="none"}d.font="".concat(o," ").concat(c," ").concat(l,"px ").concat(u);for(var p=0,m=0,b=t.split(`
`),x=0;x<b.length;x++){var w=b[x],T=d.measureText(w),S=Math.ceil(T.width),D=l;p=Math.max(S,p),m+=D}return p+=i,m+=i,{width:p,height:m}};Si.calculateLabelAngle=function(e,t){var r=e._private,n=r.rscratch,a=e.isEdge(),i=t?t+"-":"",o=e.pstyle(i+"text-rotation"),l=o.strValue;return l==="none"?0:a&&l==="autorotate"?n.labelAutoAngle:l==="autorotate"?0:o.pfValue};Si.calculateLabelAngles=function(e){var t=this,r=e.isEdge(),n=e._private,a=n.rscratch;a.labelAngle=t.calculateLabelAngle(e),r&&(a.sourceLabelAngle=t.calculateLabelAngle(e,"source"),a.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var c3={},Jk=28,eN=!1;c3.getNodeShape=function(e){var t=this,r=e.pstyle("shape").value;if(r==="cutrectangle"&&(e.width()<Jk||e.height()<Jk))return eN||(sr("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),eN=!0),"rectangle";if(e.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=e.pstyle("shape-polygon-points").value;return t.nodeShapes.makePolygon(n).name}return r};var Sp={};Sp.registerCalculationListeners=function(){var e=this.cy,t=e.collection(),r=this,n=function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t.merge(o),l)for(var u=0;u<o.length;u++){var c=o[u],h=c._private,d=h.rstyle;d.clean=!1,d.cleanConnected=!1}};r.binder(e).on("bounds.* dirty.*",function(o){var l=o.target;n(l)}).on("style.* background.*",function(o){var l=o.target;n(l,!1)});var a=function(o){if(o){var l=r.onUpdateEleCalcsFns;t.cleanStyle();for(var u=0;u<t.length;u++){var c=t[u],h=c._private.rstyle;c.isNode()&&!h.cleanConnected&&(n(c.connectedEdges()),h.cleanConnected=!0)}if(l)for(var d=0;d<l.length;d++){var v=l[d];v(o,t)}r.recalculateRenderedStyle(t),t=e.collection()}};r.flushRenderedStyleQueue=function(){a(!0)},r.beforeRender(a,r.beforeRenderPriorities.eleCalcs)};Sp.onUpdateEleCalcs=function(e){var t=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];t.push(e)};Sp.recalculateRenderedStyle=function(e,t){var r=function(D){return D._private.rstyle.cleanConnected};if(e.length!==0){var n=[],a=[];if(!this.destroyed){t===void 0&&(t=!0);for(var i=0;i<e.length;i++){var o=e[i],l=o._private,u=l.rstyle;o.isEdge()&&(!r(o.source())||!r(o.target()))&&(u.clean=!1),o.isEdge()&&o.isBundledBezier()&&o.parallelEdges().some(function(S){return!S._private.rstyle.clean&&S.isBundledBezier()})&&(u.clean=!1),!(t&&u.clean||o.removed())&&o.pstyle("display").value!=="none"&&(l.group==="nodes"?a.push(o):n.push(o),u.clean=!0)}for(var c=0;c<a.length;c++){var h=a[c],d=h._private,v=d.rstyle,p=h.position();this.recalculateNodeLabelProjection(h),v.nodeX=p.x,v.nodeY=p.y,v.nodeW=h.pstyle("width").pfValue,v.nodeH=h.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var m=0;m<n.length;m++){var b=n[m],x=b._private,w=x.rstyle,T=x.rscratch;w.srcX=T.arrowStartX,w.srcY=T.arrowStartY,w.tgtX=T.arrowEndX,w.tgtY=T.arrowEndY,w.midX=T.midX,w.midY=T.midY,w.labelAngle=T.labelAngle,w.sourceLabelAngle=T.sourceLabelAngle,w.targetLabelAngle=T.targetLabelAngle}}}};var Tp={};Tp.updateCachedGrabbedEles=function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],r=0;r<e.length;r++){var n=e[r],a=n._private.rscratch;n.grabbed()&&!n.isParent()?t.push(n):a.inDragLayer?e.drag.push(n):e.nondrag.push(n)}for(var r=0;r<t.length;r++){var n=t[r];e.drag.push(n)}}};Tp.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Tp.getCachedZSortedEles=function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort($I),t.interactive=t.filter(function(r){return r.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t};var f3={};[yl,wg,In,uh,cS,Si,c3,Sp,Tp].forEach(function(e){Nt(f3,e)});var h3={};h3.getCachedImage=function(e,t,r){var n=this,a=n.imageCache=n.imageCache||{},i=a[e];if(i)return i.image.complete||i.image.addEventListener("load",r),i.image;i=a[e]=a[e]||{};var o=i.image=new Image;o.addEventListener("load",r),o.addEventListener("error",function(){o.error=!0});var l="data:",u=e.substring(0,l.length).toLowerCase()===l;return u||(t=t==="null"?null:t,o.crossOrigin=t),o.src=e,o};var Hu={};Hu.registerBinding=function(e,t,r,n){var a=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(e)){for(var i=[],o=0;o<e.length;o++){var l=e[o];if(l!==void 0){var u=this.binder(l);i.push(u.on.apply(u,a))}}return i}var u=this.binder(e);return u.on.apply(u,a)};Hu.binder=function(e){var t=this,r=t.cy.window(),n=e===r||e===r.document||e===r.document.body||PZ(e);if(t.supportsPassiveEvents==null){var a=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return a=!0,!0}});r.addEventListener("test",null,i)}catch{}t.supportsPassiveEvents=a}var o=function(u,c,h){var d=Array.prototype.slice.call(arguments);return n&&t.supportsPassiveEvents&&(d[2]={capture:h??!1,passive:!1,once:!1}),t.bindings.push({target:e,args:d}),(e.addEventListener||e.on).apply(e,d),this};return{on:o,addEventListener:o,addListener:o,bind:o}};Hu.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()};Hu.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()};Hu.load=function(){var e=this,t=e.cy.window(),r=function(Q){return Q.selected()},n=function(Q){var ye=Q.getRootNode();if(ye&&ye.nodeType===11&&ye.host!==void 0)return ye},a=function(Q,ye,Te,Me){Q==null&&(Q=e.cy);for(var Pe=0;Pe<ye.length;Pe++){var lt=ye[Pe];Q.emit({originalEvent:Te,type:lt,position:Me})}},i=function(Q){return Q.shiftKey||Q.metaKey||Q.ctrlKey},o=function(Q,ye){var Te=!0;if(e.cy.hasCompoundNodes()&&Q&&Q.pannable())for(var Me=0;ye&&Me<ye.length;Me++){var Q=ye[Me];if(Q.isNode()&&Q.isParent()&&!Q.pannable()){Te=!1;break}}else Te=!0;return Te},l=function(Q){Q[0]._private.grabbed=!0},u=function(Q){Q[0]._private.grabbed=!1},c=function(Q){Q[0]._private.rscratch.inDragLayer=!0},h=function(Q){Q[0]._private.rscratch.inDragLayer=!1},d=function(Q){Q[0]._private.rscratch.isGrabTarget=!0},v=function(Q){Q[0]._private.rscratch.isGrabTarget=!1},p=function(Q,ye){var Te=ye.addToList,Me=Te.has(Q);!Me&&Q.grabbable()&&!Q.locked()&&(Te.merge(Q),l(Q))},m=function(Q,ye){if(Q.cy().hasCompoundNodes()&&!(ye.inDragLayer==null&&ye.addToList==null)){var Te=Q.descendants();ye.inDragLayer&&(Te.forEach(c),Te.connectedEdges().forEach(c)),ye.addToList&&p(Te,ye)}},b=function(Q,ye){ye=ye||{};var Te=Q.cy().hasCompoundNodes();ye.inDragLayer&&(Q.forEach(c),Q.neighborhood().stdFilter(function(Me){return!Te||Me.isEdge()}).forEach(c)),ye.addToList&&Q.forEach(function(Me){p(Me,ye)}),m(Q,ye),T(Q,{inDragLayer:ye.inDragLayer}),e.updateCachedGrabbedEles()},x=b,w=function(Q){Q&&(e.getCachedZSortedEles().forEach(function(ye){u(ye),h(ye),v(ye)}),e.updateCachedGrabbedEles())},T=function(Q,ye){if(!(ye.inDragLayer==null&&ye.addToList==null)&&Q.cy().hasCompoundNodes()){var Te=Q.ancestors().orphans();if(!Te.same(Q)){var Me=Te.descendants().spawnSelf().merge(Te).unmerge(Q).unmerge(Q.descendants()),Pe=Me.connectedEdges();ye.inDragLayer&&(Pe.forEach(c),Me.forEach(c)),ye.addToList&&Me.forEach(function(lt){p(lt,ye)})}}},S=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},D=typeof MutationObserver<"u",R=typeof ResizeObserver<"u";D?(e.removeObserver=new MutationObserver(function(de){for(var Q=0;Q<de.length;Q++){var ye=de[Q],Te=ye.removedNodes;if(Te)for(var Me=0;Me<Te.length;Me++){var Pe=Te[Me];if(Pe===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(de){e.destroy()});var L=ih(function(){e.cy.resize()},100);D&&(e.styleObserver=new MutationObserver(L),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(t,"resize",L),R&&(e.resizeObserver=new ResizeObserver(L),e.resizeObserver.observe(e.container));var _=function(Q,ye){for(;Q!=null;)ye(Q),Q=Q.parentNode},N=function(){e.invalidateContainerClientCoordsCache()};_(e.container,function(de){e.registerBinding(de,"transitionend",N),e.registerBinding(de,"animationend",N),e.registerBinding(de,"scroll",N)}),e.registerBinding(e.container,"contextmenu",function(de){de.preventDefault()});var P=function(){return e.selection[4]!==0},U=function(Q){for(var ye=e.findContainerClientCoords(),Te=ye[0],Me=ye[1],Pe=ye[2],lt=ye[3],Ie=Q.touches?Q.touches:[Q],tt=!1,rt=0;rt<Ie.length;rt++){var nt=Ie[rt];if(Te<=nt.clientX&&nt.clientX<=Te+Pe&&Me<=nt.clientY&&nt.clientY<=Me+lt){tt=!0;break}}if(!tt)return!1;for(var at=e.container,gt=Q.target,Je=gt.parentNode,xt=!1;Je;){if(Je===at){xt=!0;break}Je=Je.parentNode}return!!xt};e.registerBinding(e.container,"mousedown",function(Q){if(U(Q)&&!(e.hoverData.which===1&&Q.which!==1)){Q.preventDefault(),S(),e.hoverData.capture=!0,e.hoverData.which=Q.which;var ye=e.cy,Te=[Q.clientX,Q.clientY],Me=e.projectIntoViewport(Te[0],Te[1]),Pe=e.selection,lt=e.findNearestElements(Me[0],Me[1],!0,!1),Ie=lt[0],tt=e.dragData.possibleDragElements;e.hoverData.mdownPos=Me,e.hoverData.mdownGPos=Te;var rt=function(H){return{originalEvent:Q,type:H,position:{x:Me[0],y:Me[1]}}},nt=function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var H=e.hoverData.down;H?H.emit(rt("taphold")):ye.emit(rt("taphold"))}},e.tapholdDuration)};if(Q.which==3){e.hoverData.cxtStarted=!0;var at={originalEvent:Q,type:"cxttapstart",position:{x:Me[0],y:Me[1]}};Ie?(Ie.activate(),Ie.emit(at),e.hoverData.down=Ie):ye.emit(at),e.hoverData.downTime=new Date().getTime(),e.hoverData.cxtDragged=!1}else if(Q.which==1){Ie&&Ie.activate();{if(Ie!=null&&e.nodeIsGrabbable(Ie)){var gt=function(H){H.emit(rt("grab"))};if(d(Ie),!Ie.selected())tt=e.dragData.possibleDragElements=ye.collection(),x(Ie,{addToList:tt}),Ie.emit(rt("grabon")).emit(rt("grab"));else{tt=e.dragData.possibleDragElements=ye.collection();var Je=ye.$(function(xt){return xt.isNode()&&xt.selected()&&e.nodeIsGrabbable(xt)});b(Je,{addToList:tt}),Ie.emit(rt("grabon")),Je.forEach(gt)}e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=Ie,e.hoverData.downs=lt,e.hoverData.downTime=new Date().getTime()}a(Ie,["mousedown","tapstart","vmousedown"],Q,{x:Me[0],y:Me[1]}),Ie==null?(Pe[4]=1,e.data.bgActivePosistion={x:Me[0],y:Me[1]},e.redrawHint("select",!0),e.redraw()):Ie.pannable()&&(Pe[4]=1),nt()}Pe[0]=Pe[2]=Me[0],Pe[1]=Pe[3]=Me[1]}},!1);var j=n(e.container);e.registerBinding([t,j],"mousemove",function(Q){var ye=e.hoverData.capture;if(!(!ye&&!U(Q))){var Te=!1,Me=e.cy,Pe=Me.zoom(),lt=[Q.clientX,Q.clientY],Ie=e.projectIntoViewport(lt[0],lt[1]),tt=e.hoverData.mdownPos,rt=e.hoverData.mdownGPos,nt=e.selection,at=null;!e.hoverData.draggingEles&&!e.hoverData.dragging&&!e.hoverData.selecting&&(at=e.findNearestElement(Ie[0],Ie[1],!0,!1));var gt=e.hoverData.last,Je=e.hoverData.down,xt=[Ie[0]-nt[2],Ie[1]-nt[3]],H=e.dragData.possibleDragElements,O;if(rt){var A=lt[0]-rt[0],E=A*A,M=lt[1]-rt[1],z=M*M,ee=E+z;e.hoverData.isOverThresholdDrag=O=ee>=e.desktopTapThreshold2}var te=i(Q);O&&(e.hoverData.tapholdCancelled=!0);var ue=function(){var ut=e.hoverData.dragDelta=e.hoverData.dragDelta||[];ut.length===0?(ut.push(xt[0]),ut.push(xt[1])):(ut[0]+=xt[0],ut[1]+=xt[1])};Te=!0,a(at,["mousemove","vmousemove","tapdrag"],Q,{x:Ie[0],y:Ie[1]});var se=function(ut){return{originalEvent:Q,type:ut,position:{x:Ie[0],y:Ie[1]}}},Ee=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||Me.emit(se("boxstart")),nt[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(e.hoverData.which===3){if(O){var ve=se("cxtdrag");Je?Je.emit(ve):Me.emit(ve),e.hoverData.cxtDragged=!0,(!e.hoverData.cxtOver||at!==e.hoverData.cxtOver)&&(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit(se("cxtdragout")),e.hoverData.cxtOver=at,at&&at.emit(se("cxtdragover")))}}else if(e.hoverData.dragging){if(Te=!0,Me.panningEnabled()&&Me.userPanningEnabled()){var Ne;if(e.hoverData.justStartedPan){var We=e.hoverData.mdownPos;Ne={x:(Ie[0]-We[0])*Pe,y:(Ie[1]-We[1])*Pe},e.hoverData.justStartedPan=!1}else Ne={x:xt[0]*Pe,y:xt[1]*Pe};Me.panBy(Ne),Me.emit(se("dragpan")),e.hoverData.dragged=!0}Ie=e.projectIntoViewport(Q.clientX,Q.clientY)}else if(nt[4]==1&&(Je==null||Je.pannable())){if(O){if(!e.hoverData.dragging&&Me.boxSelectionEnabled()&&(te||!Me.panningEnabled()||!Me.userPanningEnabled()))Ee();else if(!e.hoverData.selecting&&Me.panningEnabled()&&Me.userPanningEnabled()){var _e=o(Je,e.hoverData.downs);_e&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,nt[4]=0,e.data.bgActivePosistion=hu(tt),e.redrawHint("select",!0),e.redraw())}Je&&Je.pannable()&&Je.active()&&Je.unactivate()}}else{if(Je&&Je.pannable()&&Je.active()&&Je.unactivate(),(!Je||!Je.grabbed())&&at!=gt&&(gt&&a(gt,["mouseout","tapdragout"],Q,{x:Ie[0],y:Ie[1]}),at&&a(at,["mouseover","tapdragover"],Q,{x:Ie[0],y:Ie[1]}),e.hoverData.last=at),Je)if(O){if(Me.boxSelectionEnabled()&&te)Je&&Je.grabbed()&&(w(H),Je.emit(se("freeon")),H.emit(se("free")),e.dragData.didDrag&&(Je.emit(se("dragfreeon")),H.emit(se("dragfree")))),Ee();else if(Je&&Je.grabbed()&&e.nodeIsDraggable(Je)){var Fe=!e.dragData.didDrag;Fe&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||b(H,{inDragLayer:!0});var st={x:0,y:0};if(pt(xt[0])&&pt(xt[1])&&(st.x+=xt[0],st.y+=xt[1],Fe)){var pe=e.hoverData.dragDelta;pe&&pt(pe[0])&&pt(pe[1])&&(st.x+=pe[0],st.y+=pe[1])}e.hoverData.draggingEles=!0,H.silentShift(st).emit(se("position")).emit(se("drag")),e.redrawHint("drag",!0),e.redraw()}}else ue();Te=!0}if(nt[2]=Ie[0],nt[3]=Ie[1],Te)return Q.stopPropagation&&Q.stopPropagation(),Q.preventDefault&&Q.preventDefault(),!1}},!1);var F,I,G;e.registerBinding(t,"mouseup",function(Q){if(!(e.hoverData.which===1&&Q.which!==1&&e.hoverData.capture)){var ye=e.hoverData.capture;if(ye){e.hoverData.capture=!1;var Te=e.cy,Me=e.projectIntoViewport(Q.clientX,Q.clientY),Pe=e.selection,lt=e.findNearestElement(Me[0],Me[1],!0,!1),Ie=e.dragData.possibleDragElements,tt=e.hoverData.down,rt=i(Q);e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,tt&&tt.unactivate();var nt=function(A){return{originalEvent:Q,type:A,position:{x:Me[0],y:Me[1]}}};if(e.hoverData.which===3){var at=nt("cxttapend");if(tt?tt.emit(at):Te.emit(at),!e.hoverData.cxtDragged){var gt=nt("cxttap");tt?tt.emit(gt):Te.emit(gt)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(e.hoverData.which===1){if(a(lt,["mouseup","tapend","vmouseup"],Q,{x:Me[0],y:Me[1]}),!e.dragData.didDrag&&!e.hoverData.dragged&&!e.hoverData.selecting&&!e.hoverData.isOverThresholdDrag&&(a(tt,["click","tap","vclick"],Q,{x:Me[0],y:Me[1]}),I=!1,Q.timeStamp-G<=Te.multiClickDebounceTime()?(F&&clearTimeout(F),I=!0,G=null,a(tt,["dblclick","dbltap","vdblclick"],Q,{x:Me[0],y:Me[1]})):(F=setTimeout(function(){I||a(tt,["oneclick","onetap","voneclick"],Q,{x:Me[0],y:Me[1]})},Te.multiClickDebounceTime()),G=Q.timeStamp)),tt==null&&!e.dragData.didDrag&&!e.hoverData.selecting&&!e.hoverData.dragged&&!i(Q)&&(Te.$(r).unselect(["tapunselect"]),Ie.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=Ie=Te.collection()),lt==tt&&!e.dragData.didDrag&&!e.hoverData.selecting&&lt!=null&&lt._private.selectable&&(e.hoverData.dragging||(Te.selectionType()==="additive"||rt?lt.selected()?lt.unselect(["tapunselect"]):lt.select(["tapselect"]):rt||(Te.$(r).unmerge(lt).unselect(["tapunselect"]),lt.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var Je=Te.collection(e.getAllInBox(Pe[0],Pe[1],Pe[2],Pe[3]));e.redrawHint("select",!0),Je.length>0&&e.redrawHint("eles",!0),Te.emit(nt("boxend"));var xt=function(A){return A.selectable()&&!A.selected()};Te.selectionType()==="additive"||rt||Te.$(r).unmerge(Je).unselect(),Je.emit(nt("box")).stdFilter(xt).select().emit(nt("boxselect")),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!Pe[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var H=tt&&tt.grabbed();w(Ie),H&&(tt.emit(nt("freeon")),Ie.emit(nt("free")),e.dragData.didDrag&&(tt.emit(nt("dragfreeon")),Ie.emit(nt("dragfree"))))}}Pe[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null,e.hoverData.which=null}}},!1);var Y=[],q=4,V,W=1e5,J=function(Q,ye){for(var Te=0;Te<Q.length;Te++)if(Q[Te]%ye!==0)return!1;return!0},ie=function(Q){for(var ye=Math.abs(Q[0]),Te=1;Te<Q.length;Te++)if(Math.abs(Q[Te])!==ye)return!1;return!0},K=function(Q){var ye=!1,Te=Q.deltaY;if(Te==null&&(Q.wheelDeltaY!=null?Te=Q.wheelDeltaY/4:Q.wheelDelta!=null&&(Te=Q.wheelDelta/4)),Te!==0){if(V==null)if(Y.length>=q){var Me=Y;if(V=J(Me,5),!V){var Pe=Math.abs(Me[0]);V=ie(Me)&&Pe>5}if(V)for(var lt=0;lt<Me.length;lt++)W=Math.min(Math.abs(Me[lt]),W)}else Y.push(Te),ye=!0;else V&&(W=Math.min(Math.abs(Te),W));if(!e.scrollingPage){var Ie=e.cy,tt=Ie.zoom(),rt=Ie.pan(),nt=e.projectIntoViewport(Q.clientX,Q.clientY),at=[nt[0]*tt+rt.x,nt[1]*tt+rt.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||P()){Q.preventDefault();return}if(Ie.panningEnabled()&&Ie.userPanningEnabled()&&Ie.zoomingEnabled()&&Ie.userZoomingEnabled()){Q.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150);var gt;ye&&Math.abs(Te)>5&&(Te=WE(Te)*5),gt=Te/-250,V&&(gt/=W,gt*=3),gt=gt*e.wheelSensitivity;var Je=Q.deltaMode===1;Je&&(gt*=33);var xt=Ie.zoom()*Math.pow(10,gt);Q.type==="gesturechange"&&(xt=e.gestureStartZoom*Q.scale),Ie.zoom({level:xt,renderedPosition:{x:at[0],y:at[1]}}),Ie.emit({type:Q.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:Q,position:{x:nt[0],y:nt[1]}})}}}};e.registerBinding(e.container,"wheel",K,!0),e.registerBinding(t,"scroll",function(Q){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"gesturestart",function(Q){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||Q.preventDefault()},!0),e.registerBinding(e.container,"gesturechange",function(de){e.hasTouchStarted||K(de)},!0),e.registerBinding(e.container,"mouseout",function(Q){var ye=e.projectIntoViewport(Q.clientX,Q.clientY);e.cy.emit({originalEvent:Q,type:"mouseout",position:{x:ye[0],y:ye[1]}})},!1),e.registerBinding(e.container,"mouseover",function(Q){var ye=e.projectIntoViewport(Q.clientX,Q.clientY);e.cy.emit({originalEvent:Q,type:"mouseover",position:{x:ye[0],y:ye[1]}})},!1);var Z,fe,he,oe,be,Ae,Le,ce,ae,le,re,ge,Se,ze=function(Q,ye,Te,Me){return Math.sqrt((Te-Q)*(Te-Q)+(Me-ye)*(Me-ye))},Qe=function(Q,ye,Te,Me){return(Te-Q)*(Te-Q)+(Me-ye)*(Me-ye)},Oe;e.registerBinding(e.container,"touchstart",Oe=function(Q){if(e.hasTouchStarted=!0,!!U(Q)){S(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var ye=e.cy,Te=e.touchData.now,Me=e.touchData.earlier;if(Q.touches[0]){var Pe=e.projectIntoViewport(Q.touches[0].clientX,Q.touches[0].clientY);Te[0]=Pe[0],Te[1]=Pe[1]}if(Q.touches[1]){var Pe=e.projectIntoViewport(Q.touches[1].clientX,Q.touches[1].clientY);Te[2]=Pe[0],Te[3]=Pe[1]}if(Q.touches[2]){var Pe=e.projectIntoViewport(Q.touches[2].clientX,Q.touches[2].clientY);Te[4]=Pe[0],Te[5]=Pe[1]}var lt=function(te){return{originalEvent:Q,type:te,position:{x:Te[0],y:Te[1]}}};if(Q.touches[1]){e.touchData.singleTouchMoved=!0,w(e.dragData.touchDragEles);var Ie=e.findContainerClientCoords();ae=Ie[0],le=Ie[1],re=Ie[2],ge=Ie[3],Z=Q.touches[0].clientX-ae,fe=Q.touches[0].clientY-le,he=Q.touches[1].clientX-ae,oe=Q.touches[1].clientY-le,Se=0<=Z&&Z<=re&&0<=he&&he<=re&&0<=fe&&fe<=ge&&0<=oe&&oe<=ge;var tt=ye.pan(),rt=ye.zoom();be=ze(Z,fe,he,oe),Ae=Qe(Z,fe,he,oe),Le=[(Z+he)/2,(fe+oe)/2],ce=[(Le[0]-tt.x)/rt,(Le[1]-tt.y)/rt];var nt=200,at=nt*nt;if(Ae<at&&!Q.touches[2]){var gt=e.findNearestElement(Te[0],Te[1],!0,!0),Je=e.findNearestElement(Te[2],Te[3],!0,!0);gt&&gt.isNode()?(gt.activate().emit(lt("cxttapstart")),e.touchData.start=gt):Je&&Je.isNode()?(Je.activate().emit(lt("cxttapstart")),e.touchData.start=Je):ye.emit(lt("cxttapstart")),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,e.redraw();return}}if(Q.touches[2])ye.boxSelectionEnabled()&&Q.preventDefault();else if(!Q.touches[1]){if(Q.touches[0]){var xt=e.findNearestElements(Te[0],Te[1],!0,!0),H=xt[0];if(H!=null&&(H.activate(),e.touchData.start=H,e.touchData.starts=xt,e.nodeIsGrabbable(H))){var O=e.dragData.touchDragEles=ye.collection(),A=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),H.selected()?(A=ye.$(function(ee){return ee.selected()&&e.nodeIsGrabbable(ee)}),b(A,{addToList:O})):x(H,{addToList:O}),d(H),H.emit(lt("grabon")),A?A.forEach(function(ee){ee.emit(lt("grab"))}):H.emit(lt("grab"))}a(H,["touchstart","tapstart","vmousedown"],Q,{x:Te[0],y:Te[1]}),H==null&&(e.data.bgActivePosistion={x:Pe[0],y:Pe[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){e.touchData.singleTouchMoved===!1&&!e.pinching&&!e.touchData.selecting&&a(e.touchData.start,["taphold"],Q,{x:Te[0],y:Te[1]})},e.tapholdDuration)}}if(Q.touches.length>=1){for(var E=e.touchData.startPosition=[null,null,null,null,null,null],M=0;M<Te.length;M++)E[M]=Me[M]=Te[M];var z=Q.touches[0];e.touchData.startGPosition=[z.clientX,z.clientY]}}},!1);var je;e.registerBinding(t,"touchmove",je=function(Q){var ye=e.touchData.capture;if(!(!ye&&!U(Q))){var Te=e.selection,Me=e.cy,Pe=e.touchData.now,lt=e.touchData.earlier,Ie=Me.zoom();if(Q.touches[0]){var tt=e.projectIntoViewport(Q.touches[0].clientX,Q.touches[0].clientY);Pe[0]=tt[0],Pe[1]=tt[1]}if(Q.touches[1]){var tt=e.projectIntoViewport(Q.touches[1].clientX,Q.touches[1].clientY);Pe[2]=tt[0],Pe[3]=tt[1]}if(Q.touches[2]){var tt=e.projectIntoViewport(Q.touches[2].clientX,Q.touches[2].clientY);Pe[4]=tt[0],Pe[5]=tt[1]}var rt=function(cn){return{originalEvent:Q,type:cn,position:{x:Pe[0],y:Pe[1]}}},nt=e.touchData.startGPosition,at;if(ye&&Q.touches[0]&&nt){for(var gt=[],Je=0;Je<Pe.length;Je++)gt[Je]=Pe[Je]-lt[Je];var xt=Q.touches[0].clientX-nt[0],H=xt*xt,O=Q.touches[0].clientY-nt[1],A=O*O,E=H+A;at=E>=e.touchTapThreshold2}if(ye&&e.touchData.cxt){Q.preventDefault();var M=Q.touches[0].clientX-ae,z=Q.touches[0].clientY-le,ee=Q.touches[1].clientX-ae,te=Q.touches[1].clientY-le,ue=Qe(M,z,ee,te),se=ue/Ae,Ee=150,ve=Ee*Ee,Ne=1.5,We=Ne*Ne;if(se>=We||ue>=ve){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var _e=rt("cxttapend");e.touchData.start?(e.touchData.start.unactivate().emit(_e),e.touchData.start=null):Me.emit(_e)}}if(ye&&e.touchData.cxt){var _e=rt("cxtdrag");e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(_e):Me.emit(_e),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var Fe=e.findNearestElement(Pe[0],Pe[1],!0,!0);(!e.touchData.cxtOver||Fe!==e.touchData.cxtOver)&&(e.touchData.cxtOver&&e.touchData.cxtOver.emit(rt("cxtdragout")),e.touchData.cxtOver=Fe,Fe&&Fe.emit(rt("cxtdragover")))}else if(ye&&Q.touches[2]&&Me.boxSelectionEnabled())Q.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||Me.emit(rt("boxstart")),e.touchData.selecting=!0,e.touchData.didSelect=!0,Te[4]=1,!Te||Te.length===0||Te[0]===void 0?(Te[0]=(Pe[0]+Pe[2]+Pe[4])/3,Te[1]=(Pe[1]+Pe[3]+Pe[5])/3,Te[2]=(Pe[0]+Pe[2]+Pe[4])/3+1,Te[3]=(Pe[1]+Pe[3]+Pe[5])/3+1):(Te[2]=(Pe[0]+Pe[2]+Pe[4])/3,Te[3]=(Pe[1]+Pe[3]+Pe[5])/3),e.redrawHint("select",!0),e.redraw();else if(ye&&Q.touches[1]&&!e.touchData.didSelect&&Me.zoomingEnabled()&&Me.panningEnabled()&&Me.userZoomingEnabled()&&Me.userPanningEnabled()){Q.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var st=e.dragData.touchDragEles;if(st){e.redrawHint("drag",!0);for(var pe=0;pe<st.length;pe++){var it=st[pe]._private;it.grabbed=!1,it.rscratch.inDragLayer=!1}}var ut=e.touchData.start,M=Q.touches[0].clientX-ae,z=Q.touches[0].clientY-le,ee=Q.touches[1].clientX-ae,te=Q.touches[1].clientY-le,Dt=ze(M,z,ee,te),kt=Dt/be;if(Se){var Kt=M-Z,St=z-fe,At=ee-he,Lt=te-oe,we=(Kt+At)/2,Ze=(St+Lt)/2,ft=Me.zoom(),et=ft*kt,nr=Me.pan(),Yt=ce[0]*ft+nr.x,ar=ce[1]*ft+nr.y,hr={x:-et/ft*(Yt-nr.x-we)+Yt,y:-et/ft*(ar-nr.y-Ze)+ar};if(ut&&ut.active()){var st=e.dragData.touchDragEles;w(st),e.redrawHint("drag",!0),e.redrawHint("eles",!0),ut.unactivate().emit(rt("freeon")),st.emit(rt("free")),e.dragData.didDrag&&(ut.emit(rt("dragfreeon")),st.emit(rt("dragfree")))}Me.viewport({zoom:et,pan:hr,cancelOnFailedZoom:!0}),Me.emit(rt("pinchzoom")),be=Dt,Z=M,fe=z,he=ee,oe=te,e.pinching=!0}if(Q.touches[0]){var tt=e.projectIntoViewport(Q.touches[0].clientX,Q.touches[0].clientY);Pe[0]=tt[0],Pe[1]=tt[1]}if(Q.touches[1]){var tt=e.projectIntoViewport(Q.touches[1].clientX,Q.touches[1].clientY);Pe[2]=tt[0],Pe[3]=tt[1]}if(Q.touches[2]){var tt=e.projectIntoViewport(Q.touches[2].clientX,Q.touches[2].clientY);Pe[4]=tt[0],Pe[5]=tt[1]}}else if(Q.touches[0]&&!e.touchData.didSelect){var Xt=e.touchData.start,Vr=e.touchData.last,Fe;if(!e.hoverData.draggingEles&&!e.swipePanning&&(Fe=e.findNearestElement(Pe[0],Pe[1],!0,!0)),ye&&Xt!=null&&Q.preventDefault(),ye&&Xt!=null&&e.nodeIsDraggable(Xt))if(at){var st=e.dragData.touchDragEles,Qt=!e.dragData.didDrag;Qt&&b(st,{inDragLayer:!0}),e.dragData.didDrag=!0;var lr={x:0,y:0};if(pt(gt[0])&&pt(gt[1])&&(lr.x+=gt[0],lr.y+=gt[1],Qt)){e.redrawHint("eles",!0);var _r=e.touchData.dragDelta;_r&&pt(_r[0])&&pt(_r[1])&&(lr.x+=_r[0],lr.y+=_r[1])}e.hoverData.draggingEles=!0,st.silentShift(lr).emit(rt("position")).emit(rt("drag")),e.redrawHint("drag",!0),e.touchData.startPosition[0]==lt[0]&&e.touchData.startPosition[1]==lt[1]&&e.redrawHint("eles",!0),e.redraw()}else{var _r=e.touchData.dragDelta=e.touchData.dragDelta||[];_r.length===0?(_r.push(gt[0]),_r.push(gt[1])):(_r[0]+=gt[0],_r[1]+=gt[1])}if(a(Xt||Fe,["touchmove","tapdrag","vmousemove"],Q,{x:Pe[0],y:Pe[1]}),(!Xt||!Xt.grabbed())&&Fe!=Vr&&(Vr&&Vr.emit(rt("tapdragout")),Fe&&Fe.emit(rt("tapdragover"))),e.touchData.last=Fe,ye)for(var pe=0;pe<Pe.length;pe++)Pe[pe]&&e.touchData.startPosition[pe]&&at&&(e.touchData.singleTouchMoved=!0);if(ye&&(Xt==null||Xt.pannable())&&Me.panningEnabled()&&Me.userPanningEnabled()){var zt=o(Xt,e.touchData.starts);zt&&(Q.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=hu(e.touchData.startPosition)),e.swipePanning?(Me.panBy({x:gt[0]*Ie,y:gt[1]*Ie}),Me.emit(rt("dragpan"))):at&&(e.swipePanning=!0,Me.panBy({x:xt*Ie,y:O*Ie}),Me.emit(rt("dragpan")),Xt&&(Xt.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));var tt=e.projectIntoViewport(Q.touches[0].clientX,Q.touches[0].clientY);Pe[0]=tt[0],Pe[1]=tt[1]}}for(var Je=0;Je<Pe.length;Je++)lt[Je]=Pe[Je];ye&&Q.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&e.data.bgActivePosistion!=null&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1);var Ue;e.registerBinding(t,"touchcancel",Ue=function(Q){var ye=e.touchData.start;e.touchData.capture=!1,ye&&ye.unactivate()});var qe,Ke,Xe,ot;if(e.registerBinding(t,"touchend",qe=function(Q){var ye=e.touchData.start,Te=e.touchData.capture;if(Te)Q.touches.length===0&&(e.touchData.capture=!1),Q.preventDefault();else return;var Me=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var Pe=e.cy,lt=Pe.zoom(),Ie=e.touchData.now,tt=e.touchData.earlier;if(Q.touches[0]){var rt=e.projectIntoViewport(Q.touches[0].clientX,Q.touches[0].clientY);Ie[0]=rt[0],Ie[1]=rt[1]}if(Q.touches[1]){var rt=e.projectIntoViewport(Q.touches[1].clientX,Q.touches[1].clientY);Ie[2]=rt[0],Ie[3]=rt[1]}if(Q.touches[2]){var rt=e.projectIntoViewport(Q.touches[2].clientX,Q.touches[2].clientY);Ie[4]=rt[0],Ie[5]=rt[1]}var nt=function(ve){return{originalEvent:Q,type:ve,position:{x:Ie[0],y:Ie[1]}}};ye&&ye.unactivate();var at;if(e.touchData.cxt){if(at=nt("cxttapend"),ye?ye.emit(at):Pe.emit(at),!e.touchData.cxtDragged){var gt=nt("cxttap");ye?ye.emit(gt):Pe.emit(gt)}e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,e.redraw();return}if(!Q.touches[2]&&Pe.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var Je=Pe.collection(e.getAllInBox(Me[0],Me[1],Me[2],Me[3]));Me[0]=void 0,Me[1]=void 0,Me[2]=void 0,Me[3]=void 0,Me[4]=0,e.redrawHint("select",!0),Pe.emit(nt("boxend"));var xt=function(ve){return ve.selectable()&&!ve.selected()};Je.emit(nt("box")).stdFilter(xt).select().emit(nt("boxselect")),Je.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(ye!=null&&ye.unactivate(),Q.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(!Q.touches[1]){if(!Q.touches[0]){if(!Q.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var H=e.dragData.touchDragEles;if(ye!=null){var O=ye._private.grabbed;w(H),e.redrawHint("drag",!0),e.redrawHint("eles",!0),O&&(ye.emit(nt("freeon")),H.emit(nt("free")),e.dragData.didDrag&&(ye.emit(nt("dragfreeon")),H.emit(nt("dragfree")))),a(ye,["touchend","tapend","vmouseup","tapdragout"],Q,{x:Ie[0],y:Ie[1]}),ye.unactivate(),e.touchData.start=null}else{var A=e.findNearestElement(Ie[0],Ie[1],!0,!0);a(A,["touchend","tapend","vmouseup","tapdragout"],Q,{x:Ie[0],y:Ie[1]})}var E=e.touchData.startPosition[0]-Ie[0],M=E*E,z=e.touchData.startPosition[1]-Ie[1],ee=z*z,te=M+ee,ue=te*lt*lt;e.touchData.singleTouchMoved||(ye||Pe.$(":selected").unselect(["tapunselect"]),a(ye,["tap","vclick"],Q,{x:Ie[0],y:Ie[1]}),Ke=!1,Q.timeStamp-ot<=Pe.multiClickDebounceTime()?(Xe&&clearTimeout(Xe),Ke=!0,ot=null,a(ye,["dbltap","vdblclick"],Q,{x:Ie[0],y:Ie[1]})):(Xe=setTimeout(function(){Ke||a(ye,["onetap","voneclick"],Q,{x:Ie[0],y:Ie[1]})},Pe.multiClickDebounceTime()),ot=Q.timeStamp)),ye!=null&&!e.dragData.didDrag&&ye._private.selectable&&ue<e.touchTapThreshold2&&!e.pinching&&(Pe.selectionType()==="single"?(Pe.$(r).unmerge(ye).unselect(["tapunselect"]),ye.select(["tapselect"])):ye.selected()?ye.unselect(["tapunselect"]):ye.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}}}for(var se=0;se<Ie.length;se++)tt[se]=Ie[se];e.dragData.didDrag=!1,Q.touches.length===0&&(e.touchData.dragDelta=[],e.touchData.startPosition=[null,null,null,null,null,null],e.touchData.startGPosition=null,e.touchData.didSelect=!1),Q.touches.length<2&&(Q.touches.length===1&&(e.touchData.startGPosition=[Q.touches[0].clientX,Q.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())},!1),typeof TouchEvent>"u"){var Ye=[],ct=function(Q){return{clientX:Q.clientX,clientY:Q.clientY,force:1,identifier:Q.pointerId,pageX:Q.pageX,pageY:Q.pageY,radiusX:Q.width/2,radiusY:Q.height/2,screenX:Q.screenX,screenY:Q.screenY,target:Q.target}},ht=function(Q){return{event:Q,touch:ct(Q)}},dt=function(Q){Ye.push(ht(Q))},yt=function(Q){for(var ye=0;ye<Ye.length;ye++){var Te=Ye[ye];if(Te.event.pointerId===Q.pointerId){Ye.splice(ye,1);return}}},bt=function(Q){var ye=Ye.filter(function(Te){return Te.event.pointerId===Q.pointerId})[0];ye.event=Q,ye.touch=ct(Q)},mt=function(Q){Q.touches=Ye.map(function(ye){return ye.touch})},vt=function(Q){return Q.pointerType==="mouse"||Q.pointerType===4};e.registerBinding(e.container,"pointerdown",function(de){vt(de)||(de.preventDefault(),dt(de),mt(de),Oe(de))}),e.registerBinding(e.container,"pointerup",function(de){vt(de)||(yt(de),mt(de),qe(de))}),e.registerBinding(e.container,"pointercancel",function(de){vt(de)||(yt(de),mt(de),Ue(de))}),e.registerBinding(e.container,"pointermove",function(de){vt(de)||(de.preventDefault(),bt(de),mt(de),je(de))})}};var vo={};vo.generatePolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(n,a,i,o,l,u){this.renderer.nodeShapeImpl("polygon",n,a,i,o,l,this.points)},intersectLine:function(n,a,i,o,l,u,c,h){return Nf(l,u,this.points,n,a,i/2,o/2,c)},checkPoint:function(n,a,i,o,l,u,c,h){return io(n,a,this.points,u,c,o,l,[0,-1],i)},hasMiterBounds:e!=="rectangle",miterBounds:function(n,a,i,o,l,u){return KQ(this.points,n,a,i,o,l)}}};vo.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i)},intersectLine:function(t,r,n,a,i,o,l,u){return nJ(i,o,t,r,n/2+l,a/2+l)},checkPoint:function(t,r,n,a,i,o,l,u){return Qs(t,r,a,i,o,l,n)}}};vo.generateRoundPolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,getOrCreateCorners:function(n,a,i,o,l,u,c){if(u[c]!==void 0&&u[c+"-cx"]===n&&u[c+"-cy"]===a)return u[c];u[c]=new Array(t.length/2),u[c+"-cx"]=n,u[c+"-cy"]=a;var h=i/2,d=o/2;l=l==="auto"?dI(i,o):l;for(var v=new Array(t.length/2),p=0;p<t.length/2;p++)v[p]={x:n+h*t[p*2],y:a+d*t[p*2+1]};var m,b,x,w,T=v.length;for(b=v[T-1],m=0;m<T;m++)x=v[m%T],w=v[(m+1)%T],u[c][m]=uS(b,x,w,l),b=x,x=w;return u[c]},draw:function(n,a,i,o,l,u,c){this.renderer.nodeShapeImpl("round-polygon",n,a,i,o,l,this.points,this.getOrCreateCorners(a,i,o,l,u,c,"drawCorners"))},intersectLine:function(n,a,i,o,l,u,c,h,d){return iJ(l,u,this.points,n,a,i,o,c,this.getOrCreateCorners(n,a,i,o,h,d,"corners"))},checkPoint:function(n,a,i,o,l,u,c,h,d){return rJ(n,a,this.points,u,c,o,l,this.getOrCreateCorners(u,c,o,l,h,d,"corners"))}}};vo.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Fn(4,0),draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i,this.points,o)},intersectLine:function(t,r,n,a,i,o,l,u){return fI(i,o,t,r,n,a,l,u)},checkPoint:function(t,r,n,a,i,o,l,u){var c=a/2,h=i/2;u=u==="auto"?as(a,i):u,u=Math.min(c,h,u);var d=u*2;return!!(io(t,r,this.points,o,l,a,i-d,[0,-1],n)||io(t,r,this.points,o,l,a-d,i,[0,-1],n)||Qs(t,r,d,d,o-c+u,l-h+u,n)||Qs(t,r,d,d,o+c-u,l-h+u,n)||Qs(t,r,d,d,o+c-u,l+h-u,n)||Qs(t,r,d,d,o-c+u,l+h-u,n))}}};vo.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:QE(),points:Fn(4,0),draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i,null,o)},generateCutTrianglePts:function(t,r,n,a,i){var o=i==="auto"?this.cornerLength:i,l=r/2,u=t/2,c=n-u,h=n+u,d=a-l,v=a+l;return{topLeft:[c,d+o,c+o,d,c+o,d+o],topRight:[h-o,d,h,d+o,h-o,d+o],bottomRight:[h,v-o,h-o,v,h-o,v-o],bottomLeft:[c+o,v,c,v-o,c+o,v-o]}},intersectLine:function(t,r,n,a,i,o,l,u){var c=this.generateCutTrianglePts(n+2*l,a+2*l,t,r,u),h=[].concat.apply([],[c.topLeft.splice(0,4),c.topRight.splice(0,4),c.bottomRight.splice(0,4),c.bottomLeft.splice(0,4)]);return Nf(i,o,h,t,r)},checkPoint:function(t,r,n,a,i,o,l,u){var c=u==="auto"?this.cornerLength:u;if(io(t,r,this.points,o,l,a,i-2*c,[0,-1],n)||io(t,r,this.points,o,l,a-2*c,i,[0,-1],n))return!0;var h=this.generateCutTrianglePts(a,i,o,l);return na(t,r,h.topLeft)||na(t,r,h.topRight)||na(t,r,h.bottomRight)||na(t,r,h.bottomLeft)}}};vo.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Fn(4,0),draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i)},intersectLine:function(t,r,n,a,i,o,l,u){var c=.15,h=.5,d=.85,v=this.generateBarrelBezierPts(n+2*l,a+2*l,t,r),p=function(x){var w=yu({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},c),T=yu({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},h),S=yu({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},d);return[x[0],x[1],w.x,w.y,T.x,T.y,S.x,S.y,x[4],x[5]]},m=[].concat(p(v.topLeft),p(v.topRight),p(v.bottomRight),p(v.bottomLeft));return Nf(i,o,m,t,r)},generateBarrelBezierPts:function(t,r,n,a){var i=r/2,o=t/2,l=n-o,u=n+o,c=a-i,h=a+i,d=Gx(t,r),v=d.heightOffset,p=d.widthOffset,m=d.ctrlPtOffsetPct*t,b={topLeft:[l,c+v,l+m,c,l+p,c],topRight:[u-p,c,u-m,c,u,c+v],bottomRight:[u,h-v,u-m,h,u-p,h],bottomLeft:[l+p,h,l+m,h,l,h-v]};return b.topLeft.isTop=!0,b.topRight.isTop=!0,b.bottomLeft.isBottom=!0,b.bottomRight.isBottom=!0,b},checkPoint:function(t,r,n,a,i,o,l,u){var c=Gx(a,i),h=c.heightOffset,d=c.widthOffset;if(io(t,r,this.points,o,l,a,i-2*h,[0,-1],n)||io(t,r,this.points,o,l,a-2*d,i,[0,-1],n))return!0;for(var v=this.generateBarrelBezierPts(a,i,o,l),p=function(N,P,U){var j=U[4],F=U[2],I=U[0],G=U[5],Y=U[1],q=Math.min(j,I),V=Math.max(j,I),W=Math.min(G,Y),J=Math.max(G,Y);if(q<=N&&N<=V&&W<=P&&P<=J){var ie=oJ(j,F,I),K=QQ(ie[0],ie[1],ie[2],N),Z=K.filter(function(fe){return 0<=fe&&fe<=1});if(Z.length>0)return Z[0]}return null},m=Object.keys(v),b=0;b<m.length;b++){var x=m[b],w=v[x],T=p(t,r,w);if(T!=null){var S=w[5],D=w[3],R=w[1],L=dn(S,D,R,T);if(w.isTop&&L<=r||w.isBottom&&r<=L)return!0}}return!1}}};vo.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Fn(4,0),draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i,this.points,o)},intersectLine:function(t,r,n,a,i,o,l,u){var c=t-(n/2+l),h=r-(a/2+l),d=h,v=t+(n/2+l),p=Wo(i,o,t,r,c,h,v,d,!1);return p.length>0?p:fI(i,o,t,r,n,a,l,u)},checkPoint:function(t,r,n,a,i,o,l,u){u=u==="auto"?as(a,i):u;var c=2*u;if(io(t,r,this.points,o,l,a,i-c,[0,-1],n)||io(t,r,this.points,o,l,a-c,i,[0,-1],n))return!0;var h=a/2+2*n,d=i/2+2*n,v=[o-h,l-d,o-h,l,o+h,l,o+h,l-d];return!!(na(t,r,v)||Qs(t,r,c,c,o+a/2-u,l+i/2-u,n)||Qs(t,r,c,c,o-a/2+u,l+i/2-u,n))}}};vo.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",Fn(3,0)),this.generateRoundPolygon("round-triangle",Fn(3,0)),this.generatePolygon("rectangle",Fn(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",Fn(5,0)),this.generateRoundPolygon("round-pentagon",Fn(5,0)),this.generatePolygon("hexagon",Fn(6,0)),this.generateRoundPolygon("round-hexagon",Fn(6,0)),this.generatePolygon("heptagon",Fn(7,0)),this.generateRoundPolygon("round-heptagon",Fn(7,0)),this.generatePolygon("octagon",Fn(8,0)),this.generateRoundPolygon("round-octagon",Fn(8,0));var n=new Array(20);{var a=Ux(5,0),i=Ux(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var l=0;l<i.length/2;l++)i[l*2]*=o,i[l*2+1]*=o;for(var l=0;l<20/4;l++)n[l*4]=a[l*2],n[l*4+1]=a[l*2+1],n[l*4+2]=i[l*2],n[l*4+3]=i[l*2+1]}n=hI(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u)}e.makePolygon=function(c){var h=c.join("$"),d="polygon-"+h,v;return(v=this[d])?v:t.generatePolygon(d,c)}};var ch={};ch.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};ch.redraw=function(e){e=e||sI();var t=this;t.averageRedrawTime===void 0&&(t.averageRedrawTime=0),t.lastRedrawTime===void 0&&(t.lastRedrawTime=0),t.lastDrawTime===void 0&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e};ch.beforeRender=function(e,t){if(!this.destroyed){t==null&&Rr("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:e,priority:t}),r.sort(function(n,a){return a.priority-n.priority})}};var tN=function(t,r,n){for(var a=t.beforeRenderCallbacks,i=0;i<a.length;i++)a[i].fn(r,n)};ch.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var r=function(a){if(!e.destroyed){if(!t.batching())if(e.requestedFrame&&!e.skipFrame){tN(e,!0,a);var i=ao();e.render(e.renderOptions);var o=e.lastDrawTime=ao();e.averageRedrawTime===void 0&&(e.averageRedrawTime=o-i),e.redrawCount===void 0&&(e.redrawCount=0),e.redrawCount++,e.redrawTotalTime===void 0&&(e.redrawTotalTime=0);var l=o-i;e.redrawTotalTime+=l,e.lastRedrawTime=l,e.averageRedrawTime=e.averageRedrawTime/2+l/2,e.requestedFrame=!1}else tN(e,!1,a);e.skipFrame=!1,dg(r)}};dg(r)}};var Ere=function(t){this.init(t)},v3=Ere,Xu=v3.prototype;Xu.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];Xu.init=function(e){var t=this;t.options=e,t.cy=e.cy;var r=t.container=e.cy.container(),n=t.cy.window();if(n){var a=n.document,i=a.head,o="__________cytoscape_stylesheet",l="__________cytoscape_container",u=a.getElementById(o)!=null;if(r.className.indexOf(l)<0&&(r.className=(r.className||"")+" "+l),!u){var c=a.createElement("style");c.id=o,c.textContent="."+l+" { position: relative; }",i.insertBefore(c,i.children[0])}var h=n.getComputedStyle(r),d=h.getPropertyValue("position");d==="static"&&sr("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.webgl=e.webgl,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=pt(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()};Xu.notify=function(e,t){var r=this,n=r.cy;if(!this.destroyed){if(e==="init"){r.load();return}if(e==="destroy"){r.destroy();return}(e==="add"||e==="remove"||e==="move"&&n.hasCompoundNodes()||e==="load"||e==="zorder"||e==="mount")&&r.invalidateCachedZSortedEles(),e==="viewport"&&r.redrawHint("select",!0),e==="gc"&&r.redrawHint("gc",!0),(e==="load"||e==="resize"||e==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};Xu.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var r=e.bindings[t],n=r,a=n.target;(a.off||a.removeEventListener).apply(a,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch{}};Xu.isHeadless=function(){return!1};[lS,f3,h3,Hu,vo,ch].forEach(function(e){Nt(Xu,e)});var j1=1e3/60,g3={setupDequeueing:function(t){return function(){var n=this,a=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var i=ih(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},t.deqRedrawThreshold),o=function(c,h){var d=ao(),v=a.averageRedrawTime,p=a.lastRedrawTime,m=[],b=a.cy.extent(),x=a.getPixelRatio();for(c||a.flushRenderedStyleQueue();;){var w=ao(),T=w-d,S=w-h;if(p<j1){var D=j1-(c?v:0);if(S>=t.deqFastCost*D)break}else if(c){if(T>=t.deqCost*p||T>=t.deqAvgCost*v)break}else if(S>=t.deqNoDrawCost*j1)break;var R=t.deq(n,x,b);if(R.length>0)for(var L=0;L<R.length;L++)m.push(R[L]);else break}m.length>0&&(t.onDeqd(n,m),!c&&t.shouldRedraw(n,m,x,b)&&i())},l=t.priority||HE;a.beforeRender(o,l(n))}}}},Sre=(function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vg;hs(this,e),this.idsByKey=new Wi,this.keyForId=new Wi,this.cachesByLvl=new Wi,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=r}return ds(e,[{key:"getIdsFor",value:function(r){r==null&&Rr("Can not get id list for null key");var n=this.idsByKey,a=this.idsByKey.get(r);return a||(a=new qu,n.set(r,a)),a}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);this.deleteIdForKey(a,n),this.addIdForKey(i,n),this.keyForId.set(n,i)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteIdForKey(a,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);return a!==i}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,a=this.lvls,i=n.get(r);return i||(i=new Wi,n.set(r,i),a.push(r)),i}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var a=this.getKey(r),i=this.getCache(a,n);return i!=null&&this.updateKeyMappingFor(r),i}},{key:"getForCachedKey",value:function(r,n){var a=this.keyForId.get(r.id()),i=this.getCache(a,n);return i}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var a=this.getKey(r);return this.hasCache(a,n)}},{key:"setCache",value:function(r,n,a){a.key=r,this.getCachesAt(n).set(r,a)}},{key:"set",value:function(r,n,a){var i=this.getKey(r);this.setCache(i,n,a),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var a=this.getKey(r);this.deleteCache(a,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(a){return n.deleteCache(r,a)})}},{key:"invalidate",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteKeyMappingFor(r);var i=this.doesEleInvalidateKey(r);return i&&this.invalidateKey(a),i||this.getNumberOfIdsForKey(a)===0}}])})(),rN=25,rv=50,bv=-4,tw=3,p3=7.99,Tre=8,Are=1024,Cre=1024,Mre=1024,Ore=.2,_re=.8,Dre=10,kre=.15,Nre=.1,Pre=.9,Rre=.9,Lre=100,jre=1,vu={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Bre=Dn({getKey:null,doesEleInvalidateKey:vg,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:aI,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),lf=function(t,r){var n=this;n.renderer=t,n.onDequeues=[];var a=Bre(r);Nt(n,a),n.lookup=new Sre(a.getKey,a.doesEleInvalidateKey),n.setupDequeueing()},un=lf.prototype;un.reasons=vu;un.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]};un.getRetiredTextureQueue=function(e){var t=this,r=t.eleImgCaches.retired=t.eleImgCaches.retired||{},n=r[e]=r[e]||[];return n};un.getElementQueue=function(){var e=this,t=e.eleCacheQueue=e.eleCacheQueue||new oh(function(r,n){return n.reqs-r.reqs});return t};un.getElementKeyToQueue=function(){var e=this,t=e.eleKeyToCacheQueue=e.eleKeyToCacheQueue||{};return t};un.getElement=function(e,t,r,n,a){var i=this,o=this.renderer,l=o.cy.zoom(),u=this.lookup;if(!t||t.w===0||t.h===0||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed()||!i.allowEdgeTxrCaching&&e.isEdge()||!i.allowParentTxrCaching&&e.isParent())return null;if(n==null&&(n=Math.ceil(KE(l*r))),n<bv)n=bv;else if(l>=p3||n>tw)return null;var c=Math.pow(2,n),h=t.h*c,d=t.w*c,v=o.eleTextBiggerThanMin(e,c);if(!this.isVisible(e,v))return null;var p=u.get(e,n);if(p&&p.invalidated&&(p.invalidated=!1,p.texture.invalidatedWidth-=p.width),p)return p;var m;if(h<=rN?m=rN:h<=rv?m=rv:m=Math.ceil(h/rv)*rv,h>Mre||d>Cre)return null;var b=i.getTextureQueue(m),x=b[b.length-2],w=function(){return i.recycleTexture(m,d)||i.addTexture(m,d)};x||(x=b[b.length-1]),x||(x=w()),x.width-x.usedWidth<d&&(x=w());for(var T=function(q){return q&&q.scaledLabelShown===v},S=a&&a===vu.dequeue,D=a&&a===vu.highQuality,R=a&&a===vu.downscale,L,_=n+1;_<=tw;_++){var N=u.get(e,_);if(N){L=N;break}}var P=L&&L.level===n+1?L:null,U=function(){x.context.drawImage(P.texture.canvas,P.x,0,P.width,P.height,x.usedWidth,0,d,h)};if(x.context.setTransform(1,0,0,1,0,0),x.context.clearRect(x.usedWidth,0,d,m),T(P))U();else if(T(L))if(D){for(var j=L.level;j>n;j--)P=i.getElement(e,t,r,j,vu.downscale);U()}else return i.queueElement(e,L.level-1),L;else{var F;if(!S&&!D&&!R)for(var I=n-1;I>=bv;I--){var G=u.get(e,I);if(G){F=G;break}}if(T(F))return i.queueElement(e,n),F;x.context.translate(x.usedWidth,0),x.context.scale(c,c),this.drawElement(x.context,e,t,v,!1),x.context.scale(1/c,1/c),x.context.translate(-x.usedWidth,0)}return p={x:x.usedWidth,texture:x,level:n,scale:c,width:d,height:h,scaledLabelShown:v},x.usedWidth+=Math.ceil(d+Tre),x.eleCaches.push(p),u.set(e,n,p),i.checkTextureFullness(x),p};un.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])};un.invalidateElement=function(e){var t=this,r=t.lookup,n=[],a=r.isInvalid(e);if(a){for(var i=bv;i<=tw;i++){var o=r.getForCachedKey(e,i);o&&n.push(o)}var l=r.invalidate(e);if(l)for(var u=0;u<n.length;u++){var c=n[u],h=c.texture;h.invalidatedWidth+=c.width,c.invalidated=!0,t.checkTextureUtility(h)}t.removeFromQueue(e)}};un.checkTextureUtility=function(e){e.invalidatedWidth>=Ore*e.width&&this.retireTexture(e)};un.checkTextureFullness=function(e){var t=this,r=t.getTextureQueue(e.height);e.usedWidth/e.width>_re&&e.fullnessChecks>=Dre?ns(r,e):e.fullnessChecks++};un.retireTexture=function(e){var t=this,r=e.height,n=t.getTextureQueue(r),a=this.lookup;ns(n,e),e.retired=!0;for(var i=e.eleCaches,o=0;o<i.length;o++){var l=i[o];a.deleteCache(l.key,l.level)}XE(i);var u=t.getRetiredTextureQueue(r);u.push(e)};un.addTexture=function(e,t){var r=this,n=r.getTextureQueue(e),a={};return n.push(a),a.eleCaches=[],a.height=e,a.width=Math.max(Are,t),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=r.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a};un.recycleTexture=function(e,t){for(var r=this,n=r.getTextureQueue(e),a=r.getRetiredTextureQueue(e),i=0;i<a.length;i++){var o=a[i];if(o.width>=t)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,XE(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),ns(a,o),n.push(o),o}};un.queueElement=function(e,t){var r=this,n=r.getElementQueue(),a=r.getElementKeyToQueue(),i=this.getKey(e),o=a[i];if(o)o.level=Math.max(o.level,t),o.eles.merge(e),o.reqs++,n.updateItem(o);else{var l={eles:e.spawn().merge(e),level:t,reqs:1,key:i};n.push(l),a[i]=l}};un.dequeue=function(e){for(var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),a=[],i=t.lookup,o=0;o<jre&&r.size()>0;o++){var l=r.pop(),u=l.key,c=l.eles[0],h=i.hasCache(c,l.level);if(n[u]=null,h)continue;a.push(l);var d=t.getBoundingBox(c);t.getElement(c,d,e,l.level,vu.dequeue)}return a};un.removeFromQueue=function(e){var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),a=this.getKey(e),i=n[a];i!=null&&(i.eles.length===1?(i.reqs=YE,r.updateItem(i),r.pop(),n[a]=null):i.eles.unmerge(e))};un.onDequeue=function(e){this.onDequeues.push(e)};un.offDequeue=function(e){ns(this.onDequeues,e)};un.setupDequeueing=g3.setupDequeueing({deqRedrawThreshold:Lre,deqCost:kre,deqAvgCost:Nre,deqNoDrawCost:Pre,deqFastCost:Rre,deq:function(t,r,n){return t.dequeue(r,n)},onDeqd:function(t,r){for(var n=0;n<t.onDequeues.length;n++){var a=t.onDequeues[n];a(r)}},shouldRedraw:function(t,r,n,a){for(var i=0;i<r.length;i++)for(var o=r[i].eles,l=0;l<o.length;l++){var u=o[l].boundingBox();if(ZE(u,a))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}});var Ire=1,ff=-4,Eg=2,zre=3.99,Fre=50,Ure=50,Gre=.15,qre=.1,Vre=.9,$re=.9,Yre=1,nN=250,Hre=4e3*4e3,aN=32767,Xre=!0,m3=function(t){var r=this,n=r.renderer=t,a=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=ao()-2*nN,r.skipping=!1,r.eleTxrDeqs=a.collection(),r.scheduleElementRefinement=ih(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},Ure),n.beforeRender(function(o,l){l-r.lastInvalidationTime<=nN?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var i=function(l,u){return u.reqs-l.reqs};r.layersQueue=new oh(i),r.setupDequeueing()},kn=m3.prototype,iN=0,Kre=Math.pow(2,53)-1;kn.makeLayer=function(e,t){var r=Math.pow(2,t),n=Math.ceil(e.w*r),a=Math.ceil(e.h*r),i=this.renderer.makeOffscreenCanvas(n,a),o={id:iN=++iN%Kre,bb:e,level:t,width:n,height:a,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},l=o.context,u=-o.bb.x1,c=-o.bb.y1;return l.scale(r,r),l.translate(u,c),o};kn.getLayers=function(e,t,r){var n=this,a=n.renderer,i=a.cy,o=i.zoom(),l=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(KE(o*t)),r<ff)r=ff;else if(o>=zre||r>Eg)return null}n.validateLayersElesOrdering(r,e);var u=n.layersByLevel,c=Math.pow(2,r),h=u[r]=u[r]||[],d,v=n.levelIsComplete(r,e),p,m=function(){var U=function(Y){if(n.validateLayersElesOrdering(Y,e),n.levelIsComplete(Y,e))return p=u[Y],!0},j=function(Y){if(!p)for(var q=r+Y;ff<=q&&q<=Eg&&!U(q);q+=Y);};j(1),j(-1);for(var F=h.length-1;F>=0;F--){var I=h[F];I.invalid&&ns(h,I)}};if(!v)m();else return h;var b=function(){if(!d){d=$n();for(var U=0;U<e.length;U++)YQ(d,e[U].boundingBox())}return d},x=function(U){U=U||{};var j=U.after;b();var F=Math.ceil(d.w*c),I=Math.ceil(d.h*c);if(F>aN||I>aN)return null;var G=F*I;if(G>Hre)return null;var Y=n.makeLayer(d,r);if(j!=null){var q=h.indexOf(j)+1;h.splice(q,0,Y)}else(U.insert===void 0||U.insert)&&h.unshift(Y);return Y};if(n.skipping&&!l)return null;for(var w=null,T=e.length/Ire,S=!l,D=0;D<e.length;D++){var R=e[D],L=R._private.rscratch,_=L.imgLayerCaches=L.imgLayerCaches||{},N=_[r];if(N){w=N;continue}if((!w||w.eles.length>=T||!cI(w.bb,R.boundingBox()))&&(w=x({insert:!0,after:w}),!w))return null;p||S?n.queueLayer(w,R):n.drawEleInLayer(w,R,r,t),w.eles.push(R),_[r]=w}return p||(S?null:h)};kn.getEleLevelForLayerLevel=function(e,t){return e};kn.drawEleInLayer=function(e,t,r,n){var a=this,i=this.renderer,o=e.context,l=t.boundingBox();l.w===0||l.h===0||!t.visible()||(r=a.getEleLevelForLayerLevel(r,n),i.setImgSmoothing(o,!1),i.drawCachedElement(o,t,null,null,r,Xre),i.setImgSmoothing(o,!0))};kn.levelIsComplete=function(e,t){var r=this,n=r.layersByLevel[e];if(!n||n.length===0)return!1;for(var a=0,i=0;i<n.length;i++){var o=n[i];if(o.reqs>0||o.invalid)return!1;a+=o.eles.length}return a===t.length};kn.validateLayersElesOrdering=function(e,t){var r=this.layersByLevel[e];if(r)for(var n=0;n<r.length;n++){for(var a=r[n],i=-1,o=0;o<t.length;o++)if(a.eles[0]===t[o]){i=o;break}if(i<0){this.invalidateLayer(a);continue}for(var l=i,o=0;o<a.eles.length;o++)if(a.eles[o]!==t[l+o]){this.invalidateLayer(a);break}}};kn.updateElementsInLayers=function(e,t){for(var r=this,n=th(e[0]),a=0;a<e.length;a++)for(var i=n?null:e[a],o=n?e[a]:e[a].ele,l=o._private.rscratch,u=l.imgLayerCaches=l.imgLayerCaches||{},c=ff;c<=Eg;c++){var h=u[c];h&&(i&&r.getEleLevelForLayerLevel(h.level)!==i.level||t(h,o,i))}};kn.haveLayers=function(){for(var e=this,t=!1,r=ff;r<=Eg;r++){var n=e.layersByLevel[r];if(n&&n.length>0){t=!0;break}}return t};kn.invalidateElements=function(e){var t=this;e.length!==0&&(t.lastInvalidationTime=ao(),!(e.length===0||!t.haveLayers())&&t.updateElementsInLayers(e,function(n,a,i){t.invalidateLayer(n)}))};kn.invalidateLayer=function(e){if(this.lastInvalidationTime=ao(),!e.invalid){var t=e.level,r=e.eles,n=this.layersByLevel[t];ns(n,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var a=0;a<r.length;a++){var i=r[a]._private.rscratch.imgLayerCaches;i&&(i[t]=null)}}};kn.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(n,a,i){var o=n.replacement;if(o||(o=n.replacement=t.makeLayer(n.bb,n.level),o.replaces=n,o.eles=n.eles),!o.reqs)for(var l=0;l<o.eles.length;l++)t.queueLayer(o,o.eles[l])})};kn.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()};kn.queueLayer=function(e,t){var r=this,n=r.layersQueue,a=e.elesQueue,i=a.hasId=a.hasId||{};if(!e.replacement){if(t){if(i[t.id()])return;a.push(t),i[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}};kn.dequeue=function(e){for(var t=this,r=t.layersQueue,n=[],a=0;a<Yre&&r.size()!==0;){var i=r.peek();if(i.replacement){r.pop();continue}if(i.replaces&&i!==i.replaces.replacement){r.pop();continue}if(i.invalid){r.pop();continue}var o=i.elesQueue.shift();o&&(t.drawEleInLayer(i,o,i.level,e),a++),n.length===0&&n.push(!0),i.elesQueue.length===0&&(r.pop(),i.reqs=0,i.replaces&&t.applyLayerReplacement(i),t.requestRedraw())}return n};kn.applyLayerReplacement=function(e){var t=this,r=t.layersByLevel[e.level],n=e.replaces,a=r.indexOf(n);if(!(a<0||n.invalid)){r[a]=e;for(var i=0;i<e.eles.length;i++){var o=e.eles[i]._private,l=o.imgLayerCaches=o.imgLayerCaches||{};l&&(l[e.level]=e)}t.requestRedraw()}};kn.requestRedraw=ih(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100);kn.setupDequeueing=g3.setupDequeueing({deqRedrawThreshold:Fre,deqCost:Gre,deqAvgCost:qre,deqNoDrawCost:Vre,deqFastCost:$re,deq:function(t,r){return t.dequeue(r)},onDeqd:HE,shouldRedraw:aI,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}});var y3={},oN;function Wre(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.lineTo(n.x,n.y)}}function Zre(e,t,r){for(var n,a=0;a<t.length;a++){var i=t[a];a===0&&(n=i),e.lineTo(i.x,i.y)}e.quadraticCurveTo(r.x,r.y,n.x,n.y)}function sN(e,t,r){e.beginPath&&e.beginPath();for(var n=t,a=0;a<n.length;a++){var i=n[a];e.lineTo(i.x,i.y)}var o=r,l=r[0];e.moveTo(l.x,l.y);for(var a=1;a<o.length;a++){var i=o[a];e.lineTo(i.x,i.y)}e.closePath&&e.closePath()}function Qre(e,t,r,n,a){e.beginPath&&e.beginPath(),e.arc(r,n,a,0,Math.PI*2,!1);var i=t,o=i[0];e.moveTo(o.x,o.y);for(var l=0;l<i.length;l++){var u=i[l];e.lineTo(u.x,u.y)}e.closePath&&e.closePath()}function Jre(e,t,r,n){e.arc(t,r,n,0,Math.PI*2,!1)}y3.arrowShapeImpl=function(e){return(oN||(oN={polygon:Wre,"triangle-backcurve":Zre,"triangle-tee":sN,"circle-triangle":Qre,"triangle-cross":sN,circle:Jre}))[e]};var Ti={};Ti.drawElement=function(e,t,r,n,a,i){var o=this;t.isNode()?o.drawNode(e,t,r,n,a,i):o.drawEdge(e,t,r,n,a,i)};Ti.drawElementOverlay=function(e,t){var r=this;t.isNode()?r.drawNodeOverlay(e,t):r.drawEdgeOverlay(e,t)};Ti.drawElementUnderlay=function(e,t){var r=this;t.isNode()?r.drawNodeUnderlay(e,t):r.drawEdgeUnderlay(e,t)};Ti.drawCachedElementPortion=function(e,t,r,n,a,i,o,l){var u=this,c=r.getBoundingBox(t);if(!(c.w===0||c.h===0)){var h=r.getElement(t,c,n,a,i);if(h!=null){var d=l(u,t);if(d===0)return;var v=o(u,t),p=c.x1,m=c.y1,b=c.w,x=c.h,w,T,S,D,R;if(v!==0){var L=r.getRotationPoint(t);S=L.x,D=L.y,e.translate(S,D),e.rotate(v),R=u.getImgSmoothing(e),R||u.setImgSmoothing(e,!0);var _=r.getRotationOffset(t);w=_.x,T=_.y}else w=p,T=m;var N;d!==1&&(N=e.globalAlpha,e.globalAlpha=N*d),e.drawImage(h.texture.canvas,h.x,0,h.width,h.height,w,T,b,x),d!==1&&(e.globalAlpha=N),v!==0&&(e.rotate(-v),e.translate(-S,-D),R||u.setImgSmoothing(e,!1))}else r.drawElement(e,t)}};var ene=function(){return 0},tne=function(t,r){return t.getTextAngle(r,null)},rne=function(t,r){return t.getTextAngle(r,"source")},nne=function(t,r){return t.getTextAngle(r,"target")},ane=function(t,r){return r.effectiveOpacity()},B1=function(t,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};Ti.drawCachedElement=function(e,t,r,n,a,i){var o=this,l=o.data,u=l.eleTxrCache,c=l.lblTxrCache,h=l.slbTxrCache,d=l.tlbTxrCache,v=t.boundingBox(),p=i===!0?u.reasons.highQuality:null;if(!(v.w===0||v.h===0||!t.visible())&&(!n||ZE(v,n))){var m=t.isEdge(),b=t.element()._private.rscratch.badLine;o.drawElementUnderlay(e,t),o.drawCachedElementPortion(e,t,u,r,a,p,ene,ane),(!m||!b)&&o.drawCachedElementPortion(e,t,c,r,a,p,tne,B1),m&&!b&&(o.drawCachedElementPortion(e,t,h,r,a,p,rne,B1),o.drawCachedElementPortion(e,t,d,r,a,p,nne,B1)),o.drawElementOverlay(e,t)}};Ti.drawElements=function(e,t){for(var r=this,n=0;n<t.length;n++){var a=t[n];r.drawElement(e,a)}};Ti.drawCachedElements=function(e,t,r,n){for(var a=this,i=0;i<t.length;i++){var o=t[i];a.drawCachedElement(e,o,r,n)}};Ti.drawCachedNodes=function(e,t,r,n){for(var a=this,i=0;i<t.length;i++){var o=t[i];o.isNode()&&a.drawCachedElement(e,o,r,n)}};Ti.drawLayeredElements=function(e,t,r,n){var a=this,i=a.data.lyrTxrCache.getLayers(t,r);if(i)for(var o=0;o<i.length;o++){var l=i[o],u=l.bb;u.w===0||u.h===0||e.drawImage(l.canvas,u.x1,u.y1,u.w,u.h)}else a.drawCachedElements(e,t,r,n)};var go={};go.drawEdge=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,l=t._private.rscratch;if(!(i&&!t.visible())&&!(l.badLine||l.allpts==null||isNaN(l.allpts[0]))){var u;r&&(u=r,e.translate(-u.x1,-u.y1));var c=i?t.pstyle("opacity").value:1,h=i?t.pstyle("line-opacity").value:1,d=t.pstyle("curve-style").value,v=t.pstyle("line-style").value,p=t.pstyle("width").pfValue,m=t.pstyle("line-cap").value,b=t.pstyle("line-outline-width").value,x=t.pstyle("line-outline-color").value,w=c*h,T=c*h,S=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w;d==="straight-triangle"?(o.eleStrokeStyle(e,t,Y),o.drawEdgeTrianglePath(t,e,l.allpts)):(e.lineWidth=p,e.lineCap=m,o.eleStrokeStyle(e,t,Y),o.drawEdgePath(t,e,l.allpts,v),e.lineCap="butt")},D=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w;if(e.lineWidth=p+b,e.lineCap=m,b>0)o.colorStrokeStyle(e,x[0],x[1],x[2],Y);else{e.lineCap="butt";return}d==="straight-triangle"?o.drawEdgeTrianglePath(t,e,l.allpts):(o.drawEdgePath(t,e,l.allpts,v),e.lineCap="butt")},R=function(){a&&o.drawEdgeOverlay(e,t)},L=function(){a&&o.drawEdgeUnderlay(e,t)},_=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T;o.drawArrowheads(e,t,Y)},N=function(){o.drawElementText(e,t,null,n)};e.lineJoin="round";var P=t.pstyle("ghost").value==="yes";if(P){var U=t.pstyle("ghost-offset-x").pfValue,j=t.pstyle("ghost-offset-y").pfValue,F=t.pstyle("ghost-opacity").value,I=w*F;e.translate(U,j),S(I),_(I),e.translate(-U,-j)}else D();L(),S(),_(),R(),N(),r&&e.translate(u.x1,u.y1)}};var b3=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(r,n){if(n.visible()){var a=n.pstyle("".concat(t,"-opacity")).value;if(a!==0){var i=this,o=i.usePaths(),l=n._private.rscratch,u=n.pstyle("".concat(t,"-padding")).pfValue,c=2*u,h=n.pstyle("".concat(t,"-color")).value;r.lineWidth=c,l.edgeType==="self"&&!o?r.lineCap="butt":r.lineCap="round",i.colorStrokeStyle(r,h[0],h[1],h[2],a),i.drawEdgePath(n,r,l.allpts,"solid")}}}};go.drawEdgeOverlay=b3("overlay");go.drawEdgeUnderlay=b3("underlay");go.drawEdgePath=function(e,t,r,n){var a=e._private.rscratch,i=t,o,l=!1,u=this.usePaths(),c=e.pstyle("line-dash-pattern").pfValue,h=e.pstyle("line-dash-offset").pfValue;if(u){var d=r.join("$"),v=a.pathCacheKey&&a.pathCacheKey===d;v?(o=t=a.pathCache,l=!0):(o=t=new Path2D,a.pathCacheKey=d,a.pathCache=o)}if(i.setLineDash)switch(n){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash(c),i.lineDashOffset=h;break;case"solid":i.setLineDash([]);break}if(!l&&!a.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(r[0],r[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var p=2;p+3<r.length;p+=4)t.quadraticCurveTo(r[p],r[p+1],r[p+2],r[p+3]);break;case"straight":case"haystack":for(var m=2;m+1<r.length;m+=2)t.lineTo(r[m],r[m+1]);break;case"segments":if(a.isRound){var b=sa(a.roundCorners),x;try{for(b.s();!(x=b.n()).done;){var w=x.value;o3(t,w)}}catch(S){b.e(S)}finally{b.f()}t.lineTo(r[r.length-2],r[r.length-1])}else for(var T=2;T+1<r.length;T+=2)t.lineTo(r[T],r[T+1]);break}t=i,u?t.stroke(o):t.stroke(),t.setLineDash&&t.setLineDash([])};go.drawEdgeTrianglePath=function(e,t,r){t.fillStyle=t.strokeStyle;for(var n=e.pstyle("width").pfValue,a=0;a+1<r.length;a+=2){var i=[r[a+2]-r[a],r[a+3]-r[a+1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),l=[i[1]/o,-i[0]/o],u=[l[0]*n/2,l[1]*n/2];t.beginPath(),t.moveTo(r[a]-u[0],r[a+1]-u[1]),t.lineTo(r[a]+u[0],r[a+1]+u[1]),t.lineTo(r[a+2],r[a+3]),t.closePath(),t.fill()}};go.drawArrowheads=function(e,t,r){var n=t._private.rscratch,a=n.edgeType==="haystack";a||this.drawArrowhead(e,t,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(e,t,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(e,t,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),a||this.drawArrowhead(e,t,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};go.drawArrowhead=function(e,t,r,n,a,i,o){if(!(isNaN(n)||n==null||isNaN(a)||a==null||isNaN(i)||i==null)){var l=this,u=t.pstyle(r+"-arrow-shape").value;if(u!=="none"){var c=t.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",h=t.pstyle(r+"-arrow-fill").value,d=t.pstyle("width").pfValue,v=t.pstyle(r+"-arrow-width"),p=v.value==="match-line"?d:v.pfValue;v.units==="%"&&(p*=d);var m=t.pstyle("opacity").value;o===void 0&&(o=m);var b=e.globalCompositeOperation;(o!==1||h==="hollow")&&(e.globalCompositeOperation="destination-out",l.colorFillStyle(e,255,255,255,1),l.colorStrokeStyle(e,255,255,255,1),l.drawArrowShape(t,e,c,d,u,p,n,a,i),e.globalCompositeOperation=b);var x=t.pstyle(r+"-arrow-color").value;l.colorFillStyle(e,x[0],x[1],x[2],o),l.colorStrokeStyle(e,x[0],x[1],x[2],o),l.drawArrowShape(t,e,h,d,u,p,n,a,i)}}};go.drawArrowShape=function(e,t,r,n,a,i,o,l,u){var c=this,h=this.usePaths()&&a!=="triangle-cross",d=!1,v,p=t,m={x:o,y:l},b=e.pstyle("arrow-scale").value,x=this.getArrowWidth(n,b),w=c.arrowShapes[a];if(h){var T=c.arrowPathCache=c.arrowPathCache||[],S=cl(a),D=T[S];D!=null?(v=t=D,d=!0):(v=t=new Path2D,T[S]=v)}d||(t.beginPath&&t.beginPath(),h?w.draw(t,1,0,{x:0,y:0},1):w.draw(t,x,u,m,n),t.closePath&&t.closePath()),t=p,h&&(t.translate(o,l),t.rotate(u),t.scale(x,x)),(r==="filled"||r==="both")&&(h?t.fill(v):t.fill()),(r==="hollow"||r==="both")&&(t.lineWidth=i/(h?x:1),t.lineJoin="miter",h?t.stroke(v):t.stroke()),h&&(t.scale(1/x,1/x),t.rotate(-u),t.translate(-o,-l))};var fS={};fS.safeDrawImage=function(e,t,r,n,a,i,o,l,u,c){if(!(a<=0||i<=0||u<=0||c<=0))try{e.drawImage(t,r,n,a,i,o,l,u,c)}catch(h){sr(h)}};fS.drawInscribedImage=function(e,t,r,n,a){var i=this,o=r.position(),l=o.x,u=o.y,c=r.cy().style(),h=c.getIndexedStyle.bind(c),d=h(r,"background-fit","value",n),v=h(r,"background-repeat","value",n),p=r.width(),m=r.height(),b=r.padding()*2,x=p+(h(r,"background-width-relative-to","value",n)==="inner"?0:b),w=m+(h(r,"background-height-relative-to","value",n)==="inner"?0:b),T=r._private.rscratch,S=h(r,"background-clip","value",n),D=S==="node",R=h(r,"background-image-opacity","value",n)*a,L=h(r,"background-image-smoothing","value",n),_=r.pstyle("corner-radius").value;_!=="auto"&&(_=r.pstyle("corner-radius").pfValue);var N=t.width||t.cachedW,P=t.height||t.cachedH;(N==null||P==null)&&(document.body.appendChild(t),N=t.cachedW=t.width||t.offsetWidth,P=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var U=N,j=P;if(h(r,"background-width","value",n)!=="auto"&&(h(r,"background-width","units",n)==="%"?U=h(r,"background-width","pfValue",n)*x:U=h(r,"background-width","pfValue",n)),h(r,"background-height","value",n)!=="auto"&&(h(r,"background-height","units",n)==="%"?j=h(r,"background-height","pfValue",n)*w:j=h(r,"background-height","pfValue",n)),!(U===0||j===0)){if(d==="contain"){var F=Math.min(x/U,w/j);U*=F,j*=F}else if(d==="cover"){var F=Math.max(x/U,w/j);U*=F,j*=F}var I=l-x/2,G=h(r,"background-position-x","units",n),Y=h(r,"background-position-x","pfValue",n);G==="%"?I+=(x-U)*Y:I+=Y;var q=h(r,"background-offset-x","units",n),V=h(r,"background-offset-x","pfValue",n);q==="%"?I+=(x-U)*V:I+=V;var W=u-w/2,J=h(r,"background-position-y","units",n),ie=h(r,"background-position-y","pfValue",n);J==="%"?W+=(w-j)*ie:W+=ie;var K=h(r,"background-offset-y","units",n),Z=h(r,"background-offset-y","pfValue",n);K==="%"?W+=(w-j)*Z:W+=Z,T.pathCache&&(I-=l,W-=u,l=0,u=0);var fe=e.globalAlpha;e.globalAlpha=R;var he=i.getImgSmoothing(e),oe=!1;if(L==="no"&&he?(i.setImgSmoothing(e,!1),oe=!0):L==="yes"&&!he&&(i.setImgSmoothing(e,!0),oe=!0),v==="no-repeat")D&&(e.save(),T.pathCache?e.clip(T.pathCache):(i.nodeShapes[i.getNodeShape(r)].draw(e,l,u,x,w,_,T),e.clip())),i.safeDrawImage(e,t,0,0,N,P,I,W,U,j),D&&e.restore();else{var be=e.createPattern(t,v);e.fillStyle=be,i.nodeShapes[i.getNodeShape(r)].draw(e,l,u,x,w,_,T),e.translate(I,W),e.fill(),e.translate(-I,-W)}e.globalAlpha=fe,oe&&i.setImgSmoothing(e,he)}};var bl={};bl.eleTextBiggerThanMin=function(e,t){if(!t){var r=e.cy().zoom(),n=this.getPixelRatio(),a=Math.ceil(KE(r*n));t=Math.pow(2,a)}var i=e.pstyle("font-size").pfValue*t,o=e.pstyle("min-zoomed-font-size").pfValue;return!(i<o)};bl.drawElementText=function(e,t,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(n==null){if(i&&!o.eleTextBiggerThanMin(t))return}else if(n===!1)return;if(t.isNode()){var l=t.pstyle("label");if(!l||!l.value)return;var u=o.getLabelJustification(t);e.textAlign=u,e.textBaseline="bottom"}else{var c=t.element()._private.rscratch.badLine,h=t.pstyle("label"),d=t.pstyle("source-label"),v=t.pstyle("target-label");if(c||(!h||!h.value)&&(!d||!d.value)&&(!v||!v.value))return;e.textAlign="center",e.textBaseline="bottom"}var p=!r,m;r&&(m=r,e.translate(-m.x1,-m.y1)),a==null?(o.drawText(e,t,null,p,i),t.isEdge()&&(o.drawText(e,t,"source",p,i),o.drawText(e,t,"target",p,i))):o.drawText(e,t,a,p,i),r&&e.translate(m.x1,m.y1)};bl.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(t=this.fontCaches[r],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t};bl.setupTextStyle=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=t.pstyle("font-style").strValue,a=t.pstyle("font-size").pfValue+"px",i=t.pstyle("font-family").strValue,o=t.pstyle("font-weight").strValue,l=r?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,u=t.pstyle("text-outline-opacity").value*l,c=t.pstyle("color").value,h=t.pstyle("text-outline-color").value;e.font=n+" "+o+" "+a+" "+i,e.lineJoin="round",this.colorFillStyle(e,c[0],c[1],c[2],l),this.colorStrokeStyle(e,h[0],h[1],h[2],u)};function ine(e,t,r,n,a){var i=Math.min(n,a),o=i/2,l=t+n/2,u=r+a/2;e.beginPath(),e.arc(l,u,o,0,Math.PI*2),e.closePath()}function lN(e,t,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,o=Math.min(i,n/2,a/2);e.beginPath(),e.moveTo(t+o,r),e.lineTo(t+n-o,r),e.quadraticCurveTo(t+n,r,t+n,r+o),e.lineTo(t+n,r+a-o),e.quadraticCurveTo(t+n,r+a,t+n-o,r+a),e.lineTo(t+o,r+a),e.quadraticCurveTo(t,r+a,t,r+a-o),e.lineTo(t,r+o),e.quadraticCurveTo(t,r,t+o,r),e.closePath()}bl.getTextAngle=function(e,t){var r,n=e._private,a=n.rscratch,i=t?t+"-":"",o=e.pstyle(i+"text-rotation");if(o.strValue==="autorotate"){var l=ra(a,"labelAngle",t);r=e.isEdge()?l:0}else o.strValue==="none"?r=0:r=o.pfValue;return r};bl.drawText=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=t._private,o=i.rscratch,l=a?t.effectiveOpacity():1;if(!(a&&(l===0||t.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var u=ra(o,"labelX",r),c=ra(o,"labelY",r),h,d,v=this.getLabelText(t,r);if(v!=null&&v!==""&&!isNaN(u)&&!isNaN(c)){this.setupTextStyle(e,t,a);var p=r?r+"-":"",m=ra(o,"labelWidth",r),b=ra(o,"labelHeight",r),x=t.pstyle(p+"text-margin-x").pfValue,w=t.pstyle(p+"text-margin-y").pfValue,T=t.isEdge(),S=t.pstyle("text-halign").value,D=t.pstyle("text-valign").value;T&&(S="center",D="center"),u+=x,c+=w;var R;switch(n?R=this.getTextAngle(t,r):R=0,R!==0&&(h=u,d=c,e.translate(h,d),e.rotate(R),u=0,c=0),D){case"top":break;case"center":c+=b/2;break;case"bottom":c+=b;break}var L=t.pstyle("text-background-opacity").value,_=t.pstyle("text-border-opacity").value,N=t.pstyle("text-border-width").pfValue,P=t.pstyle("text-background-padding").pfValue,U=t.pstyle("text-background-shape").strValue,j=U==="round-rectangle"||U==="roundrectangle",F=U==="circle",I=2;if(L>0||N>0&&_>0){var G=e.fillStyle,Y=e.strokeStyle,q=e.lineWidth,V=t.pstyle("text-background-color").value,W=t.pstyle("text-border-color").value,J=t.pstyle("text-border-style").value,ie=L>0,K=N>0&&_>0,Z=u-P;switch(S){case"left":Z-=m;break;case"center":Z-=m/2;break}var fe=c-b-P,he=m+2*P,oe=b+2*P;if(ie&&(e.fillStyle="rgba(".concat(V[0],",").concat(V[1],",").concat(V[2],",").concat(L*l,")")),K&&(e.strokeStyle="rgba(".concat(W[0],",").concat(W[1],",").concat(W[2],",").concat(_*l,")"),e.lineWidth=N,e.setLineDash))switch(J){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=N/4,e.setLineDash([]);break;case"solid":default:e.setLineDash([]);break}if(j?(e.beginPath(),lN(e,Z,fe,he,oe,I)):F?(e.beginPath(),ine(e,Z,fe,he,oe)):(e.beginPath(),e.rect(Z,fe,he,oe)),ie&&e.fill(),K&&e.stroke(),K&&J==="double"){var be=N/2;e.beginPath(),j?lN(e,Z+be,fe+be,he-2*be,oe-2*be,I):e.rect(Z+be,fe+be,he-2*be,oe-2*be),e.stroke()}e.fillStyle=G,e.strokeStyle=Y,e.lineWidth=q,e.setLineDash&&e.setLineDash([])}var Ae=2*t.pstyle("text-outline-width").pfValue;if(Ae>0&&(e.lineWidth=Ae),t.pstyle("text-wrap").value==="wrap"){var Le=ra(o,"labelWrapCachedLines",r),ce=ra(o,"labelLineHeight",r),ae=m/2,le=this.getLabelJustification(t);switch(le==="auto"||(S==="left"?le==="left"?u+=-m:le==="center"&&(u+=-ae):S==="center"?le==="left"?u+=-ae:le==="right"&&(u+=ae):S==="right"&&(le==="center"?u+=ae:le==="right"&&(u+=m))),D){case"top":c-=(Le.length-1)*ce;break;case"center":case"bottom":c-=(Le.length-1)*ce;break}for(var re=0;re<Le.length;re++)Ae>0&&e.strokeText(Le[re],u,c),e.fillText(Le[re],u,c),c+=ce}else Ae>0&&e.strokeText(v,u,c),e.fillText(v,u,c);R!==0&&(e.rotate(-R),e.translate(-h,-d))}}};var gs={};gs.drawNode=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,l,u,c=t._private,h=c.rscratch,d=t.position();if(!(!pt(d.x)||!pt(d.y))&&!(i&&!t.visible())){var v=i?t.effectiveOpacity():1,p=o.usePaths(),m,b=!1,x=t.padding();l=t.width()+2*x,u=t.height()+2*x;var w;r&&(w=r,e.translate(-w.x1,-w.y1));for(var T=t.pstyle("background-image"),S=T.value,D=new Array(S.length),R=new Array(S.length),L=0,_=0;_<S.length;_++){var N=S[_],P=D[_]=N!=null&&N!=="none";if(P){var U=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",_);L++,R[_]=o.getCachedImage(N,U,function(){c.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var j=t.pstyle("background-blacken").value,F=t.pstyle("border-width").pfValue,I=t.pstyle("background-opacity").value*v,G=t.pstyle("border-color").value,Y=t.pstyle("border-style").value,q=t.pstyle("border-join").value,V=t.pstyle("border-cap").value,W=t.pstyle("border-position").value,J=t.pstyle("border-dash-pattern").pfValue,ie=t.pstyle("border-dash-offset").pfValue,K=t.pstyle("border-opacity").value*v,Z=t.pstyle("outline-width").pfValue,fe=t.pstyle("outline-color").value,he=t.pstyle("outline-style").value,oe=t.pstyle("outline-opacity").value*v,be=t.pstyle("outline-offset").value,Ae=t.pstyle("corner-radius").value;Ae!=="auto"&&(Ae=t.pstyle("corner-radius").pfValue);var Le=function(){var vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:I;o.eleFillStyle(e,t,vt)},ce=function(){var vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:K;o.colorStrokeStyle(e,G[0],G[1],G[2],vt)},ae=function(){var vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:oe;o.colorStrokeStyle(e,fe[0],fe[1],fe[2],vt)},le=function(vt,de,Q,ye){var Te=o.nodePathCache=o.nodePathCache||[],Me=nI(Q==="polygon"?Q+","+ye.join(","):Q,""+de,""+vt,""+Ae),Pe=Te[Me],lt,Ie=!1;return Pe!=null?(lt=Pe,Ie=!0,h.pathCache=lt):(lt=new Path2D,Te[Me]=h.pathCache=lt),{path:lt,cacheHit:Ie}},re=t.pstyle("shape").strValue,ge=t.pstyle("shape-polygon-points").pfValue;if(p){e.translate(d.x,d.y);var Se=le(l,u,re,ge);m=Se.path,b=Se.cacheHit}var ze=function(){if(!b){var vt=d;p&&(vt={x:0,y:0}),o.nodeShapes[o.getNodeShape(t)].draw(m||e,vt.x,vt.y,l,u,Ae,h)}p?e.fill(m):e.fill()},Qe=function(){for(var vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v,de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Q=c.backgrounding,ye=0,Te=0;Te<R.length;Te++){var Me=t.cy().style().getIndexedStyle(t,"background-image-containment","value",Te);if(de&&Me==="over"||!de&&Me==="inside"){ye++;continue}D[Te]&&R[Te].complete&&!R[Te].error&&(ye++,o.drawInscribedImage(e,R[Te],t,Te,vt))}c.backgrounding=ye!==L,Q!==c.backgrounding&&t.updateStyle(!1)},Oe=function(){var vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v;o.hasPie(t)&&(o.drawPie(e,t,de),vt&&(p||o.nodeShapes[o.getNodeShape(t)].draw(e,d.x,d.y,l,u,Ae,h)))},je=function(){var vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v;o.hasStripe(t)&&(e.save(),p?e.clip(h.pathCache):(o.nodeShapes[o.getNodeShape(t)].draw(e,d.x,d.y,l,u,Ae,h),e.clip()),o.drawStripe(e,t,de),e.restore(),vt&&(p||o.nodeShapes[o.getNodeShape(t)].draw(e,d.x,d.y,l,u,Ae,h)))},Ue=function(){var vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v,de=(j>0?j:-j)*vt,Q=j>0?0:255;j!==0&&(o.colorFillStyle(e,Q,Q,Q,de),p?e.fill(m):e.fill())},qe=function(){if(F>0){if(e.lineWidth=F,e.lineCap=V,e.lineJoin=q,e.setLineDash)switch(Y){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash(J),e.lineDashOffset=ie;break;case"solid":case"double":e.setLineDash([]);break}if(W!=="center"){if(e.save(),e.lineWidth*=2,W==="inside")p?e.clip(m):e.clip();else{var vt=new Path2D;vt.rect(-l/2-F,-u/2-F,l+2*F,u+2*F),vt.addPath(m),e.clip(vt,"evenodd")}p?e.stroke(m):e.stroke(),e.restore()}else p?e.stroke(m):e.stroke();if(Y==="double"){e.lineWidth=F/3;var de=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",p?e.stroke(m):e.stroke(),e.globalCompositeOperation=de}e.setLineDash&&e.setLineDash([])}},Ke=function(){if(Z>0){if(e.lineWidth=Z,e.lineCap="butt",e.setLineDash)switch(he){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([]);break}var vt=d;p&&(vt={x:0,y:0});var de=o.getNodeShape(t),Q=F;W==="inside"&&(Q=0),W==="outside"&&(Q*=2);var ye=(l+Q+(Z+be))/l,Te=(u+Q+(Z+be))/u,Me=l*ye,Pe=u*Te,lt=o.nodeShapes[de].points,Ie;if(p){var tt=le(Me,Pe,de,lt);Ie=tt.path}if(de==="ellipse")o.drawEllipsePath(Ie||e,vt.x,vt.y,Me,Pe);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(de)){var rt=0,nt=0,at=0;de==="round-diamond"?rt=(Q+be+Z)*1.4:de==="round-heptagon"?(rt=(Q+be+Z)*1.075,at=-(Q/2+be+Z)/35):de==="round-hexagon"?rt=(Q+be+Z)*1.12:de==="round-pentagon"?(rt=(Q+be+Z)*1.13,at=-(Q/2+be+Z)/15):de==="round-tag"?(rt=(Q+be+Z)*1.12,nt=(Q/2+Z+be)*.07):de==="round-triangle"&&(rt=(Q+be+Z)*(Math.PI/2),at=-(Q+be/2+Z)/Math.PI),rt!==0&&(ye=(l+rt)/l,Me=l*ye,["round-hexagon","round-tag"].includes(de)||(Te=(u+rt)/u,Pe=u*Te)),Ae=Ae==="auto"?dI(Me,Pe):Ae;for(var gt=Me/2,Je=Pe/2,xt=Ae+(Q+Z+be)/2,H=new Array(lt.length/2),O=new Array(lt.length/2),A=0;A<lt.length/2;A++)H[A]={x:vt.x+nt+gt*lt[A*2],y:vt.y+at+Je*lt[A*2+1]};var E,M,z,ee,te=H.length;for(M=H[te-1],E=0;E<te;E++)z=H[E%te],ee=H[(E+1)%te],O[E]=uS(M,z,ee,xt),M=z,z=ee;o.drawRoundPolygonPath(Ie||e,vt.x+nt,vt.y+at,l*ye,u*Te,lt,O)}else if(["roundrectangle","round-rectangle"].includes(de))Ae=Ae==="auto"?as(Me,Pe):Ae,o.drawRoundRectanglePath(Ie||e,vt.x,vt.y,Me,Pe,Ae+(Q+Z+be)/2);else if(["cutrectangle","cut-rectangle"].includes(de))Ae=Ae==="auto"?QE():Ae,o.drawCutRectanglePath(Ie||e,vt.x,vt.y,Me,Pe,null,Ae+(Q+Z+be)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(de))Ae=Ae==="auto"?as(Me,Pe):Ae,o.drawBottomRoundRectanglePath(Ie||e,vt.x,vt.y,Me,Pe,Ae+(Q+Z+be)/2);else if(de==="barrel")o.drawBarrelPath(Ie||e,vt.x,vt.y,Me,Pe);else if(de.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(de)){var ue=(Q+Z+be)/l;lt=gg(pg(lt,ue)),o.drawPolygonPath(Ie||e,vt.x,vt.y,l,u,lt)}else{var se=(Q+Z+be)/l;lt=gg(pg(lt,-se)),o.drawPolygonPath(Ie||e,vt.x,vt.y,l,u,lt)}if(p?e.stroke(Ie):e.stroke(),he==="double"){e.lineWidth=Q/3;var Ee=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",p?e.stroke(Ie):e.stroke(),e.globalCompositeOperation=Ee}e.setLineDash&&e.setLineDash([])}},Xe=function(){a&&o.drawNodeOverlay(e,t,d,l,u)},ot=function(){a&&o.drawNodeUnderlay(e,t,d,l,u)},Ye=function(){o.drawElementText(e,t,null,n)},ct=t.pstyle("ghost").value==="yes";if(ct){var ht=t.pstyle("ghost-offset-x").pfValue,dt=t.pstyle("ghost-offset-y").pfValue,yt=t.pstyle("ghost-opacity").value,bt=yt*v;e.translate(ht,dt),ae(),Ke(),Le(yt*I),ze(),Qe(bt,!0),ce(yt*K),qe(),Oe(j!==0||F!==0),je(j!==0||F!==0),Qe(bt,!1),Ue(bt),e.translate(-ht,-dt)}p&&e.translate(-d.x,-d.y),ot(),p&&e.translate(d.x,d.y),ae(),Ke(),Le(),ze(),Qe(v,!0),ce(),qe(),Oe(j!==0||F!==0),je(j!==0||F!==0),Qe(v,!1),Ue(),p&&e.translate(-d.x,-d.y),Ye(),Xe(),r&&e.translate(w.x1,w.y1)}};var x3=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(r,n,a,i,o){var l=this;if(n.visible()){var u=n.pstyle("".concat(t,"-padding")).pfValue,c=n.pstyle("".concat(t,"-opacity")).value,h=n.pstyle("".concat(t,"-color")).value,d=n.pstyle("".concat(t,"-shape")).value,v=n.pstyle("".concat(t,"-corner-radius")).value;if(c>0){if(a=a||n.position(),i==null||o==null){var p=n.padding();i=n.width()+2*p,o=n.height()+2*p}l.colorFillStyle(r,h[0],h[1],h[2],c),l.nodeShapes[d].draw(r,a.x,a.y,i+u*2,o+u*2,v),r.fill()}}}};gs.drawNodeOverlay=x3("overlay");gs.drawNodeUnderlay=x3("underlay");gs.hasPie=function(e){return e=e[0],e._private.hasPie};gs.hasStripe=function(e){return e=e[0],e._private.hasStripe};gs.drawPie=function(e,t,r,n){t=t[0],n=n||t.position();var a=t.cy().style(),i=t.pstyle("pie-size"),o=t.pstyle("pie-hole"),l=t.pstyle("pie-start-angle").pfValue,u=n.x,c=n.y,h=t.width(),d=t.height(),v=Math.min(h,d)/2,p,m=0,b=this.usePaths();if(b&&(u=0,c=0),i.units==="%"?v=v*i.pfValue:i.pfValue!==void 0&&(v=i.pfValue/2),o.units==="%"?p=v*o.pfValue:o.pfValue!==void 0&&(p=o.pfValue/2),!(p>=v))for(var x=1;x<=a.pieBackgroundN;x++){var w=t.pstyle("pie-"+x+"-background-size").value,T=t.pstyle("pie-"+x+"-background-color").value,S=t.pstyle("pie-"+x+"-background-opacity").value*r,D=w/100;D+m>1&&(D=1-m);var R=1.5*Math.PI+2*Math.PI*m;R+=l;var L=2*Math.PI*D,_=R+L;w===0||m>=1||m+D>1||(p===0?(e.beginPath(),e.moveTo(u,c),e.arc(u,c,v,R,_),e.closePath()):(e.beginPath(),e.arc(u,c,v,R,_),e.arc(u,c,p,_,R,!0),e.closePath()),this.colorFillStyle(e,T[0],T[1],T[2],S),e.fill(),m+=D)}};gs.drawStripe=function(e,t,r,n){t=t[0],n=n||t.position();var a=t.cy().style(),i=n.x,o=n.y,l=t.width(),u=t.height(),c=0,h=this.usePaths();e.save();var d=t.pstyle("stripe-direction").value,v=t.pstyle("stripe-size");switch(d){case"vertical":break;case"righward":e.rotate(-Math.PI/2);break}var p=l,m=u;v.units==="%"?(p=p*v.pfValue,m=m*v.pfValue):v.pfValue!==void 0&&(p=v.pfValue,m=v.pfValue),h&&(i=0,o=0),o-=p/2,i-=m/2;for(var b=1;b<=a.stripeBackgroundN;b++){var x=t.pstyle("stripe-"+b+"-background-size").value,w=t.pstyle("stripe-"+b+"-background-color").value,T=t.pstyle("stripe-"+b+"-background-opacity").value*r,S=x/100;S+c>1&&(S=1-c),!(x===0||c>=1||c+S>1)&&(e.beginPath(),e.rect(i,o+m*c,p,m*S),e.closePath(),this.colorFillStyle(e,w[0],w[1],w[2],T),e.fill(),c+=S)}e.restore()};var Hn={},one=100;Hn.getPixelRatio=function(){var e=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var t=this.cy.window(),r=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/r};Hn.paintCache=function(e){for(var t=this.paintCaches=this.paintCaches||[],r=!0,n,a=0;a<t.length;a++)if(n=t[a],n.context===e){r=!1;break}return r&&(n={context:e},t.push(n)),n};Hn.createGradientStyleFor=function(e,t,r,n,a){var i,o=this.usePaths(),l=r.pstyle(t+"-gradient-stop-colors").value,u=r.pstyle(t+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var c=r.sourceEndpoint(),h=r.targetEndpoint(),d=r.midpoint(),v=fl(c,d),p=fl(h,d);i=e.createRadialGradient(d.x,d.y,0,d.x,d.y,Math.max(v,p))}else{var m=o?{x:0,y:0}:r.position(),b=r.paddedWidth(),x=r.paddedHeight();i=e.createRadialGradient(m.x,m.y,0,m.x,m.y,Math.max(b,x))}else if(r.isEdge()){var w=r.sourceEndpoint(),T=r.targetEndpoint();i=e.createLinearGradient(w.x,w.y,T.x,T.y)}else{var S=o?{x:0,y:0}:r.position(),D=r.paddedWidth(),R=r.paddedHeight(),L=D/2,_=R/2,N=r.pstyle("background-gradient-direction").value;switch(N){case"to-bottom":i=e.createLinearGradient(S.x,S.y-_,S.x,S.y+_);break;case"to-top":i=e.createLinearGradient(S.x,S.y+_,S.x,S.y-_);break;case"to-left":i=e.createLinearGradient(S.x+L,S.y,S.x-L,S.y);break;case"to-right":i=e.createLinearGradient(S.x-L,S.y,S.x+L,S.y);break;case"to-bottom-right":case"to-right-bottom":i=e.createLinearGradient(S.x-L,S.y-_,S.x+L,S.y+_);break;case"to-top-right":case"to-right-top":i=e.createLinearGradient(S.x-L,S.y+_,S.x+L,S.y-_);break;case"to-bottom-left":case"to-left-bottom":i=e.createLinearGradient(S.x+L,S.y-_,S.x-L,S.y+_);break;case"to-top-left":case"to-left-top":i=e.createLinearGradient(S.x+L,S.y+_,S.x-L,S.y-_);break}}if(!i)return null;for(var P=u.length===l.length,U=l.length,j=0;j<U;j++)i.addColorStop(P?u[j]:j/(U-1),"rgba("+l[j][0]+","+l[j][1]+","+l[j][2]+","+a+")");return i};Hn.gradientFillStyle=function(e,t,r,n){var a=this.createGradientStyleFor(e,"background",t,r,n);if(!a)return null;e.fillStyle=a};Hn.colorFillStyle=function(e,t,r,n,a){e.fillStyle="rgba("+t+","+r+","+n+","+a+")"};Hn.eleFillStyle=function(e,t,r){var n=t.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(e,t,n,r);else{var a=t.pstyle("background-color").value;this.colorFillStyle(e,a[0],a[1],a[2],r)}};Hn.gradientStrokeStyle=function(e,t,r,n){var a=this.createGradientStyleFor(e,"line",t,r,n);if(!a)return null;e.strokeStyle=a};Hn.colorStrokeStyle=function(e,t,r,n,a){e.strokeStyle="rgba("+t+","+r+","+n+","+a+")"};Hn.eleStrokeStyle=function(e,t,r){var n=t.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(e,t,n,r);else{var a=t.pstyle("line-color").value;this.colorStrokeStyle(e,a[0],a[1],a[2],r)}};Hn.matchCanvasSize=function(e){var t=this,r=t.data,n=t.findContainerClientCoords(),a=n[2],i=n[3],o=t.getPixelRatio(),l=t.motionBlurPxRatio;(e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]||e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG])&&(o=l);var u=a*o,c=i*o,h;if(!(u===t.canvasWidth&&c===t.canvasHeight)){t.fontCaches=null;var d=r.canvasContainer;d.style.width=a+"px",d.style.height=i+"px";for(var v=0;v<t.CANVAS_LAYERS;v++)h=r.canvases[v],h.width=u,h.height=c,h.style.width=a+"px",h.style.height=i+"px";for(var v=0;v<t.BUFFER_COUNT;v++)h=r.bufferCanvases[v],h.width=u,h.height=c,h.style.width=a+"px",h.style.height=i+"px";t.textureMult=1,o<=1&&(h=r.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,h.width=u*t.textureMult,h.height=c*t.textureMult),t.canvasWidth=u,t.canvasHeight=c,t.pixelRatio=o}};Hn.renderTo=function(e,t,r,n){this.render({forcedContext:e,forcedZoom:t,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};Hn.clearCanvas=function(){var e=this,t=e.data;function r(n){n.clearRect(0,0,e.canvasWidth,e.canvasHeight)}r(t.contexts[e.NODE]),r(t.contexts[e.DRAG])};Hn.render=function(e){var t=this;e=e||sI();var r=t.cy,n=e.forcedContext,a=e.drawAllLayers,i=e.drawOnlyNodeLayer,o=e.forcedZoom,l=e.forcedPan,u=e.forcedPxRatio===void 0?this.getPixelRatio():e.forcedPxRatio,c=t.data,h=c.canvasNeedsRedraw,d=t.textureOnViewport&&!n&&(t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming),v=e.motionBlur!==void 0?e.motionBlur:t.motionBlur,p=t.motionBlurPxRatio,m=r.hasCompoundNodes(),b=t.hoverData.draggingEles,x=!!(t.hoverData.selecting||t.touchData.selecting);v=v&&!n&&t.motionBlurEnabled&&!x;var w=v;n||(t.prevPxRatio!==u&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container),t.redrawHint("eles",!0),t.redrawHint("drag",!0)),t.prevPxRatio=u),!n&&t.motionBlurTimeout&&clearTimeout(t.motionBlurTimeout),v&&(t.mbFrames==null&&(t.mbFrames=0),t.mbFrames++,t.mbFrames<3&&(w=!1),t.mbFrames>t.minMbLowQualFrames&&(t.motionBlurPxRatio=t.mbPxRBlurry)),t.clearingMotionBlur&&(t.motionBlurPxRatio=1),t.textureDrawLastFrame&&!d&&(h[t.NODE]=!0,h[t.SELECT_BOX]=!0);var T=r.style(),S=r.zoom(),D=o!==void 0?o:S,R=r.pan(),L={x:R.x,y:R.y},_={zoom:S,pan:{x:R.x,y:R.y}},N=t.prevViewport,P=N===void 0||_.zoom!==N.zoom||_.pan.x!==N.pan.x||_.pan.y!==N.pan.y;!P&&!(b&&!m)&&(t.motionBlurPxRatio=1),l&&(L=l),D*=u,L.x*=u,L.y*=u;var U=t.getCachedZSortedEles();function j(ce,ae,le,re,ge){var Se=ce.globalCompositeOperation;ce.globalCompositeOperation="destination-out",t.colorFillStyle(ce,255,255,255,t.motionBlurTransparency),ce.fillRect(ae,le,re,ge),ce.globalCompositeOperation=Se}function F(ce,ae){var le,re,ge,Se;!t.clearingMotionBlur&&(ce===c.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]||ce===c.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG])?(le={x:R.x*p,y:R.y*p},re=S*p,ge=t.canvasWidth*p,Se=t.canvasHeight*p):(le=L,re=D,ge=t.canvasWidth,Se=t.canvasHeight),ce.setTransform(1,0,0,1,0,0),ae==="motionBlur"?j(ce,0,0,ge,Se):!n&&(ae===void 0||ae)&&ce.clearRect(0,0,ge,Se),a||(ce.translate(le.x,le.y),ce.scale(re,re)),l&&ce.translate(l.x,l.y),o&&ce.scale(o,o)}if(d||(t.textureDrawLastFrame=!1),d){if(t.textureDrawLastFrame=!0,!t.textureCache){t.textureCache={},t.textureCache.bb=r.mutableElements().boundingBox(),t.textureCache.texture=t.data.bufferCanvases[t.TEXTURE_BUFFER];var I=t.data.bufferContexts[t.TEXTURE_BUFFER];I.setTransform(1,0,0,1,0,0),I.clearRect(0,0,t.canvasWidth*t.textureMult,t.canvasHeight*t.textureMult),t.render({forcedContext:I,drawOnlyNodeLayer:!0,forcedPxRatio:u*t.textureMult});var _=t.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:t.canvasWidth,height:t.canvasHeight};_.mpan={x:(0-_.pan.x)/_.zoom,y:(0-_.pan.y)/_.zoom}}h[t.DRAG]=!1,h[t.NODE]=!1;var G=c.contexts[t.NODE],Y=t.textureCache.texture,_=t.textureCache.viewport;G.setTransform(1,0,0,1,0,0),v?j(G,0,0,_.width,_.height):G.clearRect(0,0,_.width,_.height);var q=T.core("outside-texture-bg-color").value,V=T.core("outside-texture-bg-opacity").value;t.colorFillStyle(G,q[0],q[1],q[2],V),G.fillRect(0,0,_.width,_.height);var S=r.zoom();F(G,!1),G.clearRect(_.mpan.x,_.mpan.y,_.width/_.zoom/u,_.height/_.zoom/u),G.drawImage(Y,_.mpan.x,_.mpan.y,_.width/_.zoom/u,_.height/_.zoom/u)}else t.textureOnViewport&&!n&&(t.textureCache=null);var W=r.extent(),J=t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming||t.hoverData.draggingEles||t.cy.animated(),ie=t.hideEdgesOnViewport&&J,K=[];if(K[t.NODE]=!h[t.NODE]&&v&&!t.clearedForMotionBlur[t.NODE]||t.clearingMotionBlur,K[t.NODE]&&(t.clearedForMotionBlur[t.NODE]=!0),K[t.DRAG]=!h[t.DRAG]&&v&&!t.clearedForMotionBlur[t.DRAG]||t.clearingMotionBlur,K[t.DRAG]&&(t.clearedForMotionBlur[t.DRAG]=!0),h[t.NODE]||a||i||K[t.NODE]){var Z=v&&!K[t.NODE]&&p!==1,G=n||(Z?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]:c.contexts[t.NODE]),fe=v&&!Z?"motionBlur":void 0;F(G,fe),ie?t.drawCachedNodes(G,U.nondrag,u,W):t.drawLayeredElements(G,U.nondrag,u,W),t.debug&&t.drawDebugPoints(G,U.nondrag),!a&&!v&&(h[t.NODE]=!1)}if(!i&&(h[t.DRAG]||a||K[t.DRAG])){var Z=v&&!K[t.DRAG]&&p!==1,G=n||(Z?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG]:c.contexts[t.DRAG]);F(G,v&&!Z?"motionBlur":void 0),ie?t.drawCachedNodes(G,U.drag,u,W):t.drawCachedElements(G,U.drag,u,W),t.debug&&t.drawDebugPoints(G,U.drag),!a&&!v&&(h[t.DRAG]=!1)}if(this.drawSelectionRectangle(e,F),v&&p!==1){var he=c.contexts[t.NODE],oe=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE],be=c.contexts[t.DRAG],Ae=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG],Le=function(ae,le,re){ae.setTransform(1,0,0,1,0,0),re||!w?ae.clearRect(0,0,t.canvasWidth,t.canvasHeight):j(ae,0,0,t.canvasWidth,t.canvasHeight);var ge=p;ae.drawImage(le,0,0,t.canvasWidth*ge,t.canvasHeight*ge,0,0,t.canvasWidth,t.canvasHeight)};(h[t.NODE]||K[t.NODE])&&(Le(he,oe,K[t.NODE]),h[t.NODE]=!1),(h[t.DRAG]||K[t.DRAG])&&(Le(be,Ae,K[t.DRAG]),h[t.DRAG]=!1)}t.prevViewport=_,t.clearingMotionBlur&&(t.clearingMotionBlur=!1,t.motionBlurCleared=!0,t.motionBlur=!0),v&&(t.motionBlurTimeout=setTimeout(function(){t.motionBlurTimeout=null,t.clearedForMotionBlur[t.NODE]=!1,t.clearedForMotionBlur[t.DRAG]=!1,t.motionBlur=!1,t.clearingMotionBlur=!d,t.mbFrames=0,h[t.NODE]=!0,h[t.DRAG]=!0,t.redraw()},one)),n||r.emit("render")};var Zc;Hn.drawSelectionRectangle=function(e,t){var r=this,n=r.cy,a=r.data,i=n.style(),o=e.drawOnlyNodeLayer,l=e.drawAllLayers,u=a.canvasNeedsRedraw,c=e.forcedContext;if(r.showFps||!o&&u[r.SELECT_BOX]&&!l){var h=c||a.contexts[r.SELECT_BOX];if(t(h),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var d=r.cy.zoom(),v=i.core("selection-box-border-width").value/d;h.lineWidth=v,h.fillStyle="rgba("+i.core("selection-box-color").value[0]+","+i.core("selection-box-color").value[1]+","+i.core("selection-box-color").value[2]+","+i.core("selection-box-opacity").value+")",h.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),v>0&&(h.strokeStyle="rgba("+i.core("selection-box-border-color").value[0]+","+i.core("selection-box-border-color").value[1]+","+i.core("selection-box-border-color").value[2]+","+i.core("selection-box-opacity").value+")",h.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(a.bgActivePosistion&&!r.hoverData.selecting){var d=r.cy.zoom(),p=a.bgActivePosistion;h.fillStyle="rgba("+i.core("active-bg-color").value[0]+","+i.core("active-bg-color").value[1]+","+i.core("active-bg-color").value[2]+","+i.core("active-bg-opacity").value+")",h.beginPath(),h.arc(p.x,p.y,i.core("active-bg-size").pfValue/d,0,2*Math.PI),h.fill()}var m=r.lastRedrawTime;if(r.showFps&&m){m=Math.round(m);var b=Math.round(1e3/m),x="1 frame = "+m+" ms = "+b+" fps";if(h.setTransform(1,0,0,1,0,0),h.fillStyle="rgba(255, 0, 0, 0.75)",h.strokeStyle="rgba(255, 0, 0, 0.75)",h.font="30px Arial",!Zc){var w=h.measureText(x);Zc=w.actualBoundingBoxAscent}h.fillText(x,0,Zc);var T=60;h.strokeRect(0,Zc+10,250,20),h.fillRect(0,Zc+10,250*Math.min(b/T,1),20)}l||(u[r.SELECT_BOX]=!1)}};function uN(e,t,r){var n=e.createShader(t);if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(n));return n}function sne(e,t,r){var n=uN(e,e.VERTEX_SHADER,t),a=uN(e,e.FRAGMENT_SHADER,r),i=e.createProgram();if(e.attachShader(i,n),e.attachShader(i,a),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS))throw new Error("Could not initialize shaders");return i}function lne(e,t,r){r===void 0&&(r=t);var n=e.makeOffscreenCanvas(t,r),a=n.context=n.getContext("2d");return n.clear=function(){return a.clearRect(0,0,n.width,n.height)},n.clear(),n}function hS(e){var t=e.pixelRatio,r=e.cy.zoom(),n=e.cy.pan();return{zoom:r*t,pan:{x:n.x*t,y:n.y*t}}}function une(e){var t=e.pixelRatio,r=e.cy.zoom();return r*t}function cne(e,t,r,n,a){var i=n*r+t.x,o=a*r+t.y;return o=Math.round(e.canvasHeight-o),[i,o]}function fne(e){return e.pstyle("background-fill").value!=="solid"||e.pstyle("background-image").strValue!=="none"?!1:e.pstyle("border-width").value===0||e.pstyle("border-opacity").value===0?!0:e.pstyle("border-style").value==="solid"}function hne(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function js(e,t,r){var n=e[0]/255,a=e[1]/255,i=e[2]/255,o=t,l=r||new Array(4);return l[0]=n*o,l[1]=a*o,l[2]=i*o,l[3]=o,l}function au(e,t){var r=t||new Array(4);return r[0]=(e>>0&255)/255,r[1]=(e>>8&255)/255,r[2]=(e>>16&255)/255,r[3]=(e>>24&255)/255,r}function dne(e){return e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24)}function vne(e,t){var r=e.createTexture();return r.buffer=function(n){e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},r.deleteTexture=function(){e.deleteTexture(r)},r}function w3(e,t){switch(t){case"float":return[1,e.FLOAT,4];case"vec2":return[2,e.FLOAT,4];case"vec3":return[3,e.FLOAT,4];case"vec4":return[4,e.FLOAT,4];case"int":return[1,e.INT,4];case"ivec2":return[2,e.INT,4]}}function E3(e,t,r){switch(t){case e.FLOAT:return new Float32Array(r);case e.INT:return new Int32Array(r)}}function gne(e,t,r,n,a,i){switch(t){case e.FLOAT:return new Float32Array(r.buffer,i*n,a);case e.INT:return new Int32Array(r.buffer,i*n,a)}}function pne(e,t,r,n){var a=w3(e,t),i=Wr(a,2),o=i[0],l=i[1],u=E3(e,l,n),c=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,c),e.bufferData(e.ARRAY_BUFFER,u,e.STATIC_DRAW),l===e.FLOAT?e.vertexAttribPointer(r,o,l,!1,0,0):l===e.INT&&e.vertexAttribIPointer(r,o,l,0,0),e.enableVertexAttribArray(r),e.bindBuffer(e.ARRAY_BUFFER,null),c}function vi(e,t,r,n){var a=w3(e,r),i=Wr(a,3),o=i[0],l=i[1],u=i[2],c=E3(e,l,t*o),h=o*u,d=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,d),e.bufferData(e.ARRAY_BUFFER,t*h,e.DYNAMIC_DRAW),e.enableVertexAttribArray(n),l===e.FLOAT?e.vertexAttribPointer(n,o,l,!1,h,0):l===e.INT&&e.vertexAttribIPointer(n,o,l,h,0),e.vertexAttribDivisor(n,1),e.bindBuffer(e.ARRAY_BUFFER,null);for(var v=new Array(t),p=0;p<t;p++)v[p]=gne(e,l,c,h,o,p);return d.dataArray=c,d.stride=h,d.size=o,d.getView=function(m){return v[m]},d.setPoint=function(m,b,x){var w=v[m];w[0]=b,w[1]=x},d.bufferSubData=function(m){e.bindBuffer(e.ARRAY_BUFFER,d),m?e.bufferSubData(e.ARRAY_BUFFER,0,c,0,m*o):e.bufferSubData(e.ARRAY_BUFFER,0,c)},d}function mne(e,t,r){for(var n=9,a=new Float32Array(t*n),i=new Array(t),o=0;o<t;o++){var l=o*n*4;i[o]=new Float32Array(a.buffer,l,n)}var u=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,a.byteLength,e.DYNAMIC_DRAW);for(var c=0;c<3;c++){var h=r+c;e.enableVertexAttribArray(h),e.vertexAttribPointer(h,3,e.FLOAT,!1,36,c*12),e.vertexAttribDivisor(h,1)}return e.bindBuffer(e.ARRAY_BUFFER,null),u.getMatrixView=function(d){return i[d]},u.setData=function(d,v){i[v].set(d,0)},u.bufferSubData=function(){e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferSubData(e.ARRAY_BUFFER,0,a)},u}function yne(e){var t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.bindFramebuffer(e.FRAMEBUFFER,null),t.setFramebufferAttachmentSizes=function(n,a){e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n,a,0,e.RGBA,e.UNSIGNED_BYTE,null)},t}var cN=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function I1(){var e=new cN(9);return cN!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function fN(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function bne(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],l=t[4],u=t[5],c=t[6],h=t[7],d=t[8],v=r[0],p=r[1],m=r[2],b=r[3],x=r[4],w=r[5],T=r[6],S=r[7],D=r[8];return e[0]=v*n+p*o+m*c,e[1]=v*a+p*l+m*h,e[2]=v*i+p*u+m*d,e[3]=b*n+x*o+w*c,e[4]=b*a+x*l+w*h,e[5]=b*i+x*u+w*d,e[6]=T*n+S*o+D*c,e[7]=T*a+S*l+D*h,e[8]=T*i+S*u+D*d,e}function xv(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],l=t[4],u=t[5],c=t[6],h=t[7],d=t[8],v=r[0],p=r[1];return e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=l,e[5]=u,e[6]=v*n+p*o+c,e[7]=v*a+p*l+h,e[8]=v*i+p*u+d,e}function hN(e,t,r){var n=t[0],a=t[1],i=t[2],o=t[3],l=t[4],u=t[5],c=t[6],h=t[7],d=t[8],v=Math.sin(r),p=Math.cos(r);return e[0]=p*n+v*o,e[1]=p*a+v*l,e[2]=p*i+v*u,e[3]=p*o-v*n,e[4]=p*l-v*a,e[5]=p*u-v*i,e[6]=c,e[7]=h,e[8]=d,e}function rw(e,t,r){var n=r[0],a=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=a*t[3],e[4]=a*t[4],e[5]=a*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function xne(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}var wne=(function(){function e(t,r,n,a){hs(this,e),this.debugID=Math.floor(Math.random()*1e4),this.r=t,this.texSize=r,this.texRows=n,this.texHeight=Math.floor(r/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=a(t,r,r),this.scratch=a(t,r,this.texHeight,"scratch")}return ds(e,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(r){var n=r.w,a=r.h,i=this.texHeight,o=this.texSize,l=i/a,u=n*l,c=a*l;return u>o&&(l=o/n,u=n*l,c=a*l),{scale:l,texW:u,texH:c}}},{key:"draw",value:function(r,n,a){var i=this;if(this.locked)throw new Error("can't draw, atlas is locked");var o=this.texSize,l=this.texRows,u=this.texHeight,c=this.getScale(n),h=c.scale,d=c.texW,v=c.texH,p=function(S,D){if(a&&D){var R=D.context,L=S.x,_=S.row,N=L,P=u*_;R.save(),R.translate(N,P),R.scale(h,h),a(R,n),R.restore()}},m=[null,null],b=function(){p(i.freePointer,i.canvas),m[0]={x:i.freePointer.x,y:i.freePointer.row*u,w:d,h:v},m[1]={x:i.freePointer.x+d,y:i.freePointer.row*u,w:0,h:v},i.freePointer.x+=d,i.freePointer.x==o&&(i.freePointer.x=0,i.freePointer.row++)},x=function(){var S=i.scratch,D=i.canvas;S.clear(),p({x:0,row:0},S);var R=o-i.freePointer.x,L=d-R,_=u;{var N=i.freePointer.x,P=i.freePointer.row*u,U=R;D.context.drawImage(S,0,0,U,_,N,P,U,_),m[0]={x:N,y:P,w:U,h:v}}{var j=R,F=(i.freePointer.row+1)*u,I=L;D&&D.context.drawImage(S,j,0,I,_,0,F,I,_),m[1]={x:0,y:F,w:I,h:v}}i.freePointer.x=L,i.freePointer.row++},w=function(){i.freePointer.x=0,i.freePointer.row++};if(this.freePointer.x+d<=o)b();else{if(this.freePointer.row>=l-1)return!1;this.freePointer.x===o?(w(),b()):this.enableWrapping?x():(w(),b())}return this.keyToLocation.set(r,m),this.needsBuffer=!0,m}},{key:"getOffsets",value:function(r){return this.keyToLocation.get(r)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(r){if(this.locked)return!1;var n=this.texSize,a=this.texRows,i=this.getScale(r),o=i.texW;return this.freePointer.x+o>n?this.freePointer.row<a-1:!0}},{key:"bufferIfNeeded",value:function(r){this.texture||(this.texture=vne(r,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])})(),Ene=(function(){function e(t,r,n,a){hs(this,e),this.r=t,this.texSize=r,this.texRows=n,this.createTextureCanvas=a,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return ds(e,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var r=this.r,n=this.texSize,a=this.texRows,i=this.createTextureCanvas;return new wne(r,n,a,i)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var r=this.r,n=this.texSize,a=this.texRows,i=this.createTextureCanvas,o=Math.floor(n/a);this.scratch=i(r,n,o,"scratch")}return this.scratch}},{key:"draw",value:function(r,n,a){var i=this.styleKeyToAtlas.get(r);return i||(i=this.atlases[this.atlases.length-1],(!i||!i.canFit(n))&&(i&&i.lock(),i=this._createAtlas(),this.atlases.push(i)),i.draw(r,n,a),this.styleKeyToAtlas.set(r,i)),i}},{key:"getAtlas",value:function(r){return this.styleKeyToAtlas.get(r)}},{key:"hasAtlas",value:function(r){return this.styleKeyToAtlas.has(r)}},{key:"markKeyForGC",value:function(r){this.markedKeys.add(r)}},{key:"gc",value:function(){var r=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var a=[],i=new Map,o=null,l=sa(this.atlases),u;try{var c=function(){var d=u.value,v=d.getKeys(),p=Sne(n,v);if(p.size===0)return a.push(d),v.forEach(function(R){return i.set(R,d)}),1;o||(o=r._createAtlas(),a.push(o));var m=sa(v),b;try{for(m.s();!(b=m.n()).done;){var x=b.value;if(!p.has(x)){var w=d.getOffsets(x),T=Wr(w,2),S=T[0],D=T[1];o.canFit({w:S.w+D.w,h:S.h})||(o.lock(),o=r._createAtlas(),a.push(o)),d.canvas&&(r._copyTextureToNewAtlas(x,d,o),i.set(x,o))}}}catch(R){m.e(R)}finally{m.f()}d.dispose()};for(l.s();!(u=l.n()).done;)c()}catch(h){l.e(h)}finally{l.f()}this.atlases=a,this.styleKeyToAtlas=i,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(r,n,a){var i=n.getOffsets(r),o=Wr(i,2),l=o[0],u=o[1];if(u.w===0)a.draw(r,l,function(v){v.drawImage(n.canvas,l.x,l.y,l.w,l.h,0,0,l.w,l.h)});else{var c=this._getScratchCanvas();c.clear(),c.context.drawImage(n.canvas,l.x,l.y,l.w,l.h,0,0,l.w,l.h),c.context.drawImage(n.canvas,u.x,u.y,u.w,u.h,l.w,0,u.w,u.h);var h=l.w+u.w,d=l.h;a.draw(r,{w:h,h:d},function(v){v.drawImage(c,0,0,h,d,0,0,h,d)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])})();function Sne(e,t){return e.intersection?e.intersection(t):new Set(fg(e).filter(function(r){return t.has(r)}))}var Tne=(function(){function e(t,r){hs(this,e),this.r=t,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return ds(e,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(r,n){var a=this.globalOptions,i=a.webglTexSize,o=a.createTextureCanvas,l=n.texRows,u=this._cacheScratchCanvas(o),c=new Ene(this.r,i,l,u);this.collections.set(r,c)}},{key:"addRenderType",value:function(r,n){var a=n.collection;if(!this.collections.has(a))throw new Error("invalid atlas collection name '".concat(a,"'"));var i=this.collections.get(a),o=Nt({type:r,atlasCollection:i},n);this.renderTypes.set(r,o)}},{key:"getRenderTypeOpts",value:function(r){return this.renderTypes.get(r)}},{key:"getAtlasCollection",value:function(r){return this.collections.get(r)}},{key:"_cacheScratchCanvas",value:function(r){var n=-1,a=-1,i=null;return function(o,l,u,c){return c?((!i||l!=n||u!=a)&&(n=l,a=u,i=r(o,l,u)),i):r(o,l,u)}}},{key:"_key",value:function(r,n){return"".concat(r,"-").concat(n)}},{key:"invalidate",value:function(r){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.forceRedraw,o=i===void 0?!1:i,l=a.filterEle,u=l===void 0?function(){return!0}:l,c=a.filterType,h=c===void 0?function(){return!0}:c,d=!1,v=!1,p=sa(r),m;try{for(p.s();!(m=p.n()).done;){var b=m.value;if(u(b)){var x=sa(this.renderTypes.values()),w;try{var T=function(){var D=w.value,R=D.type;if(h(R)){var L=n.collections.get(D.collection),_=D.getKey(b),N=Array.isArray(_)?_:[_];if(o)N.forEach(function(F){return L.markKeyForGC(F)}),v=!0;else{var P=D.getID?D.getID(b):b.id(),U=n._key(R,P),j=n.typeAndIdToKey.get(U);j!==void 0&&!hne(N,j)&&(d=!0,n.typeAndIdToKey.delete(U),j.forEach(function(F){return L.markKeyForGC(F)}))}}};for(x.s();!(w=x.n()).done;)T()}catch(S){x.e(S)}finally{x.f()}}}}catch(S){p.e(S)}finally{p.f()}return v&&(this.gc(),d=!1),d}},{key:"gc",value:function(){var r=sa(this.collections.values()),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;a.gc()}}catch(i){r.e(i)}finally{r.f()}}},{key:"getOrCreateAtlas",value:function(r,n,a,i){var o=this.renderTypes.get(n),l=this.collections.get(o.collection),u=!1,c=l.draw(i,a,function(v){o.drawClipped?(v.save(),v.beginPath(),v.rect(0,0,a.w,a.h),v.clip(),o.drawElement(v,r,a,!0,!0),v.restore()):o.drawElement(v,r,a,!0,!0),u=!0});if(u){var h=o.getID?o.getID(r):r.id(),d=this._key(n,h);this.typeAndIdToKey.has(d)?this.typeAndIdToKey.get(d).push(i):this.typeAndIdToKey.set(d,[i])}return c}},{key:"getAtlasInfo",value:function(r,n){var a=this,i=this.renderTypes.get(n),o=i.getKey(r),l=Array.isArray(o)?o:[o];return l.map(function(u){var c=i.getBoundingBox(r,u),h=a.getOrCreateAtlas(r,n,c,u),d=h.getOffsets(u),v=Wr(d,2),p=v[0],m=v[1];return{atlas:h,tex:p,tex1:p,tex2:m,bb:c}})}},{key:"getDebugInfo",value:function(){var r=[],n=sa(this.collections),a;try{for(n.s();!(a=n.n()).done;){var i=Wr(a.value,2),o=i[0],l=i[1],u=l.getCounts(),c=u.keyCount,h=u.atlasCount;r.push({type:o,keyCount:c,atlasCount:h})}}catch(d){n.e(d)}finally{n.f()}return r}}])})(),Ane=(function(){function e(t){hs(this,e),this.globalOptions=t,this.atlasSize=t.webglTexSize,this.maxAtlasesPerBatch=t.webglTexPerBatch,this.batchAtlases=[]}return ds(e,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(r,n){return n})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(r){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(r):!0}},{key:"getAtlasIndexForBatch",value:function(r){var n=this.batchAtlases.indexOf(r);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(r),n=this.batchAtlases.length-1}return n}}])})(),Cne=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,Mne=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,One=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,_ne=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,hf={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},Sg={IGNORE:1,USE_BB:2},z1=0,dN=1,vN=2,F1=3,iu=4,nv=5,Qc=6,Jc=7,Dne=(function(){function e(t,r,n){hs(this,e),this.r=t,this.gl=r,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=lne,this.atlasManager=new Tne(t,n),this.batchManager=new Ane(n),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(hf.SCREEN),this.pickingProgram=this._createShaderProgram(hf.PICKING),this.vao=this._createVAO()}return ds(e,[{key:"addAtlasCollection",value:function(r,n){this.atlasManager.addAtlasCollection(r,n)}},{key:"addTextureAtlasRenderType",value:function(r,n){this.atlasManager.addRenderType(r,n)}},{key:"addSimpleShapeRenderType",value:function(r,n){this.simpleShapeOptions.set(r,n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.type,i=this.atlasManager;return a?i.invalidate(r,{filterType:function(l){return l===a},forceRedraw:!0}):i.invalidate(r)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(r){var n=this.gl,a=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(z1,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(iu," || aVertType == ").concat(Jc,` 
             || aVertType == `).concat(nv," || aVertType == ").concat(Qc,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(dN,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(vN,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(F1,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),i=this.batchManager.getIndexArray(),o=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(i.map(function(c){return"uniform sampler2D uTexture".concat(c,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(Cne,`
      `).concat(Mne,`
      `).concat(One,`
      `).concat(_ne,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(z1,`) {
          // look up the texel from the texture unit
          `).concat(i.map(function(c){return"if(vAtlasId == ".concat(c,") outColor = texture(uTexture").concat(c,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(F1,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(iu,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(iu," || vVertType == ").concat(Jc,` 
          || vVertType == `).concat(nv," || vVertType == ").concat(Qc,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(iu,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(Jc,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(Jc,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(r.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),l=sne(n,a,o);l.aPosition=n.getAttribLocation(l,"aPosition"),l.aIndex=n.getAttribLocation(l,"aIndex"),l.aVertType=n.getAttribLocation(l,"aVertType"),l.aTransform=n.getAttribLocation(l,"aTransform"),l.aAtlasId=n.getAttribLocation(l,"aAtlasId"),l.aTex=n.getAttribLocation(l,"aTex"),l.aPointAPointB=n.getAttribLocation(l,"aPointAPointB"),l.aPointCPointD=n.getAttribLocation(l,"aPointCPointD"),l.aLineWidth=n.getAttribLocation(l,"aLineWidth"),l.aColor=n.getAttribLocation(l,"aColor"),l.aCornerRadius=n.getAttribLocation(l,"aCornerRadius"),l.aBorderColor=n.getAttribLocation(l,"aBorderColor"),l.uPanZoomMatrix=n.getUniformLocation(l,"uPanZoomMatrix"),l.uAtlasSize=n.getUniformLocation(l,"uAtlasSize"),l.uBGColor=n.getUniformLocation(l,"uBGColor"),l.uZoom=n.getUniformLocation(l,"uZoom"),l.uTextures=[];for(var u=0;u<this.batchManager.getMaxAtlasesPerBatch();u++)l.uTextures.push(n.getUniformLocation(l,"uTexture".concat(u)));return l}},{key:"_createVAO",value:function(){var r=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=r.length/2;var n=this.maxInstances,a=this.gl,i=this.program,o=a.createVertexArray();return a.bindVertexArray(o),pne(a,"vec2",i.aPosition,r),this.transformBuffer=mne(a,n,i.aTransform),this.indexBuffer=vi(a,n,"vec4",i.aIndex),this.vertTypeBuffer=vi(a,n,"int",i.aVertType),this.atlasIdBuffer=vi(a,n,"int",i.aAtlasId),this.texBuffer=vi(a,n,"vec4",i.aTex),this.pointAPointBBuffer=vi(a,n,"vec4",i.aPointAPointB),this.pointCPointDBuffer=vi(a,n,"vec4",i.aPointCPointD),this.lineWidthBuffer=vi(a,n,"vec2",i.aLineWidth),this.colorBuffer=vi(a,n,"vec4",i.aColor),this.cornerRadiusBuffer=vi(a,n,"vec4",i.aCornerRadius),this.borderColorBuffer=vi(a,n,"vec4",i.aBorderColor),a.bindVertexArray(null),o}},{key:"buffers",get:function(){var r=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return Xo(n,"Buffer")}).map(function(n){return r[n]})),this._buffers}},{key:"startFrame",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hf.SCREEN;this.panZoomMatrix=r,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(r,n){return r.visible()?n&&n.isVisible?n.isVisible(r):!0:!1}},{key:"drawTexture",value:function(r,n,a){var i=this.atlasManager,o=this.batchManager,l=i.getRenderTypeOpts(a);if(this._isVisible(r,l)&&!(r.isEdge()&&!this._isValidEdge(r))){if(this.renderTarget.picking&&l.getTexPickingMode){var u=l.getTexPickingMode(r);if(u===Sg.IGNORE)return;if(u==Sg.USE_BB){this.drawPickingRectangle(r,n,a);return}}var c=i.getAtlasInfo(r,a),h=sa(c),d;try{for(h.s();!(d=h.n()).done;){var v=d.value,p=v.atlas,m=v.tex1,b=v.tex2;o.canAddToCurrentBatch(p)||this.endBatch();for(var x=o.getAtlasIndexForBatch(p),w=0,T=[[m,!0],[b,!1]];w<T.length;w++){var S=Wr(T[w],2),D=S[0],R=S[1];if(D.w!=0){var L=this.instanceCount;this.vertTypeBuffer.getView(L)[0]=z1;var _=this.indexBuffer.getView(L);au(n,_);var N=this.atlasIdBuffer.getView(L);N[0]=x;var P=this.texBuffer.getView(L);P[0]=D.x,P[1]=D.y,P[2]=D.w,P[3]=D.h;var U=this.transformBuffer.getMatrixView(L);this.setTransformMatrix(r,U,l,v,R),this.instanceCount++,R||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(j){h.e(j)}finally{h.f()}}}},{key:"setTransformMatrix",value:function(r,n,a,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=0;if(a.shapeProps&&a.shapeProps.padding&&(l=r.pstyle(a.shapeProps.padding).pfValue),i){var u=i.bb,c=i.tex1,h=i.tex2,d=c.w/(c.w+h.w);o||(d=1-d);var v=this._getAdjustedBB(u,l,o,d);this._applyTransformMatrix(n,v,a,r)}else{var p=a.getBoundingBox(r),m=this._getAdjustedBB(p,l,!0,1);this._applyTransformMatrix(n,m,a,r)}}},{key:"_applyTransformMatrix",value:function(r,n,a,i){var o,l;fN(r);var u=a.getRotation?a.getRotation(i):0;if(u!==0){var c=a.getRotationPoint(i),h=c.x,d=c.y;xv(r,r,[h,d]),hN(r,r,u);var v=a.getRotationOffset(i);o=v.x+(n.xOffset||0),l=v.y+(n.yOffset||0)}else o=n.x1,l=n.y1;xv(r,r,[o,l]),rw(r,r,[n.w,n.h])}},{key:"_getAdjustedBB",value:function(r,n,a,i){var o=r.x1,l=r.y1,u=r.w,c=r.h,h=r.yOffset;n&&(o-=n,l-=n,u+=2*n,c+=2*n);var d=0,v=u*i;return a&&i<1?u=v:!a&&i<1&&(d=u-v,o+=d,u=v),{x1:o,y1:l,w:u,h:c,xOffset:d,yOffset:h}}},{key:"drawPickingRectangle",value:function(r,n,a){var i=this.atlasManager.getRenderTypeOpts(a),o=this.instanceCount;this.vertTypeBuffer.getView(o)[0]=iu;var l=this.indexBuffer.getView(o);au(n,l);var u=this.colorBuffer.getView(o);js([0,0,0],1,u);var c=this.transformBuffer.getMatrixView(o);this.setTransformMatrix(r,c,i),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(r,n,a){var i=this.simpleShapeOptions.get(a);if(this._isVisible(r,i)){var o=i.shapeProps,l=this._getVertTypeForShape(r,o.shape);if(l===void 0||i.isSimple&&!i.isSimple(r)){this.drawTexture(r,n,a);return}var u=this.instanceCount;if(this.vertTypeBuffer.getView(u)[0]=l,l===nv||l===Qc){var c=i.getBoundingBox(r),h=this._getCornerRadius(r,o.radius,c),d=this.cornerRadiusBuffer.getView(u);d[0]=h,d[1]=h,d[2]=h,d[3]=h,l===Qc&&(d[0]=0,d[2]=0)}var v=this.indexBuffer.getView(u);au(n,v);var p=r.pstyle(o.color).value,m=r.pstyle(o.opacity).value,b=this.colorBuffer.getView(u);js(p,m,b);var x=this.lineWidthBuffer.getView(u);if(x[0]=0,x[1]=0,o.border){var w=r.pstyle("border-width").value;if(w>0){var T=r.pstyle("border-color").value,S=r.pstyle("border-opacity").value,D=this.borderColorBuffer.getView(u);js(T,S,D);var R=r.pstyle("border-position").value;if(R==="inside")x[0]=0,x[1]=-w;else if(R==="outside")x[0]=w,x[1]=0;else{var L=w/2;x[0]=L,x[1]=-L}}}var _=this.transformBuffer.getMatrixView(u);this.setTransformMatrix(r,_,i),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(r,n){var a=r.pstyle(n).value;switch(a){case"rectangle":return iu;case"ellipse":return Jc;case"roundrectangle":case"round-rectangle":return nv;case"bottom-round-rectangle":return Qc;default:return}}},{key:"_getCornerRadius",value:function(r,n,a){var i=a.w,o=a.h;if(r.pstyle(n).value==="auto")return as(i,o);var l=r.pstyle(n).pfValue,u=i/2,c=o/2;return Math.min(l,c,u)}},{key:"drawEdgeArrow",value:function(r,n,a){if(r.visible()){var i=r._private.rscratch,o,l,u;if(a==="source"?(o=i.arrowStartX,l=i.arrowStartY,u=i.srcArrowAngle):(o=i.arrowEndX,l=i.arrowEndY,u=i.tgtArrowAngle),!(isNaN(o)||o==null||isNaN(l)||l==null||isNaN(u)||u==null)){var c=r.pstyle(a+"-arrow-shape").value;if(c!=="none"){var h=r.pstyle(a+"-arrow-color").value,d=r.pstyle("opacity").value,v=r.pstyle("line-opacity").value,p=d*v,m=r.pstyle("width").pfValue,b=r.pstyle("arrow-scale").value,x=this.r.getArrowWidth(m,b),w=this.instanceCount,T=this.transformBuffer.getMatrixView(w);fN(T),xv(T,T,[o,l]),rw(T,T,[x,x]),hN(T,T,u),this.vertTypeBuffer.getView(w)[0]=F1;var S=this.indexBuffer.getView(w);au(n,S);var D=this.colorBuffer.getView(w);js(h,p,D),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(r,n){if(r.visible()){var a=this._getEdgePoints(r);if(a){var i=r.pstyle("opacity").value,o=r.pstyle("line-opacity").value,l=r.pstyle("width").pfValue,u=r.pstyle("line-color").value,c=i*o;if(a.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),a.length==4){var h=this.instanceCount;this.vertTypeBuffer.getView(h)[0]=dN;var d=this.indexBuffer.getView(h);au(n,d);var v=this.colorBuffer.getView(h);js(u,c,v);var p=this.lineWidthBuffer.getView(h);p[0]=l;var m=this.pointAPointBBuffer.getView(h);m[0]=a[0],m[1]=a[1],m[2]=a[2],m[3]=a[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var b=0;b<a.length-2;b+=2){var x=this.instanceCount;this.vertTypeBuffer.getView(x)[0]=vN;var w=this.indexBuffer.getView(x);au(n,w);var T=this.colorBuffer.getView(x);js(u,c,T);var S=this.lineWidthBuffer.getView(x);S[0]=l;var D=a[b-2],R=a[b-1],L=a[b],_=a[b+1],N=a[b+2],P=a[b+3],U=a[b+4],j=a[b+5];b==0&&(D=2*L-N+.001,R=2*_-P+.001),b==a.length-4&&(U=2*N-L+.001,j=2*P-_+.001);var F=this.pointAPointBBuffer.getView(x);F[0]=D,F[1]=R,F[2]=L,F[3]=_;var I=this.pointCPointDBuffer.getView(x);I[0]=N,I[1]=P,I[2]=U,I[3]=j,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(r){var n=r._private.rscratch;return!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))}},{key:"_getEdgePoints",value:function(r){var n=r._private.rscratch;if(this._isValidEdge(r)){var a=n.allpts;if(a.length==4)return a;var i=this._getNumSegments(r);return this._getCurveSegmentPoints(a,i)}}},{key:"_getNumSegments",value:function(r){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(r,n){if(r.length==4)return r;for(var a=Array((n+1)*2),i=0;i<=n;i++)if(i==0)a[0]=r[0],a[1]=r[1];else if(i==n)a[i*2]=r[r.length-2],a[i*2+1]=r[r.length-1];else{var o=i/n;this._setCurvePoint(r,o,a,i*2)}return a}},{key:"_setCurvePoint",value:function(r,n,a,i){if(r.length<=2)a[i]=r[0],a[i+1]=r[1];else{for(var o=Array(r.length-2),l=0;l<o.length;l+=2){var u=(1-n)*r[l]+n*r[l+2],c=(1-n)*r[l+1]+n*r[l+3];o[l]=u,o[l+1]=c}return this._setCurvePoint(o,n,a,i)}}},{key:"endBatch",value:function(){var r=this.gl,n=this.vao,a=this.vertexCount,i=this.instanceCount;if(i!==0){var o=this.renderTarget.picking?this.pickingProgram:this.program;r.useProgram(o),r.bindVertexArray(n);var l=sa(this.buffers),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;c.bufferSubData(i)}}catch(m){l.e(m)}finally{l.f()}for(var h=this.batchManager.getAtlases(),d=0;d<h.length;d++)h[d].bufferIfNeeded(r);for(var v=0;v<h.length;v++)r.activeTexture(r.TEXTURE0+v),r.bindTexture(r.TEXTURE_2D,h[v].texture),r.uniform1i(o.uTextures[v],v);r.uniform1f(o.uZoom,une(this.r)),r.uniformMatrix3fv(o.uPanZoomMatrix,!1,this.panZoomMatrix),r.uniform1i(o.uAtlasSize,this.batchManager.getAtlasSize());var p=js(this.bgColor,1);r.uniform4fv(o.uBGColor,p),r.drawArraysInstanced(r.TRIANGLES,0,a,i),r.bindVertexArray(null),r.bindTexture(r.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:i,atlasCount:h.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var r=this.atlasManager.getDebugInfo(),n=r.reduce(function(o,l){return o+l.atlasCount},0),a=this.batchDebugInfo,i=a.reduce(function(o,l){return o+l.count},0);return{atlasInfo:r,totalAtlases:n,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:a.length,batchInfo:a,totalInstances:i}}}])})(),S3={};S3.initWebgl=function(e,t){var r=this,n=r.data.contexts[r.WEBGL];e.bgColor=kne(r),e.webglTexSize=Math.min(e.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),e.webglTexRows=Math.min(e.webglTexRows,54),e.webglTexRowsNodes=Math.min(e.webglTexRowsNodes,54),e.webglBatchSize=Math.min(e.webglBatchSize,16384),e.webglTexPerBatch=Math.min(e.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=e.webglDebug,r.webglDebugShowAtlases=e.webglDebugShowAtlases,r.pickingFrameBuffer=yne(n),r.pickingFrameBuffer.needsDraw=!0,r.drawing=new Dne(r,n,e);var a=function(d){return function(v){return r.getTextAngle(v,d)}},i=function(d){return function(v){var p=v.pstyle(d);return p&&p.value}},o=function(d){return function(v){return v.pstyle("".concat(d,"-opacity")).value>0}},l=function(d){var v=d.pstyle("text-events").strValue==="yes";return v?Sg.USE_BB:Sg.IGNORE},u=function(d){var v=d.position(),p=v.x,m=v.y,b=d.outerWidth(),x=d.outerHeight();return{w:b,h:x,x1:p-b/2,y1:m-x/2}};r.drawing.addAtlasCollection("node",{texRows:e.webglTexRowsNodes}),r.drawing.addAtlasCollection("label",{texRows:e.webglTexRows}),r.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:t.getStyleKey,getBoundingBox:t.getElementBox,drawElement:t.drawElement}),r.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:u,isSimple:fne,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),r.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:u,isVisible:o("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),r.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:u,isVisible:o("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),r.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:l,getKey:U1(t.getLabelKey,null),getBoundingBox:G1(t.getLabelBox,null),drawClipped:!0,drawElement:t.drawLabel,getRotation:a(null),getRotationPoint:t.getLabelRotationPoint,getRotationOffset:t.getLabelRotationOffset,isVisible:i("label")}),r.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:l,getKey:U1(t.getSourceLabelKey,"source"),getBoundingBox:G1(t.getSourceLabelBox,"source"),drawClipped:!0,drawElement:t.drawSourceLabel,getRotation:a("source"),getRotationPoint:t.getSourceLabelRotationPoint,getRotationOffset:t.getSourceLabelRotationOffset,isVisible:i("source-label")}),r.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:l,getKey:U1(t.getTargetLabelKey,"target"),getBoundingBox:G1(t.getTargetLabelBox,"target"),drawClipped:!0,drawElement:t.drawTargetLabel,getRotation:a("target"),getRotationPoint:t.getTargetLabelRotationPoint,getRotationOffset:t.getTargetLabelRotationOffset,isVisible:i("target-label")});var c=ih(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(h,d){var v=!1;d&&d.length>0&&(v|=r.drawing.invalidate(d)),v&&c()}),Nne(r)};function kne(e){var t=e.cy.container(),r=t&&t.style&&t.style.backgroundColor||"white";return WB(r)}function T3(e,t){var r=e._private.rscratch;return ra(r,"labelWrapCachedLines",t)||[]}var U1=function(t,r){return function(n){var a=t(n),i=T3(n,r);return i.length>1?i.map(function(o,l){return"".concat(a,"_").concat(l)}):a}},G1=function(t,r){return function(n,a){var i=t(n);if(typeof a=="string"){var o=a.indexOf("_");if(o>0){var l=Number(a.substring(o+1)),u=T3(n,r),c=i.h/u.length,h=c*l,d=i.y1+h;return{x1:i.x1,w:i.w,y1:d,h:c,yOffset:h}}}return i}};function Nne(e){{var t=e.render;e.render=function(i){i=i||{};var o=e.cy;e.webgl&&(o.zoom()>p3?(Pne(e),t.call(e,i)):(Rne(e),C3(e,i,hf.SCREEN)))}}{var r=e.matchCanvasSize;e.matchCanvasSize=function(i){r.call(e,i),e.pickingFrameBuffer.setFramebufferAttachmentSizes(e.canvasWidth,e.canvasHeight),e.pickingFrameBuffer.needsDraw=!0}}e.findNearestElements=function(i,o,l,u){return Fne(e,i,o)};{var n=e.invalidateCachedZSortedEles;e.invalidateCachedZSortedEles=function(){n.call(e),e.pickingFrameBuffer.needsDraw=!0}}{var a=e.notify;e.notify=function(i,o){a.call(e,i,o),i==="viewport"||i==="bounds"?e.pickingFrameBuffer.needsDraw=!0:i==="background"&&e.drawing.invalidate(o,{type:"node-body"})}}}function Pne(e){var t=e.data.contexts[e.WEBGL];t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}function Rne(e){var t=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.canvasWidth,e.canvasHeight),n.restore()};t(e.data.contexts[e.NODE]),t(e.data.contexts[e.DRAG])}function Lne(e){var t=e.canvasWidth,r=e.canvasHeight,n=hS(e),a=n.pan,i=n.zoom,o=I1();xv(o,o,[a.x,a.y]),rw(o,o,[i,i]);var l=I1();xne(l,t,r);var u=I1();return bne(u,l,o),u}function A3(e,t){var r=e.canvasWidth,n=e.canvasHeight,a=hS(e),i=a.pan,o=a.zoom;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,r,n),t.translate(i.x,i.y),t.scale(o,o)}function jne(e,t){e.drawSelectionRectangle(t,function(r){return A3(e,r)})}function Bne(e){var t=e.data.contexts[e.NODE];t.save(),A3(e,t),t.strokeStyle="rgba(0, 0, 0, 0.3)",t.beginPath(),t.moveTo(-1e3,0),t.lineTo(1e3,0),t.stroke(),t.beginPath(),t.moveTo(0,-1e3),t.lineTo(0,1e3),t.stroke(),t.restore()}function Ine(e){var t=function(a,i,o){for(var l=a.atlasManager.getAtlasCollection(i),u=e.data.contexts[e.NODE],c=l.atlases,h=0;h<c.length;h++){var d=c[h],v=d.canvas;if(v){var p=v.width,m=v.height,b=p*h,x=v.height*o,w=.4;u.save(),u.scale(w,w),u.drawImage(v,b,x),u.strokeStyle="black",u.rect(b,x,p,m),u.stroke(),u.restore()}}},r=0;t(e.drawing,"node",r++),t(e.drawing,"label",r++)}function zne(e,t,r,n,a){var i,o,l,u,c=hS(e),h=c.pan,d=c.zoom;{var v=cne(e,h,d,t,r),p=Wr(v,2),m=p[0],b=p[1],x=6;i=m-x/2,o=b-x/2,l=x,u=x}if(l===0||u===0)return[];var w=e.data.contexts[e.WEBGL];w.bindFramebuffer(w.FRAMEBUFFER,e.pickingFrameBuffer),e.pickingFrameBuffer.needsDraw&&(w.viewport(0,0,w.canvas.width,w.canvas.height),C3(e,null,hf.PICKING),e.pickingFrameBuffer.needsDraw=!1);var T=l*u,S=new Uint8Array(T*4);w.readPixels(i,o,l,u,w.RGBA,w.UNSIGNED_BYTE,S),w.bindFramebuffer(w.FRAMEBUFFER,null);for(var D=new Set,R=0;R<T;R++){var L=S.slice(R*4,R*4+4),_=dne(L)-1;_>=0&&D.add(_)}return D}function Fne(e,t,r){var n=zne(e,t,r),a=e.getCachedZSortedEles(),i,o,l=sa(n),u;try{for(l.s();!(u=l.n()).done;){var c=u.value,h=a[c];if(!i&&h.isNode()&&(i=h),!o&&h.isEdge()&&(o=h),i&&o)break}}catch(d){l.e(d)}finally{l.f()}return[i,o].filter(Boolean)}function q1(e,t,r){var n=e.drawing;t+=1,r.isNode()?(n.drawNode(r,t,"node-underlay"),n.drawNode(r,t,"node-body"),n.drawTexture(r,t,"label"),n.drawNode(r,t,"node-overlay")):(n.drawEdgeLine(r,t),n.drawEdgeArrow(r,t,"source"),n.drawEdgeArrow(r,t,"target"),n.drawTexture(r,t,"label"),n.drawTexture(r,t,"edge-source-label"),n.drawTexture(r,t,"edge-target-label"))}function C3(e,t,r){var n;e.webglDebug&&(n=performance.now());var a=e.drawing,i=0;if(r.screen&&e.data.canvasNeedsRedraw[e.SELECT_BOX]&&jne(e,t),e.data.canvasNeedsRedraw[e.NODE]||r.picking){var o=e.data.contexts[e.WEBGL];r.screen?(o.clearColor(0,0,0,0),o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA)):o.disable(o.BLEND),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),o.viewport(0,0,o.canvas.width,o.canvas.height);var l=Lne(e),u=e.getCachedZSortedEles();if(i=u.length,a.startFrame(l,r),r.screen){for(var c=0;c<u.nondrag.length;c++)q1(e,c,u.nondrag[c]);for(var h=0;h<u.drag.length;h++)q1(e,h,u.drag[h])}else if(r.picking)for(var d=0;d<u.length;d++)q1(e,d,u[d]);a.endFrame(),r.screen&&e.webglDebugShowAtlases&&(Bne(e),Ine(e)),e.data.canvasNeedsRedraw[e.NODE]=!1,e.data.canvasNeedsRedraw[e.DRAG]=!1}if(e.webglDebug){var v=performance.now(),p=!1,m=Math.ceil(v-n),b=a.getDebugInfo(),x=["".concat(i," elements"),"".concat(b.totalInstances," instances"),"".concat(b.batchCount," batches"),"".concat(b.totalAtlases," atlases"),"".concat(b.wrappedCount," wrapped textures"),"".concat(b.simpleCount," simple shapes")].join(", ");if(p)console.log("WebGL (".concat(r.name,") - time ").concat(m,"ms, ").concat(x));else{console.log("WebGL (".concat(r.name,") - frame time ").concat(m,"ms")),console.log("Totals:"),console.log("  ".concat(x)),console.log("Texture Atlases Used:");var w=b.atlasInfo,T=sa(w),S;try{for(T.s();!(S=T.n()).done;){var D=S.value;console.log("  ".concat(D.type,": ").concat(D.keyCount," keys, ").concat(D.atlasCount," atlases"))}}catch(R){T.e(R)}finally{T.f()}console.log("")}}e.data.gc&&(console.log("Garbage Collect!"),e.data.gc=!1,a.gc())}var ps={};ps.drawPolygonPath=function(e,t,r,n,a,i){var o=n/2,l=a/2;e.beginPath&&e.beginPath(),e.moveTo(t+o*i[0],r+l*i[1]);for(var u=1;u<i.length/2;u++)e.lineTo(t+o*i[u*2],r+l*i[u*2+1]);e.closePath()};ps.drawRoundPolygonPath=function(e,t,r,n,a,i,o){o.forEach(function(l){return o3(e,l)}),e.closePath()};ps.drawRoundRectanglePath=function(e,t,r,n,a,i){var o=n/2,l=a/2,u=i==="auto"?as(n,a):Math.min(i,l,o);e.beginPath&&e.beginPath(),e.moveTo(t,r-l),e.arcTo(t+o,r-l,t+o,r,u),e.arcTo(t+o,r+l,t,r+l,u),e.arcTo(t-o,r+l,t-o,r,u),e.arcTo(t-o,r-l,t,r-l,u),e.lineTo(t,r-l),e.closePath()};ps.drawBottomRoundRectanglePath=function(e,t,r,n,a,i){var o=n/2,l=a/2,u=i==="auto"?as(n,a):i;e.beginPath&&e.beginPath(),e.moveTo(t,r-l),e.lineTo(t+o,r-l),e.lineTo(t+o,r),e.arcTo(t+o,r+l,t,r+l,u),e.arcTo(t-o,r+l,t-o,r,u),e.lineTo(t-o,r-l),e.lineTo(t,r-l),e.closePath()};ps.drawCutRectanglePath=function(e,t,r,n,a,i,o){var l=n/2,u=a/2,c=o==="auto"?QE():o;e.beginPath&&e.beginPath(),e.moveTo(t-l+c,r-u),e.lineTo(t+l-c,r-u),e.lineTo(t+l,r-u+c),e.lineTo(t+l,r+u-c),e.lineTo(t+l-c,r+u),e.lineTo(t-l+c,r+u),e.lineTo(t-l,r+u-c),e.lineTo(t-l,r-u+c),e.closePath()};ps.drawBarrelPath=function(e,t,r,n,a){var i=n/2,o=a/2,l=t-i,u=t+i,c=r-o,h=r+o,d=Gx(n,a),v=d.widthOffset,p=d.heightOffset,m=d.ctrlPtOffsetPct*v;e.beginPath&&e.beginPath(),e.moveTo(l,c+p),e.lineTo(l,h-p),e.quadraticCurveTo(l+m,h,l+v,h),e.lineTo(u-v,h),e.quadraticCurveTo(u-m,h,u,h-p),e.lineTo(u,c+p),e.quadraticCurveTo(u-m,c,u-v,c),e.lineTo(l+v,c),e.quadraticCurveTo(l+m,c,l,c+p),e.closePath()};var gN=Math.sin(0),pN=Math.cos(0),nw={},aw={},M3=Math.PI/40;for(var ou=0*Math.PI;ou<2*Math.PI;ou+=M3)nw[ou]=Math.sin(ou),aw[ou]=Math.cos(ou);ps.drawEllipsePath=function(e,t,r,n,a){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,r,n/2,a/2,0,0,2*Math.PI);else for(var i,o,l=n/2,u=a/2,c=0*Math.PI;c<2*Math.PI;c+=M3)i=t-l*nw[c]*gN+l*aw[c]*pN,o=r+u*aw[c]*gN+u*nw[c]*pN,c===0?e.moveTo(i,o):e.lineTo(i,o);e.closePath()};var fh={};fh.createBuffer=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,[r,r.getContext("2d")]};fh.bufferCanvasImage=function(e){var t=this.cy,r=t.mutableElements(),n=r.boundingBox(),a=this.findContainerClientCoords(),i=e.full?Math.ceil(n.w):a[2],o=e.full?Math.ceil(n.h):a[3],l=pt(e.maxWidth)||pt(e.maxHeight),u=this.getPixelRatio(),c=1;if(e.scale!==void 0)i*=e.scale,o*=e.scale,c=e.scale;else if(l){var h=1/0,d=1/0;pt(e.maxWidth)&&(h=c*e.maxWidth/i),pt(e.maxHeight)&&(d=c*e.maxHeight/o),c=Math.min(h,d),i*=c,o*=c}l||(i*=u,o*=u,c*=u);var v=document.createElement("canvas");v.width=i,v.height=o,v.style.width=i+"px",v.style.height=o+"px";var p=v.getContext("2d");if(i>0&&o>0){p.clearRect(0,0,i,o),p.globalCompositeOperation="source-over";var m=this.getCachedZSortedEles();if(e.full)p.translate(-n.x1*c,-n.y1*c),p.scale(c,c),this.drawElements(p,m),p.scale(1/c,1/c),p.translate(n.x1*c,n.y1*c);else{var b=t.pan(),x={x:b.x*c,y:b.y*c};c*=t.zoom(),p.translate(x.x,x.y),p.scale(c,c),this.drawElements(p,m),p.scale(1/c,1/c),p.translate(-x.x,-x.y)}e.bg&&(p.globalCompositeOperation="destination-over",p.fillStyle=e.bg,p.rect(0,0,i,o),p.fill())}return v};function Une(e,t){for(var r=atob(e),n=new ArrayBuffer(r.length),a=new Uint8Array(n),i=0;i<r.length;i++)a[i]=r.charCodeAt(i);return new Blob([n],{type:t})}function mN(e){var t=e.indexOf(",");return e.substr(t+1)}function O3(e,t,r){var n=function(){return t.toDataURL(r,e.quality)};switch(e.output){case"blob-promise":return new Vu(function(a,i){try{t.toBlob(function(o){o!=null?a(o):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,e.quality)}catch(o){i(o)}});case"blob":return Une(mN(n()),r);case"base64":return mN(n());case"base64uri":default:return n()}}fh.png=function(e){return O3(e,this.bufferCanvasImage(e),"image/png")};fh.jpg=function(e){return O3(e,this.bufferCanvasImage(e),"image/jpeg")};var _3={};_3.nodeShapeImpl=function(e,t,r,n,a,i,o,l){switch(e){case"ellipse":return this.drawEllipsePath(t,r,n,a,i);case"polygon":return this.drawPolygonPath(t,r,n,a,i,o);case"round-polygon":return this.drawRoundPolygonPath(t,r,n,a,i,o,l);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,r,n,a,i,l);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,r,n,a,i,o,l);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,r,n,a,i,l);case"barrel":return this.drawBarrelPath(t,r,n,a,i)}};var Gne=D3,Ut=D3.prototype;Ut.CANVAS_LAYERS=3;Ut.SELECT_BOX=0;Ut.DRAG=1;Ut.NODE=2;Ut.WEBGL=3;Ut.CANVAS_TYPES=["2d","2d","2d","webgl2"];Ut.BUFFER_COUNT=3;Ut.TEXTURE_BUFFER=0;Ut.MOTIONBLUR_BUFFER_NODE=1;Ut.MOTIONBLUR_BUFFER_DRAG=2;function D3(e){var t=this,r=t.cy.window(),n=r.document;e.webgl&&(Ut.CANVAS_LAYERS=t.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),t.data={canvases:new Array(Ut.CANVAS_LAYERS),contexts:new Array(Ut.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Ut.CANVAS_LAYERS),bufferCanvases:new Array(Ut.BUFFER_COUNT),bufferContexts:new Array(Ut.CANVAS_LAYERS)};var a="-webkit-tap-highlight-color",i="rgba(0,0,0,0)";t.data.canvasContainer=n.createElement("div");var o=t.data.canvasContainer.style;t.data.canvasContainer.style[a]=i,o.position="relative",o.zIndex="0",o.overflow="hidden";var l=e.cy.container();l.appendChild(t.data.canvasContainer),l.style[a]=i;var u={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};jZ()&&(u["-ms-touch-action"]="none",u["touch-action"]="none");for(var c=0;c<Ut.CANVAS_LAYERS;c++){var h=t.data.canvases[c]=n.createElement("canvas"),d=Ut.CANVAS_TYPES[c];t.data.contexts[c]=h.getContext(d),t.data.contexts[c]||Rr("Could not create canvas of type "+d),Object.keys(u).forEach(function(ce){h.style[ce]=u[ce]}),h.style.position="absolute",h.setAttribute("data-id","layer"+c),h.style.zIndex=String(Ut.CANVAS_LAYERS-c),t.data.canvasContainer.appendChild(h),t.data.canvasNeedsRedraw[c]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[Ut.NODE].setAttribute("data-id","layer"+Ut.NODE+"-node"),t.data.canvases[Ut.SELECT_BOX].setAttribute("data-id","layer"+Ut.SELECT_BOX+"-selectbox"),t.data.canvases[Ut.DRAG].setAttribute("data-id","layer"+Ut.DRAG+"-drag"),t.data.canvases[Ut.WEBGL]&&t.data.canvases[Ut.WEBGL].setAttribute("data-id","layer"+Ut.WEBGL+"-webgl");for(var c=0;c<Ut.BUFFER_COUNT;c++)t.data.bufferCanvases[c]=n.createElement("canvas"),t.data.bufferContexts[c]=t.data.bufferCanvases[c].getContext("2d"),t.data.bufferCanvases[c].style.position="absolute",t.data.bufferCanvases[c].setAttribute("data-id","buffer"+c),t.data.bufferCanvases[c].style.zIndex=String(-c-1),t.data.bufferCanvases[c].style.visibility="hidden";t.pathsEnabled=!0;var v=$n(),p=function(ae){return{x:(ae.x1+ae.x2)/2,y:(ae.y1+ae.y2)/2}},m=function(ae){return{x:-ae.w/2,y:-ae.h/2}},b=function(ae){var le=ae[0]._private,re=le.oldBackgroundTimestamp===le.backgroundTimestamp;return!re},x=function(ae){return ae[0]._private.nodeKey},w=function(ae){return ae[0]._private.labelStyleKey},T=function(ae){return ae[0]._private.sourceLabelStyleKey},S=function(ae){return ae[0]._private.targetLabelStyleKey},D=function(ae,le,re,ge,Se){return t.drawElement(ae,le,re,!1,!1,Se)},R=function(ae,le,re,ge,Se){return t.drawElementText(ae,le,re,ge,"main",Se)},L=function(ae,le,re,ge,Se){return t.drawElementText(ae,le,re,ge,"source",Se)},_=function(ae,le,re,ge,Se){return t.drawElementText(ae,le,re,ge,"target",Se)},N=function(ae){return ae.boundingBox(),ae[0]._private.bodyBounds},P=function(ae){return ae.boundingBox(),ae[0]._private.labelBounds.main||v},U=function(ae){return ae.boundingBox(),ae[0]._private.labelBounds.source||v},j=function(ae){return ae.boundingBox(),ae[0]._private.labelBounds.target||v},F=function(ae,le){return le},I=function(ae){return p(N(ae))},G=function(ae,le,re){var ge=ae?ae+"-":"";return{x:le.x+re.pstyle(ge+"text-margin-x").pfValue,y:le.y+re.pstyle(ge+"text-margin-y").pfValue}},Y=function(ae,le,re){var ge=ae[0]._private.rscratch;return{x:ge[le],y:ge[re]}},q=function(ae){return G("",Y(ae,"labelX","labelY"),ae)},V=function(ae){return G("source",Y(ae,"sourceLabelX","sourceLabelY"),ae)},W=function(ae){return G("target",Y(ae,"targetLabelX","targetLabelY"),ae)},J=function(ae){return m(N(ae))},ie=function(ae){return m(U(ae))},K=function(ae){return m(j(ae))},Z=function(ae){var le=P(ae),re=m(P(ae));if(ae.isNode()){switch(ae.pstyle("text-halign").value){case"left":re.x=-le.w-(le.leftPad||0);break;case"right":re.x=-(le.rightPad||0);break}switch(ae.pstyle("text-valign").value){case"top":re.y=-le.h-(le.topPad||0);break;case"bottom":re.y=-(le.botPad||0);break}}return re},fe=t.data.eleTxrCache=new lf(t,{getKey:x,doesEleInvalidateKey:b,drawElement:D,getBoundingBox:N,getRotationPoint:I,getRotationOffset:J,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),he=t.data.lblTxrCache=new lf(t,{getKey:w,drawElement:R,getBoundingBox:P,getRotationPoint:q,getRotationOffset:Z,isVisible:F}),oe=t.data.slbTxrCache=new lf(t,{getKey:T,drawElement:L,getBoundingBox:U,getRotationPoint:V,getRotationOffset:ie,isVisible:F}),be=t.data.tlbTxrCache=new lf(t,{getKey:S,drawElement:_,getBoundingBox:j,getRotationPoint:W,getRotationOffset:K,isVisible:F}),Ae=t.data.lyrTxrCache=new m3(t);t.onUpdateEleCalcs(function(ae,le){fe.invalidateElements(le),he.invalidateElements(le),oe.invalidateElements(le),be.invalidateElements(le),Ae.invalidateElements(le);for(var re=0;re<le.length;re++){var ge=le[re]._private;ge.oldBackgroundTimestamp=ge.backgroundTimestamp}});var Le=function(ae){for(var le=0;le<ae.length;le++)Ae.enqueueElementRefinement(ae[le].ele)};fe.onDequeue(Le),he.onDequeue(Le),oe.onDequeue(Le),be.onDequeue(Le),e.webgl&&t.initWebgl(e,{getStyleKey:x,getLabelKey:w,getSourceLabelKey:T,getTargetLabelKey:S,drawElement:D,drawLabel:R,drawSourceLabel:L,drawTargetLabel:_,getElementBox:N,getLabelBox:P,getSourceLabelBox:U,getTargetLabelBox:j,getElementRotationPoint:I,getElementRotationOffset:J,getLabelRotationPoint:q,getSourceLabelRotationPoint:V,getTargetLabelRotationPoint:W,getLabelRotationOffset:Z,getSourceLabelRotationOffset:ie,getTargetLabelRotationOffset:K})}Ut.redrawHint=function(e,t){var r=this;switch(e){case"eles":r.data.canvasNeedsRedraw[Ut.NODE]=t;break;case"drag":r.data.canvasNeedsRedraw[Ut.DRAG]=t;break;case"select":r.data.canvasNeedsRedraw[Ut.SELECT_BOX]=t;break;case"gc":r.data.gc=!0;break}};var qne=typeof Path2D<"u";Ut.path2dEnabled=function(e){if(e===void 0)return this.pathsEnabled;this.pathsEnabled=!!e};Ut.usePaths=function(){return qne&&this.pathsEnabled};Ut.setImgSmoothing=function(e,t){e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)};Ut.getImgSmoothing=function(e){return e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled};Ut.makeOffscreenCanvas=function(e,t){var r;if((typeof OffscreenCanvas>"u"?"undefined":rn(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(e,t);else{var n=this.cy.window(),a=n.document;r=a.createElement("canvas"),r.width=e,r.height=t}return r};[y3,Ti,go,fS,bl,gs,Hn,S3,ps,fh,_3].forEach(function(e){Nt(Ut,e)});var Vne=[{name:"null",impl:n3},{name:"base",impl:v3},{name:"canvas",impl:Gne}],$ne=[{type:"layout",extensions:pre},{type:"renderer",extensions:Vne}],k3={},N3={};function P3(e,t,r){var n=r,a=function(N){sr("Can not register `"+t+"` for `"+e+"` since `"+N+"` already exists in the prototype and can not be overridden")};if(e==="core"){if(jf.prototype[t])return a(t);jf.prototype[t]=r}else if(e==="collection"){if(On.prototype[t])return a(t);On.prototype[t]=r}else if(e==="layout"){for(var i=function(N){this.options=N,r.call(this,N),Zt(this._private)||(this._private={}),this._private.cy=N.cy,this._private.listeners=[],this.createEmitter()},o=i.prototype=Object.create(r.prototype),l=[],u=0;u<l.length;u++){var c=l[u];o[c]=o[c]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var h=r.prototype.stop;o.stop=function(){var _=this.options;if(_&&_.animate){var N=this.animations;if(N)for(var P=0;P<N.length;P++)N[P].stop()}return h?h.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var d=function(N){return N._private.cy},v={addEventFields:function(N,P){P.layout=N,P.cy=d(N),P.target=N},bubble:function(){return!0},parent:function(N){return d(N)}};Nt(o,{createEmitter:function(){return this._private.emitter=new mp(v,this),this},emitter:function(){return this._private.emitter},on:function(N,P){return this.emitter().on(N,P),this},one:function(N,P){return this.emitter().one(N,P),this},once:function(N,P){return this.emitter().one(N,P),this},removeListener:function(N,P){return this.emitter().removeListener(N,P),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(N,P){return this.emitter().emit(N,P),this}}),or.eventAliasesOn(o),n=i}else if(e==="renderer"&&t!=="null"&&t!=="base"){var p=R3("renderer","base"),m=p.prototype,b=r,x=r.prototype,w=function(){p.apply(this,arguments),b.apply(this,arguments)},T=w.prototype;for(var S in m){var D=m[S],R=x[S]!=null;if(R)return a(S);T[S]=D}for(var L in x)T[L]=x[L];m.clientFunctions.forEach(function(_){T[_]=T[_]||function(){Rr("Renderer does not implement `renderer."+_+"()` on its prototype")}}),n=w}else if(e==="__proto__"||e==="constructor"||e==="prototype")return Rr(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return ZB({map:k3,keys:[e,t],value:n})}function R3(e,t){return QB({map:k3,keys:[e,t]})}function Yne(e,t,r,n,a){return ZB({map:N3,keys:[e,t,r,n],value:a})}function Hne(e,t,r,n){return QB({map:N3,keys:[e,t,r,n]})}var iw=function(){if(arguments.length===2)return R3.apply(null,arguments);if(arguments.length===3)return P3.apply(null,arguments);if(arguments.length===4)return Hne.apply(null,arguments);if(arguments.length===5)return Yne.apply(null,arguments);Rr("Invalid extension access syntax")};jf.prototype.extension=iw;$ne.forEach(function(e){e.extensions.forEach(function(t){P3(e.type,t.name,t.impl)})});var Tg=function(){if(!(this instanceof Tg))return new Tg;this.length=0},vl=Tg.prototype;vl.instanceString=function(){return"stylesheet"};vl.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this};vl.css=function(e,t){var r=this.length-1;if(Mt(e))this[r].properties.push({name:e,value:t});else if(Zt(e))for(var n=e,a=Object.keys(n),i=0;i<a.length;i++){var o=a[i],l=n[o];if(l!=null){var u=pn.properties[o]||pn.properties[sp(o)];if(u!=null){var c=u.name,h=l;this[r].properties.push({name:c,value:h})}}}return this};vl.style=vl.css;vl.generateStyle=function(e){var t=new pn(e);return this.appendToStyle(t)};vl.appendToStyle=function(e){for(var t=0;t<this.length;t++){var r=this[t],n=r.selector,a=r.properties;e.selector(n);for(var i=0;i<a.length;i++){var o=a[i];e.css(o.name,o.value)}}return e};var Xne="3.33.1",oo=function(t){if(t===void 0&&(t={}),Zt(t))return new jf(t);if(Mt(t))return iw.apply(iw,arguments)};oo.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(oo),e.apply(null,t),this};oo.warnings=function(e){return iI(e)};oo.version=Xne;oo.stylesheet=oo.Stylesheet=Tg;var wv={exports:{}},V1={},Bs={},$1={},qi={},yN;function L3(){if(yN)return qi;yN=1,Object.defineProperty(qi,"__esModule",{value:!0});var e=(function(){function u(c,h,d){this.source=c,this.target=h,this.type=d}return u})();qi.PowerEdge=e;var t=(function(){function u(c,h,d,v){var p=this;if(this.linkAccessor=d,this.modules=new Array(c),this.roots=[],v)this.initModulesFromGroup(v);else{this.roots.push(new i);for(var m=0;m<c;++m)this.roots[0].add(this.modules[m]=new n(m))}this.R=h.length,h.forEach(function(b){var x=p.modules[d.getSourceIndex(b)],w=p.modules[d.getTargetIndex(b)],T=d.getType(b);x.outgoing.add(T,w),w.incoming.add(T,x)})}return u.prototype.initModulesFromGroup=function(c){var h=new i;this.roots.push(h);for(var d=0;d<c.leaves.length;++d){var v=c.leaves[d],p=new n(v.id);this.modules[v.id]=p,h.add(p)}if(c.groups)for(var m=0;m<c.groups.length;++m){var b=c.groups[m],x={};for(var w in b)w!=="leaves"&&w!=="groups"&&b.hasOwnProperty(w)&&(x[w]=b[w]);h.add(new n(-1-m,new o,new o,this.initModulesFromGroup(b),x))}return h},u.prototype.merge=function(c,h,d){d===void 0&&(d=0);var v=c.incoming.intersection(h.incoming),p=c.outgoing.intersection(h.outgoing),m=new i;m.add(c),m.add(h);var b=new n(this.modules.length,p,v,m);this.modules.push(b);var x=function(w,T,S){w.forAll(function(D,R){D.forAll(function(L){var _=L[T];_.add(R,b),_.remove(R,c),_.remove(R,h),c[S].remove(R,L),h[S].remove(R,L)})})};return x(p,"incoming","outgoing"),x(v,"outgoing","incoming"),this.R-=v.count()+p.count(),this.roots[d].remove(c),this.roots[d].remove(h),this.roots[d].add(b),b},u.prototype.rootMerges=function(c){c===void 0&&(c=0);for(var h=this.roots[c].modules(),d=h.length,v=new Array(d*(d-1)),p=0,m=0,b=d-1;m<b;++m)for(var x=m+1;x<d;++x){var w=h[m],T=h[x];v[p]={id:p,nEdges:this.nEdges(w,T),a:w,b:T},p++}return v},u.prototype.greedyMerge=function(){for(var c=0;c<this.roots.length;++c)if(!(this.roots[c].modules().length<2)){var h=this.rootMerges(c).sort(function(v,p){return v.nEdges==p.nEdges?v.id-p.id:v.nEdges-p.nEdges}),d=h[0];if(!(d.nEdges>=this.R))return this.merge(d.a,d.b,c),!0}},u.prototype.nEdges=function(c,h){var d=c.incoming.intersection(h.incoming),v=c.outgoing.intersection(h.outgoing);return this.R-d.count()-v.count()},u.prototype.getGroupHierarchy=function(c){var h=this,d=[],v={};r(this.roots[0],v,d);var p=this.allEdges();return p.forEach(function(m){var b=h.modules[m.source],x=h.modules[m.target];c.push(new e(typeof b.gid>"u"?m.source:d[b.gid],typeof x.gid>"u"?m.target:d[x.gid],m.type))}),d},u.prototype.allEdges=function(){var c=[];return u.getEdges(this.roots[0],c),c},u.getEdges=function(c,h){c.forAll(function(d){d.getEdges(h),u.getEdges(d.children,h)})},u})();qi.Configuration=t;function r(u,c,h){u.forAll(function(d){if(d.isLeaf())c.leaves||(c.leaves=[]),c.leaves.push(d.id);else{var v=c;if(d.gid=h.length,!d.isIsland()||d.isPredefined()){if(v={id:d.gid},d.isPredefined())for(var p in d.definition)v[p]=d.definition[p];c.groups||(c.groups=[]),c.groups.push(d.gid),h.push(v)}r(d.children,v,h)}})}var n=(function(){function u(c,h,d,v,p){h===void 0&&(h=new o),d===void 0&&(d=new o),v===void 0&&(v=new i),this.id=c,this.outgoing=h,this.incoming=d,this.children=v,this.definition=p}return u.prototype.getEdges=function(c){var h=this;this.outgoing.forAll(function(d,v){d.forAll(function(p){c.push(new e(h.id,p.id,v))})})},u.prototype.isLeaf=function(){return this.children.count()===0},u.prototype.isIsland=function(){return this.outgoing.count()===0&&this.incoming.count()===0},u.prototype.isPredefined=function(){return typeof this.definition<"u"},u})();qi.Module=n;function a(u,c){var h={};for(var d in u)d in c&&(h[d]=u[d]);return h}var i=(function(){function u(){this.table={}}return u.prototype.count=function(){return Object.keys(this.table).length},u.prototype.intersection=function(c){var h=new u;return h.table=a(this.table,c.table),h},u.prototype.intersectionCount=function(c){return this.intersection(c).count()},u.prototype.contains=function(c){return c in this.table},u.prototype.add=function(c){this.table[c.id]=c},u.prototype.remove=function(c){delete this.table[c.id]},u.prototype.forAll=function(c){for(var h in this.table)c(this.table[h])},u.prototype.modules=function(){var c=[];return this.forAll(function(h){h.isPredefined()||c.push(h)}),c},u})();qi.ModuleSet=i;var o=(function(){function u(){this.sets={},this.n=0}return u.prototype.count=function(){return this.n},u.prototype.contains=function(c){var h=!1;return this.forAllModules(function(d){!h&&d.id==c&&(h=!0)}),h},u.prototype.add=function(c,h){var d=c in this.sets?this.sets[c]:this.sets[c]=new i;d.add(h),++this.n},u.prototype.remove=function(c,h){var d=this.sets[c];d.remove(h),d.count()===0&&delete this.sets[c],--this.n},u.prototype.forAll=function(c){for(var h in this.sets)c(this.sets[h],Number(h))},u.prototype.forAllModules=function(c){this.forAll(function(h,d){return h.forAll(c)})},u.prototype.intersection=function(c){var h=new u;return this.forAll(function(d,v){if(v in c.sets){var p=d.intersection(c.sets[v]),m=p.count();m>0&&(h.sets[v]=p,h.n+=m)}}),h},u})();qi.LinkSets=o;function l(u,c,h,d){for(var v=u.length,p=new t(v,c,h,d);p.greedyMerge(););var m=[],b=p.getGroupHierarchy(m);return m.forEach(function(x){var w=function(T){var S=x[T];typeof S=="number"&&(x[T]=u[S])};w("source"),w("target")}),{groups:b,powerEdges:m}}return qi.getGroups=l,qi}var Is={},bN;function dS(){if(bN)return Is;bN=1,Object.defineProperty(Is,"__esModule",{value:!0});function e(u,c){var h={};for(var d in u)h[d]={};for(var d in c)h[d]={};return Object.keys(h).length}function t(u,c){var h=0;for(var d in u)typeof c[d]<"u"&&++h;return h}function r(u,c){var h={},d=function(v,p){typeof h[v]>"u"&&(h[v]={}),h[v][p]={}};return u.forEach(function(v){var p=c.getSourceIndex(v),m=c.getTargetIndex(v);d(p,m),d(m,p)}),h}function n(u,c,h,d){var v=r(u,d);u.forEach(function(p){var m=v[d.getSourceIndex(p)],b=v[d.getTargetIndex(p)];d.setLength(p,1+c*h(m,b))})}function a(u,c,h){h===void 0&&(h=1),n(u,h,function(d,v){return Math.sqrt(e(d,v)-t(d,v))},c)}Is.symmetricDiffLinkLengths=a;function i(u,c,h){h===void 0&&(h=1),n(u,h,function(d,v){return Math.min(Object.keys(d).length,Object.keys(v).length)<1.1?0:t(d,v)/e(d,v)},c)}Is.jaccardLinkLengths=i;function o(u,c,h,d){var v=l(u,c,d),p={};v.forEach(function(b,x){return b.forEach(function(w){return p[w]=x})});var m=[];return c.forEach(function(b){var x=d.getSourceIndex(b),w=d.getTargetIndex(b),T=p[x],S=p[w];T!==S&&m.push({axis:h,left:x,right:w,gap:d.getMinSeparation(b)})}),m}Is.generateDirectedEdgeConstraints=o;function l(u,c,h){var d=[],v=0,p=[],m=[];function b(P){P.index=P.lowlink=v++,p.push(P),P.onStack=!0;for(var U=0,j=P.out;U<j.length;U++){var F=j[U];typeof F.index>"u"?(b(F),P.lowlink=Math.min(P.lowlink,F.lowlink)):F.onStack&&(P.lowlink=Math.min(P.lowlink,F.index))}if(P.lowlink===P.index){for(var I=[];p.length&&(F=p.pop(),F.onStack=!1,I.push(F),F!==P););m.push(I.map(function(G){return G.id}))}}for(var x=0;x<u;x++)d.push({id:x,out:[]});for(var w=0,T=c;w<T.length;w++){var S=T[w],D=d[h.getSourceIndex(S)],R=d[h.getTargetIndex(S)];D.out.push(R)}for(var L=0,_=d;L<_.length;L++){var N=_[L];typeof N.index>"u"&&b(N)}return m}return Is.stronglyConnectedComponents=l,Is}var su={},xN;function vS(){if(xN)return su;xN=1,Object.defineProperty(su,"__esModule",{value:!0});var e=(function(){function n(){this.locks={}}return n.prototype.add=function(a,i){this.locks[a]=i},n.prototype.clear=function(){this.locks={}},n.prototype.isEmpty=function(){for(var a in this.locks)return!1;return!0},n.prototype.apply=function(a){for(var i in this.locks)a(Number(i),this.locks[i])},n})();su.Locks=e;var t=(function(){function n(a,i,o){o===void 0&&(o=null),this.D=i,this.G=o,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new r,this.project=null,this.x=a,this.k=a.length;var l=this.n=a[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new e,this.minD=Number.MAX_VALUE;for(var u=l,c;u--;)for(c=l;--c>u;){var h=i[u][c];h>0&&h<this.minD&&(this.minD=h)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),u=this.k;u--;){for(this.g[u]=new Array(l),this.H[u]=new Array(l),c=l;c--;)this.H[u][c]=new Array(l);this.Hd[u]=new Array(l),this.a[u]=new Array(l),this.b[u]=new Array(l),this.c[u]=new Array(l),this.d[u]=new Array(l),this.e[u]=new Array(l),this.ia[u]=new Array(l),this.ib[u]=new Array(l),this.xtmp[u]=new Array(l)}}return n.createSquareMatrix=function(a,i){for(var o=new Array(a),l=0;l<a;++l){o[l]=new Array(a);for(var u=0;u<a;++u)o[l][u]=i(l,u)}return o},n.prototype.offsetDir=function(){for(var a=this,i=new Array(this.k),o=0,l=0;l<this.k;++l){var u=i[l]=this.random.getNextBetween(.01,1)-.5;o+=u*u}return o=Math.sqrt(o),i.map(function(c){return c*=a.minD/o})},n.prototype.computeDerivatives=function(a){var i=this,o=this.n;if(!(o<1)){for(var l,u=new Array(this.k),c=new Array(this.k),h=new Array(this.k),d=0,v=0;v<o;++v){for(l=0;l<this.k;++l)h[l]=this.g[l][v]=0;for(var p=0;p<o;++p)if(v!==p){for(var m=o;m--;){var b=0;for(l=0;l<this.k;++l){var x=u[l]=a[l][v]-a[l][p];b+=c[l]=x*x}if(b>1e-9)break;var w=this.offsetDir();for(l=0;l<this.k;++l)a[l][p]+=w[l]}var T=Math.sqrt(b),S=this.D[v][p],D=this.G!=null?this.G[v][p]:1;if(D>1&&T>S||!isFinite(S)){for(l=0;l<this.k;++l)this.H[l][v][p]=0;continue}D>1&&(D=1);var R=S*S,L=2*D*(T-S)/(R*T),_=T*T*T,N=2*-D/(R*_);for(isFinite(L)||console.log(L),l=0;l<this.k;++l)this.g[l][v]+=u[l]*L,h[l]-=this.H[l][v][p]=N*(_+S*(c[l]-b)+T*b)}for(l=0;l<this.k;++l)d=Math.max(d,this.H[l][v][v]=h[l])}for(var P=this.snapGridSize/2,U=this.snapGridSize,j=this.snapStrength,F=j/(P*P),I=this.numGridSnapNodes,v=0;v<I;++v)for(l=0;l<this.k;++l){var G=this.x[l][v],Y=G/U,q=Y%1,V=Y-q,W=Math.abs(q),x=W<=.5?G-V*U:G>0?G-(V+1)*U:G-(V-1)*U;-P<x&&x<=P&&(this.scaleSnapByMaxH?(this.g[l][v]+=d*F*x,this.H[l][v][v]+=d*F):(this.g[l][v]+=F*x,this.H[l][v][v]+=F))}this.locks.isEmpty()||this.locks.apply(function(J,ie){for(l=0;l<i.k;++l)i.H[l][J][J]+=d,i.g[l][J]-=d*(ie[l]-a[l][J])})}},n.dotProd=function(a,i){for(var o=0,l=a.length;l--;)o+=a[l]*i[l];return o},n.rightMultiply=function(a,i,o){for(var l=a.length;l--;)o[l]=n.dotProd(a[l],i)},n.prototype.computeStepSize=function(a){for(var i=0,o=0,l=0;l<this.k;++l)i+=n.dotProd(this.g[l],a[l]),n.rightMultiply(this.H[l],a[l],this.Hd[l]),o+=n.dotProd(a[l],this.Hd[l]);return o===0||!isFinite(o)?0:1*i/o},n.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var a=this.computeStepSize(this.g),i=0;i<this.k;++i)this.takeDescentStep(this.x[i],this.g[i],a);return this.computeStress()},n.copy=function(a,i){for(var o=a.length,l=i[0].length,u=0;u<o;++u)for(var c=0;c<l;++c)i[u][c]=a[u][c]},n.prototype.stepAndProject=function(a,i,o,l){n.copy(a,i),this.takeDescentStep(i[0],o[0],l),this.project&&this.project[0](a[0],a[1],i[0]),this.takeDescentStep(i[1],o[1],l),this.project&&this.project[1](i[0],a[1],i[1]);for(var u=2;u<this.k;u++)this.takeDescentStep(i[u],o[u],l)},n.mApply=function(a,i,o){for(var l=a;l-- >0;)for(var u=i;u-- >0;)o(l,u)},n.prototype.matrixApply=function(a){n.mApply(this.k,this.n,a)},n.prototype.computeNextPosition=function(a,i){var o=this;this.computeDerivatives(a);var l=this.computeStepSize(this.g);if(this.stepAndProject(a,i,this.g,l),this.project){this.matrixApply(function(c,h){return o.e[c][h]=a[c][h]-i[c][h]});var u=this.computeStepSize(this.e);u=Math.max(.2,Math.min(u,1)),this.stepAndProject(a,i,this.e,u)}},n.prototype.run=function(a){for(var i=Number.MAX_VALUE,o=!1;!o&&a-- >0;){var l=this.rungeKutta();o=Math.abs(i/l-1)<this.threshold,i=l}return i},n.prototype.rungeKutta=function(){var a=this;this.computeNextPosition(this.x,this.a),n.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),n.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var i=0;return this.matrixApply(function(o,l){var u=(a.a[o][l]+2*a.b[o][l]+2*a.c[o][l]+a.d[o][l])/6,c=a.x[o][l]-u;i+=c*c,a.x[o][l]=u}),i},n.mid=function(a,i,o){n.mApply(a.length,a[0].length,function(l,u){return o[l][u]=a[l][u]+(i[l][u]-a[l][u])/2})},n.prototype.takeDescentStep=function(a,i,o){for(var l=0;l<this.n;++l)a[l]=a[l]-o*i[l]},n.prototype.computeStress=function(){for(var a=0,i=0,o=this.n-1;i<o;++i)for(var l=i+1,u=this.n;l<u;++l){for(var c=0,h=0;h<this.k;++h){var d=this.x[h][i]-this.x[h][l];c+=d*d}c=Math.sqrt(c);var v=this.D[i][l];if(isFinite(v)){var p=v-c,m=v*v;a+=p*p/m}}return a},n.zeroDistance=1e-10,n})();su.Descent=t;var r=(function(){function n(a){a===void 0&&(a=1),this.seed=a,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return n.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},n.prototype.getNextBetween=function(a,i){return a+this.getNext()*(i-a)},n})();return su.PseudoRandom=r,su}var Pn={},gi={},wN;function gS(){if(wN)return gi;wN=1,Object.defineProperty(gi,"__esModule",{value:!0});var e=(function(){function l(u){this.scale=u,this.AB=0,this.AD=0,this.A2=0}return l.prototype.addVariable=function(u){var c=this.scale/u.scale,h=u.offset/u.scale,d=u.weight;this.AB+=d*c*h,this.AD+=d*c*u.desiredPosition,this.A2+=d*c*c},l.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},l})();gi.PositionStats=e;var t=(function(){function l(u,c,h,d){d===void 0&&(d=!1),this.left=u,this.right=c,this.gap=h,this.equality=d,this.active=!1,this.unsatisfiable=!1,this.left=u,this.right=c,this.gap=h,this.equality=d}return l.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},l})();gi.Constraint=t;var r=(function(){function l(u,c,h){c===void 0&&(c=1),h===void 0&&(h=1),this.desiredPosition=u,this.weight=c,this.scale=h,this.offset=0}return l.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},l.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},l.prototype.visitNeighbours=function(u,c){var h=function(d,v){return d.active&&u!==v&&c(d,v)};this.cOut.forEach(function(d){return h(d,d.right)}),this.cIn.forEach(function(d){return h(d,d.left)})},l})();gi.Variable=r;var n=(function(){function l(u){this.vars=[],u.offset=0,this.ps=new e(u.scale),this.addVariable(u)}return l.prototype.addVariable=function(u){u.block=this,this.vars.push(u),this.ps.addVariable(u),this.posn=this.ps.getPosn()},l.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var u=0,c=this.vars.length;u<c;++u)this.ps.addVariable(this.vars[u]);this.posn=this.ps.getPosn()},l.prototype.compute_lm=function(u,c,h){var d=this,v=u.dfdv();return u.visitNeighbours(c,function(p,m){var b=d.compute_lm(m,u,h);m===p.right?(v+=b*p.left.scale,p.lm=b):(v+=b*p.right.scale,p.lm=-b),h(p)}),v/u.scale},l.prototype.populateSplitBlock=function(u,c){var h=this;u.visitNeighbours(c,function(d,v){v.offset=u.offset+(v===d.right?d.gap:-d.gap),h.addVariable(v),h.populateSplitBlock(v,u)})},l.prototype.traverse=function(u,c,h,d){var v=this;h===void 0&&(h=this.vars[0]),d===void 0&&(d=null),h.visitNeighbours(d,function(p,m){c.push(u(p)),v.traverse(u,c,m,h)})},l.prototype.findMinLM=function(){var u=null;return this.compute_lm(this.vars[0],null,function(c){!c.equality&&(u===null||c.lm<u.lm)&&(u=c)}),u},l.prototype.findMinLMBetween=function(u,c){this.compute_lm(u,null,function(){});var h=null;return this.findPath(u,null,c,function(d,v){!d.equality&&d.right===v&&(h===null||d.lm<h.lm)&&(h=d)}),h},l.prototype.findPath=function(u,c,h,d){var v=this,p=!1;return u.visitNeighbours(c,function(m,b){!p&&(b===h||v.findPath(b,u,h,d))&&(p=!0,d(m,b))}),p},l.prototype.isActiveDirectedPathBetween=function(u,c){if(u===c)return!0;for(var h=u.cOut.length;h--;){var d=u.cOut[h];if(d.active&&this.isActiveDirectedPathBetween(d.right,c))return!0}return!1},l.split=function(u){return u.active=!1,[l.createSplitBlock(u.left),l.createSplitBlock(u.right)]},l.createSplitBlock=function(u){var c=new l(u);return c.populateSplitBlock(u,null),c},l.prototype.splitBetween=function(u,c){var h=this.findMinLMBetween(u,c);if(h!==null){var d=l.split(h);return{constraint:h,lb:d[0],rb:d[1]}}return null},l.prototype.mergeAcross=function(u,c,h){c.active=!0;for(var d=0,v=u.vars.length;d<v;++d){var p=u.vars[d];p.offset+=h,this.addVariable(p)}this.posn=this.ps.getPosn()},l.prototype.cost=function(){for(var u=0,c=this.vars.length;c--;){var h=this.vars[c],d=h.position()-h.desiredPosition;u+=d*d*h.weight}return u},l})();gi.Block=n;var a=(function(){function l(u){this.vs=u;var c=u.length;for(this.list=new Array(c);c--;){var h=new n(u[c]);this.list[c]=h,h.blockInd=c}}return l.prototype.cost=function(){for(var u=0,c=this.list.length;c--;)u+=this.list[c].cost();return u},l.prototype.insert=function(u){u.blockInd=this.list.length,this.list.push(u)},l.prototype.remove=function(u){var c=this.list.length-1,h=this.list[c];this.list.length=c,u!==h&&(this.list[u.blockInd]=h,h.blockInd=u.blockInd)},l.prototype.merge=function(u){var c=u.left.block,h=u.right.block,d=u.right.offset-u.left.offset-u.gap;c.vars.length<h.vars.length?(h.mergeAcross(c,u,d),this.remove(c)):(c.mergeAcross(h,u,-d),this.remove(h))},l.prototype.forEach=function(u){this.list.forEach(u)},l.prototype.updateBlockPositions=function(){this.list.forEach(function(u){return u.updateWeightedPosition()})},l.prototype.split=function(u){var c=this;this.updateBlockPositions(),this.list.forEach(function(h){var d=h.findMinLM();d!==null&&d.lm<i.LAGRANGIAN_TOLERANCE&&(h=d.left.block,n.split(d).forEach(function(v){return c.insert(v)}),c.remove(h),u.push(d))})},l})();gi.Blocks=a;var i=(function(){function l(u,c){this.vs=u,this.cs=c,this.vs=u,u.forEach(function(h){h.cIn=[],h.cOut=[]}),this.cs=c,c.forEach(function(h){h.left.cOut.push(h),h.right.cIn.push(h)}),this.inactive=c.map(function(h){return h.active=!1,h}),this.bs=null}return l.prototype.cost=function(){return this.bs.cost()},l.prototype.setStartingPositions=function(u){this.inactive=this.cs.map(function(c){return c.active=!1,c}),this.bs=new a(this.vs),this.bs.forEach(function(c,h){return c.posn=u[h]})},l.prototype.setDesiredPositions=function(u){this.vs.forEach(function(c,h){return c.desiredPosition=u[h]})},l.prototype.mostViolated=function(){for(var u=Number.MAX_VALUE,c=null,h=this.inactive,d=h.length,v=d,p=0;p<d;++p){var m=h[p];if(!m.unsatisfiable){var b=m.slack();if((m.equality||b<u)&&(u=b,c=m,v=p,m.equality))break}}return v!==d&&(u<l.ZERO_UPPERBOUND&&!c.active||c.equality)&&(h[v]=h[d-1],h.length=d-1),c},l.prototype.satisfy=function(){this.bs==null&&(this.bs=new a(this.vs)),this.bs.split(this.inactive);for(var u=null;(u=this.mostViolated())&&(u.equality||u.slack()<l.ZERO_UPPERBOUND&&!u.active);){var c=u.left.block,h=u.right.block;if(c!==h)this.bs.merge(u);else{if(c.isActiveDirectedPathBetween(u.right,u.left)){u.unsatisfiable=!0;continue}var d=c.splitBetween(u.left,u.right);if(d!==null)this.bs.insert(d.lb),this.bs.insert(d.rb),this.bs.remove(c),this.inactive.push(d.constraint);else{u.unsatisfiable=!0;continue}u.slack()>=0?this.inactive.push(u):this.bs.merge(u)}}},l.prototype.solve=function(){this.satisfy();for(var u=Number.MAX_VALUE,c=this.bs.cost();Math.abs(u-c)>1e-4;)this.satisfy(),u=c,c=this.bs.cost();return c},l.LAGRANGIAN_TOLERANCE=-1e-4,l.ZERO_UPPERBOUND=-1e-10,l})();gi.Solver=i;function o(l,u,c){for(var h=l.map(function(_){return new r(_.desiredCenter)}),d=[],v=l.length,p=0;p<v-1;p++){var m=l[p],b=l[p+1];d.push(new t(h[p],h[p+1],(m.size+b.size)/2))}var x=h[0],w=h[v-1],T=l[0].size/2,S=l[v-1].size/2,D=null,R=null;u&&(D=new r(u,x.weight*1e3),h.push(D),d.push(new t(D,x,T))),c&&(R=new r(c,w.weight*1e3),h.push(R),d.push(new t(w,R,S)));var L=new i(h,d);return L.solve(),{newCenters:h.slice(0,l.length).map(function(_){return _.position()}),lowerBound:D?D.position():x.position()-T,upperBound:R?R.position():w.position()+S}}return gi.removeOverlapInOneDimension=o,gi}var qo={},EN;function j3(){if(EN)return qo;EN=1;var e=qo&&qo.__extends||(function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var h in c)c.hasOwnProperty(h)&&(u[h]=c[h])},i(o,l)};return function(o,l){i(o,l);function u(){this.constructor=o}o.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}})();Object.defineProperty(qo,"__esModule",{value:!0});var t=(function(){function i(){this.findIter=function(o){for(var l=this._root,u=this.iterator();l!==null;){var c=this._comparator(o,l.data);if(c===0)return u._cursor=l,u;u._ancestors.push(l),l=l.get_child(c>0)}return null}}return i.prototype.clear=function(){this._root=null,this.size=0},i.prototype.find=function(o){for(var l=this._root;l!==null;){var u=this._comparator(o,l.data);if(u===0)return l.data;l=l.get_child(u>0)}return null},i.prototype.lowerBound=function(o){return this._bound(o,this._comparator)},i.prototype.upperBound=function(o){var l=this._comparator;function u(c,h){return l(h,c)}return this._bound(o,u)},i.prototype.min=function(){var o=this._root;if(o===null)return null;for(;o.left!==null;)o=o.left;return o.data},i.prototype.max=function(){var o=this._root;if(o===null)return null;for(;o.right!==null;)o=o.right;return o.data},i.prototype.iterator=function(){return new r(this)},i.prototype.each=function(o){for(var l=this.iterator(),u;(u=l.next())!==null;)o(u)},i.prototype.reach=function(o){for(var l=this.iterator(),u;(u=l.prev())!==null;)o(u)},i.prototype._bound=function(o,l){for(var u=this._root,c=this.iterator();u!==null;){var h=this._comparator(o,u.data);if(h===0)return c._cursor=u,c;c._ancestors.push(u),u=u.get_child(h>0)}for(var d=c._ancestors.length-1;d>=0;--d)if(u=c._ancestors[d],l(o,u.data)>0)return c._cursor=u,c._ancestors.length=d,c;return c._ancestors.length=0,c},i})();qo.TreeBase=t;var r=(function(){function i(o){this._tree=o,this._ancestors=[],this._cursor=null}return i.prototype.data=function(){return this._cursor!==null?this._cursor.data:null},i.prototype.next=function(){if(this._cursor===null){var o=this._tree._root;o!==null&&this._minNode(o)}else if(this._cursor.right===null){var l;do if(l=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.right===l)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return this._cursor!==null?this._cursor.data:null},i.prototype.prev=function(){if(this._cursor===null){var o=this._tree._root;o!==null&&this._maxNode(o)}else if(this._cursor.left===null){var l;do if(l=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.left===l)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return this._cursor!==null?this._cursor.data:null},i.prototype._minNode=function(o){for(;o.left!==null;)this._ancestors.push(o),o=o.left;this._cursor=o},i.prototype._maxNode=function(o){for(;o.right!==null;)this._ancestors.push(o),o=o.right;this._cursor=o},i})();qo.Iterator=r;var n=(function(){function i(o){this.data=o,this.left=null,this.right=null,this.red=!0}return i.prototype.get_child=function(o){return o?this.right:this.left},i.prototype.set_child=function(o,l){o?this.right=l:this.left=l},i})(),a=(function(i){e(o,i);function o(l){var u=i.call(this)||this;return u._root=null,u._comparator=l,u.size=0,u}return o.prototype.insert=function(l){var u=!1;if(this._root===null)this._root=new n(l),u=!0,this.size++;else{var c=new n(void 0),h=!1,d=!1,v=null,p=c,m=null,b=this._root;for(p.right=this._root;;){if(b===null?(b=new n(l),m.set_child(h,b),u=!0,this.size++):o.is_red(b.left)&&o.is_red(b.right)&&(b.red=!0,b.left.red=!1,b.right.red=!1),o.is_red(b)&&o.is_red(m)){var x=p.right===v;b===m.get_child(d)?p.set_child(x,o.single_rotate(v,!d)):p.set_child(x,o.double_rotate(v,!d))}var w=this._comparator(b.data,l);if(w===0)break;d=h,h=w<0,v!==null&&(p=v),v=m,m=b,b=b.get_child(h)}this._root=c.right}return this._root.red=!1,u},o.prototype.remove=function(l){if(this._root===null)return!1;var u=new n(void 0),c=u;c.right=this._root;for(var h=null,d=null,v=null,p=!0;c.get_child(p)!==null;){var m=p;d=h,h=c,c=c.get_child(p);var b=this._comparator(l,c.data);if(p=b>0,b===0&&(v=c),!o.is_red(c)&&!o.is_red(c.get_child(p))){if(o.is_red(c.get_child(!p))){var x=o.single_rotate(c,p);h.set_child(m,x),h=x}else if(!o.is_red(c.get_child(!p))){var w=h.get_child(!m);if(w!==null)if(!o.is_red(w.get_child(!m))&&!o.is_red(w.get_child(m)))h.red=!1,w.red=!0,c.red=!0;else{var T=d.right===h;o.is_red(w.get_child(m))?d.set_child(T,o.double_rotate(h,m)):o.is_red(w.get_child(!m))&&d.set_child(T,o.single_rotate(h,m));var S=d.get_child(T);S.red=!0,c.red=!0,S.left.red=!1,S.right.red=!1}}}}return v!==null&&(v.data=c.data,h.set_child(h.right===c,c.get_child(c.left===null)),this.size--),this._root=u.right,this._root!==null&&(this._root.red=!1),v!==null},o.is_red=function(l){return l!==null&&l.red},o.single_rotate=function(l,u){var c=l.get_child(!u);return l.set_child(!u,c.get_child(u)),c.set_child(u,l),l.red=!0,c.red=!1,c},o.double_rotate=function(l,u){return l.set_child(!u,o.single_rotate(l.get_child(!u),!u)),o.single_rotate(l,u)},o})(t);return qo.RBTree=a,qo}var SN;function hh(){if(SN)return Pn;SN=1;var e=Pn&&Pn.__extends||(function(){var N=function(P,U){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,F){j.__proto__=F}||function(j,F){for(var I in F)F.hasOwnProperty(I)&&(j[I]=F[I])},N(P,U)};return function(P,U){N(P,U);function j(){this.constructor=P}P.prototype=U===null?Object.create(U):(j.prototype=U.prototype,new j)}})();Object.defineProperty(Pn,"__esModule",{value:!0});var t=gS(),r=j3();function n(N){return N.bounds=typeof N.leaves<"u"?N.leaves.reduce(function(P,U){return U.bounds.union(P)},a.empty()):a.empty(),typeof N.groups<"u"&&(N.bounds=N.groups.reduce(function(P,U){return n(U).union(P)},N.bounds)),N.bounds=N.bounds.inflate(N.padding),N.bounds}Pn.computeGroupBounds=n;var a=(function(){function N(P,U,j,F){this.x=P,this.X=U,this.y=j,this.Y=F}return N.empty=function(){return new N(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},N.prototype.cx=function(){return(this.x+this.X)/2},N.prototype.cy=function(){return(this.y+this.Y)/2},N.prototype.overlapX=function(P){var U=this.cx(),j=P.cx();return U<=j&&P.x<this.X?this.X-P.x:j<=U&&this.x<P.X?P.X-this.x:0},N.prototype.overlapY=function(P){var U=this.cy(),j=P.cy();return U<=j&&P.y<this.Y?this.Y-P.y:j<=U&&this.y<P.Y?P.Y-this.y:0},N.prototype.setXCentre=function(P){var U=P-this.cx();this.x+=U,this.X+=U},N.prototype.setYCentre=function(P){var U=P-this.cy();this.y+=U,this.Y+=U},N.prototype.width=function(){return this.X-this.x},N.prototype.height=function(){return this.Y-this.y},N.prototype.union=function(P){return new N(Math.min(this.x,P.x),Math.max(this.X,P.X),Math.min(this.y,P.y),Math.max(this.Y,P.Y))},N.prototype.lineIntersections=function(P,U,j,F){for(var I=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],G=[],Y=0;Y<4;++Y){var q=N.lineIntersection(P,U,j,F,I[Y][0],I[Y][1],I[Y][2],I[Y][3]);q!==null&&G.push({x:q.x,y:q.y})}return G},N.prototype.rayIntersection=function(P,U){var j=this.lineIntersections(this.cx(),this.cy(),P,U);return j.length>0?j[0]:null},N.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},N.lineIntersection=function(P,U,j,F,I,G,Y,q){var V=j-P,W=Y-I,J=F-U,ie=q-G,K=ie*V-W*J;if(K==0)return null;var Z=P-I,fe=U-G,he=W*fe-ie*Z,oe=he/K,be=V*fe-J*Z,Ae=be/K;return oe>=0&&oe<=1&&Ae>=0&&Ae<=1?{x:P+oe*V,y:U+oe*J}:null},N.prototype.inflate=function(P){return new N(this.x-P,this.X+P,this.y-P,this.Y+P)},N})();Pn.Rectangle=a;function i(N,P,U){var j=N.rayIntersection(P.cx(),P.cy())||{x:N.cx(),y:N.cy()},F=P.rayIntersection(N.cx(),N.cy())||{x:P.cx(),y:P.cy()},I=F.x-j.x,G=F.y-j.y,Y=Math.sqrt(I*I+G*G),q=Y-U;return{sourceIntersection:j,targetIntersection:F,arrowStart:{x:j.x+q*I/Y,y:j.y+q*G/Y}}}Pn.makeEdgeBetween=i;function o(N,P,U){var j=P.rayIntersection(N.x,N.y);j||(j={x:P.cx(),y:P.cy()});var F=j.x-N.x,I=j.y-N.y,G=Math.sqrt(F*F+I*I);return{x:j.x-U*F/G,y:j.y-U*I/G}}Pn.makeEdgeTo=o;var l=(function(){function N(P,U,j){this.v=P,this.r=U,this.pos=j,this.prev=h(),this.next=h()}return N})(),u=(function(){function N(P,U,j){this.isOpen=P,this.v=U,this.pos=j}return N})();function c(N,P){return N.pos>P.pos?1:N.pos<P.pos||N.isOpen?-1:P.isOpen?1:0}function h(){return new r.RBTree(function(N,P){return N.pos-P.pos})}var d={getCentre:function(N){return N.cx()},getOpen:function(N){return N.y},getClose:function(N){return N.Y},getSize:function(N){return N.width()},makeRect:function(N,P,U,j){return new a(U-j/2,U+j/2,N,P)},findNeighbours:b},v={getCentre:function(N){return N.cy()},getOpen:function(N){return N.x},getClose:function(N){return N.X},getSize:function(N){return N.height()},makeRect:function(N,P,U,j){return new a(N,P,U-j/2,U+j/2)},findNeighbours:x};function p(N,P,U,j){j===void 0&&(j=!1);var F=N.padding,I=typeof N.groups<"u"?N.groups.length:0,G=typeof N.leaves<"u"?N.leaves.length:0,Y=I?N.groups.reduce(function(ce,ae){return ce.concat(p(ae,P,U,!0))},[]):[],q=(j?2:0)+G+I,V=new Array(q),W=new Array(q),J=0,ie=function(ce,ae){W[J]=ce,V[J++]=ae};if(j){var K=N.bounds,Z=P.getCentre(K),fe=P.getSize(K)/2,he=P.getOpen(K),oe=P.getClose(K),be=Z-fe+F/2,Ae=Z+fe-F/2;N.minVar.desiredPosition=be,ie(P.makeRect(he,oe,be,F),N.minVar),N.maxVar.desiredPosition=Ae,ie(P.makeRect(he,oe,Ae,F),N.maxVar)}G&&N.leaves.forEach(function(ce){return ie(ce.bounds,ce.variable)}),I&&N.groups.forEach(function(ce){var ae=ce.bounds;ie(P.makeRect(P.getOpen(ae),P.getClose(ae),P.getCentre(ae),P.getSize(ae)),ce.minVar)});var Le=m(W,V,P,U);return I&&(V.forEach(function(ce){ce.cOut=[],ce.cIn=[]}),Le.forEach(function(ce){ce.left.cOut.push(ce),ce.right.cIn.push(ce)}),N.groups.forEach(function(ce){var ae=(ce.padding-P.getSize(ce.bounds))/2;ce.minVar.cIn.forEach(function(le){return le.gap+=ae}),ce.minVar.cOut.forEach(function(le){le.left=ce.maxVar,le.gap+=ae})})),Y.concat(Le)}function m(N,P,U,j){var F,I=N.length,G=2*I;console.assert(P.length>=I);var Y=new Array(G);for(F=0;F<I;++F){var q=N[F],V=new l(P[F],q,U.getCentre(q));Y[F]=new u(!0,V,U.getOpen(q)),Y[F+I]=new u(!1,V,U.getClose(q))}Y.sort(c);var W=new Array,J=h();for(F=0;F<G;++F){var ie=Y[F],V=ie.v;if(ie.isOpen)J.insert(V),U.findNeighbours(V,J);else{J.remove(V);var K=function(he,oe){var be=(U.getSize(he.r)+U.getSize(oe.r))/2+j;W.push(new t.Constraint(he.v,oe.v,be))},Z=function(he,oe,be){for(var Ae,Le=V[he].iterator();(Ae=Le[he]())!==null;)be(Ae,V),Ae[oe].remove(V)};Z("prev","next",function(he,oe){return K(he,oe)}),Z("next","prev",function(he,oe){return K(oe,he)})}}return console.assert(J.size===0),W}function b(N,P){var U=function(j,F){for(var I=P.findIter(N),G;(G=I[j]())!==null;){var Y=G.r.overlapX(N.r);if((Y<=0||Y<=G.r.overlapY(N.r))&&(N[j].insert(G),G[F].insert(N)),Y<=0)break}};U("next","prev"),U("prev","next")}function x(N,P){var U=function(j,F){var I=P.findIter(N)[j]();I!==null&&I.r.overlapX(N.r)>0&&(N[j].insert(I),I[F].insert(N))};U("next","prev"),U("prev","next")}function w(N,P){return m(N,P,d,1e-6)}Pn.generateXConstraints=w;function T(N,P){return m(N,P,v,1e-6)}Pn.generateYConstraints=T;function S(N){return p(N,d,1e-6)}Pn.generateXGroupConstraints=S;function D(N){return p(N,v,1e-6)}Pn.generateYGroupConstraints=D;function R(N){var P=N.map(function(F){return new t.Variable(F.cx())}),U=w(N,P),j=new t.Solver(P,U);j.solve(),P.forEach(function(F,I){return N[I].setXCentre(F.position())}),P=N.map(function(F){return new t.Variable(F.cy())}),U=T(N,P),j=new t.Solver(P,U),j.solve(),P.forEach(function(F,I){return N[I].setYCentre(F.position())})}Pn.removeOverlaps=R;var L=(function(N){e(P,N);function P(U,j){var F=N.call(this,0,j)||this;return F.index=U,F}return P})(t.Variable);Pn.IndexedVariable=L;var _=(function(){function N(P,U,j,F,I){var G=this;if(j===void 0&&(j=null),F===void 0&&(F=null),I===void 0&&(I=!1),this.nodes=P,this.groups=U,this.rootGroup=j,this.avoidOverlaps=I,this.variables=P.map(function(q,V){return q.variable=new L(V,1)}),F&&this.createConstraints(F),I&&j&&typeof j.groups<"u"){P.forEach(function(q){if(!q.width||!q.height){q.bounds=new a(q.x,q.x,q.y,q.y);return}var V=q.width/2,W=q.height/2;q.bounds=new a(q.x-V,q.x+V,q.y-W,q.y+W)}),n(j);var Y=P.length;U.forEach(function(q){G.variables[Y]=q.minVar=new L(Y++,typeof q.stiffness<"u"?q.stiffness:.01),G.variables[Y]=q.maxVar=new L(Y++,typeof q.stiffness<"u"?q.stiffness:.01)})}}return N.prototype.createSeparation=function(P){return new t.Constraint(this.nodes[P.left].variable,this.nodes[P.right].variable,P.gap,typeof P.equality<"u"?P.equality:!1)},N.prototype.makeFeasible=function(P){var U=this;if(this.avoidOverlaps){var j="x",F="width";P.axis==="x"&&(j="y",F="height");var I=P.offsets.map(function(Y){return U.nodes[Y.node]}).sort(function(Y,q){return Y[j]-q[j]}),G=null;I.forEach(function(Y){if(G){var q=G[j]+G[F];q>Y[j]&&(Y[j]=q)}G=Y})}},N.prototype.createAlignment=function(P){var U=this,j=this.nodes[P.offsets[0].node].variable;this.makeFeasible(P);var F=P.axis==="x"?this.xConstraints:this.yConstraints;P.offsets.slice(1).forEach(function(I){var G=U.nodes[I.node].variable;F.push(new t.Constraint(j,G,I.offset,!0))})},N.prototype.createConstraints=function(P){var U=this,j=function(F){return typeof F.type>"u"||F.type==="separation"};this.xConstraints=P.filter(function(F){return F.axis==="x"&&j(F)}).map(function(F){return U.createSeparation(F)}),this.yConstraints=P.filter(function(F){return F.axis==="y"&&j(F)}).map(function(F){return U.createSeparation(F)}),P.filter(function(F){return F.type==="alignment"}).forEach(function(F){return U.createAlignment(F)})},N.prototype.setupVariablesAndBounds=function(P,U,j,F){this.nodes.forEach(function(I,G){I.fixed?(I.variable.weight=I.fixedWeight?I.fixedWeight:1e3,j[G]=F(I)):I.variable.weight=1;var Y=(I.width||0)/2,q=(I.height||0)/2,V=P[G],W=U[G];I.bounds=new a(V-Y,V+Y,W-q,W+q)})},N.prototype.xProject=function(P,U,j){!this.rootGroup&&!(this.avoidOverlaps||this.xConstraints)||this.project(P,U,P,j,function(F){return F.px},this.xConstraints,S,function(F){return F.bounds.setXCentre(j[F.variable.index]=F.variable.position())},function(F){var I=j[F.minVar.index]=F.minVar.position(),G=j[F.maxVar.index]=F.maxVar.position(),Y=F.padding/2;F.bounds.x=I-Y,F.bounds.X=G+Y})},N.prototype.yProject=function(P,U,j){!this.rootGroup&&!this.yConstraints||this.project(P,U,U,j,function(F){return F.py},this.yConstraints,D,function(F){return F.bounds.setYCentre(j[F.variable.index]=F.variable.position())},function(F){var I=j[F.minVar.index]=F.minVar.position(),G=j[F.maxVar.index]=F.maxVar.position(),Y=F.padding/2;F.bounds.y=I-Y,F.bounds.Y=G+Y})},N.prototype.projectFunctions=function(){var P=this;return[function(U,j,F){return P.xProject(U,j,F)},function(U,j,F){return P.yProject(U,j,F)}]},N.prototype.project=function(P,U,j,F,I,G,Y,q,V){this.setupVariablesAndBounds(P,U,F,I),this.rootGroup&&this.avoidOverlaps&&(n(this.rootGroup),G=G.concat(Y(this.rootGroup))),this.solve(this.variables,G,j,F),this.nodes.forEach(q),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(V),n(this.rootGroup))},N.prototype.solve=function(P,U,j,F){var I=new t.Solver(P,U);I.setStartingPositions(j),I.setDesiredPositions(F),I.solve()},N})();return Pn.Projection=_,Pn}var av={},ef={},TN;function B3(){if(TN)return ef;TN=1,Object.defineProperty(ef,"__esModule",{value:!0});var e=(function(){function r(n){this.elem=n,this.subheaps=[]}return r.prototype.toString=function(n){for(var a="",i=!1,o=0;o<this.subheaps.length;++o){var l=this.subheaps[o];if(!l.elem){i=!1;continue}i&&(a=a+","),a=a+l.toString(n),i=!0}return a!==""&&(a="("+a+")"),(this.elem?n(this.elem):"")+a},r.prototype.forEach=function(n){this.empty()||(n(this.elem,this),this.subheaps.forEach(function(a){return a.forEach(n)}))},r.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(n,a){return n+a.count()},0)},r.prototype.min=function(){return this.elem},r.prototype.empty=function(){return this.elem==null},r.prototype.contains=function(n){if(this===n)return!0;for(var a=0;a<this.subheaps.length;a++)if(this.subheaps[a].contains(n))return!0;return!1},r.prototype.isHeap=function(n){var a=this;return this.subheaps.every(function(i){return n(a.elem,i.elem)&&i.isHeap(n)})},r.prototype.insert=function(n,a){return this.merge(new r(n),a)},r.prototype.merge=function(n,a){return this.empty()?n:n.empty()?this:a(this.elem,n.elem)?(this.subheaps.push(n),this):(n.subheaps.push(this),n)},r.prototype.removeMin=function(n){return this.empty()?null:this.mergePairs(n)},r.prototype.mergePairs=function(n){if(this.subheaps.length==0)return new r(null);if(this.subheaps.length==1)return this.subheaps[0];var a=this.subheaps.pop().merge(this.subheaps.pop(),n),i=this.mergePairs(n);return a.merge(i,n)},r.prototype.decreaseKey=function(n,a,i,o){var l=n.removeMin(o);n.elem=l.elem,n.subheaps=l.subheaps,i!==null&&l.elem!==null&&i(n.elem,n);var u=new r(a);return i!==null&&i(a,u),this.merge(u,o)},r})();ef.PairingHeap=e;var t=(function(){function r(n){this.lessThan=n}return r.prototype.top=function(){return this.empty()?null:this.root.elem},r.prototype.push=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];for(var i,o=0,l;l=n[o];++o)i=new e(l),this.root=this.empty()?i:this.root.merge(i,this.lessThan);return i},r.prototype.empty=function(){return!this.root||!this.root.elem},r.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},r.prototype.forEach=function(n){this.root.forEach(n)},r.prototype.pop=function(){if(this.empty())return null;var n=this.root.min();return this.root=this.root.removeMin(this.lessThan),n},r.prototype.reduceKey=function(n,a,i){i===void 0&&(i=null),this.root=this.root.decreaseKey(n,a,i,this.lessThan)},r.prototype.toString=function(n){return this.root.toString(n)},r.prototype.count=function(){return this.root.count()},r})();return ef.PriorityQueue=t,ef}var AN;function Ap(){if(AN)return av;AN=1,Object.defineProperty(av,"__esModule",{value:!0});var e=B3(),t=(function(){function i(o,l){this.id=o,this.distance=l}return i})(),r=(function(){function i(o){this.id=o,this.neighbours=[]}return i})(),n=(function(){function i(o,l,u){this.node=o,this.prev=l,this.d=u}return i})(),a=(function(){function i(o,l,u,c,h){this.n=o,this.es=l,this.neighbours=new Array(this.n);for(var d=this.n;d--;)this.neighbours[d]=new r(d);for(d=this.es.length;d--;){var v=this.es[d],p=u(v),m=c(v),b=h(v);this.neighbours[p].neighbours.push(new t(m,b)),this.neighbours[m].neighbours.push(new t(p,b))}}return i.prototype.DistanceMatrix=function(){for(var o=new Array(this.n),l=0;l<this.n;++l)o[l]=this.dijkstraNeighbours(l);return o},i.prototype.DistancesFromNode=function(o){return this.dijkstraNeighbours(o)},i.prototype.PathFromNodeToNode=function(o,l){return this.dijkstraNeighbours(o,l)},i.prototype.PathFromNodeToNodeWithPrevCost=function(o,l,u){var c=new e.PriorityQueue(function(D,R){return D.d<=R.d}),h=this.neighbours[o],d=new n(h,null,0),v={};for(c.push(d);!c.empty()&&(d=c.pop(),h=d.node,h.id!==l);)for(var p=h.neighbours.length;p--;){var m=h.neighbours[p],b=this.neighbours[m.id];if(!(d.prev&&b.id===d.prev.node.id)){var x=b.id+","+h.id;if(!(x in v&&v[x]<=d.d)){var w=d.prev?u(d.prev.node.id,h.id,b.id):0,T=d.d+m.distance+w;v[x]=T,c.push(new n(b,d,T))}}}for(var S=[];d.prev;)d=d.prev,S.push(d.node.id);return S},i.prototype.dijkstraNeighbours=function(o,l){l===void 0&&(l=-1);for(var u=new e.PriorityQueue(function(w,T){return w.d<=T.d}),c=this.neighbours.length,h=new Array(c);c--;){var d=this.neighbours[c];d.d=c===o?0:Number.POSITIVE_INFINITY,d.q=u.push(d)}for(;!u.empty();){var v=u.pop();if(h[v.id]=v.d,v.id===l){for(var p=[],m=v;typeof m.prev<"u";)p.push(m.prev.id),m=m.prev;return p}for(c=v.neighbours.length;c--;){var b=v.neighbours[c],m=this.neighbours[b.id],x=v.d+b.distance;v.d!==Number.MAX_VALUE&&m.d>x&&(m.d=x,m.prev=v,u.reduceKey(m.q,m,function(T,S){return T.q=S}))}}return h},i})();return av.Calculator=a,av}var kr={},CN;function I3(){if(CN)return kr;CN=1;var e=kr&&kr.__extends||(function(){var I=function(G,Y){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,V){q.__proto__=V}||function(q,V){for(var W in V)V.hasOwnProperty(W)&&(q[W]=V[W])},I(G,Y)};return function(G,Y){I(G,Y);function q(){this.constructor=G}G.prototype=Y===null?Object.create(Y):(q.prototype=Y.prototype,new q)}})();Object.defineProperty(kr,"__esModule",{value:!0});var t=hh(),r=(function(){function I(){}return I})();kr.Point=r;var n=(function(){function I(G,Y,q,V){this.x1=G,this.y1=Y,this.x2=q,this.y2=V}return I})();kr.LineSegment=n;var a=(function(I){e(G,I);function G(){return I!==null&&I.apply(this,arguments)||this}return G})(r);kr.PolyPoint=a;function i(I,G,Y){return(G.x-I.x)*(Y.y-I.y)-(Y.x-I.x)*(G.y-I.y)}kr.isLeft=i;function o(I,G,Y){return i(I,G,Y)>0}function l(I,G,Y){return i(I,G,Y)<0}function u(I){var G=I.slice(0).sort(function(oe,be){return oe.x!==be.x?be.x-oe.x:be.y-oe.y}),Y=I.length,q,V=0,W=G[0].x;for(q=1;q<Y&&G[q].x===W;++q);var J=q-1,ie=[];if(ie.push(G[V]),J===Y-1)G[J].y!==G[V].y&&ie.push(G[J]);else{var K,Z=Y-1,fe=G[Y-1].x;for(q=Y-2;q>=0&&G[q].x===fe;q--);for(K=q+1,q=J;++q<=K;)if(!(i(G[V],G[K],G[q])>=0&&q<K)){for(;ie.length>1&&!(i(ie[ie.length-2],ie[ie.length-1],G[q])>0);)ie.length-=1;q!=V&&ie.push(G[q])}Z!=K&&ie.push(G[Z]);var he=ie.length;for(q=K;--q>=J;)if(!(i(G[Z],G[J],G[q])>=0&&q>J)){for(;ie.length>he&&!(i(ie[ie.length-2],ie[ie.length-1],G[q])>0);)ie.length-=1;q!=V&&ie.push(G[q])}}return ie}kr.ConvexHull=u;function c(I,G,Y){G.slice(0).sort(function(q,V){return Math.atan2(q.y-I.y,q.x-I.x)-Math.atan2(V.y-I.y,V.x-I.x)}).forEach(Y)}kr.clockwiseRadialSweep=c;function h(I,G){var Y=G.slice(0);return Y.push(G[0]),{rtan:d(I,Y),ltan:v(I,Y)}}function d(I,G){var Y=G.length-1,q,V,W,J,ie;if(l(I,G[1],G[0])&&!o(I,G[Y-1],G[0]))return 0;for(q=0,V=Y;;){if(V-q===1)return o(I,G[q],G[V])?q:V;if(W=Math.floor((q+V)/2),ie=l(I,G[W+1],G[W]),ie&&!o(I,G[W-1],G[W]))return W;J=o(I,G[q+1],G[q]),J?ie||o(I,G[q],G[W])?V=W:q=W:ie&&l(I,G[q],G[W])?V=W:q=W}}function v(I,G){var Y=G.length-1,q,V,W,J,ie;if(o(I,G[Y-1],G[0])&&!l(I,G[1],G[0]))return 0;for(q=0,V=Y;;){if(V-q===1)return l(I,G[q],G[V])?q:V;if(W=Math.floor((q+V)/2),ie=l(I,G[W+1],G[W]),o(I,G[W-1],G[W])&&!ie)return W;J=l(I,G[q+1],G[q]),J?ie?l(I,G[q],G[W])?V=W:q=W:V=W:ie?q=W:o(I,G[q],G[W])?V=W:q=W}}function p(I,G,Y,q,V,W){var J,ie;J=Y(G[0],I),ie=q(I[J],G);for(var K=!1;!K;){for(K=!0;J===I.length-1&&(J=0),!V(G[ie],I[J],I[J+1]);)++J;for(;ie===0&&(ie=G.length-1),!W(I[J],G[ie],G[ie-1]);)--ie,K=!1}return{t1:J,t2:ie}}kr.tangent_PolyPolyC=p;function m(I,G){var Y=b(G,I);return{t1:Y.t2,t2:Y.t1}}kr.LRtangent_PolyPolyC=m;function b(I,G){return p(I,G,d,v,o,l)}kr.RLtangent_PolyPolyC=b;function x(I,G){return p(I,G,v,v,l,l)}kr.LLtangent_PolyPolyC=x;function w(I,G){return p(I,G,d,d,o,o)}kr.RRtangent_PolyPolyC=w;var T=(function(){function I(G,Y){this.t1=G,this.t2=Y}return I})();kr.BiTangent=T;var S=(function(){function I(){}return I})();kr.BiTangents=S;var D=(function(I){e(G,I);function G(){return I!==null&&I.apply(this,arguments)||this}return G})(r);kr.TVGPoint=D;var R=(function(){function I(G,Y,q,V){this.id=G,this.polyid=Y,this.polyvertid=q,this.p=V,V.vv=this}return I})();kr.VisibilityVertex=R;var L=(function(){function I(G,Y){this.source=G,this.target=Y}return I.prototype.length=function(){var G=this.source.p.x-this.target.p.x,Y=this.source.p.y-this.target.p.y;return Math.sqrt(G*G+Y*Y)},I})();kr.VisibilityEdge=L;var _=(function(){function I(G,Y){if(this.P=G,this.V=[],this.E=[],Y)this.V=Y.V.slice(0),this.E=Y.E.slice(0);else{for(var q=G.length,V=0;V<q;V++){for(var W=G[V],J=0;J<W.length;++J){var ie=W[J],K=new R(this.V.length,V,J,ie);this.V.push(K),J>0&&this.E.push(new L(W[J-1].vv,K))}W.length>1&&this.E.push(new L(W[0].vv,W[W.length-1].vv))}for(var V=0;V<q-1;V++)for(var Z=G[V],J=V+1;J<q;J++){var fe=G[J],he=P(Z,fe);for(var oe in he){var be=he[oe],Ae=Z[be.t1],Le=fe[be.t2];this.addEdgeIfVisible(Ae,Le,V,J)}}}}return I.prototype.addEdgeIfVisible=function(G,Y,q,V){this.intersectsPolys(new n(G.x,G.y,Y.x,Y.y),q,V)||this.E.push(new L(G.vv,Y.vv))},I.prototype.addPoint=function(G,Y){var q=this.P.length;this.V.push(new R(this.V.length,q,0,G));for(var V=0;V<q;++V)if(V!==Y){var W=this.P[V],J=h(G,W);this.addEdgeIfVisible(G,W[J.ltan],Y,V),this.addEdgeIfVisible(G,W[J.rtan],Y,V)}return G.vv},I.prototype.intersectsPolys=function(G,Y,q){for(var V=0,W=this.P.length;V<W;++V)if(V!=Y&&V!=q&&N(G,this.P[V]).length>0)return!0;return!1},I})();kr.TangentVisibilityGraph=_;function N(I,G){for(var Y=[],q=1,V=G.length;q<V;++q){var W=t.Rectangle.lineIntersection(I.x1,I.y1,I.x2,I.y2,G[q-1].x,G[q-1].y,G[q].x,G[q].y);W&&Y.push(W)}return Y}function P(I,G){for(var Y=I.length-1,q=G.length-1,V=new S,W=0;W<Y;++W)for(var J=0;J<q;++J){var ie=I[W==0?Y-1:W-1],K=I[W],Z=I[W+1],fe=G[J==0?q-1:J-1],he=G[J],oe=G[J+1],be=i(ie,K,he),Ae=i(K,fe,he),Le=i(K,he,oe),ce=i(fe,he,K),ae=i(he,ie,K),le=i(he,K,Z);be>=0&&Ae>=0&&Le<0&&ce>=0&&ae>=0&&le<0?V.ll=new T(W,J):be<=0&&Ae<=0&&Le>0&&ce<=0&&ae<=0&&le>0?V.rr=new T(W,J):be<=0&&Ae>0&&Le<=0&&ce>=0&&ae<0&&le>=0?V.rl=new T(W,J):be>=0&&Ae<0&&Le>=0&&ce<=0&&ae>0&&le<=0&&(V.lr=new T(W,J))}return V}kr.tangents=P;function U(I,G){for(var Y=1,q=G.length;Y<q;++Y)if(l(G[Y-1],G[Y],I))return!1;return!0}function j(I,G){return!I.every(function(Y){return!U(Y,G)})}function F(I,G){if(j(I,G)||j(G,I))return!0;for(var Y=1,q=I.length;Y<q;++Y){var V=I[Y],W=I[Y-1];if(N(new n(W.x,W.y,V.x,V.y),G).length>0)return!0}return!1}return kr.polysOverlap=F,kr}var tf={},MN;function z3(){if(MN)return tf;MN=1,Object.defineProperty(tf,"__esModule",{value:!0});var e={PADDING:10,GOLDEN_SECTION:(1+Math.sqrt(5))/2,FLOAT_EPSILON:1e-4};function t(n,a,i,m,p,u){p===void 0&&(p=1),u===void 0&&(u=!0);var c=0,h=0,d=a,v=i,p=typeof p<"u"?p:1,m=typeof m<"u"?m:0,b=0,x=0,w=0,T=0,S=[];if(n.length==0)return;D(n),L(n),u&&R(n);function D(j){j.forEach(function(I){F(I)});function F(I){var G=Number.MAX_VALUE,Y=Number.MAX_VALUE,q=0,V=0;I.array.forEach(function(W){var J=typeof W.width<"u"?W.width:m,ie=typeof W.height<"u"?W.height:m;J/=2,ie/=2,q=Math.max(W.x+J,q),G=Math.min(W.x-J,G),V=Math.max(W.y+ie,V),Y=Math.min(W.y-ie,Y)}),I.width=q-G,I.height=V-Y}}function R(j){j.forEach(function(F){var I={x:0,y:0};F.array.forEach(function(q){I.x+=q.x,I.y+=q.y}),I.x/=F.array.length,I.y/=F.array.length;var G={x:I.x-F.width/2,y:I.y-F.height/2},Y={x:F.x-G.x+d/2-b/2,y:F.y-G.y+v/2-x/2};F.array.forEach(function(q){q.x+=Y.x,q.y+=Y.y})})}function L(j,F){var I=Number.POSITIVE_INFINITY,G=0;j.sort(function(oe,be){return be.height-oe.height}),w=j.reduce(function(oe,be){return oe.width<be.width?oe.width:be.width});for(var Y=fe=w,q=he=P(j),V=0,W=Number.MAX_VALUE,J=Number.MAX_VALUE,ie=-1,K=Number.MAX_VALUE,Z=Number.MAX_VALUE;K>w||Z>e.FLOAT_EPSILON;){if(ie!=1)var fe=q-(q-Y)/e.GOLDEN_SECTION,W=_(j,fe);if(ie!=0)var he=Y+(q-Y)/e.GOLDEN_SECTION,J=_(j,he);if(K=Math.abs(fe-he),Z=Math.abs(W-J),W<I&&(I=W,G=fe),J<I&&(I=J,G=he),W>J?(Y=fe,fe=he,W=J,ie=1):(q=he,he=fe,J=W,ie=0),V++>100)break}_(j,G)}function _(j,F){S=[],b=0,x=0,T=h;for(var I=0;I<j.length;I++){var G=j[I];N(G,F)}return Math.abs(U()-p)}function N(j,F){for(var I=void 0,G=0;G<S.length;G++)if(S[G].space_left>=j.height&&S[G].x+S[G].width+j.width+e.PADDING-F<=e.FLOAT_EPSILON){I=S[G];break}S.push(j),I!==void 0?(j.x=I.x+I.width+e.PADDING,j.y=I.bottom,j.space_left=j.height,j.bottom=j.y,I.space_left-=j.height+e.PADDING,I.bottom+=j.height+e.PADDING):(j.y=T,T+=j.height+e.PADDING,j.x=c,j.bottom=j.y,j.space_left=j.height),j.y+j.height-x>-1e-4&&(x=j.y+j.height-h),j.x+j.width-b>-1e-4&&(b=j.x+j.width-c)}function P(j){var F=0;return j.forEach(function(I){return F+=I.width+e.PADDING}),F}function U(){return b/x}}tf.applyPacking=t;function r(n,a){for(var i={},o={},l=[],u=0,c=0;c<a.length;c++){var h=a[c],d=h.source,v=h.target;o[d.index]?o[d.index].push(v):o[d.index]=[v],o[v.index]?o[v.index].push(d):o[v.index]=[d]}for(var c=0;c<n.length;c++){var p=n[c];i[p.index]||m(p,!0)}function m(b,x){if(i[b.index]===void 0){x&&(u++,l.push({array:[]})),i[b.index]=u,l[u-1].array.push(b);var w=o[b.index];if(w)for(var T=0;T<w.length;T++)m(w[T],!1)}}return l}return tf.separateGraphs=r,tf}var ON;function dh(){return ON||(ON=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=L3(),r=dS(),n=vS(),a=hh(),i=Ap(),o=I3(),l=z3(),u;(function(d){d[d.start=0]="start",d[d.tick=1]="tick",d[d.end=2]="end"})(u=e.EventType||(e.EventType={}));function c(d){return typeof d.leaves<"u"||typeof d.groups<"u"}var h=(function(){function d(){var v=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:d.getSourceIndex,getTargetIndex:d.getTargetIndex,setLength:d.setLinkLength,getType:function(p){return typeof v._linkType=="function"?v._linkType(p):0}}}return d.prototype.on=function(v,p){return this.event||(this.event={}),typeof v=="string"?this.event[u[v]]=p:this.event[v]=p,this},d.prototype.trigger=function(v){this.event&&typeof this.event[v.type]<"u"&&this.event[v.type](v)},d.prototype.kick=function(){for(;!this.tick(););},d.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:u.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var v=this._nodes.length;this._links.length;var p,m;for(this._descent.locks.clear(),m=0;m<v;++m)if(p=this._nodes[m],p.fixed){(typeof p.px>"u"||typeof p.py>"u")&&(p.px=p.x,p.py=p.y);var b=[p.px,p.py];this._descent.locks.add(m,b)}var x=this._descent.rungeKutta();return x===0?this._alpha=0:typeof this._lastStress<"u"&&(this._alpha=x),this._lastStress=x,this.updateNodePositions(),this.trigger({type:u.tick,alpha:this._alpha,stress:this._lastStress}),!1},d.prototype.updateNodePositions=function(){for(var v=this._descent.x[0],p=this._descent.x[1],m,b=this._nodes.length;b--;)m=this._nodes[b],m.x=v[b],m.y=p[b]},d.prototype.nodes=function(v){if(!v){if(this._nodes.length===0&&this._links.length>0){var p=0;this._links.forEach(function(b){p=Math.max(p,b.source,b.target)}),this._nodes=new Array(++p);for(var m=0;m<p;++m)this._nodes[m]={}}return this._nodes}return this._nodes=v,this},d.prototype.groups=function(v){var p=this;return v?(this._groups=v,this._rootGroup={},this._groups.forEach(function(m){typeof m.padding>"u"&&(m.padding=1),typeof m.leaves<"u"&&m.leaves.forEach(function(b,x){typeof b=="number"&&((m.leaves[x]=p._nodes[b]).parent=m)}),typeof m.groups<"u"&&m.groups.forEach(function(b,x){typeof b=="number"&&((m.groups[x]=p._groups[b]).parent=m)})}),this._rootGroup.leaves=this._nodes.filter(function(m){return typeof m.parent>"u"}),this._rootGroup.groups=this._groups.filter(function(m){return typeof m.parent>"u"}),this):this._groups},d.prototype.powerGraphGroups=function(v){var p=t.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(p.groups),v(p),this},d.prototype.avoidOverlaps=function(v){return arguments.length?(this._avoidOverlaps=v,this):this._avoidOverlaps},d.prototype.handleDisconnected=function(v){return arguments.length?(this._handleDisconnected=v,this):this._handleDisconnected},d.prototype.flowLayout=function(v,p){return arguments.length||(v="y"),this._directedLinkConstraints={axis:v,getMinSeparation:typeof p=="number"?function(){return p}:p},this},d.prototype.links=function(v){return arguments.length?(this._links=v,this):this._links},d.prototype.constraints=function(v){return arguments.length?(this._constraints=v,this):this._constraints},d.prototype.distanceMatrix=function(v){return arguments.length?(this._distanceMatrix=v,this):this._distanceMatrix},d.prototype.size=function(v){return v?(this._canvasSize=v,this):this._canvasSize},d.prototype.defaultNodeSize=function(v){return v?(this._defaultNodeSize=v,this):this._defaultNodeSize},d.prototype.groupCompactness=function(v){return v?(this._groupCompactness=v,this):this._groupCompactness},d.prototype.linkDistance=function(v){return v?(this._linkDistance=typeof v=="function"?v:+v,this._linkLengthCalculator=null,this):this._linkDistance},d.prototype.linkType=function(v){return this._linkType=v,this},d.prototype.convergenceThreshold=function(v){return v?(this._threshold=typeof v=="function"?v:+v,this):this._threshold},d.prototype.alpha=function(v){return arguments.length?(v=+v,this._alpha?v>0?this._alpha=v:this._alpha=0:v>0&&(this._running||(this._running=!0,this.trigger({type:u.start,alpha:this._alpha=v}),this.kick())),this):this._alpha},d.prototype.getLinkLength=function(v){return typeof this._linkDistance=="function"?+this._linkDistance(v):this._linkDistance},d.setLinkLength=function(v,p){v.length=p},d.prototype.getLinkType=function(v){return typeof this._linkType=="function"?this._linkType(v):0},d.prototype.symmetricDiffLinkLengths=function(v,p){var m=this;return p===void 0&&(p=1),this.linkDistance(function(b){return v*b.length}),this._linkLengthCalculator=function(){return r.symmetricDiffLinkLengths(m._links,m.linkAccessor,p)},this},d.prototype.jaccardLinkLengths=function(v,p){var m=this;return p===void 0&&(p=1),this.linkDistance(function(b){return v*b.length}),this._linkLengthCalculator=function(){return r.jaccardLinkLengths(m._links,m.linkAccessor,p)},this},d.prototype.start=function(v,p,m,b,x,w){var T=this;v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=0),b===void 0&&(b=0),x===void 0&&(x=!0),w===void 0&&(w=!0);var S,D=this.nodes().length,R=D+2*this._groups.length;this._links.length;var L=this._canvasSize[0],_=this._canvasSize[1],N=new Array(R),P=new Array(R),U=null,j=this._avoidOverlaps;this._nodes.forEach(function(J,ie){J.index=ie,typeof J.x>"u"&&(J.x=L/2,J.y=_/2),N[ie]=J.x,P[ie]=J.y}),this._linkLengthCalculator&&this._linkLengthCalculator();var F;this._distanceMatrix?F=this._distanceMatrix:(F=new i.Calculator(R,this._links,d.getSourceIndex,d.getTargetIndex,function(J){return T.getLinkLength(J)}).DistanceMatrix(),U=n.Descent.createSquareMatrix(R,function(){return 2}),this._links.forEach(function(J){typeof J.source=="number"&&(J.source=T._nodes[J.source]),typeof J.target=="number"&&(J.target=T._nodes[J.target])}),this._links.forEach(function(J){var ie=d.getSourceIndex(J),K=d.getTargetIndex(J);U[ie][K]=U[K][ie]=J.weight||1}));var I=n.Descent.createSquareMatrix(R,function(J,ie){return F[J][ie]});if(this._rootGroup&&typeof this._rootGroup.groups<"u"){var S=D,G=function(ie,K,Z,fe){U[ie][K]=U[K][ie]=Z,I[ie][K]=I[K][ie]=fe};this._groups.forEach(function(ie){G(S,S+1,T._groupCompactness,.1),N[S]=0,P[S++]=0,N[S]=0,P[S++]=0})}else this._rootGroup={leaves:this._nodes,groups:[]};var Y=this._constraints||[];this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,Y=Y.concat(r.generateDirectedEdgeConstraints(D,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new n.Descent([N,P],I),this._descent.locks.clear();for(var S=0;S<D;++S){var q=this._nodes[S];if(q.fixed){q.px=q.x,q.py=q.y;var V=[q.x,q.y];this._descent.locks.add(S,V)}}if(this._descent.threshold=this._threshold,this.initialLayout(v,N,P),Y.length>0&&(this._descent.project=new a.Projection(this._nodes,this._groups,this._rootGroup,Y).projectFunctions()),this._descent.run(p),this.separateOverlappingComponents(L,_,w),this.avoidOverlaps(j),j&&(this._nodes.forEach(function(J,ie){J.x=N[ie],J.y=P[ie]}),this._descent.project=new a.Projection(this._nodes,this._groups,this._rootGroup,Y,!0).projectFunctions(),this._nodes.forEach(function(J,ie){N[ie]=J.x,P[ie]=J.y})),this._descent.G=U,this._descent.run(m),b){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=D,this._descent.scaleSnapByMaxH=D!=R;var W=n.Descent.createSquareMatrix(R,function(J,ie){return J>=D||ie>=D?U[J][ie]:0});this._descent.G=W,this._descent.run(b)}return this.updateNodePositions(),this.separateOverlappingComponents(L,_,w),x?this.resume():this},d.prototype.initialLayout=function(v,p,m){if(this._groups.length>0&&v>0){var b=this._nodes.length,x=this._links.map(function(T){return{source:T.source.index,target:T.target.index}}),w=this._nodes.map(function(T){return{index:T.index}});this._groups.forEach(function(T,S){w.push({index:T.index=b+S})}),this._groups.forEach(function(T,S){typeof T.leaves<"u"&&T.leaves.forEach(function(D){return x.push({source:T.index,target:D.index})}),typeof T.groups<"u"&&T.groups.forEach(function(D){return x.push({source:T.index,target:D.index})})}),new d().size(this.size()).nodes(w).links(x).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(v,0,0,0,!1),this._nodes.forEach(function(T){p[T.index]=w[T.index].x,m[T.index]=w[T.index].y})}else this._descent.run(v)},d.prototype.separateOverlappingComponents=function(v,p,m){var b=this;if(m===void 0&&(m=!0),!this._distanceMatrix&&this._handleDisconnected){var x=this._descent.x[0],w=this._descent.x[1];this._nodes.forEach(function(S,D){S.x=x[D],S.y=w[D]});var T=l.separateGraphs(this._nodes,this._links);l.applyPacking(T,v,p,this._defaultNodeSize,1,m),this._nodes.forEach(function(S,D){b._descent.x[0][D]=S.x,b._descent.x[1][D]=S.y,S.bounds&&(S.bounds.setXCentre(S.x),S.bounds.setYCentre(S.y))})}},d.prototype.resume=function(){return this.alpha(.1)},d.prototype.stop=function(){return this.alpha(0)},d.prototype.prepareEdgeRouting=function(v){v===void 0&&(v=0),this._visibilityGraph=new o.TangentVisibilityGraph(this._nodes.map(function(p){return p.bounds.inflate(-v).vertices()}))},d.prototype.routeEdge=function(v,p,m){p===void 0&&(p=5);var b=[],x=new o.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),w={x:v.source.x,y:v.source.y},T={x:v.target.x,y:v.target.y},S=x.addPoint(w,v.source.index),D=x.addPoint(T,v.target.index);x.addEdgeIfVisible(w,T,v.source.index,v.target.index),typeof m<"u"&&m(x);var R=function(Y){return Y.source.id},L=function(Y){return Y.target.id},_=function(Y){return Y.length()},N=new i.Calculator(x.V.length,x.E,R,L,_),P=N.PathFromNodeToNode(S.id,D.id);if(P.length===1||P.length===x.V.length){var U=a.makeEdgeBetween(v.source.innerBounds,v.target.innerBounds,p);b=[U.sourceIntersection,U.arrowStart]}else{for(var j=P.length-2,F=x.V[P[j]].p,I=x.V[P[0]].p,b=[v.source.innerBounds.rayIntersection(F.x,F.y)],G=j;G>=0;--G)b.push(x.V[P[G]].p);b.push(a.makeEdgeTo(I,v.target.innerBounds,p))}return b},d.getSourceIndex=function(v){return typeof v.source=="number"?v.source:v.source.index},d.getTargetIndex=function(v){return typeof v.target=="number"?v.target:v.target.index},d.linkId=function(v){return d.getSourceIndex(v)+"-"+d.getTargetIndex(v)},d.dragStart=function(v){c(v)?d.storeOffset(v,d.dragOrigin(v)):(d.stopNode(v),v.fixed|=2)},d.stopNode=function(v){v.px=v.x,v.py=v.y},d.storeOffset=function(v,p){typeof v.leaves<"u"&&v.leaves.forEach(function(m){m.fixed|=2,d.stopNode(m),m._dragGroupOffsetX=m.x-p.x,m._dragGroupOffsetY=m.y-p.y}),typeof v.groups<"u"&&v.groups.forEach(function(m){return d.storeOffset(m,p)})},d.dragOrigin=function(v){return c(v)?{x:v.bounds.cx(),y:v.bounds.cy()}:v},d.drag=function(v,p){c(v)?(typeof v.leaves<"u"&&v.leaves.forEach(function(m){v.bounds.setXCentre(p.x),v.bounds.setYCentre(p.y),m.px=m._dragGroupOffsetX+p.x,m.py=m._dragGroupOffsetY+p.y}),typeof v.groups<"u"&&v.groups.forEach(function(m){return d.drag(m,p)})):(v.px=p.x,v.py=p.y)},d.dragEnd=function(v){c(v)?(typeof v.leaves<"u"&&v.leaves.forEach(function(p){d.dragEnd(p),delete p._dragGroupOffsetX,delete p._dragGroupOffsetY}),typeof v.groups<"u"&&v.groups.forEach(d.dragEnd)):v.fixed&=-7},d.mouseOver=function(v){v.fixed|=4,v.px=v.x,v.py=v.y},d.mouseOut=function(v){v.fixed&=-5},d})();e.Layout=h})($1)),$1}var _N;function Kne(){if(_N)return Bs;_N=1;var e=Bs&&Bs.__extends||(function(){var a=function(i,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var c in u)u.hasOwnProperty(c)&&(l[c]=u[c])},a(i,o)};return function(i,o){a(i,o);function l(){this.constructor=i}i.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}})();Object.defineProperty(Bs,"__esModule",{value:!0});var t=dh(),r=(function(a){e(i,a);function i(o){var l=a.call(this)||this,u=o;return u.trigger&&(l.trigger=u.trigger),u.kick&&(l.kick=u.kick),u.drag&&(l.drag=u.drag),u.on&&(l.on=u.on),l.dragstart=l.dragStart=t.Layout.dragStart,l.dragend=l.dragEnd=t.Layout.dragEnd,l}return i.prototype.trigger=function(o){},i.prototype.kick=function(){},i.prototype.drag=function(){},i.prototype.on=function(o,l){return this},i})(t.Layout);Bs.LayoutAdaptor=r;function n(a){return new r(a)}return Bs.adaptor=n,Bs}var iv={},zs={},DN;function Wne(){if(DN)return zs;DN=1;var e=zs&&zs.__extends||(function(){var a=function(i,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var c in u)u.hasOwnProperty(c)&&(l[c]=u[c])},a(i,o)};return function(i,o){a(i,o);function l(){this.constructor=i}i.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}})();Object.defineProperty(zs,"__esModule",{value:!0});var t=dh(),r=(function(a){e(i,a);function i(){var o=a.call(this)||this;o.event=d3.dispatch(t.EventType[t.EventType.start],t.EventType[t.EventType.tick],t.EventType[t.EventType.end]);var l=o;return o.drag=function(){if(!u)var u=d3.behavior.drag().origin(t.Layout.dragOrigin).on("dragstart.d3adaptor",t.Layout.dragStart).on("drag.d3adaptor",function(c){t.Layout.drag(c,d3.event),l.resume()}).on("dragend.d3adaptor",t.Layout.dragEnd);if(!arguments.length)return u;this.call(u)},o}return i.prototype.trigger=function(o){var l={type:t.EventType[o.type],alpha:o.alpha,stress:o.stress};this.event[l.type](l)},i.prototype.kick=function(){var o=this;d3.timer(function(){return a.prototype.tick.call(o)})},i.prototype.on=function(o,l){return typeof o=="string"?this.event.on(o,l):this.event.on(t.EventType[o],l),this},i})(t.Layout);zs.D3StyleLayoutAdaptor=r;function n(){return new r}return zs.d3adaptor=n,zs}var lu={},kN;function Zne(){if(kN)return lu;kN=1;var e=lu&&lu.__extends||(function(){var n=function(a,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var u in l)l.hasOwnProperty(u)&&(o[u]=l[u])},n(a,i)};return function(a,i){n(a,i);function o(){this.constructor=a}a.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}})();Object.defineProperty(lu,"__esModule",{value:!0});var t=dh(),r=(function(n){e(a,n);function a(i){var o=n.call(this)||this;o.d3Context=i,o.event=i.dispatch(t.EventType[t.EventType.start],t.EventType[t.EventType.tick],t.EventType[t.EventType.end]);var l=o;return o.drag=function(){if(!u)var u=i.drag().subject(t.Layout.dragOrigin).on("start.d3adaptor",t.Layout.dragStart).on("drag.d3adaptor",function(c){t.Layout.drag(c,i.event),l.resume()}).on("end.d3adaptor",t.Layout.dragEnd);if(!arguments.length)return u;arguments[0].call(u)},o}return a.prototype.trigger=function(i){var o={type:t.EventType[i.type],alpha:i.alpha,stress:i.stress};this.event.call(o.type,o)},a.prototype.kick=function(){var i=this,o=this.d3Context.timer(function(){return n.prototype.tick.call(i)&&o.stop()})},a.prototype.on=function(i,o){return typeof i=="string"?this.event.on(i,o):this.event.on(t.EventType[i],o),this},a})(t.Layout);return lu.D3StyleLayoutAdaptor=r,lu}var NN;function Qne(){if(NN)return iv;NN=1,Object.defineProperty(iv,"__esModule",{value:!0});var e=Wne(),t=Zne();function r(a){return!a||n(a)?new e.D3StyleLayoutAdaptor:new t.D3StyleLayoutAdaptor(a)}iv.d3adaptor=r;function n(a){var i=/^3\./;return a.version&&a.version.match(i)!==null}return iv}var Fs={},PN;function F3(){if(PN)return Fs;PN=1,Object.defineProperty(Fs,"__esModule",{value:!0});var e=hh(),t=gS(),r=Ap(),n=(function(){function l(u,c,h){this.id=u,this.rect=c,this.children=h,this.leaf=typeof h>"u"||h.length===0}return l})();Fs.NodeWrapper=n;var a=(function(){function l(u,c,h,d,v){d===void 0&&(d=null),v===void 0&&(v=null),this.id=u,this.x=c,this.y=h,this.node=d,this.line=v}return l})();Fs.Vert=a;var i=(function(){function l(u,c){this.s=u,this.t=c;var h=l.findMatch(u,c),d=c.slice(0).reverse(),v=l.findMatch(u,d);h.length>=v.length?(this.length=h.length,this.si=h.si,this.ti=h.ti,this.reversed=!1):(this.length=v.length,this.si=v.si,this.ti=c.length-v.ti-v.length,this.reversed=!0)}return l.findMatch=function(u,c){for(var h=u.length,d=c.length,v={length:0,si:-1,ti:-1},p=new Array(h),m=0;m<h;m++){p[m]=new Array(d);for(var b=0;b<d;b++)if(u[m]===c[b]){var x=p[m][b]=m===0||b===0?1:p[m-1][b-1]+1;x>v.length&&(v.length=x,v.si=m-x+1,v.ti=b-x+1)}else p[m][b]=0}return v},l.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},l})();Fs.LongestCommonSubsequence=i;var o=(function(){function l(u,c,h){var d=this;h===void 0&&(h=12),this.originalnodes=u,this.groupPadding=h,this.leaves=null,this.nodes=u.map(function(L,_){return new n(_,c.getBounds(L),c.getChildren(L))}),this.leaves=this.nodes.filter(function(L){return L.leaf}),this.groups=this.nodes.filter(function(L){return!L.leaf}),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(function(L){return L.children.forEach(function(_){return d.nodes[_].parent=L})}),this.root={children:[]},this.nodes.forEach(function(L){typeof L.parent>"u"&&(L.parent=d.root,d.root.children.push(L.id)),L.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort(function(L,_){return d.getDepth(L)-d.getDepth(_)});var v=this.backToFront.slice(0).reverse().filter(function(L){return!L.leaf});v.forEach(function(L){var _=e.Rectangle.empty();L.children.forEach(function(N){return _=_.union(d.nodes[N].rect)}),L.rect=_.inflate(d.groupPadding)});var p=this.midPoints(this.cols.map(function(L){return L.pos})),m=this.midPoints(this.rows.map(function(L){return L.pos})),b=p[0],x=p[p.length-1],w=m[0],T=m[m.length-1],S=this.rows.map(function(L){return{x1:b,x2:x,y1:L.pos,y2:L.pos}}).concat(m.map(function(L){return{x1:b,x2:x,y1:L,y2:L}})),D=this.cols.map(function(L){return{x1:L.pos,x2:L.pos,y1:w,y2:T}}).concat(p.map(function(L){return{x1:L,x2:L,y1:w,y2:T}})),R=S.concat(D);R.forEach(function(L){return L.verts=[]}),this.verts=[],this.edges=[],S.forEach(function(L){return D.forEach(function(_){var N=new a(d.verts.length,_.x1,L.y1);L.verts.push(N),_.verts.push(N),d.verts.push(N);for(var P=d.backToFront.length;P-- >0;){var U=d.backToFront[P],j=U.rect,F=Math.abs(N.x-j.cx()),I=Math.abs(N.y-j.cy());if(F<j.width()/2&&I<j.height()/2){N.node=U;break}}})}),R.forEach(function(L,_){d.nodes.forEach(function(I,G){I.rect.lineIntersections(L.x1,L.y1,L.x2,L.y2).forEach(function(Y,q){var V=new a(d.verts.length,Y.x,Y.y,I,L);d.verts.push(V),L.verts.push(V),I.ports.push(V)})});var N=Math.abs(L.y1-L.y2)<.1,P=function(I,G){return N?G.x-I.x:G.y-I.y};L.verts.sort(P);for(var U=1;U<L.verts.length;U++){var j=L.verts[U-1],F=L.verts[U];j.node&&j.node===F.node&&j.node.leaf||d.edges.push({source:j.id,target:F.id,length:Math.abs(P(j,F))})}})}return l.prototype.avg=function(u){return u.reduce(function(c,h){return c+h})/u.length},l.prototype.getGridLines=function(u){for(var c=[],h=this.leaves.slice(0,this.leaves.length);h.length>0;){var d=h.filter(function(p){return p.rect["overlap"+u.toUpperCase()](h[0].rect)}),v={nodes:d,pos:this.avg(d.map(function(p){return p.rect["c"+u]()}))};c.push(v),v.nodes.forEach(function(p){return h.splice(h.indexOf(p),1)})}return c.sort(function(p,m){return p.pos-m.pos}),c},l.prototype.getDepth=function(u){for(var c=0;u.parent!==this.root;)c++,u=u.parent;return c},l.prototype.midPoints=function(u){for(var c=u[1]-u[0],h=[u[0]-c/2],d=1;d<u.length;d++)h.push((u[d]+u[d-1])/2);return h.push(u[u.length-1]+c/2),h},l.prototype.findLineage=function(u){var c=[u];do u=u.parent,c.push(u);while(u!==this.root);return c.reverse()},l.prototype.findAncestorPathBetween=function(u,c){for(var h=this.findLineage(u),d=this.findLineage(c),v=0;h[v]===d[v];)v++;return{commonAncestor:h[v-1],lineages:h.slice(v).concat(d.slice(v))}},l.prototype.siblingObstacles=function(u,c){var h=this,d=this.findAncestorPathBetween(u,c),v={};d.lineages.forEach(function(m){return v[m.id]={}});var p=d.commonAncestor.children.filter(function(m){return!(m in v)});return d.lineages.filter(function(m){return m.parent!==d.commonAncestor}).forEach(function(m){return p=p.concat(m.parent.children.filter(function(b){return b!==m.id}))}),p.map(function(m){return h.nodes[m]})},l.getSegmentSets=function(u,c,h){for(var d=[],v=0;v<u.length;v++)for(var p=u[v],m=0;m<p.length;m++){var b=p[m];b.edgeid=v,b.i=m;var x=b[1][c]-b[0][c];Math.abs(x)<.1&&d.push(b)}d.sort(function(D,R){return D[0][c]-R[0][c]});for(var w=[],T=null,S=0;S<d.length;S++){var b=d[S];(!T||Math.abs(b[0][c]-T.pos)>.1)&&(T={pos:b[0][c],segments:[]},w.push(T)),T.segments.push(b)}return w},l.nudgeSegs=function(u,c,h,d,v,p){var m=d.length;if(!(m<=1)){for(var b=d.map(function(U){return new t.Variable(U[0][u])}),x=[],w=0;w<m;w++)for(var T=0;T<m;T++)if(w!==T){var S=d[w],D=d[T],R=S.edgeid,L=D.edgeid,_=-1,N=-1;u=="x"?v(R,L)&&(S[0][c]<S[1][c]?(_=T,N=w):(_=w,N=T)):v(R,L)&&(S[0][c]<S[1][c]?(_=w,N=T):(_=T,N=w)),_>=0&&x.push(new t.Constraint(b[_],b[N],p))}var P=new t.Solver(b,x);P.solve(),b.forEach(function(U,j){var F=d[j],I=U.position();F[0][u]=F[1][u]=I;var G=h[F.edgeid];F.i>0&&(G[F.i-1][1][u]=I),F.i<G.length-1&&(G[F.i+1][0][u]=I)})}},l.nudgeSegments=function(u,c,h,d,v){for(var p=l.getSegmentSets(u,c,h),m=0;m<p.length;m++){for(var b=p[m],x=[],w=0;w<b.segments.length;w++){var T=b.segments[w];x.push({type:0,s:T,pos:Math.min(T[0][h],T[1][h])}),x.push({type:1,s:T,pos:Math.max(T[0][h],T[1][h])})}x.sort(function(R,L){return R.pos-L.pos+R.type-L.type});var S=[],D=0;x.forEach(function(R){R.type===0?(S.push(R.s),D++):D--,D==0&&(l.nudgeSegs(c,h,u,S,d,v),S=[])})}},l.prototype.routeEdges=function(u,c,h,d){var v=this,p=u.map(function(x){return v.route(h(x),d(x))}),m=l.orderEdges(p),b=p.map(function(x){return l.makeSegments(x)});return l.nudgeSegments(b,"x","y",m,c),l.nudgeSegments(b,"y","x",m,c),l.unreverseEdges(b,p),b},l.unreverseEdges=function(u,c){u.forEach(function(h,d){var v=c[d];v.reversed&&(h.reverse(),h.forEach(function(p){p.reverse()}))})},l.angleBetween2Lines=function(u,c){var h=Math.atan2(u[0].y-u[1].y,u[0].x-u[1].x),d=Math.atan2(c[0].y-c[1].y,c[0].x-c[1].x),v=h-d;return(v>Math.PI||v<-Math.PI)&&(v=d-h),v},l.isLeft=function(u,c,h){return(c.x-u.x)*(h.y-u.y)-(c.y-u.y)*(h.x-u.x)<=0},l.getOrder=function(u){for(var c={},h=0;h<u.length;h++){var d=u[h];typeof c[d.l]>"u"&&(c[d.l]={}),c[d.l][d.r]=!0}return function(v,p){return typeof c[v]<"u"&&c[v][p]}},l.orderEdges=function(u){for(var c=[],h=0;h<u.length-1;h++)for(var d=h+1;d<u.length;d++){var v=u[h],p=u[d],m=new i(v,p),b,x,w;if(m.length!==0){if(m.reversed&&(p.reverse(),p.reversed=!0,m=new i(v,p)),(m.si<=0||m.ti<=0)&&(m.si+m.length>=v.length||m.ti+m.length>=p.length)){c.push({l:h,r:d});continue}m.si+m.length>=v.length||m.ti+m.length>=p.length?(b=v[m.si+1],w=v[m.si-1],x=p[m.ti-1]):(b=v[m.si+m.length-2],x=v[m.si+m.length],w=p[m.ti+m.length]),l.isLeft(b,x,w)?c.push({l:d,r:h}):c.push({l:h,r:d})}}return l.getOrder(c)},l.makeSegments=function(u){function c(x){return{x:x.x,y:x.y}}for(var h=function(x,w,T){return Math.abs((w.x-x.x)*(T.y-x.y)-(w.y-x.y)*(T.x-x.x))<.001},d=[],v=c(u[0]),p=1;p<u.length;p++){var m=c(u[p]),b=p<u.length-1?u[p+1]:null;(!b||!h(v,m,b))&&(d.push([v,m]),v=m)}return d},l.prototype.route=function(u,c){var h=this,d=this.nodes[u],v=this.nodes[c];this.obstacles=this.siblingObstacles(d,v);var p={};this.obstacles.forEach(function(N){return p[N.id]=N}),this.passableEdges=this.edges.filter(function(N){var P=h.verts[N.source],U=h.verts[N.target];return!(P.node&&P.node.id in p||U.node&&U.node.id in p)});for(var m=1;m<d.ports.length;m++){var b=d.ports[0].id,x=d.ports[m].id;this.passableEdges.push({source:b,target:x,length:0})}for(var m=1;m<v.ports.length;m++){var b=v.ports[0].id,x=v.ports[m].id;this.passableEdges.push({source:b,target:x,length:0})}var w=function(N){return N.source},T=function(N){return N.target},S=function(N){return N.length},D=new r.Calculator(this.verts.length,this.passableEdges,w,T,S),R=function(N,P,U){var j=h.verts[N],F=h.verts[P],I=h.verts[U],G=Math.abs(I.x-j.x),Y=Math.abs(I.y-j.y);return j.node===d&&j.node===F.node||F.node===v&&F.node===I.node?0:G>1&&Y>1?1e3:0},L=D.PathFromNodeToNodeWithPrevCost(d.ports[0].id,v.ports[0].id,R),_=L.reverse().map(function(N){return h.verts[N]});return _.push(this.nodes[v.id].ports[0]),_.filter(function(N,P){return!(P<_.length-1&&_[P+1].node===d&&N.node===d||P>0&&N.node===v&&_[P-1].node===v)})},l.getRoutePath=function(u,c,h,d){var v={routepath:"M "+u[0][0].x+" "+u[0][0].y+" ",arrowpath:""};if(u.length>1)for(var p=0;p<u.length;p++){var m=u[p],b=m[1].x,x=m[1].y,w=b-m[0].x,T=x-m[0].y;if(p<u.length-1){Math.abs(w)>0?b-=w/Math.abs(w)*c:x-=T/Math.abs(T)*c,v.routepath+="L "+b+" "+x+" ";var S=u[p+1],D=S[0].x,R=S[0].y,L=S[1].x,_=S[1].y;w=L-D,T=_-R;var N=l.angleBetween2Lines(m,S)<0?1:0,P,U;Math.abs(w)>0?(P=D+w/Math.abs(w)*c,U=R):(P=D,U=R+T/Math.abs(T)*c);var j=Math.abs(P-b),F=Math.abs(U-x);v.routepath+="A "+j+" "+F+" 0 0 "+N+" "+P+" "+U+" "}else{var I=[b,x],G,Y;Math.abs(w)>0?(b-=w/Math.abs(w)*d,G=[b,x+h],Y=[b,x-h]):(x-=T/Math.abs(T)*d,G=[b+h,x],Y=[b-h,x]),v.routepath+="L "+b+" "+x+" ",d>0&&(v.arrowpath="M "+I[0]+" "+I[1]+" L "+G[0]+" "+G[1]+" L "+Y[0]+" "+Y[1])}}else{var m=u[0],b=m[1].x,x=m[1].y,w=b-m[0].x,T=x-m[0].y,I=[b,x],G,Y;Math.abs(w)>0?(b-=w/Math.abs(w)*d,G=[b,x+h],Y=[b,x-h]):(x-=T/Math.abs(T)*d,G=[b+h,x],Y=[b-h,x]),v.routepath+="L "+b+" "+x+" ",d>0&&(v.arrowpath="M "+I[0]+" "+I[1]+" L "+G[0]+" "+G[1]+" L "+Y[0]+" "+Y[1])}return v},l})();return Fs.GridRouter=o,Fs}var uu={},RN;function Jne(){if(RN)return uu;RN=1,Object.defineProperty(uu,"__esModule",{value:!0});var e=Ap(),t=vS(),r=hh(),n=dS(),a=(function(){function u(c,h){this.source=c,this.target=h}return u.prototype.actualLength=function(c){var h=this;return Math.sqrt(c.reduce(function(d,v){var p=v[h.target]-v[h.source];return d+p*p},0))},u})();uu.Link3D=a;var i=(function(){function u(c,h,d){c===void 0&&(c=0),h===void 0&&(h=0),d===void 0&&(d=0),this.x=c,this.y=h,this.z=d}return u})();uu.Node3D=i;var o=(function(){function u(c,h,d){var v=this;d===void 0&&(d=1),this.nodes=c,this.links=h,this.idealLinkLength=d,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(u.k);for(var p=0;p<u.k;++p)this.result[p]=new Array(c.length);c.forEach(function(m,b){for(var x=0,w=u.dims;x<w.length;x++){var T=w[x];typeof m[T]>"u"&&(m[T]=Math.random())}v.result[0][b]=m.x,v.result[1][b]=m.y,v.result[2][b]=m.z})}return u.prototype.linkLength=function(c){return c.actualLength(this.result)},u.prototype.start=function(c){var h=this;c===void 0&&(c=100);var d=this.nodes.length,v=new l;this.useJaccardLinkLengths&&n.jaccardLinkLengths(this.links,v,1.5),this.links.forEach(function(T){return T.length*=h.idealLinkLength});var p=new e.Calculator(d,this.links,function(T){return T.source},function(T){return T.target},function(T){return T.length}).DistanceMatrix(),m=t.Descent.createSquareMatrix(d,function(T,S){return p[T][S]}),b=t.Descent.createSquareMatrix(d,function(){return 2});this.links.forEach(function(T){var S=T.source,D=T.target;return b[S][D]=b[D][S]=1}),this.descent=new t.Descent(this.result,m),this.descent.threshold=.001,this.descent.G=b,this.constraints&&(this.descent.project=new r.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var x=0;x<this.nodes.length;x++){var w=this.nodes[x];w.fixed&&this.descent.locks.add(x,[w.x,w.y,w.z])}return this.descent.run(c),this},u.prototype.tick=function(){this.descent.locks.clear();for(var c=0;c<this.nodes.length;c++){var h=this.nodes[c];h.fixed&&this.descent.locks.add(c,[h.x,h.y,h.z])}return this.descent.rungeKutta()},u.dims=["x","y","z"],u.k=u.dims.length,u})();uu.Layout3D=o;var l=(function(){function u(){}return u.prototype.getSourceIndex=function(c){return c.source},u.prototype.getTargetIndex=function(c){return c.target},u.prototype.getLength=function(c){return c.length},u.prototype.setLength=function(c,h){c.length=h},u})();return uu}var rf={},LN;function eae(){if(LN)return rf;LN=1,Object.defineProperty(rf,"__esModule",{value:!0});var e=dh(),t=F3();function r(i,o,l,u){i.cola.start(0,0,0,10,!1);var c=n(i.cola.nodes(),i.cola.groups(),l,u);return c.routeEdges(i.powerGraph.powerEdges,o,function(h){return h.source.routerNode.id},function(h){return h.target.routerNode.id})}rf.gridify=r;function n(i,o,l,u){i.forEach(function(h){h.routerNode={name:h.name,bounds:h.bounds.inflate(-l)}}),o.forEach(function(h){h.routerNode={bounds:h.bounds.inflate(-u),children:(typeof h.groups<"u"?h.groups.map(function(d){return i.length+d.id}):[]).concat(typeof h.leaves<"u"?h.leaves.map(function(d){return d.index}):[])}});var c=i.concat(o).map(function(h,d){return h.routerNode.id=d,h.routerNode});return new t.GridRouter(c,{getChildren:function(h){return h.children},getBounds:function(h){return h.bounds}},l-u)}function a(i,o,l){var u;i.nodes.forEach(function(v,p){return v.index=p}),new e.Layout().avoidOverlaps(!1).nodes(i.nodes).links(i.links).powerGraphGroups(function(v){u=v,u.groups.forEach(function(p){return p.padding=l})});var c=i.nodes.length,h=[],d=i.nodes.slice(0);return d.forEach(function(v,p){return v.index=p}),u.groups.forEach(function(v){var p=v.index=v.id+c;d.push(v),typeof v.leaves<"u"&&v.leaves.forEach(function(m){return h.push({source:p,target:m.index})}),typeof v.groups<"u"&&v.groups.forEach(function(m){return h.push({source:p,target:m.id+c})})}),u.powerEdges.forEach(function(v){h.push({source:v.source.index,target:v.target.index})}),new e.Layout().size(o).nodes(d).links(h).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:new e.Layout().convergenceThreshold(.001).size(o).avoidOverlaps(!0).nodes(i.nodes).links(i.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(v){u=v,u.groups.forEach(function(p){p.padding=l})}).start(50,0,100,0,!1),powerGraph:u}}return rf.powerGraphGridLayout=a,rf}var jN;function tae(){return jN||(jN=1,(function(e){function t(r){for(var n in r)e.hasOwnProperty(n)||(e[n]=r[n])}Object.defineProperty(e,"__esModule",{value:!0}),t(Kne()),t(Qne()),t(vS()),t(I3()),t(F3()),t(z3()),t(dh()),t(Jne()),t(dS()),t(L3()),t(B3()),t(j3()),t(hh()),t(Ap()),t(gS()),t(eae())})(V1)),V1}var rae=wv.exports,BN;function nae(){return BN||(BN=1,(function(e,t){(function(n,a){e.exports=a(tae())})(rae,function(r){return(function(n){var a={};function i(o){if(a[o])return a[o].exports;var l=a[o]={i:o,l:!1,exports:{}};return n[o].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=n,i.c=a,i.i=function(o){return o},i.d=function(o,l,u){i.o(o,l)||Object.defineProperty(o,l,{configurable:!1,enumerable:!0,get:u})},i.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(l,"a",l),l},i.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},i.p="",i(i.s=3)})([(function(n,a,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},l=i(1),u=i(2),c=i(5)||(typeof window<"u"?window.cola:null),h=i(4),d=function(S){return(typeof S>"u"?"undefined":o(S))===o("")},v=function(S){return(typeof S>"u"?"undefined":o(S))===o(0)},p=function(S){return S!=null&&(typeof S>"u"?"undefined":o(S))===o({})},m=function(S){return S!=null&&(typeof S>"u"?"undefined":o(S))===o(function(){})},b=function(){},x=function(S,D){if(m(S)){var R=S;return R.apply(D,[D])}else return S};function w(T){this.options=l({},u,T)}w.prototype.run=function(){var T=this,S=this.options;T.manuallyStopped=!1;var D=S.cy,R=S.eles,L=R.nodes(),_=R.edges(),N=!1,P=function(re){return re.isParent()},U=L.filter(P),j=L.subtract(U),F=S.boundingBox||{x1:0,y1:0,w:D.width(),h:D.height()};F.x2===void 0&&(F.x2=F.x1+F.w),F.w===void 0&&(F.w=F.x2-F.x1),F.y2===void 0&&(F.y2=F.y1+F.h),F.h===void 0&&(F.h=F.y2-F.y1);var I=function(){for(var re=0;re<L.length;re++){var ge=L[re],Se=ge.layoutDimensions(S),ze=ge.scratch("cola");if(!ze.updatedDims){var Qe=x(S.nodeSpacing,ge);ze.width=Se.w+2*Qe,ze.height=Se.h+2*Qe}}L.positions(function(Oe){var je=Oe.scratch().cola,Ue=void 0;return!Oe.grabbed()&&j.contains(Oe)&&(Ue={x:F.x1+je.x,y:F.y1+je.y},(!v(Ue.x)||!v(Ue.y))&&(Ue=void 0)),Ue}),L.updateCompoundBounds(),N||(Y(),N=!0),S.fit&&D.fit(S.padding)},G=function(){S.ungrabifyWhileSimulating&&W.grabify(),D.off("destroy",J),L.off("grab free position",ie),L.off("lock unlock",K),T.one("layoutstop",S.stop),T.trigger({type:"layoutstop",layout:T})},Y=function(){T.one("layoutready",S.ready),T.trigger({type:"layoutready",layout:T})},q=S.refresh;S.refresh<0?q=1:q=Math.max(1,q);var V=T.adaptor=c.adaptor({trigger:function(re){var ge=c.EventType?c.EventType.tick:null,Se=c.EventType?c.EventType.end:null;switch(re.type){case"tick":case ge:S.animate&&I();break;case"end":case Se:I(),S.infinite||G();break}},kick:function(){var re=!0,ge=function(){if(T.manuallyStopped)return G(),!0;var Oe=V.tick();return!S.infinite&&!re&&V.convergenceThreshold(S.convergenceThreshold),re=!1,Oe&&S.infinite&&V.resume(),Oe},Se=function(){for(var Oe=void 0,je=0;je<q&&!Oe;je++)Oe=Oe||ge();return Oe};if(S.animate){var ze=function Qe(){Se()||h(Qe)};h(ze)}else for(;!ge(););},on:b,drag:b});T.adaptor=V;var W=L.filter(":grabbable");S.ungrabifyWhileSimulating&&W.ungrabify();var J=void 0;D.one("destroy",J=function(){T.stop()});var ie=void 0;L.on("grab free position",ie=function(re){var ge=this,Se=ge.scratch().cola,ze=ge.position(),Qe=re.cyTarget===ge||re.target===ge;if(Qe)switch(re.type){case"grab":V.dragstart(Se);break;case"free":V.dragend(Se);break;case"position":(Se.px!==ze.x-F.x1||Se.py!==ze.y-F.y1)&&(Se.px=ze.x-F.x1,Se.py=ze.y-F.y1);break}});var K=void 0;L.on("lock unlock",K=function(){var re=this,ge=re.scratch().cola;ge.fixed=re.locked(),re.locked()?V.dragstart(ge):V.dragend(ge)}),V.nodes(j.map(function(le,re){var ge=x(S.nodeSpacing,le),Se=le.position(),ze=le.layoutDimensions(S),Qe=le.scratch().cola={x:S.randomize&&!le.locked()||Se.x===void 0?Math.round(Math.random()*F.w):Se.x,y:S.randomize&&!le.locked()||Se.y===void 0?Math.round(Math.random()*F.h):Se.y,width:ze.w+2*ge,height:ze.h+2*ge,index:re,fixed:le.locked()};return Qe}));var Z=[];if(S.alignment){if(S.alignment.vertical){var fe=S.alignment.vertical;fe.forEach(function(le){var re=[];le.forEach(function(ge){var Se=ge.node,ze=Se.scratch().cola,Qe=ze.index;re.push({node:Qe,offset:ge.offset?ge.offset:0})}),Z.push({type:"alignment",axis:"x",offsets:re})})}if(S.alignment.horizontal){var he=S.alignment.horizontal;he.forEach(function(le){var re=[];le.forEach(function(ge){var Se=ge.node,ze=Se.scratch().cola,Qe=ze.index;re.push({node:Qe,offset:ge.offset?ge.offset:0})}),Z.push({type:"alignment",axis:"y",offsets:re})})}}S.gapInequalities&&S.gapInequalities.forEach(function(le){var re=le.left.scratch().cola.index,ge=le.right.scratch().cola.index;Z.push({axis:le.axis,left:re,right:ge,gap:le.gap,equality:le.equality})}),Z.length>0&&V.constraints(Z),V.groups(U.map(function(le,re){var ge=x(S.nodeSpacing,le),Se=function(qe){return parseFloat(le.style("padding-"+qe))},ze=Se("left")+ge,Qe=Se("right")+ge,Oe=Se("top")+ge,je=Se("bottom")+ge;return le.scratch().cola={index:re,padding:Math.max(ze,Qe,Oe,je),leaves:le.children().intersection(j).map(function(Ue){return Ue[0].scratch().cola.index}),fixed:le.locked()},le}).map(function(le){return le.scratch().cola.groups=le.children().intersection(U).map(function(re){return re.scratch().cola.index}),le.scratch().cola}));var oe=void 0,be=void 0;S.edgeLength!=null?(oe=S.edgeLength,be="linkDistance"):S.edgeSymDiffLength!=null?(oe=S.edgeSymDiffLength,be="symmetricDiffLinkLengths"):S.edgeJaccardLength!=null?(oe=S.edgeJaccardLength,be="jaccardLinkLengths"):(oe=100,be="linkDistance");var Ae=function(re){return re.calcLength};if(V.links(_.stdFilter(function(le){return j.contains(le.source())&&j.contains(le.target())}).map(function(le){var re=le.scratch().cola={source:le.source()[0].scratch().cola.index,target:le.target()[0].scratch().cola.index};return oe!=null&&(re.calcLength=x(oe,le)),re})),V.size([F.w,F.h]),oe!=null&&V[be](Ae),S.flow){var Le=void 0,ce="y",ae=50;d(S.flow)?Le={axis:S.flow,minSeparation:ae}:v(S.flow)?Le={axis:ce,minSeparation:S.flow}:p(S.flow)?(Le=S.flow,Le.axis=Le.axis||ce,Le.minSeparation=Le.minSeparation!=null?Le.minSeparation:ae):Le={axis:ce,minSeparation:ae},V.flowLayout(Le.axis,Le.minSeparation)}return T.trigger({type:"layoutstart",layout:T}),V.avoidOverlaps(S.avoidOverlap).handleDisconnected(S.handleDisconnected).start(S.unconstrIter,S.userConstIter,S.allConstIter,void 0,void 0,S.centerGraph),S.infinite||setTimeout(function(){T.manuallyStopped||V.stop()},S.maxSimulationTime),this},w.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},n.exports=w}),(function(n,a,i){n.exports=Object.assign!=null?Object.assign.bind(Object):function(o){for(var l=arguments.length,u=Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];return u.filter(function(h){return h!=null}).forEach(function(h){Object.keys(h).forEach(function(d){return o[d]=h[d]})}),o}}),(function(n,a,i){var o={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,convergenceThreshold:.01,nodeSpacing:function(u){return 10},flow:void 0,alignment:void 0,gapInequalities:void 0,centerGraph:!0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1};n.exports=o}),(function(n,a,i){var o=i(0),l=function(c){c&&c("layout","cola",o)};typeof cytoscape<"u"&&l(cytoscape),n.exports=l}),(function(n,a,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},l=void 0;(typeof window>"u"?"undefined":o(window))!=="undefined"?l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(u){return setTimeout(u,16)}:l=function(c){c()},n.exports=l}),(function(n,a){n.exports=r})])})})(wv)),wv.exports}var aae=nae();const iae=Ha(aae);var Ev={exports:{}},Sv={exports:{}},Tv={exports:{}},oae=Tv.exports,IN;function sae(){return IN||(IN=1,(function(e,t){(function(n,a){e.exports=a()})(oae,function(){return(function(r){var n={};function a(i){if(n[i])return n[i].exports;var o=n[i]={i,l:!1,exports:{}};return r[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=r,a.c=n,a.i=function(i){return i},a.d=function(i,o,l){a.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:l})},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=26)})([(function(r,n,a){function i(){}i.QUALITY=1,i.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,i.DEFAULT_INCREMENTAL=!1,i.DEFAULT_ANIMATION_ON_LAYOUT=!0,i.DEFAULT_ANIMATION_DURING_LAYOUT=!1,i.DEFAULT_ANIMATION_PERIOD=50,i.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,i.DEFAULT_GRAPH_MARGIN=15,i.NODE_DIMENSIONS_INCLUDE_LABELS=!1,i.SIMPLE_NODE_SIZE=40,i.SIMPLE_NODE_HALF_SIZE=i.SIMPLE_NODE_SIZE/2,i.EMPTY_COMPOUND_NODE_SIZE=40,i.MIN_EDGE_LENGTH=1,i.WORLD_BOUNDARY=1e6,i.INITIAL_WORLD_BOUNDARY=i.WORLD_BOUNDARY/1e3,i.WORLD_CENTER_X=1200,i.WORLD_CENTER_Y=900,r.exports=i}),(function(r,n,a){var i=a(2),o=a(8),l=a(9);function u(h,d,v){i.call(this,v),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=v,this.bendpoints=[],this.source=h,this.target=d}u.prototype=Object.create(i.prototype);for(var c in i)u[c]=i[c];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(h){if(this.source===h)return this.target;if(this.target===h)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(h,d){for(var v=this.getOtherEnd(h),p=d.getGraphManager().getRoot();;){if(v.getOwner()==d)return v;if(v.getOwner()==p)break;v=v.getOwner().getParent()}return null},u.prototype.updateLength=function(){var h=new Array(4);this.isOverlapingSourceAndTarget=o.getIntersection(this.target.getRect(),this.source.getRect(),h),this.isOverlapingSourceAndTarget||(this.lengthX=h[0]-h[2],this.lengthY=h[1]-h[3],Math.abs(this.lengthX)<1&&(this.lengthX=l.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=l.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=l.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=l.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=u}),(function(r,n,a){function i(o){this.vGraphObject=o}r.exports=i}),(function(r,n,a){var i=a(2),o=a(10),l=a(13),u=a(0),c=a(16),h=a(4);function d(p,m,b,x){b==null&&x==null&&(x=m),i.call(this,x),p.graphManager!=null&&(p=p.graphManager),this.estimatedSize=o.MIN_VALUE,this.inclusionTreeDepth=o.MAX_VALUE,this.vGraphObject=x,this.edges=[],this.graphManager=p,b!=null&&m!=null?this.rect=new l(m.x,m.y,b.width,b.height):this.rect=new l}d.prototype=Object.create(i.prototype);for(var v in i)d[v]=i[v];d.prototype.getEdges=function(){return this.edges},d.prototype.getChild=function(){return this.child},d.prototype.getOwner=function(){return this.owner},d.prototype.getWidth=function(){return this.rect.width},d.prototype.setWidth=function(p){this.rect.width=p},d.prototype.getHeight=function(){return this.rect.height},d.prototype.setHeight=function(p){this.rect.height=p},d.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},d.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},d.prototype.getCenter=function(){return new h(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},d.prototype.getLocation=function(){return new h(this.rect.x,this.rect.y)},d.prototype.getRect=function(){return this.rect},d.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},d.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},d.prototype.setRect=function(p,m){this.rect.x=p.x,this.rect.y=p.y,this.rect.width=m.width,this.rect.height=m.height},d.prototype.setCenter=function(p,m){this.rect.x=p-this.rect.width/2,this.rect.y=m-this.rect.height/2},d.prototype.setLocation=function(p,m){this.rect.x=p,this.rect.y=m},d.prototype.moveBy=function(p,m){this.rect.x+=p,this.rect.y+=m},d.prototype.getEdgeListToNode=function(p){var m=[],b=this;return b.edges.forEach(function(x){if(x.target==p){if(x.source!=b)throw"Incorrect edge source!";m.push(x)}}),m},d.prototype.getEdgesBetween=function(p){var m=[],b=this;return b.edges.forEach(function(x){if(!(x.source==b||x.target==b))throw"Incorrect edge source and/or target";(x.target==p||x.source==p)&&m.push(x)}),m},d.prototype.getNeighborsList=function(){var p=new Set,m=this;return m.edges.forEach(function(b){if(b.source==m)p.add(b.target);else{if(b.target!=m)throw"Incorrect incidency!";p.add(b.source)}}),p},d.prototype.withChildren=function(){var p=new Set,m,b;if(p.add(this),this.child!=null)for(var x=this.child.getNodes(),w=0;w<x.length;w++)m=x[w],b=m.withChildren(),b.forEach(function(T){p.add(T)});return p},d.prototype.getNoOfChildren=function(){var p=0,m;if(this.child==null)p=1;else for(var b=this.child.getNodes(),x=0;x<b.length;x++)m=b[x],p+=m.getNoOfChildren();return p==0&&(p=1),p},d.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},d.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},d.prototype.scatter=function(){var p,m,b=-u.INITIAL_WORLD_BOUNDARY,x=u.INITIAL_WORLD_BOUNDARY;p=u.WORLD_CENTER_X+c.nextDouble()*(x-b)+b;var w=-u.INITIAL_WORLD_BOUNDARY,T=u.INITIAL_WORLD_BOUNDARY;m=u.WORLD_CENTER_Y+c.nextDouble()*(T-w)+w,this.rect.x=p,this.rect.y=m},d.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var p=this.getChild();if(p.updateBounds(!0),this.rect.x=p.getLeft(),this.rect.y=p.getTop(),this.setWidth(p.getRight()-p.getLeft()),this.setHeight(p.getBottom()-p.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var m=p.getRight()-p.getLeft(),b=p.getBottom()-p.getTop();this.labelWidth>m&&(this.rect.x-=(this.labelWidth-m)/2,this.setWidth(this.labelWidth)),this.labelHeight>b&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-b)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-b),this.setHeight(this.labelHeight))}}},d.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==o.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},d.prototype.transform=function(p){var m=this.rect.x;m>u.WORLD_BOUNDARY?m=u.WORLD_BOUNDARY:m<-u.WORLD_BOUNDARY&&(m=-u.WORLD_BOUNDARY);var b=this.rect.y;b>u.WORLD_BOUNDARY?b=u.WORLD_BOUNDARY:b<-u.WORLD_BOUNDARY&&(b=-u.WORLD_BOUNDARY);var x=new h(m,b),w=p.inverseTransformPoint(x);this.setLocation(w.x,w.y)},d.prototype.getLeft=function(){return this.rect.x},d.prototype.getRight=function(){return this.rect.x+this.rect.width},d.prototype.getTop=function(){return this.rect.y},d.prototype.getBottom=function(){return this.rect.y+this.rect.height},d.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=d}),(function(r,n,a){function i(o,l){o==null&&l==null?(this.x=0,this.y=0):(this.x=o,this.y=l)}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.setX=function(o){this.x=o},i.prototype.setY=function(o){this.y=o},i.prototype.getDifference=function(o){return new DimensionD(this.x-o.x,this.y-o.y)},i.prototype.getCopy=function(){return new i(this.x,this.y)},i.prototype.translate=function(o){return this.x+=o.width,this.y+=o.height,this},r.exports=i}),(function(r,n,a){var i=a(2),o=a(10),l=a(0),u=a(6),c=a(3),h=a(1),d=a(13),v=a(12),p=a(11);function m(x,w,T){i.call(this,T),this.estimatedSize=o.MIN_VALUE,this.margin=l.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=x,w!=null&&w instanceof u?this.graphManager=w:w!=null&&w instanceof Layout&&(this.graphManager=w.graphManager)}m.prototype=Object.create(i.prototype);for(var b in i)m[b]=i[b];m.prototype.getNodes=function(){return this.nodes},m.prototype.getEdges=function(){return this.edges},m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getParent=function(){return this.parent},m.prototype.getLeft=function(){return this.left},m.prototype.getRight=function(){return this.right},m.prototype.getTop=function(){return this.top},m.prototype.getBottom=function(){return this.bottom},m.prototype.isConnected=function(){return this.isConnected},m.prototype.add=function(x,w,T){if(w==null&&T==null){var S=x;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(S)>-1)throw"Node already in graph!";return S.owner=this,this.getNodes().push(S),S}else{var D=x;if(!(this.getNodes().indexOf(w)>-1&&this.getNodes().indexOf(T)>-1))throw"Source or target not in graph!";if(!(w.owner==T.owner&&w.owner==this))throw"Both owners must be this graph!";return w.owner!=T.owner?null:(D.source=w,D.target=T,D.isInterGraph=!1,this.getEdges().push(D),w.edges.push(D),T!=w&&T.edges.push(D),D)}},m.prototype.remove=function(x){var w=x;if(x instanceof c){if(w==null)throw"Node is null!";if(!(w.owner!=null&&w.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var T=w.edges.slice(),S,D=T.length,R=0;R<D;R++)S=T[R],S.isInterGraph?this.graphManager.remove(S):S.source.owner.remove(S);var L=this.nodes.indexOf(w);if(L==-1)throw"Node not in owner node list!";this.nodes.splice(L,1)}else if(x instanceof h){var S=x;if(S==null)throw"Edge is null!";if(!(S.source!=null&&S.target!=null))throw"Source and/or target is null!";if(!(S.source.owner!=null&&S.target.owner!=null&&S.source.owner==this&&S.target.owner==this))throw"Source and/or target owner is invalid!";var _=S.source.edges.indexOf(S),N=S.target.edges.indexOf(S);if(!(_>-1&&N>-1))throw"Source and/or target doesn't know this edge!";S.source.edges.splice(_,1),S.target!=S.source&&S.target.edges.splice(N,1);var L=S.source.owner.getEdges().indexOf(S);if(L==-1)throw"Not in owner's edge list!";S.source.owner.getEdges().splice(L,1)}},m.prototype.updateLeftTop=function(){for(var x=o.MAX_VALUE,w=o.MAX_VALUE,T,S,D,R=this.getNodes(),L=R.length,_=0;_<L;_++){var N=R[_];T=N.getTop(),S=N.getLeft(),x>T&&(x=T),w>S&&(w=S)}return x==o.MAX_VALUE?null:(R[0].getParent().paddingLeft!=null?D=R[0].getParent().paddingLeft:D=this.margin,this.left=w-D,this.top=x-D,new v(this.left,this.top))},m.prototype.updateBounds=function(x){for(var w=o.MAX_VALUE,T=-o.MAX_VALUE,S=o.MAX_VALUE,D=-o.MAX_VALUE,R,L,_,N,P,U=this.nodes,j=U.length,F=0;F<j;F++){var I=U[F];x&&I.child!=null&&I.updateBounds(),R=I.getLeft(),L=I.getRight(),_=I.getTop(),N=I.getBottom(),w>R&&(w=R),T<L&&(T=L),S>_&&(S=_),D<N&&(D=N)}var G=new d(w,S,T-w,D-S);w==o.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),U[0].getParent().paddingLeft!=null?P=U[0].getParent().paddingLeft:P=this.margin,this.left=G.x-P,this.right=G.x+G.width+P,this.top=G.y-P,this.bottom=G.y+G.height+P},m.calculateBounds=function(x){for(var w=o.MAX_VALUE,T=-o.MAX_VALUE,S=o.MAX_VALUE,D=-o.MAX_VALUE,R,L,_,N,P=x.length,U=0;U<P;U++){var j=x[U];R=j.getLeft(),L=j.getRight(),_=j.getTop(),N=j.getBottom(),w>R&&(w=R),T<L&&(T=L),S>_&&(S=_),D<N&&(D=N)}var F=new d(w,S,T-w,D-S);return F},m.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},m.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},m.prototype.calcEstimatedSize=function(){for(var x=0,w=this.nodes,T=w.length,S=0;S<T;S++){var D=w[S];x+=D.calcEstimatedSize()}return x==0?this.estimatedSize=l.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=x/Math.sqrt(this.nodes.length),this.estimatedSize},m.prototype.updateConnected=function(){var x=this;if(this.nodes.length==0){this.isConnected=!0;return}var w=new p,T=new Set,S=this.nodes[0],D,R,L=S.withChildren();for(L.forEach(function(F){w.push(F),T.add(F)});w.length!==0;){S=w.shift(),D=S.getEdges();for(var _=D.length,N=0;N<_;N++){var P=D[N];if(R=P.getOtherEndInGraph(S,this),R!=null&&!T.has(R)){var U=R.withChildren();U.forEach(function(F){w.push(F),T.add(F)})}}}if(this.isConnected=!1,T.size>=this.nodes.length){var j=0;T.forEach(function(F){F.owner==x&&j++}),j==this.nodes.length&&(this.isConnected=!0)}},r.exports=m}),(function(r,n,a){var i,o=a(1);function l(u){i=a(5),this.layout=u,this.graphs=[],this.edges=[]}l.prototype.addRoot=function(){var u=this.layout.newGraph(),c=this.layout.newNode(null),h=this.add(u,c);return this.setRootGraph(h),this.rootGraph},l.prototype.add=function(u,c,h,d,v){if(h==null&&d==null&&v==null){if(u==null)throw"Graph is null!";if(c==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(c.child!=null)throw"Already has a child!";return u.parent=c,c.child=u,u}else{v=h,d=c,h=u;var p=d.getOwner(),m=v.getOwner();if(!(p!=null&&p.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(m!=null&&m.getGraphManager()==this))throw"Target not in this graph mgr!";if(p==m)return h.isInterGraph=!1,p.add(h,d,v);if(h.isInterGraph=!0,h.source=d,h.target=v,this.edges.indexOf(h)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(h),!(h.source!=null&&h.target!=null))throw"Edge source and/or target is null!";if(!(h.source.edges.indexOf(h)==-1&&h.target.edges.indexOf(h)==-1))throw"Edge already in source and/or target incidency list!";return h.source.edges.push(h),h.target.edges.push(h),h}},l.prototype.remove=function(u){if(u instanceof i){var c=u;if(c.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(c==this.rootGraph||c.parent!=null&&c.parent.graphManager==this))throw"Invalid parent node!";var h=[];h=h.concat(c.getEdges());for(var d,v=h.length,p=0;p<v;p++)d=h[p],c.remove(d);var m=[];m=m.concat(c.getNodes());var b;v=m.length;for(var p=0;p<v;p++)b=m[p],c.remove(b);c==this.rootGraph&&this.setRootGraph(null);var x=this.graphs.indexOf(c);this.graphs.splice(x,1),c.parent=null}else if(u instanceof o){if(d=u,d==null)throw"Edge is null!";if(!d.isInterGraph)throw"Not an inter-graph edge!";if(!(d.source!=null&&d.target!=null))throw"Source and/or target is null!";if(!(d.source.edges.indexOf(d)!=-1&&d.target.edges.indexOf(d)!=-1))throw"Source and/or target doesn't know this edge!";var x=d.source.edges.indexOf(d);if(d.source.edges.splice(x,1),x=d.target.edges.indexOf(d),d.target.edges.splice(x,1),!(d.source.owner!=null&&d.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(d.source.owner.getGraphManager().edges.indexOf(d)==-1)throw"Not in owner graph manager's edge list!";var x=d.source.owner.getGraphManager().edges.indexOf(d);d.source.owner.getGraphManager().edges.splice(x,1)}},l.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},l.prototype.getGraphs=function(){return this.graphs},l.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],c=this.getGraphs(),h=c.length,d=0;d<h;d++)u=u.concat(c[d].getNodes());this.allNodes=u}return this.allNodes},l.prototype.resetAllNodes=function(){this.allNodes=null},l.prototype.resetAllEdges=function(){this.allEdges=null},l.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},l.prototype.getAllEdges=function(){if(this.allEdges==null){var u=[],c=this.getGraphs();c.length;for(var h=0;h<c.length;h++)u=u.concat(c[h].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},l.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},l.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},l.prototype.getRoot=function(){return this.rootGraph},l.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},l.prototype.getLayout=function(){return this.layout},l.prototype.isOneAncestorOfOther=function(u,c){if(!(u!=null&&c!=null))throw"assert failed";if(u==c)return!0;var h=u.getOwner(),d;do{if(d=h.getParent(),d==null)break;if(d==c)return!0;if(h=d.getOwner(),h==null)break}while(!0);h=c.getOwner();do{if(d=h.getParent(),d==null)break;if(d==u)return!0;if(h=d.getOwner(),h==null)break}while(!0);return!1},l.prototype.calcLowestCommonAncestors=function(){for(var u,c,h,d,v,p=this.getAllEdges(),m=p.length,b=0;b<m;b++){if(u=p[b],c=u.source,h=u.target,u.lca=null,u.sourceInLca=c,u.targetInLca=h,c==h){u.lca=c.getOwner();continue}for(d=c.getOwner();u.lca==null;){for(u.targetInLca=h,v=h.getOwner();u.lca==null;){if(v==d){u.lca=v;break}if(v==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=v.getParent(),v=u.targetInLca.getOwner()}if(d==this.rootGraph)break;u.lca==null&&(u.sourceInLca=d.getParent(),d=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},l.prototype.calcLowestCommonAncestor=function(u,c){if(u==c)return u.getOwner();var h=u.getOwner();do{if(h==null)break;var d=c.getOwner();do{if(d==null)break;if(d==h)return d;d=d.getParent().getOwner()}while(!0);h=h.getParent().getOwner()}while(!0);return h},l.prototype.calcInclusionTreeDepths=function(u,c){u==null&&c==null&&(u=this.rootGraph,c=1);for(var h,d=u.getNodes(),v=d.length,p=0;p<v;p++)h=d[p],h.inclusionTreeDepth=c,h.child!=null&&this.calcInclusionTreeDepths(h.child,c+1)},l.prototype.includesInvalidEdge=function(){for(var u,c=this.edges.length,h=0;h<c;h++)if(u=this.edges[h],this.isOneAncestorOfOther(u.source,u.target))return!0;return!1},r.exports=l}),(function(r,n,a){var i=a(0);function o(){}for(var l in i)o[l]=i[l];o.MAX_ITERATIONS=2500,o.DEFAULT_EDGE_LENGTH=50,o.DEFAULT_SPRING_STRENGTH=.45,o.DEFAULT_REPULSION_STRENGTH=4500,o.DEFAULT_GRAVITY_STRENGTH=.4,o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,o.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,o.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,o.COOLING_ADAPTATION_FACTOR=.33,o.ADAPTATION_LOWER_NODE_LIMIT=1e3,o.ADAPTATION_UPPER_NODE_LIMIT=5e3,o.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,o.MAX_NODE_DISPLACEMENT=o.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,o.MIN_REPULSION_DIST=o.DEFAULT_EDGE_LENGTH/10,o.CONVERGENCE_CHECK_PERIOD=100,o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,o.MIN_EDGE_LENGTH=1,o.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=o}),(function(r,n,a){var i=a(12);function o(){}o.calcSeparationAmount=function(l,u,c,h){if(!l.intersects(u))throw"assert failed";var d=new Array(2);this.decideDirectionsForOverlappingNodes(l,u,d),c[0]=Math.min(l.getRight(),u.getRight())-Math.max(l.x,u.x),c[1]=Math.min(l.getBottom(),u.getBottom())-Math.max(l.y,u.y),l.getX()<=u.getX()&&l.getRight()>=u.getRight()?c[0]+=Math.min(u.getX()-l.getX(),l.getRight()-u.getRight()):u.getX()<=l.getX()&&u.getRight()>=l.getRight()&&(c[0]+=Math.min(l.getX()-u.getX(),u.getRight()-l.getRight())),l.getY()<=u.getY()&&l.getBottom()>=u.getBottom()?c[1]+=Math.min(u.getY()-l.getY(),l.getBottom()-u.getBottom()):u.getY()<=l.getY()&&u.getBottom()>=l.getBottom()&&(c[1]+=Math.min(l.getY()-u.getY(),u.getBottom()-l.getBottom()));var v=Math.abs((u.getCenterY()-l.getCenterY())/(u.getCenterX()-l.getCenterX()));u.getCenterY()===l.getCenterY()&&u.getCenterX()===l.getCenterX()&&(v=1);var p=v*c[0],m=c[1]/v;c[0]<m?m=c[0]:p=c[1],c[0]=-1*d[0]*(m/2+h),c[1]=-1*d[1]*(p/2+h)},o.decideDirectionsForOverlappingNodes=function(l,u,c){l.getCenterX()<u.getCenterX()?c[0]=-1:c[0]=1,l.getCenterY()<u.getCenterY()?c[1]=-1:c[1]=1},o.getIntersection2=function(l,u,c){var h=l.getCenterX(),d=l.getCenterY(),v=u.getCenterX(),p=u.getCenterY();if(l.intersects(u))return c[0]=h,c[1]=d,c[2]=v,c[3]=p,!0;var m=l.getX(),b=l.getY(),x=l.getRight(),w=l.getX(),T=l.getBottom(),S=l.getRight(),D=l.getWidthHalf(),R=l.getHeightHalf(),L=u.getX(),_=u.getY(),N=u.getRight(),P=u.getX(),U=u.getBottom(),j=u.getRight(),F=u.getWidthHalf(),I=u.getHeightHalf(),G=!1,Y=!1;if(h===v){if(d>p)return c[0]=h,c[1]=b,c[2]=v,c[3]=U,!1;if(d<p)return c[0]=h,c[1]=T,c[2]=v,c[3]=_,!1}else if(d===p){if(h>v)return c[0]=m,c[1]=d,c[2]=N,c[3]=p,!1;if(h<v)return c[0]=x,c[1]=d,c[2]=L,c[3]=p,!1}else{var q=l.height/l.width,V=u.height/u.width,W=(p-d)/(v-h),J=void 0,ie=void 0,K=void 0,Z=void 0,fe=void 0,he=void 0;if(-q===W?h>v?(c[0]=w,c[1]=T,G=!0):(c[0]=x,c[1]=b,G=!0):q===W&&(h>v?(c[0]=m,c[1]=b,G=!0):(c[0]=S,c[1]=T,G=!0)),-V===W?v>h?(c[2]=P,c[3]=U,Y=!0):(c[2]=N,c[3]=_,Y=!0):V===W&&(v>h?(c[2]=L,c[3]=_,Y=!0):(c[2]=j,c[3]=U,Y=!0)),G&&Y)return!1;if(h>v?d>p?(J=this.getCardinalDirection(q,W,4),ie=this.getCardinalDirection(V,W,2)):(J=this.getCardinalDirection(-q,W,3),ie=this.getCardinalDirection(-V,W,1)):d>p?(J=this.getCardinalDirection(-q,W,1),ie=this.getCardinalDirection(-V,W,3)):(J=this.getCardinalDirection(q,W,2),ie=this.getCardinalDirection(V,W,4)),!G)switch(J){case 1:Z=b,K=h+-R/W,c[0]=K,c[1]=Z;break;case 2:K=S,Z=d+D*W,c[0]=K,c[1]=Z;break;case 3:Z=T,K=h+R/W,c[0]=K,c[1]=Z;break;case 4:K=w,Z=d+-D*W,c[0]=K,c[1]=Z;break}if(!Y)switch(ie){case 1:he=_,fe=v+-I/W,c[2]=fe,c[3]=he;break;case 2:fe=j,he=p+F*W,c[2]=fe,c[3]=he;break;case 3:he=U,fe=v+I/W,c[2]=fe,c[3]=he;break;case 4:fe=P,he=p+-F*W,c[2]=fe,c[3]=he;break}}return!1},o.getCardinalDirection=function(l,u,c){return l>u?c:1+c%4},o.getIntersection=function(l,u,c,h){if(h==null)return this.getIntersection2(l,u,c);var d=l.x,v=l.y,p=u.x,m=u.y,b=c.x,x=c.y,w=h.x,T=h.y,S=void 0,D=void 0,R=void 0,L=void 0,_=void 0,N=void 0,P=void 0,U=void 0,j=void 0;return R=m-v,_=d-p,P=p*v-d*m,L=T-x,N=b-w,U=w*x-b*T,j=R*N-L*_,j===0?null:(S=(_*U-N*P)/j,D=(L*P-R*U)/j,new i(S,D))},o.angleOfVector=function(l,u,c,h){var d=void 0;return l!==c?(d=Math.atan((h-u)/(c-l)),c<l?d+=Math.PI:h<u&&(d+=this.TWO_PI)):h<u?d=this.ONE_AND_HALF_PI:d=this.HALF_PI,d},o.doIntersect=function(l,u,c,h){var d=l.x,v=l.y,p=u.x,m=u.y,b=c.x,x=c.y,w=h.x,T=h.y,S=(p-d)*(T-x)-(w-b)*(m-v);if(S===0)return!1;var D=((T-x)*(w-d)+(b-w)*(T-v))/S,R=((v-m)*(w-d)+(p-d)*(T-v))/S;return 0<D&&D<1&&0<R&&R<1},o.HALF_PI=.5*Math.PI,o.ONE_AND_HALF_PI=1.5*Math.PI,o.TWO_PI=2*Math.PI,o.THREE_PI=3*Math.PI,r.exports=o}),(function(r,n,a){function i(){}i.sign=function(o){return o>0?1:o<0?-1:0},i.floor=function(o){return o<0?Math.ceil(o):Math.floor(o)},i.ceil=function(o){return o<0?Math.floor(o):Math.ceil(o)},r.exports=i}),(function(r,n,a){function i(){}i.MAX_VALUE=2147483647,i.MIN_VALUE=-2147483648,r.exports=i}),(function(r,n,a){var i=(function(){function d(v,p){for(var m=0;m<p.length;m++){var b=p[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,p,m){return p&&d(v.prototype,p),m&&d(v,m),v}})();function o(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}var l=function(v){return{value:v,next:null,prev:null}},u=function(v,p,m,b){return v!==null?v.next=p:b.head=p,m!==null?m.prev=p:b.tail=p,p.prev=v,p.next=m,b.length++,p},c=function(v,p){var m=v.prev,b=v.next;return m!==null?m.next=b:p.head=b,b!==null?b.prev=m:p.tail=m,v.prev=v.next=null,p.length--,v},h=(function(){function d(v){var p=this;o(this,d),this.length=0,this.head=null,this.tail=null,v!=null&&v.forEach(function(m){return p.push(m)})}return i(d,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(p,m){return u(m.prev,l(p),m,this)}},{key:"insertAfter",value:function(p,m){return u(m,l(p),m.next,this)}},{key:"insertNodeBefore",value:function(p,m){return u(m.prev,p,m,this)}},{key:"insertNodeAfter",value:function(p,m){return u(m,p,m.next,this)}},{key:"push",value:function(p){return u(this.tail,l(p),null,this)}},{key:"unshift",value:function(p){return u(null,l(p),this.head,this)}},{key:"remove",value:function(p){return c(p,this)}},{key:"pop",value:function(){return c(this.tail,this).value}},{key:"popNode",value:function(){return c(this.tail,this)}},{key:"shift",value:function(){return c(this.head,this).value}},{key:"shiftNode",value:function(){return c(this.head,this)}},{key:"get_object_at",value:function(p){if(p<=this.length()){for(var m=1,b=this.head;m<p;)b=b.next,m++;return b.value}}},{key:"set_object_at",value:function(p,m){if(p<=this.length()){for(var b=1,x=this.head;b<p;)x=x.next,b++;x.value=m}}}]),d})();r.exports=h}),(function(r,n,a){function i(o,l,u){this.x=null,this.y=null,o==null&&l==null&&u==null?(this.x=0,this.y=0):typeof o=="number"&&typeof l=="number"&&u==null?(this.x=o,this.y=l):o.constructor.name=="Point"&&l==null&&u==null&&(u=o,this.x=u.x,this.y=u.y)}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.getLocation=function(){return new i(this.x,this.y)},i.prototype.setLocation=function(o,l,u){o.constructor.name=="Point"&&l==null&&u==null?(u=o,this.setLocation(u.x,u.y)):typeof o=="number"&&typeof l=="number"&&u==null&&(parseInt(o)==o&&parseInt(l)==l?this.move(o,l):(this.x=Math.floor(o+.5),this.y=Math.floor(l+.5)))},i.prototype.move=function(o,l){this.x=o,this.y=l},i.prototype.translate=function(o,l){this.x+=o,this.y+=l},i.prototype.equals=function(o){if(o.constructor.name=="Point"){var l=o;return this.x==l.x&&this.y==l.y}return this==o},i.prototype.toString=function(){return new i().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=i}),(function(r,n,a){function i(o,l,u,c){this.x=0,this.y=0,this.width=0,this.height=0,o!=null&&l!=null&&u!=null&&c!=null&&(this.x=o,this.y=l,this.width=u,this.height=c)}i.prototype.getX=function(){return this.x},i.prototype.setX=function(o){this.x=o},i.prototype.getY=function(){return this.y},i.prototype.setY=function(o){this.y=o},i.prototype.getWidth=function(){return this.width},i.prototype.setWidth=function(o){this.width=o},i.prototype.getHeight=function(){return this.height},i.prototype.setHeight=function(o){this.height=o},i.prototype.getRight=function(){return this.x+this.width},i.prototype.getBottom=function(){return this.y+this.height},i.prototype.intersects=function(o){return!(this.getRight()<o.x||this.getBottom()<o.y||o.getRight()<this.x||o.getBottom()<this.y)},i.prototype.getCenterX=function(){return this.x+this.width/2},i.prototype.getMinX=function(){return this.getX()},i.prototype.getMaxX=function(){return this.getX()+this.width},i.prototype.getCenterY=function(){return this.y+this.height/2},i.prototype.getMinY=function(){return this.getY()},i.prototype.getMaxY=function(){return this.getY()+this.height},i.prototype.getWidthHalf=function(){return this.width/2},i.prototype.getHeightHalf=function(){return this.height/2},r.exports=i}),(function(r,n,a){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};function o(){}o.lastID=0,o.createID=function(l){return o.isPrimitive(l)?l:(l.uniqueID!=null||(l.uniqueID=o.getString(),o.lastID++),l.uniqueID)},o.getString=function(l){return l==null&&(l=o.lastID),"Object#"+l},o.isPrimitive=function(l){var u=typeof l>"u"?"undefined":i(l);return l==null||u!="object"&&u!="function"},r.exports=o}),(function(r,n,a){function i(b){if(Array.isArray(b)){for(var x=0,w=Array(b.length);x<b.length;x++)w[x]=b[x];return w}else return Array.from(b)}var o=a(0),l=a(6),u=a(3),c=a(1),h=a(5),d=a(4),v=a(17),p=a(27);function m(b){p.call(this),this.layoutQuality=o.QUALITY,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=o.DEFAULT_INCREMENTAL,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new l(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,b!=null&&(this.isRemoteUse=b)}m.RANDOM_SEED=1,m.prototype=Object.create(p.prototype),m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},m.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},m.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},m.prototype.newGraphManager=function(){var b=new l(this);return this.graphManager=b,b},m.prototype.newGraph=function(b){return new h(null,this.graphManager,b)},m.prototype.newNode=function(b){return new u(this.graphManager,b)},m.prototype.newEdge=function(b){return new c(null,null,b)},m.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},m.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var b;return this.checkLayoutSuccess()?b=!1:b=this.layout(),o.ANIMATE==="during"?!1:(b&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,b)},m.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},m.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var b=this.graphManager.getAllEdges(),x=0;x<b.length;x++)b[x];for(var w=this.graphManager.getRoot().getNodes(),x=0;x<w.length;x++)w[x];this.update(this.graphManager.getRoot())}},m.prototype.update=function(b){if(b==null)this.update2();else if(b instanceof u){var x=b;if(x.getChild()!=null)for(var w=x.getChild().getNodes(),T=0;T<w.length;T++)update(w[T]);if(x.vGraphObject!=null){var S=x.vGraphObject;S.update(x)}}else if(b instanceof c){var D=b;if(D.vGraphObject!=null){var R=D.vGraphObject;R.update(D)}}else if(b instanceof h){var L=b;if(L.vGraphObject!=null){var _=L.vGraphObject;_.update(L)}}},m.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=o.QUALITY,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=o.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},m.prototype.transform=function(b){if(b==null)this.transform(new d(0,0));else{var x=new v,w=this.graphManager.getRoot().updateLeftTop();if(w!=null){x.setWorldOrgX(b.x),x.setWorldOrgY(b.y),x.setDeviceOrgX(w.x),x.setDeviceOrgY(w.y);for(var T=this.getAllNodes(),S,D=0;D<T.length;D++)S=T[D],S.transform(x)}}},m.prototype.positionNodesRandomly=function(b){if(b==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var x,w,T=b.getNodes(),S=0;S<T.length;S++)x=T[S],w=x.getChild(),w==null||w.getNodes().length==0?x.scatter():(this.positionNodesRandomly(w),x.updateBounds())},m.prototype.getFlatForest=function(){for(var b=[],x=!0,w=this.graphManager.getRoot().getNodes(),T=!0,S=0;S<w.length;S++)w[S].getChild()!=null&&(T=!1);if(!T)return b;var D=new Set,R=[],L=new Map,_=[];for(_=_.concat(w);_.length>0&&x;){for(R.push(_[0]);R.length>0&&x;){var N=R[0];R.splice(0,1),D.add(N);for(var P=N.getEdges(),S=0;S<P.length;S++){var U=P[S].getOtherEnd(N);if(L.get(N)!=U)if(!D.has(U))R.push(U),L.set(U,N);else{x=!1;break}}}if(!x)b=[];else{var j=[].concat(i(D));b.push(j);for(var S=0;S<j.length;S++){var F=j[S],I=_.indexOf(F);I>-1&&_.splice(I,1)}D=new Set,L=new Map}}return b},m.prototype.createDummyNodesForBendpoints=function(b){for(var x=[],w=b.source,T=this.graphManager.calcLowestCommonAncestor(b.source,b.target),S=0;S<b.bendpoints.length;S++){var D=this.newNode(null);D.setRect(new Point(0,0),new Dimension(1,1)),T.add(D);var R=this.newEdge(null);this.graphManager.add(R,w,D),x.add(D),w=D}var R=this.newEdge(null);return this.graphManager.add(R,w,b.target),this.edgeToDummyNodes.set(b,x),b.isInterGraph()?this.graphManager.remove(b):T.remove(b),x},m.prototype.createBendpointsFromDummyNodes=function(){var b=[];b=b.concat(this.graphManager.getAllEdges()),b=[].concat(i(this.edgeToDummyNodes.keys())).concat(b);for(var x=0;x<b.length;x++){var w=b[x];if(w.bendpoints.length>0){for(var T=this.edgeToDummyNodes.get(w),S=0;S<T.length;S++){var D=T[S],R=new d(D.getCenterX(),D.getCenterY()),L=w.bendpoints.get(S);L.x=R.x,L.y=R.y,D.getOwner().remove(D)}this.graphManager.add(w,w.source,w.target)}}},m.transform=function(b,x,w,T){if(w!=null&&T!=null){var S=x;if(b<=50){var D=x/w;S-=(x-D)/50*(50-b)}else{var R=x*T;S+=(R-x)/50*(b-50)}return S}else{var L,_;return b<=50?(L=9*x/500,_=x/10):(L=9*x/50,_=-8*x),L*b+_}},m.findCenterOfTree=function(b){var x=[];x=x.concat(b);var w=[],T=new Map,S=!1,D=null;(x.length==1||x.length==2)&&(S=!0,D=x[0]);for(var R=0;R<x.length;R++){var L=x[R],_=L.getNeighborsList().size;T.set(L,L.getNeighborsList().size),_==1&&w.push(L)}var N=[];for(N=N.concat(w);!S;){var P=[];P=P.concat(N),N=[];for(var R=0;R<x.length;R++){var L=x[R],U=x.indexOf(L);U>=0&&x.splice(U,1);var j=L.getNeighborsList();j.forEach(function(G){if(w.indexOf(G)<0){var Y=T.get(G),q=Y-1;q==1&&N.push(G),T.set(G,q)}})}w=w.concat(N),(x.length==1||x.length==2)&&(S=!0,D=x[0])}return D},m.prototype.setGraphManager=function(b){this.graphManager=b},r.exports=m}),(function(r,n,a){function i(){}i.seed=1,i.x=0,i.nextDouble=function(){return i.x=Math.sin(i.seed++)*1e4,i.x-Math.floor(i.x)},r.exports=i}),(function(r,n,a){var i=a(4);function o(l,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}o.prototype.getWorldOrgX=function(){return this.lworldOrgX},o.prototype.setWorldOrgX=function(l){this.lworldOrgX=l},o.prototype.getWorldOrgY=function(){return this.lworldOrgY},o.prototype.setWorldOrgY=function(l){this.lworldOrgY=l},o.prototype.getWorldExtX=function(){return this.lworldExtX},o.prototype.setWorldExtX=function(l){this.lworldExtX=l},o.prototype.getWorldExtY=function(){return this.lworldExtY},o.prototype.setWorldExtY=function(l){this.lworldExtY=l},o.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},o.prototype.setDeviceOrgX=function(l){this.ldeviceOrgX=l},o.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},o.prototype.setDeviceOrgY=function(l){this.ldeviceOrgY=l},o.prototype.getDeviceExtX=function(){return this.ldeviceExtX},o.prototype.setDeviceExtX=function(l){this.ldeviceExtX=l},o.prototype.getDeviceExtY=function(){return this.ldeviceExtY},o.prototype.setDeviceExtY=function(l){this.ldeviceExtY=l},o.prototype.transformX=function(l){var u=0,c=this.lworldExtX;return c!=0&&(u=this.ldeviceOrgX+(l-this.lworldOrgX)*this.ldeviceExtX/c),u},o.prototype.transformY=function(l){var u=0,c=this.lworldExtY;return c!=0&&(u=this.ldeviceOrgY+(l-this.lworldOrgY)*this.ldeviceExtY/c),u},o.prototype.inverseTransformX=function(l){var u=0,c=this.ldeviceExtX;return c!=0&&(u=this.lworldOrgX+(l-this.ldeviceOrgX)*this.lworldExtX/c),u},o.prototype.inverseTransformY=function(l){var u=0,c=this.ldeviceExtY;return c!=0&&(u=this.lworldOrgY+(l-this.ldeviceOrgY)*this.lworldExtY/c),u},o.prototype.inverseTransformPoint=function(l){var u=new i(this.inverseTransformX(l.x),this.inverseTransformY(l.y));return u},r.exports=o}),(function(r,n,a){function i(p){if(Array.isArray(p)){for(var m=0,b=Array(p.length);m<p.length;m++)b[m]=p[m];return b}else return Array.from(p)}var o=a(15),l=a(7),u=a(0),c=a(8),h=a(9);function d(){o.call(this),this.useSmartIdealEdgeLengthCalculation=l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=l.DEFAULT_EDGE_LENGTH,this.springConstant=l.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=l.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=l.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=l.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=l.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*l.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=l.MAX_ITERATIONS}d.prototype=Object.create(o.prototype);for(var v in o)d[v]=o[v];d.prototype.initParameters=function(){o.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=l.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},d.prototype.calcIdealEdgeLengths=function(){for(var p,m,b,x,w,T,S=this.getGraphManager().getAllEdges(),D=0;D<S.length;D++)p=S[D],p.idealLength=this.idealEdgeLength,p.isInterGraph&&(b=p.getSource(),x=p.getTarget(),w=p.getSourceInLca().getEstimatedSize(),T=p.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(p.idealLength+=w+T-2*u.SIMPLE_NODE_SIZE),m=p.getLca().getInclusionTreeDepth(),p.idealLength+=l.DEFAULT_EDGE_LENGTH*l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(b.getInclusionTreeDepth()+x.getInclusionTreeDepth()-2*m))},d.prototype.initSpringEmbedder=function(){var p=this.getAllNodes().length;this.incremental?(p>l.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*l.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(p-l.ADAPTATION_LOWER_NODE_LIMIT)/(l.ADAPTATION_UPPER_NODE_LIMIT-l.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-l.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=l.MAX_NODE_DISPLACEMENT_INCREMENTAL):(p>l.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(l.COOLING_ADAPTATION_FACTOR,1-(p-l.ADAPTATION_LOWER_NODE_LIMIT)/(l.ADAPTATION_UPPER_NODE_LIMIT-l.ADAPTATION_LOWER_NODE_LIMIT)*(1-l.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=l.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},d.prototype.calcSpringForces=function(){for(var p=this.getAllEdges(),m,b=0;b<p.length;b++)m=p[b],this.calcSpringForce(m,m.idealLength)},d.prototype.calcRepulsionForces=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b,x,w,T,S=this.getAllNodes(),D;if(this.useFRGridVariant)for(this.totalIterations%l.GRID_CALCULATION_CHECK_PERIOD==1&&p&&this.updateGrid(),D=new Set,b=0;b<S.length;b++)w=S[b],this.calculateRepulsionForceOfANode(w,D,p,m),D.add(w);else for(b=0;b<S.length;b++)for(w=S[b],x=b+1;x<S.length;x++)T=S[x],w.getOwner()==T.getOwner()&&this.calcRepulsionForce(w,T)},d.prototype.calcGravitationalForces=function(){for(var p,m=this.getAllNodesToApplyGravitation(),b=0;b<m.length;b++)p=m[b],this.calcGravitationalForce(p)},d.prototype.moveNodes=function(){for(var p=this.getAllNodes(),m,b=0;b<p.length;b++)m=p[b],m.move()},d.prototype.calcSpringForce=function(p,m){var b=p.getSource(),x=p.getTarget(),w,T,S,D;if(this.uniformLeafNodeSizes&&b.getChild()==null&&x.getChild()==null)p.updateLengthSimple();else if(p.updateLength(),p.isOverlapingSourceAndTarget)return;w=p.getLength(),w!=0&&(T=this.springConstant*(w-m),S=T*(p.lengthX/w),D=T*(p.lengthY/w),b.springForceX+=S,b.springForceY+=D,x.springForceX-=S,x.springForceY-=D)},d.prototype.calcRepulsionForce=function(p,m){var b=p.getRect(),x=m.getRect(),w=new Array(2),T=new Array(4),S,D,R,L,_,N,P;if(b.intersects(x)){c.calcSeparationAmount(b,x,w,l.DEFAULT_EDGE_LENGTH/2),N=2*w[0],P=2*w[1];var U=p.noOfChildren*m.noOfChildren/(p.noOfChildren+m.noOfChildren);p.repulsionForceX-=U*N,p.repulsionForceY-=U*P,m.repulsionForceX+=U*N,m.repulsionForceY+=U*P}else this.uniformLeafNodeSizes&&p.getChild()==null&&m.getChild()==null?(S=x.getCenterX()-b.getCenterX(),D=x.getCenterY()-b.getCenterY()):(c.getIntersection(b,x,T),S=T[2]-T[0],D=T[3]-T[1]),Math.abs(S)<l.MIN_REPULSION_DIST&&(S=h.sign(S)*l.MIN_REPULSION_DIST),Math.abs(D)<l.MIN_REPULSION_DIST&&(D=h.sign(D)*l.MIN_REPULSION_DIST),R=S*S+D*D,L=Math.sqrt(R),_=this.repulsionConstant*p.noOfChildren*m.noOfChildren/R,N=_*S/L,P=_*D/L,p.repulsionForceX-=N,p.repulsionForceY-=P,m.repulsionForceX+=N,m.repulsionForceY+=P},d.prototype.calcGravitationalForce=function(p){var m,b,x,w,T,S,D,R;m=p.getOwner(),b=(m.getRight()+m.getLeft())/2,x=(m.getTop()+m.getBottom())/2,w=p.getCenterX()-b,T=p.getCenterY()-x,S=Math.abs(w)+p.getWidth()/2,D=Math.abs(T)+p.getHeight()/2,p.getOwner()==this.graphManager.getRoot()?(R=m.getEstimatedSize()*this.gravityRangeFactor,(S>R||D>R)&&(p.gravitationForceX=-this.gravityConstant*w,p.gravitationForceY=-this.gravityConstant*T)):(R=m.getEstimatedSize()*this.compoundGravityRangeFactor,(S>R||D>R)&&(p.gravitationForceX=-this.gravityConstant*w*this.compoundGravityConstant,p.gravitationForceY=-this.gravityConstant*T*this.compoundGravityConstant))},d.prototype.isConverged=function(){var p,m=!1;return this.totalIterations>this.maxIterations/3&&(m=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),p=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,p||m},d.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},d.prototype.calcNoOfChildrenForAllNodes=function(){for(var p,m=this.graphManager.getAllNodes(),b=0;b<m.length;b++)p=m[b],p.noOfChildren=p.getNoOfChildren()},d.prototype.calcGrid=function(p){var m=0,b=0;m=parseInt(Math.ceil((p.getRight()-p.getLeft())/this.repulsionRange)),b=parseInt(Math.ceil((p.getBottom()-p.getTop())/this.repulsionRange));for(var x=new Array(m),w=0;w<m;w++)x[w]=new Array(b);for(var w=0;w<m;w++)for(var T=0;T<b;T++)x[w][T]=new Array;return x},d.prototype.addNodeToGrid=function(p,m,b){var x=0,w=0,T=0,S=0;x=parseInt(Math.floor((p.getRect().x-m)/this.repulsionRange)),w=parseInt(Math.floor((p.getRect().width+p.getRect().x-m)/this.repulsionRange)),T=parseInt(Math.floor((p.getRect().y-b)/this.repulsionRange)),S=parseInt(Math.floor((p.getRect().height+p.getRect().y-b)/this.repulsionRange));for(var D=x;D<=w;D++)for(var R=T;R<=S;R++)this.grid[D][R].push(p),p.setGridCoordinates(x,w,T,S)},d.prototype.updateGrid=function(){var p,m,b=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),p=0;p<b.length;p++)m=b[p],this.addNodeToGrid(m,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},d.prototype.calculateRepulsionForceOfANode=function(p,m,b,x){if(this.totalIterations%l.GRID_CALCULATION_CHECK_PERIOD==1&&b||x){var w=new Set;p.surrounding=new Array;for(var T,S=this.grid,D=p.startX-1;D<p.finishX+2;D++)for(var R=p.startY-1;R<p.finishY+2;R++)if(!(D<0||R<0||D>=S.length||R>=S[0].length)){for(var L=0;L<S[D][R].length;L++)if(T=S[D][R][L],!(p.getOwner()!=T.getOwner()||p==T)&&!m.has(T)&&!w.has(T)){var _=Math.abs(p.getCenterX()-T.getCenterX())-(p.getWidth()/2+T.getWidth()/2),N=Math.abs(p.getCenterY()-T.getCenterY())-(p.getHeight()/2+T.getHeight()/2);_<=this.repulsionRange&&N<=this.repulsionRange&&w.add(T)}}p.surrounding=[].concat(i(w))}for(D=0;D<p.surrounding.length;D++)this.calcRepulsionForce(p,p.surrounding[D])},d.prototype.calcRepulsionRange=function(){return 0},r.exports=d}),(function(r,n,a){var i=a(1),o=a(7);function l(c,h,d){i.call(this,c,h,d),this.idealLength=o.DEFAULT_EDGE_LENGTH}l.prototype=Object.create(i.prototype);for(var u in i)l[u]=i[u];r.exports=l}),(function(r,n,a){var i=a(3);function o(u,c,h,d){i.call(this,u,c,h,d),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}o.prototype=Object.create(i.prototype);for(var l in i)o[l]=i[l];o.prototype.setGridCoordinates=function(u,c,h,d){this.startX=u,this.finishX=c,this.startY=h,this.finishY=d},r.exports=o}),(function(r,n,a){function i(o,l){this.width=0,this.height=0,o!==null&&l!==null&&(this.height=l,this.width=o)}i.prototype.getWidth=function(){return this.width},i.prototype.setWidth=function(o){this.width=o},i.prototype.getHeight=function(){return this.height},i.prototype.setHeight=function(o){this.height=o},r.exports=i}),(function(r,n,a){var i=a(14);function o(){this.map={},this.keys=[]}o.prototype.put=function(l,u){var c=i.createID(l);this.contains(c)||(this.map[c]=u,this.keys.push(l))},o.prototype.contains=function(l){return i.createID(l),this.map[l]!=null},o.prototype.get=function(l){var u=i.createID(l);return this.map[u]},o.prototype.keySet=function(){return this.keys},r.exports=o}),(function(r,n,a){var i=a(14);function o(){this.set={}}o.prototype.add=function(l){var u=i.createID(l);this.contains(u)||(this.set[u]=l)},o.prototype.remove=function(l){delete this.set[i.createID(l)]},o.prototype.clear=function(){this.set={}},o.prototype.contains=function(l){return this.set[i.createID(l)]==l},o.prototype.isEmpty=function(){return this.size()===0},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAllTo=function(l){for(var u=Object.keys(this.set),c=u.length,h=0;h<c;h++)l.push(this.set[u[h]])},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAll=function(l){for(var u=l.length,c=0;c<u;c++){var h=l[c];this.add(h)}},r.exports=o}),(function(r,n,a){var i=(function(){function c(h,d){for(var v=0;v<d.length;v++){var p=d[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,d,v){return d&&c(h.prototype,d),v&&c(h,v),h}})();function o(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}var l=a(11),u=(function(){function c(h,d){o(this,c),(d!==null||d!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var v=void 0;h instanceof l?v=h.size():v=h.length,this._quicksort(h,0,v-1)}return i(c,[{key:"_quicksort",value:function(d,v,p){if(v<p){var m=this._partition(d,v,p);this._quicksort(d,v,m),this._quicksort(d,m+1,p)}}},{key:"_partition",value:function(d,v,p){for(var m=this._get(d,v),b=v,x=p;;){for(;this.compareFunction(m,this._get(d,x));)x--;for(;this.compareFunction(this._get(d,b),m);)b++;if(b<x)this._swap(d,b,x),b++,x--;else return x}}},{key:"_get",value:function(d,v){return d instanceof l?d.get_object_at(v):d[v]}},{key:"_set",value:function(d,v,p){d instanceof l?d.set_object_at(v,p):d[v]=p}},{key:"_swap",value:function(d,v,p){var m=this._get(d,v);this._set(d,v,this._get(d,p)),this._set(d,p,m)}},{key:"_defaultCompareFunction",value:function(d,v){return v>d}}]),c})();r.exports=u}),(function(r,n,a){var i=(function(){function u(c,h){for(var d=0;d<h.length;d++){var v=h[d];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,v.key,v)}}return function(c,h,d){return h&&u(c.prototype,h),d&&u(c,d),c}})();function o(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}var l=(function(){function u(c,h){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;o(this,u),this.sequence1=c,this.sequence2=h,this.match_score=d,this.mismatch_penalty=v,this.gap_penalty=p,this.iMax=c.length+1,this.jMax=h.length+1,this.grid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.grid[m]=new Array(this.jMax);for(var b=0;b<this.jMax;b++)this.grid[m][b]=0}this.tracebackGrid=new Array(this.iMax);for(var x=0;x<this.iMax;x++){this.tracebackGrid[x]=new Array(this.jMax);for(var w=0;w<this.jMax;w++)this.tracebackGrid[x][w]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return i(u,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var h=1;h<this.jMax;h++)this.grid[0][h]=this.grid[0][h-1]+this.gap_penalty,this.tracebackGrid[0][h]=[!1,!1,!0];for(var d=1;d<this.iMax;d++)this.grid[d][0]=this.grid[d-1][0]+this.gap_penalty,this.tracebackGrid[d][0]=[!1,!0,!1];for(var v=1;v<this.iMax;v++)for(var p=1;p<this.jMax;p++){var m=void 0;this.sequence1[v-1]===this.sequence2[p-1]?m=this.grid[v-1][p-1]+this.match_score:m=this.grid[v-1][p-1]+this.mismatch_penalty;var b=this.grid[v-1][p]+this.gap_penalty,x=this.grid[v][p-1]+this.gap_penalty,w=[m,b,x],T=this.arrayAllMaxIndexes(w);this.grid[v][p]=w[T[0]],this.tracebackGrid[v][p]=[T.includes(0),T.includes(1),T.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var h=[];for(h.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});h[0];){var d=h[0],v=this.tracebackGrid[d.pos[0]][d.pos[1]];v[0]&&h.push({pos:[d.pos[0]-1,d.pos[1]-1],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),v[1]&&h.push({pos:[d.pos[0]-1,d.pos[1]],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:"-"+d.seq2}),v[2]&&h.push({pos:[d.pos[0],d.pos[1]-1],seq1:"-"+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),d.pos[0]===0&&d.pos[1]===0&&this.alignments.push({sequence1:d.seq1,sequence2:d.seq2}),h.shift()}return this.alignments}},{key:"getAllIndexes",value:function(h,d){for(var v=[],p=-1;(p=h.indexOf(d,p+1))!==-1;)v.push(p);return v}},{key:"arrayAllMaxIndexes",value:function(h){return this.getAllIndexes(h,Math.max.apply(null,h))}}]),u})();r.exports=l}),(function(r,n,a){var i=function(){};i.FDLayout=a(18),i.FDLayoutConstants=a(7),i.FDLayoutEdge=a(19),i.FDLayoutNode=a(20),i.DimensionD=a(21),i.HashMap=a(22),i.HashSet=a(23),i.IGeometry=a(8),i.IMath=a(9),i.Integer=a(10),i.Point=a(12),i.PointD=a(4),i.RandomSeed=a(16),i.RectangleD=a(13),i.Transform=a(17),i.UniqueIDGeneretor=a(14),i.Quicksort=a(24),i.LinkedList=a(11),i.LGraphObject=a(2),i.LGraph=a(5),i.LEdge=a(1),i.LGraphManager=a(6),i.LNode=a(3),i.Layout=a(15),i.LayoutConstants=a(0),i.NeedlemanWunsch=a(25),r.exports=i}),(function(r,n,a){function i(){this.listeners=[]}var o=i.prototype;o.addListener=function(l,u){this.listeners.push({event:l,callback:u})},o.removeListener=function(l,u){for(var c=this.listeners.length;c>=0;c--){var h=this.listeners[c];h.event===l&&h.callback===u&&this.listeners.splice(c,1)}},o.emit=function(l,u){for(var c=0;c<this.listeners.length;c++){var h=this.listeners[c];l===h.event&&h.callback(u)}},r.exports=i})])})})(Tv)),Tv.exports}var lae=Sv.exports,zN;function uae(){return zN||(zN=1,(function(e,t){(function(n,a){e.exports=a(sae())})(lae,function(r){return(function(n){var a={};function i(o){if(a[o])return a[o].exports;var l=a[o]={i:o,l:!1,exports:{}};return n[o].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=n,i.c=a,i.i=function(o){return o},i.d=function(o,l,u){i.o(o,l)||Object.defineProperty(o,l,{configurable:!1,enumerable:!0,get:u})},i.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(l,"a",l),l},i.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},i.p="",i(i.s=7)})([(function(n,a){n.exports=r}),(function(n,a,i){var o=i(0).FDLayoutConstants;function l(){}for(var u in o)l[u]=o[u];l.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,l.DEFAULT_RADIAL_SEPARATION=o.DEFAULT_EDGE_LENGTH,l.DEFAULT_COMPONENT_SEPERATION=60,l.TILE=!0,l.TILING_PADDING_VERTICAL=10,l.TILING_PADDING_HORIZONTAL=10,l.TREE_REDUCTION_ON_INCREMENTAL=!1,n.exports=l}),(function(n,a,i){var o=i(0).FDLayoutEdge;function l(c,h,d){o.call(this,c,h,d)}l.prototype=Object.create(o.prototype);for(var u in o)l[u]=o[u];n.exports=l}),(function(n,a,i){var o=i(0).LGraph;function l(c,h,d){o.call(this,c,h,d)}l.prototype=Object.create(o.prototype);for(var u in o)l[u]=o[u];n.exports=l}),(function(n,a,i){var o=i(0).LGraphManager;function l(c){o.call(this,c)}l.prototype=Object.create(o.prototype);for(var u in o)l[u]=o[u];n.exports=l}),(function(n,a,i){var o=i(0).FDLayoutNode,l=i(0).IMath;function u(h,d,v,p){o.call(this,h,d,v,p)}u.prototype=Object.create(o.prototype);for(var c in o)u[c]=o[c];u.prototype.move=function(){var h=this.graphManager.getLayout();this.displacementX=h.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=h.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>h.coolingFactor*h.maxNodeDisplacement&&(this.displacementX=h.coolingFactor*h.maxNodeDisplacement*l.sign(this.displacementX)),Math.abs(this.displacementY)>h.coolingFactor*h.maxNodeDisplacement&&(this.displacementY=h.coolingFactor*h.maxNodeDisplacement*l.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),h.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},u.prototype.propogateDisplacementToChildren=function(h,d){for(var v=this.getChild().getNodes(),p,m=0;m<v.length;m++)p=v[m],p.getChild()==null?(p.moveBy(h,d),p.displacementX+=h,p.displacementY+=d):p.propogateDisplacementToChildren(h,d)},u.prototype.setPred1=function(h){this.pred1=h},u.prototype.getPred1=function(){return pred1},u.prototype.getPred2=function(){return pred2},u.prototype.setNext=function(h){this.next=h},u.prototype.getNext=function(){return next},u.prototype.setProcessed=function(h){this.processed=h},u.prototype.isProcessed=function(){return processed},n.exports=u}),(function(n,a,i){var o=i(0).FDLayout,l=i(4),u=i(3),c=i(5),h=i(2),d=i(1),v=i(0).FDLayoutConstants,p=i(0).LayoutConstants,m=i(0).Point,b=i(0).PointD,x=i(0).Layout,w=i(0).Integer,T=i(0).IGeometry,S=i(0).LGraph,D=i(0).Transform;function R(){o.call(this),this.toBeTiled={}}R.prototype=Object.create(o.prototype);for(var L in o)R[L]=o[L];R.prototype.newGraphManager=function(){var _=new l(this);return this.graphManager=_,_},R.prototype.newGraph=function(_){return new u(null,this.graphManager,_)},R.prototype.newNode=function(_){return new c(this.graphManager,_)},R.prototype.newEdge=function(_){return new h(null,null,_)},R.prototype.initParameters=function(){o.prototype.initParameters.call(this,arguments),this.isSubLayout||(d.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=d.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=d.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=v.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=v.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=v.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=v.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=v.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/v.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=v.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},R.prototype.layout=function(){var _=p.DEFAULT_CREATE_BENDS_AS_NEEDED;return _&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},R.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(d.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var N=new Set(this.getAllNodes()),P=this.nodesWithGravity.filter(function(F){return N.has(F)});this.graphManager.setAllNodesToApplyGravitation(P)}}else{var _=this.getFlatForest();if(_.length>0)this.positionNodesRadially(_);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var N=new Set(this.getAllNodes()),P=this.nodesWithGravity.filter(function(U){return N.has(U)});this.graphManager.setAllNodesToApplyGravitation(P),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},R.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%v.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var _=new Set(this.getAllNodes()),N=this.nodesWithGravity.filter(function(j){return _.has(j)});this.graphManager.setAllNodesToApplyGravitation(N),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var P=!this.isTreeGrowing&&!this.isGrowthFinished,U=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(P,U),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},R.prototype.getPositionsData=function(){for(var _=this.graphManager.getAllNodes(),N={},P=0;P<_.length;P++){var U=_[P].rect,j=_[P].id;N[j]={id:j,x:U.getCenterX(),y:U.getCenterY(),w:U.width,h:U.height}}return N},R.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var _=!1;if(v.ANIMATE==="during")this.emit("layoutstarted");else{for(;!_;)_=this.tick();this.graphManager.updateBounds()}},R.prototype.calculateNodesToApplyGravitationTo=function(){var _=[],N,P=this.graphManager.getGraphs(),U=P.length,j;for(j=0;j<U;j++)N=P[j],N.updateConnected(),N.isConnected||(_=_.concat(N.getNodes()));return _},R.prototype.createBendpoints=function(){var _=[];_=_.concat(this.graphManager.getAllEdges());var N=new Set,P;for(P=0;P<_.length;P++){var U=_[P];if(!N.has(U)){var j=U.getSource(),F=U.getTarget();if(j==F)U.getBendpoints().push(new b),U.getBendpoints().push(new b),this.createDummyNodesForBendpoints(U),N.add(U);else{var I=[];if(I=I.concat(j.getEdgeListToNode(F)),I=I.concat(F.getEdgeListToNode(j)),!N.has(I[0])){if(I.length>1){var G;for(G=0;G<I.length;G++){var Y=I[G];Y.getBendpoints().push(new b),this.createDummyNodesForBendpoints(Y)}}I.forEach(function(q){N.add(q)})}}}if(N.size==_.length)break}},R.prototype.positionNodesRadially=function(_){for(var N=new m(0,0),P=Math.ceil(Math.sqrt(_.length)),U=0,j=0,F=0,I=new b(0,0),G=0;G<_.length;G++){G%P==0&&(F=0,j=U,G!=0&&(j+=d.DEFAULT_COMPONENT_SEPERATION),U=0);var Y=_[G],q=x.findCenterOfTree(Y);N.x=F,N.y=j,I=R.radialLayout(Y,q,N),I.y>U&&(U=Math.floor(I.y)),F=Math.floor(I.x+d.DEFAULT_COMPONENT_SEPERATION)}this.transform(new b(p.WORLD_CENTER_X-I.x/2,p.WORLD_CENTER_Y-I.y/2))},R.radialLayout=function(_,N,P){var U=Math.max(this.maxDiagonalInTree(_),d.DEFAULT_RADIAL_SEPARATION);R.branchRadialLayout(N,null,0,359,0,U);var j=S.calculateBounds(_),F=new D;F.setDeviceOrgX(j.getMinX()),F.setDeviceOrgY(j.getMinY()),F.setWorldOrgX(P.x),F.setWorldOrgY(P.y);for(var I=0;I<_.length;I++){var G=_[I];G.transform(F)}var Y=new b(j.getMaxX(),j.getMaxY());return F.inverseTransformPoint(Y)},R.branchRadialLayout=function(_,N,P,U,j,F){var I=(U-P+1)/2;I<0&&(I+=180);var G=(I+P)%360,Y=G*T.TWO_PI/360,q=j*Math.cos(Y),V=j*Math.sin(Y);_.setCenter(q,V);var W=[];W=W.concat(_.getEdges());var J=W.length;N!=null&&J--;for(var ie=0,K=W.length,Z,fe=_.getEdgesBetween(N);fe.length>1;){var he=fe[0];fe.splice(0,1);var oe=W.indexOf(he);oe>=0&&W.splice(oe,1),K--,J--}N!=null?Z=(W.indexOf(fe[0])+1)%K:Z=0;for(var be=Math.abs(U-P)/J,Ae=Z;ie!=J;Ae=++Ae%K){var Le=W[Ae].getOtherEnd(_);if(Le!=N){var ce=(P+ie*be)%360,ae=(ce+be)%360;R.branchRadialLayout(Le,_,ce,ae,j+F,F),ie++}}},R.maxDiagonalInTree=function(_){for(var N=w.MIN_VALUE,P=0;P<_.length;P++){var U=_[P],j=U.getDiagonal();j>N&&(N=j)}return N},R.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},R.prototype.groupZeroDegreeMembers=function(){var _=this,N={};this.memberGroups={},this.idToDummyNode={};for(var P=[],U=this.graphManager.getAllNodes(),j=0;j<U.length;j++){var F=U[j],I=F.getParent();this.getNodeDegreeWithChildren(F)===0&&(I.id==null||!this.getToBeTiled(I))&&P.push(F)}for(var j=0;j<P.length;j++){var F=P[j],G=F.getParent().id;typeof N[G]>"u"&&(N[G]=[]),N[G]=N[G].concat(F)}Object.keys(N).forEach(function(Y){if(N[Y].length>1){var q="DummyCompound_"+Y;_.memberGroups[q]=N[Y];var V=N[Y][0].getParent(),W=new c(_.graphManager);W.id=q,W.paddingLeft=V.paddingLeft||0,W.paddingRight=V.paddingRight||0,W.paddingBottom=V.paddingBottom||0,W.paddingTop=V.paddingTop||0,_.idToDummyNode[q]=W;var J=_.getGraphManager().add(_.newGraph(),W),ie=V.getChild();ie.add(W);for(var K=0;K<N[Y].length;K++){var Z=N[Y][K];ie.remove(Z),J.add(Z)}}})},R.prototype.clearCompounds=function(){var _={},N={};this.performDFSOnCompounds();for(var P=0;P<this.compoundOrder.length;P++)N[this.compoundOrder[P].id]=this.compoundOrder[P],_[this.compoundOrder[P].id]=[].concat(this.compoundOrder[P].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[P].getChild()),this.compoundOrder[P].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(_,N)},R.prototype.clearZeroDegreeMembers=function(){var _=this,N=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(P){var U=_.idToDummyNode[P];N[P]=_.tileNodes(_.memberGroups[P],U.paddingLeft+U.paddingRight),U.rect.width=N[P].width,U.rect.height=N[P].height})},R.prototype.repopulateCompounds=function(){for(var _=this.compoundOrder.length-1;_>=0;_--){var N=this.compoundOrder[_],P=N.id,U=N.paddingLeft,j=N.paddingTop;this.adjustLocations(this.tiledMemberPack[P],N.rect.x,N.rect.y,U,j)}},R.prototype.repopulateZeroDegreeMembers=function(){var _=this,N=this.tiledZeroDegreePack;Object.keys(N).forEach(function(P){var U=_.idToDummyNode[P],j=U.paddingLeft,F=U.paddingTop;_.adjustLocations(N[P],U.rect.x,U.rect.y,j,F)})},R.prototype.getToBeTiled=function(_){var N=_.id;if(this.toBeTiled[N]!=null)return this.toBeTiled[N];var P=_.getChild();if(P==null)return this.toBeTiled[N]=!1,!1;for(var U=P.getNodes(),j=0;j<U.length;j++){var F=U[j];if(this.getNodeDegree(F)>0)return this.toBeTiled[N]=!1,!1;if(F.getChild()==null){this.toBeTiled[F.id]=!1;continue}if(!this.getToBeTiled(F))return this.toBeTiled[N]=!1,!1}return this.toBeTiled[N]=!0,!0},R.prototype.getNodeDegree=function(_){_.id;for(var N=_.getEdges(),P=0,U=0;U<N.length;U++){var j=N[U];j.getSource().id!==j.getTarget().id&&(P=P+1)}return P},R.prototype.getNodeDegreeWithChildren=function(_){var N=this.getNodeDegree(_);if(_.getChild()==null)return N;for(var P=_.getChild().getNodes(),U=0;U<P.length;U++){var j=P[U];N+=this.getNodeDegreeWithChildren(j)}return N},R.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},R.prototype.fillCompexOrderByDFS=function(_){for(var N=0;N<_.length;N++){var P=_[N];P.getChild()!=null&&this.fillCompexOrderByDFS(P.getChild().getNodes()),this.getToBeTiled(P)&&this.compoundOrder.push(P)}},R.prototype.adjustLocations=function(_,N,P,U,j){N+=U,P+=j;for(var F=N,I=0;I<_.rows.length;I++){var G=_.rows[I];N=F;for(var Y=0,q=0;q<G.length;q++){var V=G[q];V.rect.x=N,V.rect.y=P,N+=V.rect.width+_.horizontalPadding,V.rect.height>Y&&(Y=V.rect.height)}P+=Y+_.verticalPadding}},R.prototype.tileCompoundMembers=function(_,N){var P=this;this.tiledMemberPack=[],Object.keys(_).forEach(function(U){var j=N[U];P.tiledMemberPack[U]=P.tileNodes(_[U],j.paddingLeft+j.paddingRight),j.rect.width=P.tiledMemberPack[U].width,j.rect.height=P.tiledMemberPack[U].height})},R.prototype.tileNodes=function(_,N){var P=d.TILING_PADDING_VERTICAL,U=d.TILING_PADDING_HORIZONTAL,j={rows:[],rowWidth:[],rowHeight:[],width:0,height:N,verticalPadding:P,horizontalPadding:U};_.sort(function(G,Y){return G.rect.width*G.rect.height>Y.rect.width*Y.rect.height?-1:G.rect.width*G.rect.height<Y.rect.width*Y.rect.height?1:0});for(var F=0;F<_.length;F++){var I=_[F];j.rows.length==0?this.insertNodeToRow(j,I,0,N):this.canAddHorizontal(j,I.rect.width,I.rect.height)?this.insertNodeToRow(j,I,this.getShortestRowIndex(j),N):this.insertNodeToRow(j,I,j.rows.length,N),this.shiftToLastRow(j)}return j},R.prototype.insertNodeToRow=function(_,N,P,U){var j=U;if(P==_.rows.length){var F=[];_.rows.push(F),_.rowWidth.push(j),_.rowHeight.push(0)}var I=_.rowWidth[P]+N.rect.width;_.rows[P].length>0&&(I+=_.horizontalPadding),_.rowWidth[P]=I,_.width<I&&(_.width=I);var G=N.rect.height;P>0&&(G+=_.verticalPadding);var Y=0;G>_.rowHeight[P]&&(Y=_.rowHeight[P],_.rowHeight[P]=G,Y=_.rowHeight[P]-Y),_.height+=Y,_.rows[P].push(N)},R.prototype.getShortestRowIndex=function(_){for(var N=-1,P=Number.MAX_VALUE,U=0;U<_.rows.length;U++)_.rowWidth[U]<P&&(N=U,P=_.rowWidth[U]);return N},R.prototype.getLongestRowIndex=function(_){for(var N=-1,P=Number.MIN_VALUE,U=0;U<_.rows.length;U++)_.rowWidth[U]>P&&(N=U,P=_.rowWidth[U]);return N},R.prototype.canAddHorizontal=function(_,N,P){var U=this.getShortestRowIndex(_);if(U<0)return!0;var j=_.rowWidth[U];if(j+_.horizontalPadding+N<=_.width)return!0;var F=0;_.rowHeight[U]<P&&U>0&&(F=P+_.verticalPadding-_.rowHeight[U]);var I;_.width-j>=N+_.horizontalPadding?I=(_.height+F)/(j+N+_.horizontalPadding):I=(_.height+F)/_.width,F=P+_.verticalPadding;var G;return _.width<N?G=(_.height+F)/N:G=(_.height+F)/_.width,G<1&&(G=1/G),I<1&&(I=1/I),I<G},R.prototype.shiftToLastRow=function(_){var N=this.getLongestRowIndex(_),P=_.rowWidth.length-1,U=_.rows[N],j=U[U.length-1],F=j.width+_.horizontalPadding;if(_.width-_.rowWidth[P]>F&&N!=P){U.splice(-1,1),_.rows[P].push(j),_.rowWidth[N]=_.rowWidth[N]-F,_.rowWidth[P]=_.rowWidth[P]+F,_.width=_.rowWidth[instance.getLongestRowIndex(_)];for(var I=Number.MIN_VALUE,G=0;G<U.length;G++)U[G].height>I&&(I=U[G].height);N>0&&(I+=_.verticalPadding);var Y=_.rowHeight[N]+_.rowHeight[P];_.rowHeight[N]=I,_.rowHeight[P]<j.height+_.verticalPadding&&(_.rowHeight[P]=j.height+_.verticalPadding);var q=_.rowHeight[N]+_.rowHeight[P];_.height+=q-Y,this.shiftToLastRow(_)}},R.prototype.tilingPreLayout=function(){d.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},R.prototype.tilingPostLayout=function(){d.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},R.prototype.reduceTrees=function(){for(var _=[],N=!0,P;N;){var U=this.graphManager.getAllNodes(),j=[];N=!1;for(var F=0;F<U.length;F++)P=U[F],P.getEdges().length==1&&!P.getEdges()[0].isInterGraph&&P.getChild()==null&&(j.push([P,P.getEdges()[0],P.getOwner()]),N=!0);if(N==!0){for(var I=[],G=0;G<j.length;G++)j[G][0].getEdges().length==1&&(I.push(j[G]),j[G][0].getOwner().remove(j[G][0]));_.push(I),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=_},R.prototype.growTree=function(_){for(var N=_.length,P=_[N-1],U,j=0;j<P.length;j++)U=P[j],this.findPlaceforPrunedNode(U),U[2].add(U[0]),U[2].add(U[1],U[1].source,U[1].target);_.splice(_.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},R.prototype.findPlaceforPrunedNode=function(_){var N,P,U=_[0];U==_[1].source?P=_[1].target:P=_[1].source;var j=P.startX,F=P.finishX,I=P.startY,G=P.finishY,Y=0,q=0,V=0,W=0,J=[Y,V,q,W];if(I>0)for(var ie=j;ie<=F;ie++)J[0]+=this.grid[ie][I-1].length+this.grid[ie][I].length-1;if(F<this.grid.length-1)for(var ie=I;ie<=G;ie++)J[1]+=this.grid[F+1][ie].length+this.grid[F][ie].length-1;if(G<this.grid[0].length-1)for(var ie=j;ie<=F;ie++)J[2]+=this.grid[ie][G+1].length+this.grid[ie][G].length-1;if(j>0)for(var ie=I;ie<=G;ie++)J[3]+=this.grid[j-1][ie].length+this.grid[j][ie].length-1;for(var K=w.MAX_VALUE,Z,fe,he=0;he<J.length;he++)J[he]<K?(K=J[he],Z=1,fe=he):J[he]==K&&Z++;if(Z==3&&K==0)J[0]==0&&J[1]==0&&J[2]==0?N=1:J[0]==0&&J[1]==0&&J[3]==0?N=0:J[0]==0&&J[2]==0&&J[3]==0?N=3:J[1]==0&&J[2]==0&&J[3]==0&&(N=2);else if(Z==2&&K==0){var oe=Math.floor(Math.random()*2);J[0]==0&&J[1]==0?oe==0?N=0:N=1:J[0]==0&&J[2]==0?oe==0?N=0:N=2:J[0]==0&&J[3]==0?oe==0?N=0:N=3:J[1]==0&&J[2]==0?oe==0?N=1:N=2:J[1]==0&&J[3]==0?oe==0?N=1:N=3:oe==0?N=2:N=3}else if(Z==4&&K==0){var oe=Math.floor(Math.random()*4);N=oe}else N=fe;N==0?U.setCenter(P.getCenterX(),P.getCenterY()-P.getHeight()/2-v.DEFAULT_EDGE_LENGTH-U.getHeight()/2):N==1?U.setCenter(P.getCenterX()+P.getWidth()/2+v.DEFAULT_EDGE_LENGTH+U.getWidth()/2,P.getCenterY()):N==2?U.setCenter(P.getCenterX(),P.getCenterY()+P.getHeight()/2+v.DEFAULT_EDGE_LENGTH+U.getHeight()/2):U.setCenter(P.getCenterX()-P.getWidth()/2-v.DEFAULT_EDGE_LENGTH-U.getWidth()/2,P.getCenterY())},n.exports=R}),(function(n,a,i){var o={};o.layoutBase=i(0),o.CoSEConstants=i(1),o.CoSEEdge=i(2),o.CoSEGraph=i(3),o.CoSEGraphManager=i(4),o.CoSELayout=i(6),o.CoSENode=i(5),n.exports=o})])})})(Sv)),Sv.exports}var cae=Ev.exports,FN;function fae(){return FN||(FN=1,(function(e,t){(function(n,a){e.exports=a(uae())})(cae,function(r){return(function(n){var a={};function i(o){if(a[o])return a[o].exports;var l=a[o]={i:o,l:!1,exports:{}};return n[o].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=n,i.c=a,i.i=function(o){return o},i.d=function(o,l,u){i.o(o,l)||Object.defineProperty(o,l,{configurable:!1,enumerable:!0,get:u})},i.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(l,"a",l),l},i.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},i.p="",i(i.s=1)})([(function(n,a){n.exports=r}),(function(n,a,i){var o=i(0).layoutBase.LayoutConstants,l=i(0).layoutBase.FDLayoutConstants,u=i(0).CoSEConstants,c=i(0).CoSELayout,h=i(0).CoSENode,d=i(0).layoutBase.PointD,v=i(0).layoutBase.DimensionD,p={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function m(T,S){var D={};for(var R in T)D[R]=T[R];for(var R in S)D[R]=S[R];return D}function b(T){this.options=m(p,T),x(this.options)}var x=function(S){S.nodeRepulsion!=null&&(u.DEFAULT_REPULSION_STRENGTH=l.DEFAULT_REPULSION_STRENGTH=S.nodeRepulsion),S.idealEdgeLength!=null&&(u.DEFAULT_EDGE_LENGTH=l.DEFAULT_EDGE_LENGTH=S.idealEdgeLength),S.edgeElasticity!=null&&(u.DEFAULT_SPRING_STRENGTH=l.DEFAULT_SPRING_STRENGTH=S.edgeElasticity),S.nestingFactor!=null&&(u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=S.nestingFactor),S.gravity!=null&&(u.DEFAULT_GRAVITY_STRENGTH=l.DEFAULT_GRAVITY_STRENGTH=S.gravity),S.numIter!=null&&(u.MAX_ITERATIONS=l.MAX_ITERATIONS=S.numIter),S.gravityRange!=null&&(u.DEFAULT_GRAVITY_RANGE_FACTOR=l.DEFAULT_GRAVITY_RANGE_FACTOR=S.gravityRange),S.gravityCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=l.DEFAULT_COMPOUND_GRAVITY_STRENGTH=S.gravityCompound),S.gravityRangeCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=S.gravityRangeCompound),S.initialEnergyOnIncremental!=null&&(u.DEFAULT_COOLING_FACTOR_INCREMENTAL=l.DEFAULT_COOLING_FACTOR_INCREMENTAL=S.initialEnergyOnIncremental),S.quality=="draft"?o.QUALITY=0:S.quality=="proof"?o.QUALITY=2:o.QUALITY=1,u.NODE_DIMENSIONS_INCLUDE_LABELS=l.NODE_DIMENSIONS_INCLUDE_LABELS=o.NODE_DIMENSIONS_INCLUDE_LABELS=S.nodeDimensionsIncludeLabels,u.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=o.DEFAULT_INCREMENTAL=!S.randomize,u.ANIMATE=l.ANIMATE=o.ANIMATE=S.animate,u.TILE=S.tile,u.TILING_PADDING_VERTICAL=typeof S.tilingPaddingVertical=="function"?S.tilingPaddingVertical.call():S.tilingPaddingVertical,u.TILING_PADDING_HORIZONTAL=typeof S.tilingPaddingHorizontal=="function"?S.tilingPaddingHorizontal.call():S.tilingPaddingHorizontal};b.prototype.run=function(){var T,S,D=this.options;this.idToLNode={};var R=this.layout=new c,L=this;L.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var _=R.newGraphManager();this.gm=_;var N=this.options.eles.nodes(),P=this.options.eles.edges();this.root=_.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(N),R);for(var U=0;U<P.length;U++){var j=P[U],F=this.idToLNode[j.data("source")],I=this.idToLNode[j.data("target")];if(F!==I&&F.getEdgesBetween(I).length==0){var G=_.add(R.newEdge(),F,I);G.id=j.id()}}var Y=function(W,J){typeof W=="number"&&(W=J);var ie=W.data("id"),K=L.idToLNode[ie];return{x:K.getRect().getCenterX(),y:K.getRect().getCenterY()}},q=function V(){for(var W=function(){D.fit&&D.cy.fit(D.eles,D.padding),T||(T=!0,L.cy.one("layoutready",D.ready),L.cy.trigger({type:"layoutready",layout:L}))},J=L.options.refresh,ie,K=0;K<J&&!ie;K++)ie=L.stopped||L.layout.tick();if(ie){R.checkLayoutSuccess()&&!R.isSubLayout&&R.doPostLayout(),R.tilingPostLayout&&R.tilingPostLayout(),R.isLayoutFinished=!0,L.options.eles.nodes().positions(Y),W(),L.cy.one("layoutstop",L.options.stop),L.cy.trigger({type:"layoutstop",layout:L}),S&&cancelAnimationFrame(S),T=!1;return}var Z=L.layout.getPositionsData();D.eles.nodes().positions(function(fe,he){if(typeof fe=="number"&&(fe=he),!fe.isParent()){for(var oe=fe.id(),be=Z[oe],Ae=fe;be==null&&(be=Z[Ae.data("parent")]||Z["DummyCompound_"+Ae.data("parent")],Z[oe]=be,Ae=Ae.parent()[0],Ae!=null););return be!=null?{x:be.x,y:be.y}:{x:fe.position("x"),y:fe.position("y")}}}),W(),S=requestAnimationFrame(V)};return R.addListener("layoutstarted",function(){L.options.animate==="during"&&(S=requestAnimationFrame(q))}),R.runLayout(),this.options.animate!=="during"&&(L.options.eles.nodes().not(":parent").layoutPositions(L,L.options,Y),T=!1),this},b.prototype.getTopMostNodes=function(T){for(var S={},D=0;D<T.length;D++)S[T[D].id()]=!0;var R=T.filter(function(L,_){typeof L=="number"&&(L=_);for(var N=L.parent()[0];N!=null;){if(S[N.id()])return!1;N=N.parent()[0]}return!0});return R},b.prototype.processChildrenList=function(T,S,D){for(var R=S.length,L=0;L<R;L++){var _=S[L],N=_.children(),P,U=_.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(_.outerWidth()!=null&&_.outerHeight()!=null?P=T.add(new h(D.graphManager,new d(_.position("x")-U.w/2,_.position("y")-U.h/2),new v(parseFloat(U.w),parseFloat(U.h)))):P=T.add(new h(this.graphManager)),P.id=_.data("id"),P.paddingLeft=parseInt(_.css("padding")),P.paddingTop=parseInt(_.css("padding")),P.paddingRight=parseInt(_.css("padding")),P.paddingBottom=parseInt(_.css("padding")),this.options.nodeDimensionsIncludeLabels&&_.isParent()){var j=_.boundingBox({includeLabels:!0,includeNodes:!1}).w,F=_.boundingBox({includeLabels:!0,includeNodes:!1}).h,I=_.css("text-halign");P.labelWidth=j,P.labelHeight=F,P.labelPos=I}if(this.idToLNode[_.data("id")]=P,isNaN(P.rect.x)&&(P.rect.x=0),isNaN(P.rect.y)&&(P.rect.y=0),N!=null&&N.length>0){var G;G=D.getGraphManager().add(D.newGraph(),P),this.processChildrenList(G,N,D)}}},b.prototype.stop=function(){return this.stopped=!0,this};var w=function(S){S("layout","cose-bilkent",b)};typeof cytoscape<"u"&&w(cytoscape),n.exports=w})])})})(Ev)),Ev.exports}var hae=fae();const dae=Ha(hae),vae=({children:e,content:t})=>B.jsxs("div",{className:"relative group flex items-center",children:[e,B.jsx("div",{className:"absolute bottom-full mb-2 w-max max-w-xs bg-slate-800 text-white text-xs rounded-md px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none z-10",children:t})]});oo.use(iae);oo.use(dae);const UN="#90e0ef",GN="#f94144";function gae(e,t,r){const n=parseInt(e.substring(1,3),16),a=parseInt(e.substring(3,5),16),i=parseInt(e.substring(5,7),16),o=parseInt(t.substring(1,3),16),l=parseInt(t.substring(3,5),16),u=parseInt(t.substring(5,7),16),c=Math.round(n+r*(o-n)),h=Math.round(a+r*(l-a)),d=Math.round(i+r*(u-i));return`#${c.toString(16).padStart(2,"0")}${h.toString(16).padStart(2,"0")}${d.toString(16).padStart(2,"0")}`}const pae=({model:e,results:t})=>{const r=X.useRef(null),n=X.useRef(null),[a,i]=X.useState("cose"),[o,l]=X.useState("default"),[u,c]=X.useState("uniform"),[h,d]=X.useState(null),[v,p]=X.useState(null),[m,b]=X.useState(""),x=X.useMemo(()=>{if(!e)return null;const S=new Map,D=new Set;e.species.forEach(P=>{const U=P.name.split("(")[0];S.set(P.name,U),D.add(U)});const R=new Map;[...D].forEach((P,U)=>{R.set(P,Xs[U%Xs.length])});const L=e.reactions.map(P=>P.rateConstant).filter(P=>P>0),_=L.length>0?Math.min(...L):0,N=L.length>0?Math.max(...L):0;return{speciesToMoleculeType:S,typeColorMap:R,minRate:_,maxRate:N}},[e]),w=()=>{const S=n.current;if(!S||!m)return;S.elements().style({"border-width":0,opacity:1});const D=S.nodes(`[id @* "${m}"]`);D.length>0&&(S.animate({center:{eles:D},zoom:2},{duration:500}),D.style({"border-width":4,"border-color":"#f97316"}))},T=()=>{const S=n.current;S&&(S.fit(void 0,30),S.elements().style({opacity:1,"border-width":0}),b(""))};return X.useEffect(()=>{var R;if(!e||!r.current){(R=n.current)==null||R.destroy(),n.current=null;return}const S=e.species.map(L=>({data:{id:L.name,label:L.name.replace(/\./g,`.
`)}}));e.reactions.forEach(L=>{L.reactants.forEach(_=>{L.products.forEach(N=>{e.species.find(P=>P.name===_)&&e.species.find(P=>P.name===N)&&S.push({data:{source:_,target:N,rate:L.rateConstant}})})})}),n.current=oo({container:r.current,elements:S,style:[{selector:"node",style:{label:"data(label)",color:"white","text-outline-color":"#333","text-outline-width":2,"font-size":10,"text-valign":"center","text-halign":"center",width:60,height:60,"text-wrap":"wrap","text-max-width":"80","border-width":0,"border-color":"#f97316","transition-property":"background-color, opacity, border-width","transition-duration":.3}},{selector:"edge",style:{"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier","transition-property":"width, line-color, target-arrow-color, opacity","transition-duration":.3}}]});const D=n.current;return D.on("tap","node",L=>{const _=L.target;D.elements().animate({style:{opacity:.2},duration:200}),_.neighborhood().add(_).animate({style:{opacity:1},duration:200})}),D.on("tap",L=>{L.target===D&&D.elements().animate({style:{opacity:1},duration:200})}),D.on("mouseover","node, edge",L=>{const _=L.target,N=_.isNode()?`<b>Species:</b> ${_.id()}`:`<b>Rate:</b> ${_.data("rate")}`;p({content:N,x:L.renderedPosition.x,y:L.renderedPosition.y})}),D.on("mouseout","node, edge",()=>p(null)),D.on("drag","node",()=>p(null)),D.on("zoom pan",()=>p(null)),()=>{var L;(L=n.current)==null||L.destroy(),n.current=null}},[e]),X.useEffect(()=>{const S=n.current;if(!(!S||!e||!x)){if(o==="concentration"&&t){const D=t.data[t.data.length-1];if(D){const R=e.species.map(N=>D[N.name]).filter(N=>typeof N<"u"),L=R.length>0?Math.min(...R):0,_=R.length>0?Math.max(...R):0;d({min:L,max:_}),S.nodes().forEach(N=>{const P=N.id(),U=D[P];let j="#ccc";if(typeof U<"u"&&U!==null){const F=_>L?(U-L)/(_-L):.5;j=gae(UN,GN,F)}N.style("background-color",j)})}}else o==="moleculeType"?(d(null),S.nodes().forEach(D=>{const R=D.id(),L=x.speciesToMoleculeType.get(R),_=L?x.typeColorMap.get(L):"#ccc";D.style("background-color",_)})):(d(null),S.nodes().forEach((D,R)=>{D.style("background-color",Xs[R%Xs.length])}));if(u==="rate"){const{minRate:D,maxRate:R}=x;S.edges().forEach(L=>{const _=L.data("rate");let N=2;typeof _<"u"&&_!==null&&R>D?N=1+(_-D)/(R-D)*7:R>0&&R===D&&(N=4),L.style("width",N)})}else S.edges().style("width",2);S.layout({name:a==="cose"?"cose-bilkent":a,animate:!0,animationDuration:500,padding:30,nodeRepulsion:4500,idealEdgeLength:100,edgeLength:120}).run()}},[e,t,o,u,a,x]),e?B.jsxs("div",{className:"w-full flex flex-col",children:[B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-2 p-2 bg-slate-50 dark:bg-slate-800 border border-stone-200 dark:border-slate-700 rounded-md",children:[B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("span",{className:"text-sm font-medium",children:"Layout:"}),B.jsx(Nr,{variant:a==="cose"?"secondary":"ghost",onClick:()=>i("cose"),className:"text-xs px-2 py-1",children:"Cose"}),B.jsx(Nr,{variant:a==="cola"?"secondary":"ghost",onClick:()=>i("cola"),className:"text-xs px-2 py-1",children:"Cola"}),B.jsx(Nr,{variant:a==="circle"?"secondary":"ghost",onClick:()=>i("circle"),className:"text-xs px-2 py-1",children:"Circle"})]}),B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("span",{className:"text-sm font-medium",children:"Node Color:"}),B.jsx(Nr,{variant:o==="moleculeType"?"secondary":"ghost",onClick:()=>l("moleculeType"),className:"text-xs px-2 py-1",children:"Type"}),B.jsx(vae,{content:t?"Color by final concentration":"Run simulation to enable",children:B.jsx("span",{className:t?"":"cursor-not-allowed",children:B.jsx(Nr,{variant:o==="concentration"?"secondary":"ghost",onClick:()=>l("concentration"),disabled:!t,className:"text-xs px-2 py-1",children:"Conc."})})})]}),B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("span",{className:"text-sm font-medium",children:"Edge Width:"}),B.jsx(Nr,{variant:u==="uniform"?"secondary":"ghost",onClick:()=>c("uniform"),className:"text-xs px-2 py-1",children:"Uniform"}),B.jsx(Nr,{variant:u==="rate"?"secondary":"ghost",onClick:()=>c("rate"),className:"text-xs px-2 py-1",children:"Rate"})]}),B.jsxs("div",{className:"lg:col-span-2 xl:col-span-1 flex items-center gap-2",children:[B.jsx(ti,{type:"text",placeholder:"Find species...",className:"h-8 text-xs",value:m,onChange:S=>b(S.target.value),onKeyPress:S=>S.key==="Enter"&&w()}),B.jsx(Nr,{onClick:w,variant:"secondary",className:"text-xs px-2 py-1 h-8",children:B.jsx(rP,{className:"w-4 h-4"})})]}),B.jsx("div",{className:"flex items-center gap-2",children:B.jsx(Nr,{onClick:T,variant:"subtle",className:"text-xs px-2 py-1 h-8",children:"Reset View"})})]}),B.jsxs("div",{className:"relative w-full",children:[B.jsx("div",{ref:r,className:"w-full h-96 border border-stone-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-900"}),v&&B.jsx("div",{style:{position:"absolute",top:v.y,left:v.x,pointerEvents:"none"},className:"p-1 px-2 bg-slate-800 text-white text-xs rounded-md shadow-lg z-10 transform -translate-y-full -translate-x-1/2",dangerouslySetInnerHTML:{__html:v.content}}),B.jsx("div",{className:"absolute bottom-2 right-2 flex flex-col items-end gap-2",children:o==="concentration"&&h&&t&&B.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 p-2 rounded-md shadow-lg text-slate-800 dark:text-slate-200",children:[B.jsx("div",{className:"text-xs font-bold mb-1 text-center",children:"Concentration"}),B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("span",{className:"text-xs w-12 text-left",children:h.min.toPrecision(2)}),B.jsx("div",{className:"w-24 h-3 rounded-full",style:{background:`linear-gradient(to right, ${UN}, ${GN})`}}),B.jsx("span",{className:"text-xs w-12 text-right",children:h.max.toPrecision(2)})]})]})}),B.jsx("div",{className:"absolute bottom-2 left-2 flex flex-col items-start gap-2",children:o==="moleculeType"&&x&&B.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 p-2 rounded-md shadow-lg",children:[B.jsx("div",{className:"text-xs font-bold mb-1 text-slate-800 dark:text-slate-200",children:"Molecule Types"}),B.jsx("div",{className:"flex flex-col gap-1 max-h-32 overflow-y-auto",children:[...x.typeColorMap.entries()].map(([S,D])=>B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:D}}),B.jsx("span",{className:"text-xs text-slate-800 dark:text-slate-200",children:S})]},S))})]})})]})]}):B.jsx("div",{className:"h-96 flex items-center justify-center text-slate-500 bg-white dark:bg-slate-900 border border-stone-200 dark:border-slate-700 rounded-lg",children:"Parse a model to generate network graph."})},U3=({headers:e,rows:t})=>B.jsx("div",{className:"overflow-x-auto border border-stone-200 dark:border-slate-700 rounded-lg",children:B.jsxs("table",{className:"min-w-full divide-y divide-stone-200 dark:divide-slate-700",children:[B.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800",children:B.jsx("tr",{children:e.map((r,n)=>B.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:r},n))})}),B.jsx("tbody",{className:"bg-white dark:bg-slate-900 divide-y divide-stone-200 dark:divide-slate-700",children:t.length>0?t.map((r,n)=>B.jsx("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50",children:r.map((a,i)=>B.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700 dark:text-slate-200",children:a},i))},n)):B.jsx("tr",{children:B.jsx("td",{colSpan:e.length,className:"text-center px-6 py-4 text-sm text-slate-500 dark:text-slate-400",children:"No data available."})})})]})});function mae(e){const t=[],r=new Map;e.species.forEach(a=>r.set(a.name,0)),e.reactions.forEach(a=>{new Set([...a.reactants,...a.products]).forEach(o=>{r.has(o)&&r.set(o,r.get(o)+1)})}),r.forEach((a,i)=>{t.push({species:i,degree:a})});const n=[];return e.moleculeTypes.forEach(a=>{const i=e.species.filter(o=>o.name.startsWith(a.name+"(")||o.name===a.name).map(o=>o.name);if(i.length>1){let o=!0;e.reactions.forEach(l=>{const u=l.reactants.some(h=>i.includes(h)),c=l.products.some(h=>i.includes(h));if(u||c){const h=new Set([...l.reactants,...l.products]);for(const d of h)if(!i.includes(d)){o=!1;break}}}),o&&n.push(`${a.name}_total = ${i.join(" + ")}`)}}),{connectivity:t,conservationLaws:n}}const yae=({model:e})=>{const t=X.useMemo(()=>e?mae(e):null,[e]);return e?t?B.jsxs("div",{className:"space-y-6",children:[B.jsxs("div",{children:[B.jsx("h3",{className:"text-lg font-medium mb-2 text-slate-800 dark:text-slate-200",children:"Species Connectivity"}),B.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:'The "degree" of a species is the number of reactions it participates in (as either a reactant or a product).'}),B.jsx(U3,{headers:["Species","Degree"],rows:t.connectivity.sort((r,n)=>n.degree-r.degree).map(r=>[r.species,r.degree])})]}),B.jsxs("div",{children:[B.jsx("h3",{className:"text-lg font-medium mb-2 text-slate-800 dark:text-slate-200",children:"Conservation Laws (Approximated)"}),B.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Lists of species whose total concentration remains constant throughout the simulation. This is a simplified analysis for basic cases."}),t.conservationLaws.length>0?B.jsx("ul",{className:"list-disc list-inside bg-slate-100 dark:bg-slate-800 p-4 rounded-md text-slate-700 dark:text-slate-200 font-mono text-sm",children:t.conservationLaws.map((r,n)=>B.jsx("li",{children:r},n))}):B.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No simple conservation laws were detected."})]})]}):B.jsx("div",{children:"Calculating properties..."}):B.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:"Parse a model to analyze its structure."})},G3=e=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),bae=({model:e,onSimulate:t,onCancelSimulation:r,isSimulating:n})=>{if(!e)return B.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:"Parse a model to run a steady-state analysis."});const a=()=>{t({method:"ode",t_end:2e3,n_steps:800,steadyState:!0,steadyStateTolerance:1e-6,steadyStateWindow:12})};return B.jsxs("div",{className:"space-y-4",children:[B.jsxs("div",{className:"p-4 rounded-md bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-200 flex items-start gap-3",children:[B.jsx(G3,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),B.jsxs("p",{className:"text-sm",children:[B.jsx("b",{children:"Steady-state finder:"}),' Runs an adaptive ODE sweep until consecutive RK4 sub-steps change by less than 1e-6 (12 times in a row). The final point in the "Time Course" tab is the detected steady state.']})]}),B.jsxs("div",{className:"mt-6 flex gap-2",children:[B.jsxs(Nr,{onClick:a,disabled:n,children:[n&&B.jsx(lw,{className:"w-4 h-4 mr-2"}),n?"Running…":"Run to Steady State"]}),n&&B.jsx(Nr,{variant:"danger",onClick:r,children:"Cancel"})]})]})},gu=aa.forwardRef(({className:e,children:t,...r},n)=>B.jsx("select",{className:`block w-full rounded-md border-stone-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm ${e}`,ref:n,...r,children:t}));gu.displayName="Select";const xae=3e4,ow=e=>{if(e&&typeof e=="object"&&"message"in e&&typeof e.message=="string"||e instanceof Error)return e.message;if(typeof e=="string")return e;try{return JSON.stringify(e)}catch{return"Worker error"}},wae=(e,t)=>{if(t&&typeof t=="object"){const a=t.name,i=ow(t)||`${e} failed`;if(a==="AbortError")return new DOMException(i||"Operation cancelled","AbortError");if(a==="TimeoutError"){const o=new Error(i);return o.name="TimeoutError",o}}const r=ow(t)||`${e} failed`,n=new Error(r);return t&&typeof t=="object"&&Object.assign(n,{cause:t}),n};class Eae{constructor(){this.messageId=0,this.promises=new Map,this.terminated=!1,this.worker=new Worker(new URL("/bnglplayground/assets/bnglWorker-BXMfec9Q.js",import.meta.url),{type:"module"}),this.worker.addEventListener("message",t=>{const{id:r,type:n,payload:a}=t.data??{};if(r===-1&&n==="worker_internal_error"){const o=ow(a),l=a&&typeof a=="object"?`${a.filename??"unknown"}:${a.lineno??"?"}:${a.colno??"?"}`:"unknown:?",u=a&&typeof a=="object"&&"stack"in a&&typeof a.stack=="string"?a.stack:void 0;console.error(u?`[Worker] ${o} (${l})
${u}`:`[Worker] ${o} (${l})`);return}if(typeof r!="number"){console.warn("[BnglService] Received response without numeric id:",t.data);return}if(!this.promises.has(r)){console.warn("[BnglService] Received response for unknown message id:",t.data);return}const i=this.promises.get(r);if(this.promises.delete(r),i.cleanup(),n==="parse_success"||n==="simulate_success"){i.resolve(a);return}if(n==="cache_model_success"){i.resolve(a);return}if(n==="parse_error"||n==="simulate_error"||n==="cache_model_error"){const l=wae((n==="parse_error"?"parse":n==="simulate_error"?"simulate":"cache_model")==="parse"?"parse":"simulate",a);i.reject(l);return}console.warn("[BnglService] Received response with unexpected type:",t.data),i.reject(new Error("Unexpected worker response type"))}),this.worker.addEventListener("error",t=>{const n=`Worker error: ${t.message||t.error&&t.error.message||"unknown error"} at ${t.filename??"unknown file"}:${t.lineno??"?"}:${t.colno??"?"}`;t.error&&t.error.stack?console.error(n,`
`,t.error.stack):console.error(n,t),this.rejectAllPending(n)}),this.worker.addEventListener("messageerror",t=>{console.error("[BnglService] Worker failed to deserialize message:",t.data),this.rejectAllPending("Worker posted an unserializable message")})}sendCancel(t){if(!this.terminated)try{const r={id:this.messageId++,type:"cancel",payload:{targetId:t}};this.worker.postMessage(r)}catch(r){console.warn("[BnglService] Failed to post cancel message",r)}}rejectAllPending(t){const r=new Error(t);this.promises.forEach((n,a)=>{this.promises.delete(a),n.cleanup(),n.reject(r)})}postMessage(t,r,n){if(this.terminated)return Promise.reject(new Error("Worker has been terminated"));const a=this.messageId++;return new Promise((i,o)=>{const l=(n==null?void 0:n.timeoutMs)??xae,u=(n==null?void 0:n.signal)??null;let c,h;const d=()=>{c&&(clearTimeout(c),c=void 0),u&&h&&(u.removeEventListener("abort",h),h=void 0)},v={resolve:m=>i(m),reject:o,cleanup:d,description:n==null?void 0:n.description};if(this.promises.set(a,v),l>0&&Number.isFinite(l)&&(c=setTimeout(()=>{if(!this.promises.has(a))return;this.promises.delete(a),d(),this.sendCancel(a);const m=new Error(`${(n==null?void 0:n.description)??t} timed out after ${l} ms`);m.name="TimeoutError",o(m)},l)),u){if(u.aborted){this.promises.delete(a),d(),this.sendCancel(a),o(new DOMException(u.reason??"The operation was aborted.","AbortError"));return}h=()=>{this.promises.has(a)&&(this.promises.delete(a),d(),this.sendCancel(a),o(new DOMException(u.reason??"The operation was aborted.","AbortError")))},u.addEventListener("abort",h)}let p;t==="parse"?p={id:a,type:t,payload:r}:t==="simulate"?p={id:a,type:t,payload:r}:t==="cache_model"?p={id:a,type:t,payload:r}:p={id:a,type:t,payload:r};try{this.worker.postMessage(p)}catch(m){this.promises.delete(a),d(),o(m instanceof Error?m:new Error(String(m)))}})}terminate(t){if(!this.terminated){this.terminated=!0;try{this.worker.terminate()}catch(r){console.warn("[BnglService] Error terminating worker",r)}this.rejectAllPending(t??"Worker terminated")}}cancelAllPending(t){const r=new DOMException(t??"Requests cancelled","AbortError");this.promises.forEach((n,a)=>{this.promises.delete(a),this.sendCancel(a),n.cleanup(),n.reject(r)})}parse(t,r){return this.postMessage("parse",t,{...r,description:(r==null?void 0:r.description)??"Parse request"})}simulate(t,r,n){return this.postMessage("simulate",{model:t,options:r},{...n,description:(n==null?void 0:n.description)??`Simulation (${r.method})`})}prepareModel(t,r){const n=this.lastCachedModelId;return typeof n=="number"&&this.releaseModel(n).catch(a=>{console.warn("[BnglService] Failed to release previous cached model",n,a)}),this.postMessage("cache_model",{model:t},{...r,description:"Cache model"}).then(a=>{const i=a.modelId;return this.lastCachedModelId=i,i})}simulateCached(t,r,n,a){return this.postMessage("simulate",{modelId:t,parameterOverrides:r,options:n},{...a,description:(a==null?void 0:a.description)??`Simulation (${n.method}) (cached)`})}releaseModel(t,r){return this.postMessage("release_model",{modelId:t},{...r,description:"Release cached model"})}}const Un=new Eae,ov=e=>Number.isFinite(e)?(Math.round(e*1e6)/1e6).toString():"",Sae=.1,qN=e=>{if(!Number.isFinite(e)||e<0)return[0,0];if(e===0)return[0,Sae];const t=Math.max(0,e*.9),r=e*1.1;return[t,r]},VN=(e,t,r)=>{if(r<=1)return[e];const n=(t-e)/(r-1);return Array.from({length:r},(a,i)=>Number((e+i*n).toPrecision(12)))},ei=e=>Number.isFinite(e)?Math.abs(e)>=1e3||Math.abs(e)<.001?e.toExponential(2):e.toFixed(3):"0",Tae=({model:e})=>{const[t,r]=X.useState("1d"),[n,a]=X.useState(""),[i,o]=X.useState(""),[l,u]=X.useState(""),[c,h]=X.useState(""),[d,v]=X.useState("5"),[p,m]=X.useState(""),[b,x]=X.useState(""),[w,T]=X.useState("5"),[S,D]=X.useState("ode"),[R,L]=X.useState("100"),[_,N]=X.useState("100"),[P,U]=X.useState(""),[j,F]=X.useState(null),[I,G]=X.useState(null),[Y,q]=X.useState(!1),[V,W]=X.useState({current:0,total:0}),[J,ie]=X.useState(null),[K,Z]=X.useState(null),fe=X.useRef(null),he=X.useRef(null),oe=X.useRef(null),be=X.useRef(null),Ae=X.useMemo(()=>e?Object.keys(e.parameters):[],[e]),Le=X.useMemo(()=>e?e.observables.map(de=>de.name):[],[e]);X.useEffect(()=>{if(!e){a(""),o(""),U(""),F(null),G(null),u(""),h(""),m(""),x(""),he.current=null,oe.current=null,be.current=null;return}if(he.current!==e&&(u(""),h(""),m(""),x(""),oe.current=null,be.current=null,he.current=e),Ae.includes(n)||a(Ae[0]??""),!Ae.includes(i)||i===n){const de=Ae.find(Q=>Q!==n);o(de??Ae[0]??"")}(!P||!Le.includes(P))&&U(Le[0]??"")},[e,n,i,Ae,Le,P]),X.useEffect(()=>{e&&n&&oe.current!==n&&(oe.current=n,u(""),h(""))},[e,n]),X.useEffect(()=>{e&&i&&be.current!==i&&(be.current=i,m(""),x(""))},[e,i]),X.useEffect(()=>{F(null),G(null)},[t]);const ce=X.useCallback(de=>{Z(Q=>(Q&&Q.abort(de??"Parameter scan cancelled."),null))},[]),ae=X.useMemo(()=>!j||!P?[]:j.values.map(de=>({parameterValue:de.parameterValue,observableValue:de.observables[P]??0})),[j,P]),le=X.useMemo(()=>{if(!ae||ae.length===0)return[0,1];const de=ae.map(Pe=>Pe.parameterValue).filter(Number.isFinite);if(de.length===0)return[0,1];let Q=Math.min(...de),ye=Math.max(...de);if(Number.isFinite(Q)||(Q=0),Number.isFinite(ye)||(ye=Q+1),Q===ye){const Pe=Math.abs(Q)*.1||.01;return[Number((Q-Pe).toPrecision(12)),Number((ye+Pe).toPrecision(12))]}const Te=Math.max(0,Q*.9),Me=ye*1.1;return[Number(Te.toPrecision(12)),Number(Me.toPrecision(12))]},[ae]),re=X.useMemo(()=>{if(!ae||ae.length===0)return["auto","auto"];const de=ae.map(Pe=>Pe.observableValue).filter(Number.isFinite);if(de.length===0)return["auto","auto"];let Q=Math.min(...de),ye=Math.max(...de);if(!Number.isFinite(Q)||!Number.isFinite(ye))return["auto","auto"];if(Q===ye){const Pe=Math.abs(Q)*.1||.01;return[Number((Q-Pe).toPrecision(12)),Number((ye+Pe).toPrecision(12))]}const Te=Q*.9,Me=ye*1.1;return[Number(Te.toPrecision(12)),Number(Me.toPrecision(12))]},[ae]),ge=X.useMemo(()=>{if(!I||!P)return null;const de=I.grid[P];if(!de)return null;let Q=1/0,ye=-1/0;return de.forEach(Te=>{Te.forEach(Me=>{Me<Q&&(Q=Me),Me>ye&&(ye=Me)})}),(!Number.isFinite(Q)||!Number.isFinite(ye))&&(Q=0,ye=0),{matrix:de,min:Q,max:ye}},[I,P]),Se=n&&e?e.parameters[n]:void 0,ze=i&&e?e.parameters[i]:void 0,[Qe,Oe]=X.useMemo(()=>Se===void 0?[0,0]:qN(Se),[Se]),[je,Ue]=X.useMemo(()=>ze===void 0?[0,0]:qN(ze),[ze]),qe=Se!==void 0?ov(Qe):"",Ke=Se!==void 0?ov(Oe):"",Xe=ze!==void 0?ov(je):"",ot=ze!==void 0?ov(Ue):"",Ye=l!==""?l:qe,ct=c!==""?c:Ke,ht=p!==""?p:Xe,dt=b!==""?b:ot,yt=()=>!(!n||!Ye||!ct||!d||t==="2d"&&(!i||i===n||!ht||!dt||!w)),bt=async()=>{var nt;if(!yt())return;if(!e){ie("No model is loaded to run the scan.");return}ce("Parameter scan replaced by a new request.");const de=Number(Ye),Q=Number(ct),ye=Math.max(1,Math.floor(Number(d)));if(!Number.isFinite(de)||!Number.isFinite(Q)||Number.isNaN(ye)||ye<1){ie("Please provide valid numeric settings for the primary parameter.");return}const Te=Number(R),Me=Math.max(1,Math.floor(Number(_)));if(!Number.isFinite(Te)||Te<=0||Number.isNaN(Me)||Me<1){ie("Simulation settings must have positive numeric values for t_end and steps.");return}const Pe=VN(de,Q,ye);let lt=Pe.length,Ie=[];if(t==="2d"){const at=Number(ht),gt=Number(dt),Je=Math.max(1,Math.floor(Number(w)));if(!Number.isFinite(at)||!Number.isFinite(gt)||Number.isNaN(Je)||Je<1){ie("Please provide valid numeric settings for the second parameter.");return}if(i===n){ie("Select two different parameters for a 2D scan.");return}Ie=VN(at,gt,Je),lt=Pe.length*Ie.length}if(lt>400){ie("Please reduce the number of combinations (limit 400) to keep the scan responsive.");return}ie(null),q(!0),W({current:0,total:lt}),F(null),G(null);const tt={method:S,t_end:Te,n_steps:Me},rt=new AbortController;Z(rt);try{const at=await Un.prepareModel(e,{signal:rt.signal});if(fe.current=at,t==="1d"){const gt={parameterName:n,values:[]};let Je=0;for(const xt of Pe){const H={[n]:xt},A=(await Un.simulateCached(at,H,tt,{signal:rt.signal,description:`Parameter scan (${n}=${xt})`})).data.at(-1)??{},E=Le.reduce((M,z)=>{const ee=A[z],te=typeof ee=="number"?ee:Number(ee??0);return M[z]=Number.isFinite(te)?te:0,M},{});gt.values.push({parameterValue:xt,observables:E}),Je+=1,W({current:Je,total:lt})}F(gt)}else{const gt={};Le.forEach(xt=>{gt[xt]=Ie.map(()=>new Array(Pe.length).fill(0))});let Je=0;for(let xt=0;xt<Ie.length;xt+=1)for(let H=0;H<Pe.length;H+=1){const O={[n]:Pe[H],[i]:Ie[xt]},E=(await Un.simulateCached(at,O,tt,{signal:rt.signal,description:`2D parameter scan (${n}, ${i})`})).data.at(-1)??{};Le.forEach(M=>{const z=E[M],ee=typeof z=="number"?z:Number(z??0);gt[M][xt][H]=Number.isFinite(ee)?ee:0}),Je+=1,W({current:Je,total:lt})}G({parameterNames:[n,i],xValues:Pe,yValues:Ie,grid:gt})}}catch(at){if(at instanceof DOMException&&at.name==="AbortError"){const gt=(nt=at.message)==null?void 0:nt.includes("cancelled by user");ie(gt?"Parameter scan was cancelled.":null)}else{const gt=at instanceof Error?at.message:String(at);ie(`Parameter scan failed: ${gt}`),F(null),G(null)}}finally{q(!1);const at=rt.signal.aborted;Z(gt=>gt===rt?null:gt),at||W(gt=>({...gt,current:gt.total}))}};X.useEffect(()=>()=>{const de=fe.current;typeof de=="number"&&(Un.releaseModel(de).catch(Q=>{console.warn("Failed to release cached model on ParameterScanTab unmount",de,Q)}),fe.current=null)},[e]);const mt=(de,Q,ye)=>{if(ye<=Q)return"rgba(33,128,141,0.2)";const Te=(de-Q)/(ye-Q);return`rgba(33,128,141,${(.15+.75*Math.min(Math.max(Te,0),1)).toFixed(2)})`},vt=e?Ae.length===0?"The current model does not declare any parameters to scan.":null:"Parse a model to set up a parameter scan.";return aa.useEffect(()=>{console.debug("ParameterScanTab render",{modelKeys:e?Object.keys(e.parameters):null,parameter1:n,parameter2:i,oneDValues:j?j.values.length:0,xAxisDomain:le,yAxisDomain:re})},[e,n,i,j,le,re]),B.jsxs("div",{className:"space-y-6",children:[B.jsxs(Tn,{className:"space-y-6",children:[B.jsx("div",{children:B.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[B.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-200",children:[B.jsx("input",{type:"radio",value:"1d",checked:t==="1d",onChange:()=>r("1d")}),"1D Scan"]}),B.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-200",children:[B.jsx("input",{type:"radio",value:"2d",checked:t==="2d",onChange:()=>r("2d")}),"2D Scan"]})]})}),B.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[B.jsxs("div",{className:"space-y-3",children:[B.jsx("h4",{className:"text-sm font-semibold text-slate-800 dark:text-slate-100",children:"Parameter 1"}),B.jsx(gu,{value:n,onChange:de=>a(de.target.value),children:Ae.map(de=>B.jsx("option",{value:de,children:de},de))}),B.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[B.jsx(ti,{type:"number",value:l,onChange:de=>u(de.target.value),placeholder:qe||"Start"}),B.jsx(ti,{type:"number",value:c,onChange:de=>h(de.target.value),placeholder:Ke||"End"}),B.jsx(ti,{type:"number",value:d,min:1,onChange:de=>v(de.target.value),placeholder:"Steps"})]})]}),t==="2d"&&B.jsxs("div",{className:"space-y-3",children:[B.jsx("h4",{className:"text-sm font-semibold text-slate-800 dark:text-slate-100",children:"Parameter 2"}),B.jsx(gu,{value:i,onChange:de=>o(de.target.value),children:Ae.map(de=>B.jsx("option",{value:de,children:de},de))}),B.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[B.jsx(ti,{type:"number",value:p,onChange:de=>m(de.target.value),placeholder:Xe||"Start"}),B.jsx(ti,{type:"number",value:b,onChange:de=>x(de.target.value),placeholder:ot||"End"}),B.jsx(ti,{type:"number",value:w,min:1,onChange:de=>T(de.target.value),placeholder:"Steps"})]})]})]}),B.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[B.jsxs("div",{className:"space-y-1",children:[B.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Solver"}),B.jsxs(gu,{value:S,onChange:de=>D(de.target.value),children:[B.jsx("option",{value:"ode",children:"ODE"}),B.jsx("option",{value:"ssa",children:"SSA"})]})]}),B.jsxs("div",{className:"space-y-1",children:[B.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"t_end"}),B.jsx(ti,{type:"number",value:R,min:0,onChange:de=>L(de.target.value)})]}),B.jsxs("div",{className:"space-y-1",children:[B.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Steps"}),B.jsx(ti,{type:"number",value:_,min:1,onChange:de=>N(de.target.value)})]})]}),B.jsxs("div",{className:"flex flex-wrap gap-3 items-center justify-between",children:[B.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[B.jsx("span",{children:"Select an observable:"}),B.jsx(gu,{value:P,onChange:de=>U(de.target.value),className:"w-48",children:Le.map(de=>B.jsx("option",{value:de,children:de},de))})]}),B.jsxs("div",{className:"flex gap-2",children:[B.jsx(Nr,{variant:"subtle",onClick:()=>{ce("Parameter scan cancelled by user."),F(null),G(null),ie(null),W({current:0,total:0})},children:"Clear Results"}),Y&&B.jsx(Nr,{variant:"danger",onClick:()=>ce("Parameter scan cancelled by user."),children:"Cancel Scan"}),B.jsx(Nr,{onClick:bt,disabled:Y||!yt(),children:Y?"Running…":"Run Scan"})]})]})]}),J&&B.jsx("div",{className:"border border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/30 text-red-700 dark:text-red-200 px-4 py-3 rounded-md",children:J}),Y&&B.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-600 dark:text-slate-300",children:[B.jsx(lw,{className:"w-5 h-5"}),B.jsxs("span",{children:["Running simulations… ",V.current," / ",V.total]})]}),vt?B.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:vt}):j&&j.values.length>0&&B.jsxs(Tn,{className:"space-y-6",children:[B.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"1D Scan Results"}),P&&ae.length>0?B.jsx(zv,{width:"100%",height:360,children:B.jsxs(cg,{data:ae,margin:{top:10,right:20,left:0,bottom:0},children:[B.jsx(Tf,{strokeDasharray:"3 3",stroke:"rgba(148, 163, 184, 0.35)"}),B.jsx(Cf,{dataKey:"parameterValue",label:{value:j.parameterName,position:"insideBottom",offset:-6},type:"number",domain:[le[0],le[1]],tickFormatter:de=>ei(de)}),B.jsx(Mf,{label:{value:P,angle:-90,position:"insideLeft",offset:16},domain:re,tickFormatter:de=>ei(de)}),B.jsx(rg,{formatter:de=>ei(de),labelFormatter:de=>`${j.parameterName}: ${ei(de)}`,trigger:"hover",cursor:{stroke:"rgba(148, 163, 184, 0.45)",strokeDasharray:"4 4"}}),B.jsx(qf,{verticalAlign:"bottom",align:"center",wrapperStyle:{paddingTop:16}}),B.jsx(Af,{type:"monotone",dataKey:"observableValue",name:P,stroke:Xs[0],strokeWidth:2,dot:{r:2},activeDot:{r:4}})]})}):B.jsx("p",{className:"text-sm text-slate-500",children:"Select an observable to visualize the scan."}),B.jsx(U3,{headers:[j.parameterName,...Le],rows:j.values.map(de=>[ei(de.parameterValue),...Le.map(Q=>ei(de.observables[Q]??0))])})]}),I&&ge&&B.jsxs(Tn,{className:"space-y-6",children:[B.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"2D Scan Heatmap"}),B.jsx("div",{className:"overflow-x-auto",children:B.jsxs("table",{className:"min-w-full border-collapse",children:[B.jsx("thead",{children:B.jsxs("tr",{children:[B.jsxs("th",{className:"px-4 py-2 text-left text-xs font-semibold text-slate-500 dark:text-slate-300",children:[I.parameterNames[1]," ↓ / ",I.parameterNames[0]," →"]}),I.xValues.map((de,Q)=>B.jsx("th",{className:"px-4 py-2 text-xs font-semibold text-slate-500 dark:text-slate-300",children:ei(de)},Q))]})}),B.jsx("tbody",{children:I.yValues.map((de,Q)=>B.jsxs("tr",{children:[B.jsx("td",{className:"px-4 py-2 text-xs font-semibold text-slate-500 dark:text-slate-300",children:ei(de)}),ge.matrix[Q].map((ye,Te)=>B.jsx("td",{className:"px-4 py-2 text-sm text-slate-800 dark:text-slate-100 text-center",style:{backgroundColor:mt(ye,ge.min,ge.max)},children:ei(ye)},Te))]},Q))})]})}),B.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Range: ",ei(ge.min)," – ",ei(ge.max)," (",P,")"]})]})]})};var Ft={};const Aae=Object.prototype.toString;function If(e){const t=Aae.call(e);return t.endsWith("Array]")&&!t.includes("Big")}const Cae=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:If},Symbol.toStringTag,{value:"Module"})),Mae=QN(Cae);function Oae(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!If(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var r=t.fromIndex,n=r===void 0?0:r,a=t.toIndex,i=a===void 0?e.length:a;if(n<0||n>=e.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=n||i>e.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=e[n],l=n+1;l<i;l++)e[l]>o&&(o=e[l]);return o}function _ae(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!If(e))throw new TypeError("input must be an array");if(e.length===0)throw new TypeError("input must not be empty");var r=t.fromIndex,n=r===void 0?0:r,a=t.toIndex,i=a===void 0?e.length:a;if(n<0||n>=e.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=n||i>e.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=e[n],l=n+1;l<i;l++)e[l]<o&&(o=e[l]);return o}function Dae(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(If(e)){if(e.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var r;if(t.output!==void 0){if(!If(t.output))throw new TypeError("output option must be an array if specified");r=t.output}else r=new Array(e.length);var n=_ae(e),a=Oae(e);if(n===a)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var i=t.min,o=i===void 0?t.autoMinMax?n:0:i,l=t.max,u=l===void 0?t.autoMinMax?a:1:l;if(o>=u)throw new RangeError("min option must be smaller than max option");for(var c=(u-o)/(a-n),h=0;h<e.length;h++)r[h]=(e[h]-n)*c+o;return r}const kae=Object.freeze(Object.defineProperty({__proto__:null,default:Dae},Symbol.toStringTag,{value:"Module"})),Nae=QN(kae);var $N;function Pae(){var nt,sw,Je;if($N)return Ft;$N=1,Object.defineProperty(Ft,"__esModule",{value:!0});var e=Mae,t=Nae;const r=" ".repeat(2),n=" ".repeat(4);function a(){return i(this)}function i(H,O={}){const{maxRows:A=15,maxColumns:E=10,maxNumSize:M=8,padMinus:z="auto"}=O;return`${H.constructor.name} {
${r}[
${n}${o(H,A,E,M,z)}
${r}]
${r}rows: ${H.rows}
${r}columns: ${H.columns}
}`}function o(H,O,A,E,M){const{rows:z,columns:ee}=H,te=Math.min(z,O),ue=Math.min(ee,A),se=[];if(M==="auto"){M=!1;e:for(let Ee=0;Ee<te;Ee++)for(let ve=0;ve<ue;ve++)if(H.get(Ee,ve)<0){M=!0;break e}}for(let Ee=0;Ee<te;Ee++){let ve=[];for(let Ne=0;Ne<ue;Ne++)ve.push(l(H.get(Ee,Ne),E,M));se.push(`${ve.join(" ")}`)}return ue!==ee&&(se[se.length-1]+=` ... ${ee-A} more columns`),te!==z&&se.push(`... ${z-O} more rows`),se.join(`
${n}`)}function l(H,O,A){return(H>=0&&A?` ${u(H,O-1)}`:u(H,O)).padEnd(O)}function u(H,O){let A=H.toString();if(A.length<=O)return A;let E=H.toFixed(O);if(E.length>O&&(E=H.toFixed(Math.max(0,O-(E.length-O)))),E.length<=O&&!E.startsWith("0.000")&&!E.startsWith("-0.000"))return E;let M=H.toExponential(O);return M.length>O&&(M=H.toExponential(Math.max(0,O-(M.length-O)))),M.slice(0)}function c(H,O){H.prototype.add=function(E){return typeof E=="number"?this.addS(E):this.addM(E)},H.prototype.addS=function(E){for(let M=0;M<this.rows;M++)for(let z=0;z<this.columns;z++)this.set(M,z,this.get(M,z)+E);return this},H.prototype.addM=function(E){if(E=O.checkMatrix(E),this.rows!==E.rows||this.columns!==E.columns)throw new RangeError("Matrices dimensions must be equal");for(let M=0;M<this.rows;M++)for(let z=0;z<this.columns;z++)this.set(M,z,this.get(M,z)+E.get(M,z));return this},H.add=function(E,M){return new O(E).add(M)},H.prototype.sub=function(E){return typeof E=="number"?this.subS(E):this.subM(E)},H.prototype.subS=function(E){for(let M=0;M<this.rows;M++)for(let z=0;z<this.columns;z++)this.set(M,z,this.get(M,z)-E);return this},H.prototype.subM=function(E){if(E=O.checkMatrix(E),this.rows!==E.rows||this.columns!==E.columns)throw new RangeError("Matrices dimensions must be equal");for(let M=0;M<this.rows;M++)for(let z=0;z<this.columns;z++)this.set(M,z,this.get(M,z)-E.get(M,z));return this},H.sub=function(E,M){return new O(E).sub(M)},H.prototype.subtract=H.prototype.sub,H.prototype.subtractS=H.prototype.subS,H.prototype.subtractM=H.prototype.subM,H.subtract=H.sub,H.prototype.mul=function(E){return typeof E=="number"?this.mulS(E):this.mulM(E)},H.prototype.mulS=function(E){for(let M=0;M<this.rows;M++)for(let z=0;z<this.columns;z++)this.set(M,z,this.get(M,z)*E);return this},H.prototype.mulM=function(E){if(E=O.checkMatrix(E),this.rows!==E.rows||this.columns!==E.columns)throw new RangeError("Matrices dimensions must be equal");for(let M=0;M<this.rows;M++)for(let z=0;z<this.columns;z++)this.set(M,z,this.get(M,z)*E.get(M,z));return this},H.mul=function(E,M){return new O(E).mul(M)},H.prototype.multiply=H.prototype.mul,H.prototype.multiplyS=H.prototype.mulS,H.prototype.multiplyM=H.prototype.mulM,H.multiply=H.mul,H.prototype.div=function(E){return typeof E=="number"?this.divS(E):this.divM(E)},H.prototype.divS=function(E){for(let M=0;M<this.rows;M++)for(let z=0;z<this.columns;z++)this.set(M,z,this.get(M,z)/E);return this},H.prototype.divM=function(E){if(E=O.checkMatrix(E),this.rows!==E.rows||this.columns!==E.columns)throw new RangeError("Matrices dimensions must be equal");for(let M=0;M<this.rows;M++)for(let z=0;z<this.columns;z++)this.set(M,z,this.get(M,z)/E.get(M,z));return this},H.div=function(E,M){return new O(E).div(M)},H.prototype.divide=H.prototype.div,H.prototype.divideS=H.prototype.divS,H.prototype.divideM=H.prototype.divM,H.divide=H.div,H.prototype.mod=function(E){return typeof E=="number"?this.modS(E):this.modM(E)},H.prototype.modS=function(E){for(let M=0;M<this.rows;M++)for(let z=0;z<this.columns;z++)this.set(M,z,this.get(M,z)%E);return this},H.prototype.modM=function(E){if(E=O.checkMatrix(E),this.rows!==E.rows||this.columns!==E.columns)throw new RangeError("Matrices dimensions must be equal");for(let M=0;M<this.rows;M++)for(let z=0;z<this.columns;z++)this.set(M,z,this.get(M,z)%E.get(M,z));return this},H.mod=function(E,M){return new O(E).mod(M)},H.prototype.modulus=H.prototype.mod,H.prototype.modulusS=H.prototype.modS,H.prototype.modulusM=H.prototype.modM,H.modulus=H.mod,H.prototype.and=function(E){return typeof E=="number"?this.andS(E):this.andM(E)},H.prototype.andS=function(E){for(let M=0;M<this.rows;M++)for(let z=0;z<this.columns;z++)this.set(M,z,this.get(M,z)&E);return this},H.prototype.andM=function(E){if(E=O.checkMatrix(E),this.rows!==E.rows||this.columns!==E.columns)throw new RangeError("Matrices dimensions must be equal");for(let M=0;M<this.rows;M++)for(let z=0;z<this.columns;z++)this.set(M,z,this.get(M,z)&E.get(M,z));return this},H.and=function(E,M){return new O(E).and(M)},H.prototype.or=function(E){return typeof E=="number"?this.orS(E):this.orM(E)},H.prototype.orS=function(E){for(let M=0;M<this.rows;M++)for(let z=0;z<this.columns;z++)this.set(M,z,this.get(M,z)|E);return this},H.prototype.orM=function(E){if(E=O.checkMatrix(E),this.rows!==E.rows||this.columns!==E.columns)throw new RangeError("Matrices dimensions must be equal");for(let M=0;M<this.rows;M++)for(let z=0;z<this.columns;z++)this.set(M,z,this.get(M,z)|E.get(M,z));return this},H.or=function(E,M){return new O(E).or(M)},H.prototype.xor=function(E){return typeof E=="number"?this.xorS(E):this.xorM(E)},H.prototype.xorS=function(E){for(let M=0;M<this.rows;M++)for(let z=0;z<this.columns;z++)this.set(M,z,this.get(M,z)^E);return this},H.prototype.xorM=function(E){if(E=O.checkMatrix(E),this.rows!==E.rows||this.columns!==E.columns)throw new RangeError("Matrices dimensions must be equal");for(let M=0;M<this.rows;M++)for(let z=0;z<this.columns;z++)this.set(M,z,this.get(M,z)^E.get(M,z));return this},H.xor=function(E,M){return new O(E).xor(M)},H.prototype.leftShift=function(E){return typeof E=="number"?this.leftShiftS(E):this.leftShiftM(E)},H.prototype.leftShiftS=function(E){for(let M=0;M<this.rows;M++)for(let z=0;z<this.columns;z++)this.set(M,z,this.get(M,z)<<E);return this},H.prototype.leftShiftM=function(E){if(E=O.checkMatrix(E),this.rows!==E.rows||this.columns!==E.columns)throw new RangeError("Matrices dimensions must be equal");for(let M=0;M<this.rows;M++)for(let z=0;z<this.columns;z++)this.set(M,z,this.get(M,z)<<E.get(M,z));return this},H.leftShift=function(E,M){return new O(E).leftShift(M)},H.prototype.signPropagatingRightShift=function(E){return typeof E=="number"?this.signPropagatingRightShiftS(E):this.signPropagatingRightShiftM(E)},H.prototype.signPropagatingRightShiftS=function(E){for(let M=0;M<this.rows;M++)for(let z=0;z<this.columns;z++)this.set(M,z,this.get(M,z)>>E);return this},H.prototype.signPropagatingRightShiftM=function(E){if(E=O.checkMatrix(E),this.rows!==E.rows||this.columns!==E.columns)throw new RangeError("Matrices dimensions must be equal");for(let M=0;M<this.rows;M++)for(let z=0;z<this.columns;z++)this.set(M,z,this.get(M,z)>>E.get(M,z));return this},H.signPropagatingRightShift=function(E,M){return new O(E).signPropagatingRightShift(M)},H.prototype.rightShift=function(E){return typeof E=="number"?this.rightShiftS(E):this.rightShiftM(E)},H.prototype.rightShiftS=function(E){for(let M=0;M<this.rows;M++)for(let z=0;z<this.columns;z++)this.set(M,z,this.get(M,z)>>>E);return this},H.prototype.rightShiftM=function(E){if(E=O.checkMatrix(E),this.rows!==E.rows||this.columns!==E.columns)throw new RangeError("Matrices dimensions must be equal");for(let M=0;M<this.rows;M++)for(let z=0;z<this.columns;z++)this.set(M,z,this.get(M,z)>>>E.get(M,z));return this},H.rightShift=function(E,M){return new O(E).rightShift(M)},H.prototype.zeroFillRightShift=H.prototype.rightShift,H.prototype.zeroFillRightShiftS=H.prototype.rightShiftS,H.prototype.zeroFillRightShiftM=H.prototype.rightShiftM,H.zeroFillRightShift=H.rightShift,H.prototype.not=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,~this.get(E,M));return this},H.not=function(E){return new O(E).not()},H.prototype.abs=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.abs(this.get(E,M)));return this},H.abs=function(E){return new O(E).abs()},H.prototype.acos=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.acos(this.get(E,M)));return this},H.acos=function(E){return new O(E).acos()},H.prototype.acosh=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.acosh(this.get(E,M)));return this},H.acosh=function(E){return new O(E).acosh()},H.prototype.asin=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.asin(this.get(E,M)));return this},H.asin=function(E){return new O(E).asin()},H.prototype.asinh=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.asinh(this.get(E,M)));return this},H.asinh=function(E){return new O(E).asinh()},H.prototype.atan=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.atan(this.get(E,M)));return this},H.atan=function(E){return new O(E).atan()},H.prototype.atanh=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.atanh(this.get(E,M)));return this},H.atanh=function(E){return new O(E).atanh()},H.prototype.cbrt=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.cbrt(this.get(E,M)));return this},H.cbrt=function(E){return new O(E).cbrt()},H.prototype.ceil=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.ceil(this.get(E,M)));return this},H.ceil=function(E){return new O(E).ceil()},H.prototype.clz32=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.clz32(this.get(E,M)));return this},H.clz32=function(E){return new O(E).clz32()},H.prototype.cos=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.cos(this.get(E,M)));return this},H.cos=function(E){return new O(E).cos()},H.prototype.cosh=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.cosh(this.get(E,M)));return this},H.cosh=function(E){return new O(E).cosh()},H.prototype.exp=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.exp(this.get(E,M)));return this},H.exp=function(E){return new O(E).exp()},H.prototype.expm1=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.expm1(this.get(E,M)));return this},H.expm1=function(E){return new O(E).expm1()},H.prototype.floor=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.floor(this.get(E,M)));return this},H.floor=function(E){return new O(E).floor()},H.prototype.fround=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.fround(this.get(E,M)));return this},H.fround=function(E){return new O(E).fround()},H.prototype.log=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.log(this.get(E,M)));return this},H.log=function(E){return new O(E).log()},H.prototype.log1p=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.log1p(this.get(E,M)));return this},H.log1p=function(E){return new O(E).log1p()},H.prototype.log10=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.log10(this.get(E,M)));return this},H.log10=function(E){return new O(E).log10()},H.prototype.log2=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.log2(this.get(E,M)));return this},H.log2=function(E){return new O(E).log2()},H.prototype.round=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.round(this.get(E,M)));return this},H.round=function(E){return new O(E).round()},H.prototype.sign=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.sign(this.get(E,M)));return this},H.sign=function(E){return new O(E).sign()},H.prototype.sin=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.sin(this.get(E,M)));return this},H.sin=function(E){return new O(E).sin()},H.prototype.sinh=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.sinh(this.get(E,M)));return this},H.sinh=function(E){return new O(E).sinh()},H.prototype.sqrt=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.sqrt(this.get(E,M)));return this},H.sqrt=function(E){return new O(E).sqrt()},H.prototype.tan=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.tan(this.get(E,M)));return this},H.tan=function(E){return new O(E).tan()},H.prototype.tanh=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.tanh(this.get(E,M)));return this},H.tanh=function(E){return new O(E).tanh()},H.prototype.trunc=function(){for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.set(E,M,Math.trunc(this.get(E,M)));return this},H.trunc=function(E){return new O(E).trunc()},H.pow=function(E,M){return new O(E).pow(M)},H.prototype.pow=function(E){return typeof E=="number"?this.powS(E):this.powM(E)},H.prototype.powS=function(E){for(let M=0;M<this.rows;M++)for(let z=0;z<this.columns;z++)this.set(M,z,this.get(M,z)**E);return this},H.prototype.powM=function(E){if(E=O.checkMatrix(E),this.rows!==E.rows||this.columns!==E.columns)throw new RangeError("Matrices dimensions must be equal");for(let M=0;M<this.rows;M++)for(let z=0;z<this.columns;z++)this.set(M,z,this.get(M,z)**E.get(M,z));return this}}function h(H,O,A){let E=A?H.rows:H.rows-1;if(O<0||O>E)throw new RangeError("Row index out of range")}function d(H,O,A){let E=A?H.columns:H.columns-1;if(O<0||O>E)throw new RangeError("Column index out of range")}function v(H,O){if(O.to1DArray&&(O=O.to1DArray()),O.length!==H.columns)throw new RangeError("vector size must be the same as the number of columns");return O}function p(H,O){if(O.to1DArray&&(O=O.to1DArray()),O.length!==H.rows)throw new RangeError("vector size must be the same as the number of rows");return O}function m(H,O){if(!e.isAnyArray(O))throw new TypeError("row indices must be an array");for(let A=0;A<O.length;A++)if(O[A]<0||O[A]>=H.rows)throw new RangeError("row indices are out of range")}function b(H,O){if(!e.isAnyArray(O))throw new TypeError("column indices must be an array");for(let A=0;A<O.length;A++)if(O[A]<0||O[A]>=H.columns)throw new RangeError("column indices are out of range")}function x(H,O,A,E,M){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(T("startRow",O),T("endRow",A),T("startColumn",E),T("endColumn",M),O>A||E>M||O<0||O>=H.rows||A<0||A>=H.rows||E<0||E>=H.columns||M<0||M>=H.columns)throw new RangeError("Submatrix indices are out of range")}function w(H,O=0){let A=[];for(let E=0;E<H;E++)A.push(O);return A}function T(H,O){if(typeof O!="number")throw new TypeError(`${H} must be a number`)}function S(H){if(H.isEmpty())throw new Error("Empty matrix has no elements to index")}function D(H){let O=w(H.rows);for(let A=0;A<H.rows;++A)for(let E=0;E<H.columns;++E)O[A]+=H.get(A,E);return O}function R(H){let O=w(H.columns);for(let A=0;A<H.rows;++A)for(let E=0;E<H.columns;++E)O[E]+=H.get(A,E);return O}function L(H){let O=0;for(let A=0;A<H.rows;A++)for(let E=0;E<H.columns;E++)O+=H.get(A,E);return O}function _(H){let O=w(H.rows,1);for(let A=0;A<H.rows;++A)for(let E=0;E<H.columns;++E)O[A]*=H.get(A,E);return O}function N(H){let O=w(H.columns,1);for(let A=0;A<H.rows;++A)for(let E=0;E<H.columns;++E)O[E]*=H.get(A,E);return O}function P(H){let O=1;for(let A=0;A<H.rows;A++)for(let E=0;E<H.columns;E++)O*=H.get(A,E);return O}function U(H,O,A){const E=H.rows,M=H.columns,z=[];for(let ee=0;ee<E;ee++){let te=0,ue=0,se=0;for(let Ee=0;Ee<M;Ee++)se=H.get(ee,Ee)-A[ee],te+=se,ue+=se*se;O?z.push((ue-te*te/M)/(M-1)):z.push((ue-te*te/M)/M)}return z}function j(H,O,A){const E=H.rows,M=H.columns,z=[];for(let ee=0;ee<M;ee++){let te=0,ue=0,se=0;for(let Ee=0;Ee<E;Ee++)se=H.get(Ee,ee)-A[ee],te+=se,ue+=se*se;O?z.push((ue-te*te/E)/(E-1)):z.push((ue-te*te/E)/E)}return z}function F(H,O,A){const E=H.rows,M=H.columns,z=E*M;let ee=0,te=0,ue=0;for(let se=0;se<E;se++)for(let Ee=0;Ee<M;Ee++)ue=H.get(se,Ee)-A,ee+=ue,te+=ue*ue;return O?(te-ee*ee/z)/(z-1):(te-ee*ee/z)/z}function I(H,O){for(let A=0;A<H.rows;A++)for(let E=0;E<H.columns;E++)H.set(A,E,H.get(A,E)-O[A])}function G(H,O){for(let A=0;A<H.rows;A++)for(let E=0;E<H.columns;E++)H.set(A,E,H.get(A,E)-O[E])}function Y(H,O){for(let A=0;A<H.rows;A++)for(let E=0;E<H.columns;E++)H.set(A,E,H.get(A,E)-O)}function q(H){const O=[];for(let A=0;A<H.rows;A++){let E=0;for(let M=0;M<H.columns;M++)E+=H.get(A,M)**2/(H.columns-1);O.push(Math.sqrt(E))}return O}function V(H,O){for(let A=0;A<H.rows;A++)for(let E=0;E<H.columns;E++)H.set(A,E,H.get(A,E)/O[A])}function W(H){const O=[];for(let A=0;A<H.columns;A++){let E=0;for(let M=0;M<H.rows;M++)E+=H.get(M,A)**2/(H.rows-1);O.push(Math.sqrt(E))}return O}function J(H,O){for(let A=0;A<H.rows;A++)for(let E=0;E<H.columns;E++)H.set(A,E,H.get(A,E)/O[E])}function ie(H){const O=H.size-1;let A=0;for(let E=0;E<H.columns;E++)for(let M=0;M<H.rows;M++)A+=H.get(M,E)**2/O;return Math.sqrt(A)}function K(H,O){for(let A=0;A<H.rows;A++)for(let E=0;E<H.columns;E++)H.set(A,E,H.get(A,E)/O)}class Z{static from1DArray(O,A,E){if(O*A!==E.length)throw new RangeError("data length does not match given dimensions");let z=new oe(O,A);for(let ee=0;ee<O;ee++)for(let te=0;te<A;te++)z.set(ee,te,E[ee*A+te]);return z}static rowVector(O){let A=new oe(1,O.length);for(let E=0;E<O.length;E++)A.set(0,E,O[E]);return A}static columnVector(O){let A=new oe(O.length,1);for(let E=0;E<O.length;E++)A.set(E,0,O[E]);return A}static zeros(O,A){return new oe(O,A)}static ones(O,A){return new oe(O,A).fill(1)}static rand(O,A,E={}){if(typeof E!="object")throw new TypeError("options must be an object");const{random:M=Math.random}=E;let z=new oe(O,A);for(let ee=0;ee<O;ee++)for(let te=0;te<A;te++)z.set(ee,te,M());return z}static randInt(O,A,E={}){if(typeof E!="object")throw new TypeError("options must be an object");const{min:M=0,max:z=1e3,random:ee=Math.random}=E;if(!Number.isInteger(M))throw new TypeError("min must be an integer");if(!Number.isInteger(z))throw new TypeError("max must be an integer");if(M>=z)throw new RangeError("min must be smaller than max");let te=z-M,ue=new oe(O,A);for(let se=0;se<O;se++)for(let Ee=0;Ee<A;Ee++){let ve=M+Math.round(ee()*te);ue.set(se,Ee,ve)}return ue}static eye(O,A,E){A===void 0&&(A=O),E===void 0&&(E=1);let M=Math.min(O,A),z=this.zeros(O,A);for(let ee=0;ee<M;ee++)z.set(ee,ee,E);return z}static diag(O,A,E){let M=O.length;A===void 0&&(A=M),E===void 0&&(E=A);let z=Math.min(M,A,E),ee=this.zeros(A,E);for(let te=0;te<z;te++)ee.set(te,te,O[te]);return ee}static min(O,A){O=this.checkMatrix(O),A=this.checkMatrix(A);let E=O.rows,M=O.columns,z=new oe(E,M);for(let ee=0;ee<E;ee++)for(let te=0;te<M;te++)z.set(ee,te,Math.min(O.get(ee,te),A.get(ee,te)));return z}static max(O,A){O=this.checkMatrix(O),A=this.checkMatrix(A);let E=O.rows,M=O.columns,z=new this(E,M);for(let ee=0;ee<E;ee++)for(let te=0;te<M;te++)z.set(ee,te,Math.max(O.get(ee,te),A.get(ee,te)));return z}static checkMatrix(O){return Z.isMatrix(O)?O:new oe(O)}static isMatrix(O){return O!=null&&O.klass==="Matrix"}get size(){return this.rows*this.columns}apply(O){if(typeof O!="function")throw new TypeError("callback must be a function");for(let A=0;A<this.rows;A++)for(let E=0;E<this.columns;E++)O.call(this,A,E);return this}to1DArray(){let O=[];for(let A=0;A<this.rows;A++)for(let E=0;E<this.columns;E++)O.push(this.get(A,E));return O}to2DArray(){let O=[];for(let A=0;A<this.rows;A++){O.push([]);for(let E=0;E<this.columns;E++)O[A].push(this.get(A,E))}return O}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let O=0;O<this.rows;O++)for(let A=0;A<=O;A++)if(this.get(O,A)!==this.get(A,O))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let O=0;O<this.rows;O++)if(this.get(O,O)!==0)return!1;return!0}isEchelonForm(){let O=0,A=0,E=-1,M=!0,z=!1;for(;O<this.rows&&M;){for(A=0,z=!1;A<this.columns&&z===!1;)this.get(O,A)===0?A++:this.get(O,A)===1&&A>E?(z=!0,E=A):(M=!1,z=!0);O++}return M}isReducedEchelonForm(){let O=0,A=0,E=-1,M=!0,z=!1;for(;O<this.rows&&M;){for(A=0,z=!1;A<this.columns&&z===!1;)this.get(O,A)===0?A++:this.get(O,A)===1&&A>E?(z=!0,E=A):(M=!1,z=!0);for(let ee=A+1;ee<this.rows;ee++)this.get(O,ee)!==0&&(M=!1);O++}return M}echelonForm(){let O=this.clone(),A=0,E=0;for(;A<O.rows&&E<O.columns;){let M=A;for(let z=A;z<O.rows;z++)O.get(z,E)>O.get(M,E)&&(M=z);if(O.get(M,E)===0)E++;else{O.swapRows(A,M);let z=O.get(A,E);for(let ee=E;ee<O.columns;ee++)O.set(A,ee,O.get(A,ee)/z);for(let ee=A+1;ee<O.rows;ee++){let te=O.get(ee,E)/O.get(A,E);O.set(ee,E,0);for(let ue=E+1;ue<O.columns;ue++)O.set(ee,ue,O.get(ee,ue)-O.get(A,ue)*te)}A++,E++}}return O}reducedEchelonForm(){let O=this.echelonForm(),A=O.columns,E=O.rows,M=E-1;for(;M>=0;)if(O.maxRow(M)===0)M--;else{let z=0,ee=!1;for(;z<E&&ee===!1;)O.get(M,z)===1?ee=!0:z++;for(let te=0;te<M;te++){let ue=O.get(te,z);for(let se=z;se<A;se++){let Ee=O.get(te,se)-ue*O.get(M,se);O.set(te,se,Ee)}}M--}return O}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(O={}){if(typeof O!="object")throw new TypeError("options must be an object");const{rows:A=1,columns:E=1}=O;if(!Number.isInteger(A)||A<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(E)||E<=0)throw new TypeError("columns must be a positive integer");let M=new oe(this.rows*A,this.columns*E);for(let z=0;z<A;z++)for(let ee=0;ee<E;ee++)M.setSubMatrix(this,this.rows*z,this.columns*ee);return M}fill(O){for(let A=0;A<this.rows;A++)for(let E=0;E<this.columns;E++)this.set(A,E,O);return this}neg(){return this.mulS(-1)}getRow(O){h(this,O);let A=[];for(let E=0;E<this.columns;E++)A.push(this.get(O,E));return A}getRowVector(O){return oe.rowVector(this.getRow(O))}setRow(O,A){h(this,O),A=v(this,A);for(let E=0;E<this.columns;E++)this.set(O,E,A[E]);return this}swapRows(O,A){h(this,O),h(this,A);for(let E=0;E<this.columns;E++){let M=this.get(O,E);this.set(O,E,this.get(A,E)),this.set(A,E,M)}return this}getColumn(O){d(this,O);let A=[];for(let E=0;E<this.rows;E++)A.push(this.get(E,O));return A}getColumnVector(O){return oe.columnVector(this.getColumn(O))}setColumn(O,A){d(this,O),A=p(this,A);for(let E=0;E<this.rows;E++)this.set(E,O,A[E]);return this}swapColumns(O,A){d(this,O),d(this,A);for(let E=0;E<this.rows;E++){let M=this.get(E,O);this.set(E,O,this.get(E,A)),this.set(E,A,M)}return this}addRowVector(O){O=v(this,O);for(let A=0;A<this.rows;A++)for(let E=0;E<this.columns;E++)this.set(A,E,this.get(A,E)+O[E]);return this}subRowVector(O){O=v(this,O);for(let A=0;A<this.rows;A++)for(let E=0;E<this.columns;E++)this.set(A,E,this.get(A,E)-O[E]);return this}mulRowVector(O){O=v(this,O);for(let A=0;A<this.rows;A++)for(let E=0;E<this.columns;E++)this.set(A,E,this.get(A,E)*O[E]);return this}divRowVector(O){O=v(this,O);for(let A=0;A<this.rows;A++)for(let E=0;E<this.columns;E++)this.set(A,E,this.get(A,E)/O[E]);return this}addColumnVector(O){O=p(this,O);for(let A=0;A<this.rows;A++)for(let E=0;E<this.columns;E++)this.set(A,E,this.get(A,E)+O[A]);return this}subColumnVector(O){O=p(this,O);for(let A=0;A<this.rows;A++)for(let E=0;E<this.columns;E++)this.set(A,E,this.get(A,E)-O[A]);return this}mulColumnVector(O){O=p(this,O);for(let A=0;A<this.rows;A++)for(let E=0;E<this.columns;E++)this.set(A,E,this.get(A,E)*O[A]);return this}divColumnVector(O){O=p(this,O);for(let A=0;A<this.rows;A++)for(let E=0;E<this.columns;E++)this.set(A,E,this.get(A,E)/O[A]);return this}mulRow(O,A){h(this,O);for(let E=0;E<this.columns;E++)this.set(O,E,this.get(O,E)*A);return this}mulColumn(O,A){d(this,O);for(let E=0;E<this.rows;E++)this.set(E,O,this.get(E,O)*A);return this}max(O){if(this.isEmpty())return NaN;switch(O){case"row":{const A=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.get(E,M)>A[E]&&(A[E]=this.get(E,M));return A}case"column":{const A=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.get(E,M)>A[M]&&(A[M]=this.get(E,M));return A}case void 0:{let A=this.get(0,0);for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.get(E,M)>A&&(A=this.get(E,M));return A}default:throw new Error(`invalid option: ${O}`)}}maxIndex(){S(this);let O=this.get(0,0),A=[0,0];for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.get(E,M)>O&&(O=this.get(E,M),A[0]=E,A[1]=M);return A}min(O){if(this.isEmpty())return NaN;switch(O){case"row":{const A=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.get(E,M)<A[E]&&(A[E]=this.get(E,M));return A}case"column":{const A=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.get(E,M)<A[M]&&(A[M]=this.get(E,M));return A}case void 0:{let A=this.get(0,0);for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.get(E,M)<A&&(A=this.get(E,M));return A}default:throw new Error(`invalid option: ${O}`)}}minIndex(){S(this);let O=this.get(0,0),A=[0,0];for(let E=0;E<this.rows;E++)for(let M=0;M<this.columns;M++)this.get(E,M)<O&&(O=this.get(E,M),A[0]=E,A[1]=M);return A}maxRow(O){if(h(this,O),this.isEmpty())return NaN;let A=this.get(O,0);for(let E=1;E<this.columns;E++)this.get(O,E)>A&&(A=this.get(O,E));return A}maxRowIndex(O){h(this,O),S(this);let A=this.get(O,0),E=[O,0];for(let M=1;M<this.columns;M++)this.get(O,M)>A&&(A=this.get(O,M),E[1]=M);return E}minRow(O){if(h(this,O),this.isEmpty())return NaN;let A=this.get(O,0);for(let E=1;E<this.columns;E++)this.get(O,E)<A&&(A=this.get(O,E));return A}minRowIndex(O){h(this,O),S(this);let A=this.get(O,0),E=[O,0];for(let M=1;M<this.columns;M++)this.get(O,M)<A&&(A=this.get(O,M),E[1]=M);return E}maxColumn(O){if(d(this,O),this.isEmpty())return NaN;let A=this.get(0,O);for(let E=1;E<this.rows;E++)this.get(E,O)>A&&(A=this.get(E,O));return A}maxColumnIndex(O){d(this,O),S(this);let A=this.get(0,O),E=[0,O];for(let M=1;M<this.rows;M++)this.get(M,O)>A&&(A=this.get(M,O),E[0]=M);return E}minColumn(O){if(d(this,O),this.isEmpty())return NaN;let A=this.get(0,O);for(let E=1;E<this.rows;E++)this.get(E,O)<A&&(A=this.get(E,O));return A}minColumnIndex(O){d(this,O),S(this);let A=this.get(0,O),E=[0,O];for(let M=1;M<this.rows;M++)this.get(M,O)<A&&(A=this.get(M,O),E[0]=M);return E}diag(){let O=Math.min(this.rows,this.columns),A=[];for(let E=0;E<O;E++)A.push(this.get(E,E));return A}norm(O="frobenius"){switch(O){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${O}`)}}cumulativeSum(){let O=0;for(let A=0;A<this.rows;A++)for(let E=0;E<this.columns;E++)O+=this.get(A,E),this.set(A,E,O);return this}dot(O){Z.isMatrix(O)&&(O=O.to1DArray());let A=this.to1DArray();if(A.length!==O.length)throw new RangeError("vectors do not have the same size");let E=0;for(let M=0;M<A.length;M++)E+=A[M]*O[M];return E}mmul(O){O=oe.checkMatrix(O);let A=this.rows,E=this.columns,M=O.columns,z=new oe(A,M),ee=new Float64Array(E);for(let te=0;te<M;te++){for(let ue=0;ue<E;ue++)ee[ue]=O.get(ue,te);for(let ue=0;ue<A;ue++){let se=0;for(let Ee=0;Ee<E;Ee++)se+=this.get(ue,Ee)*ee[Ee];z.set(ue,te,se)}}return z}mpow(O){if(!this.isSquare())throw new RangeError("Matrix must be square");if(!Number.isInteger(O)||O<0)throw new RangeError("Exponent must be a non-negative integer");let A=oe.eye(this.rows),E=this;for(let M=O;M>=1;M/=2)(M&1)!==0&&(A=A.mmul(E)),E=E.mmul(E);return A}strassen2x2(O){O=oe.checkMatrix(O);let A=new oe(2,2);const E=this.get(0,0),M=O.get(0,0),z=this.get(0,1),ee=O.get(0,1),te=this.get(1,0),ue=O.get(1,0),se=this.get(1,1),Ee=O.get(1,1),ve=(E+se)*(M+Ee),Ne=(te+se)*M,We=E*(ee-Ee),_e=se*(ue-M),Fe=(E+z)*Ee,st=(te-E)*(M+ee),pe=(z-se)*(ue+Ee),it=ve+_e-Fe+pe,ut=We+Fe,Dt=Ne+_e,kt=ve-Ne+We+st;return A.set(0,0,it),A.set(0,1,ut),A.set(1,0,Dt),A.set(1,1,kt),A}strassen3x3(O){O=oe.checkMatrix(O);let A=new oe(3,3);const E=this.get(0,0),M=this.get(0,1),z=this.get(0,2),ee=this.get(1,0),te=this.get(1,1),ue=this.get(1,2),se=this.get(2,0),Ee=this.get(2,1),ve=this.get(2,2),Ne=O.get(0,0),We=O.get(0,1),_e=O.get(0,2),Fe=O.get(1,0),st=O.get(1,1),pe=O.get(1,2),it=O.get(2,0),ut=O.get(2,1),Dt=O.get(2,2),kt=(E+M+z-ee-te-Ee-ve)*st,Kt=(E-ee)*(-We+st),St=te*(-Ne+We+Fe-st-pe-it+Dt),At=(-E+ee+te)*(Ne-We+st),Lt=(ee+te)*(-Ne+We),we=E*Ne,Ze=(-E+se+Ee)*(Ne-_e+pe),ft=(-E+se)*(_e-pe),et=(se+Ee)*(-Ne+_e),nr=(E+M+z-te-ue-se-Ee)*pe,Yt=Ee*(-Ne+_e+Fe-st-pe-it+ut),ar=(-z+Ee+ve)*(st+it-ut),hr=(z-ve)*(st-ut),Xt=z*it,Vr=(Ee+ve)*(-it+ut),Qt=(-z+te+ue)*(pe+it-Dt),lr=(z-ue)*(pe-Dt),_r=(te+ue)*(-it+Dt),zt=M*Fe,jr=ue*ut,cn=ee*_e,fn=se*We,Fr=ve*Dt,Xn=we+Xt+zt,Ku=kt+At+Lt+we+ar+Xt+Vr,vh=we+Ze+et+nr+Xt+Qt+_r,Wu=Kt+St+At+we+Xt+Qt+lr,po=Kt+At+Lt+we+jr,gh=Xt+Qt+lr+_r+cn,ph=we+Ze+ft+Yt+ar+hr+Xt,mo=ar+hr+Xt+Vr+fn,Mp=we+Ze+ft+et+Fr;return A.set(0,0,Xn),A.set(0,1,Ku),A.set(0,2,vh),A.set(1,0,Wu),A.set(1,1,po),A.set(1,2,gh),A.set(2,0,ph),A.set(2,1,mo),A.set(2,2,Mp),A}mmulStrassen(O){O=oe.checkMatrix(O);let A=this.clone(),E=A.rows,M=A.columns,z=O.rows,ee=O.columns;M!==z&&console.warn(`Multiplying ${E} x ${M} and ${z} x ${ee} matrix: dimensions do not match.`);function te(ve,Ne,We){let _e=ve.rows,Fe=ve.columns;if(_e===Ne&&Fe===We)return ve;{let st=Z.zeros(Ne,We);return st=st.setSubMatrix(ve,0,0),st}}let ue=Math.max(E,z),se=Math.max(M,ee);A=te(A,ue,se),O=te(O,ue,se);function Ee(ve,Ne,We,_e){if(We<=512||_e<=512)return ve.mmul(Ne);We%2===1&&_e%2===1?(ve=te(ve,We+1,_e+1),Ne=te(Ne,We+1,_e+1)):We%2===1?(ve=te(ve,We+1,_e),Ne=te(Ne,We+1,_e)):_e%2===1&&(ve=te(ve,We,_e+1),Ne=te(Ne,We,_e+1));let Fe=parseInt(ve.rows/2,10),st=parseInt(ve.columns/2,10),pe=ve.subMatrix(0,Fe-1,0,st-1),it=Ne.subMatrix(0,Fe-1,0,st-1),ut=ve.subMatrix(0,Fe-1,st,ve.columns-1),Dt=Ne.subMatrix(0,Fe-1,st,Ne.columns-1),kt=ve.subMatrix(Fe,ve.rows-1,0,st-1),Kt=Ne.subMatrix(Fe,Ne.rows-1,0,st-1),St=ve.subMatrix(Fe,ve.rows-1,st,ve.columns-1),At=Ne.subMatrix(Fe,Ne.rows-1,st,Ne.columns-1),Lt=Ee(Z.add(pe,St),Z.add(it,At),Fe,st),we=Ee(Z.add(kt,St),it,Fe,st),Ze=Ee(pe,Z.sub(Dt,At),Fe,st),ft=Ee(St,Z.sub(Kt,it),Fe,st),et=Ee(Z.add(pe,ut),At,Fe,st),nr=Ee(Z.sub(kt,pe),Z.add(it,Dt),Fe,st),Yt=Ee(Z.sub(ut,St),Z.add(Kt,At),Fe,st),ar=Z.add(Lt,ft);ar.sub(et),ar.add(Yt);let hr=Z.add(Ze,et),Xt=Z.add(we,ft),Vr=Z.sub(Lt,we);Vr.add(Ze),Vr.add(nr);let Qt=Z.zeros(2*ar.rows,2*ar.columns);return Qt=Qt.setSubMatrix(ar,0,0),Qt=Qt.setSubMatrix(hr,ar.rows,0),Qt=Qt.setSubMatrix(Xt,0,ar.columns),Qt=Qt.setSubMatrix(Vr,ar.rows,ar.columns),Qt.subMatrix(0,We-1,0,_e-1)}return Ee(A,O,ue,se)}scaleRows(O={}){if(typeof O!="object")throw new TypeError("options must be an object");const{min:A=0,max:E=1}=O;if(!Number.isFinite(A))throw new TypeError("min must be a number");if(!Number.isFinite(E))throw new TypeError("max must be a number");if(A>=E)throw new RangeError("min must be smaller than max");let M=new oe(this.rows,this.columns);for(let z=0;z<this.rows;z++){const ee=this.getRow(z);ee.length>0&&t(ee,{min:A,max:E,output:ee}),M.setRow(z,ee)}return M}scaleColumns(O={}){if(typeof O!="object")throw new TypeError("options must be an object");const{min:A=0,max:E=1}=O;if(!Number.isFinite(A))throw new TypeError("min must be a number");if(!Number.isFinite(E))throw new TypeError("max must be a number");if(A>=E)throw new RangeError("min must be smaller than max");let M=new oe(this.rows,this.columns);for(let z=0;z<this.columns;z++){const ee=this.getColumn(z);ee.length&&t(ee,{min:A,max:E,output:ee}),M.setColumn(z,ee)}return M}flipRows(){const O=Math.ceil(this.columns/2);for(let A=0;A<this.rows;A++)for(let E=0;E<O;E++){let M=this.get(A,E),z=this.get(A,this.columns-1-E);this.set(A,E,z),this.set(A,this.columns-1-E,M)}return this}flipColumns(){const O=Math.ceil(this.rows/2);for(let A=0;A<this.columns;A++)for(let E=0;E<O;E++){let M=this.get(E,A),z=this.get(this.rows-1-E,A);this.set(E,A,z),this.set(this.rows-1-E,A,M)}return this}kroneckerProduct(O){O=oe.checkMatrix(O);let A=this.rows,E=this.columns,M=O.rows,z=O.columns,ee=new oe(A*M,E*z);for(let te=0;te<A;te++)for(let ue=0;ue<E;ue++)for(let se=0;se<M;se++)for(let Ee=0;Ee<z;Ee++)ee.set(M*te+se,z*ue+Ee,this.get(te,ue)*O.get(se,Ee));return ee}kroneckerSum(O){if(O=oe.checkMatrix(O),!this.isSquare()||!O.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let A=this.rows,E=O.rows,M=this.kroneckerProduct(oe.eye(E,E)),z=oe.eye(A,A).kroneckerProduct(O);return M.add(z)}transpose(){let O=new oe(this.columns,this.rows);for(let A=0;A<this.rows;A++)for(let E=0;E<this.columns;E++)O.set(E,A,this.get(A,E));return O}sortRows(O=fe){for(let A=0;A<this.rows;A++)this.setRow(A,this.getRow(A).sort(O));return this}sortColumns(O=fe){for(let A=0;A<this.columns;A++)this.setColumn(A,this.getColumn(A).sort(O));return this}subMatrix(O,A,E,M){x(this,O,A,E,M);let z=new oe(A-O+1,M-E+1);for(let ee=O;ee<=A;ee++)for(let te=E;te<=M;te++)z.set(ee-O,te-E,this.get(ee,te));return z}subMatrixRow(O,A,E){if(A===void 0&&(A=0),E===void 0&&(E=this.columns-1),A>E||A<0||A>=this.columns||E<0||E>=this.columns)throw new RangeError("Argument out of range");let M=new oe(O.length,E-A+1);for(let z=0;z<O.length;z++)for(let ee=A;ee<=E;ee++){if(O[z]<0||O[z]>=this.rows)throw new RangeError(`Row index out of range: ${O[z]}`);M.set(z,ee-A,this.get(O[z],ee))}return M}subMatrixColumn(O,A,E){if(A===void 0&&(A=0),E===void 0&&(E=this.rows-1),A>E||A<0||A>=this.rows||E<0||E>=this.rows)throw new RangeError("Argument out of range");let M=new oe(E-A+1,O.length);for(let z=0;z<O.length;z++)for(let ee=A;ee<=E;ee++){if(O[z]<0||O[z]>=this.columns)throw new RangeError(`Column index out of range: ${O[z]}`);M.set(ee-A,z,this.get(ee,O[z]))}return M}setSubMatrix(O,A,E){if(O=oe.checkMatrix(O),O.isEmpty())return this;let M=A+O.rows-1,z=E+O.columns-1;x(this,A,M,E,z);for(let ee=0;ee<O.rows;ee++)for(let te=0;te<O.columns;te++)this.set(A+ee,E+te,O.get(ee,te));return this}selection(O,A){m(this,O),b(this,A);let E=new oe(O.length,A.length);for(let M=0;M<O.length;M++){let z=O[M];for(let ee=0;ee<A.length;ee++){let te=A[ee];E.set(M,ee,this.get(z,te))}}return E}trace(){let O=Math.min(this.rows,this.columns),A=0;for(let E=0;E<O;E++)A+=this.get(E,E);return A}clone(){return this.constructor.copy(this,new oe(this.rows,this.columns))}static copy(O,A){for(const[E,M,z]of O.entries())A.set(E,M,z);return A}sum(O){switch(O){case"row":return D(this);case"column":return R(this);case void 0:return L(this);default:throw new Error(`invalid option: ${O}`)}}product(O){switch(O){case"row":return _(this);case"column":return N(this);case void 0:return P(this);default:throw new Error(`invalid option: ${O}`)}}mean(O){const A=this.sum(O);switch(O){case"row":{for(let E=0;E<this.rows;E++)A[E]/=this.columns;return A}case"column":{for(let E=0;E<this.columns;E++)A[E]/=this.rows;return A}case void 0:return A/this.size;default:throw new Error(`invalid option: ${O}`)}}variance(O,A={}){if(typeof O=="object"&&(A=O,O=void 0),typeof A!="object")throw new TypeError("options must be an object");const{unbiased:E=!0,mean:M=this.mean(O)}=A;if(typeof E!="boolean")throw new TypeError("unbiased must be a boolean");switch(O){case"row":{if(!e.isAnyArray(M))throw new TypeError("mean must be an array");return U(this,E,M)}case"column":{if(!e.isAnyArray(M))throw new TypeError("mean must be an array");return j(this,E,M)}case void 0:{if(typeof M!="number")throw new TypeError("mean must be a number");return F(this,E,M)}default:throw new Error(`invalid option: ${O}`)}}standardDeviation(O,A){typeof O=="object"&&(A=O,O=void 0);const E=this.variance(O,A);if(O===void 0)return Math.sqrt(E);for(let M=0;M<E.length;M++)E[M]=Math.sqrt(E[M]);return E}center(O,A={}){if(typeof O=="object"&&(A=O,O=void 0),typeof A!="object")throw new TypeError("options must be an object");const{center:E=this.mean(O)}=A;switch(O){case"row":{if(!e.isAnyArray(E))throw new TypeError("center must be an array");return I(this,E),this}case"column":{if(!e.isAnyArray(E))throw new TypeError("center must be an array");return G(this,E),this}case void 0:{if(typeof E!="number")throw new TypeError("center must be a number");return Y(this,E),this}default:throw new Error(`invalid option: ${O}`)}}scale(O,A={}){if(typeof O=="object"&&(A=O,O=void 0),typeof A!="object")throw new TypeError("options must be an object");let E=A.scale;switch(O){case"row":{if(E===void 0)E=q(this);else if(!e.isAnyArray(E))throw new TypeError("scale must be an array");return V(this,E),this}case"column":{if(E===void 0)E=W(this);else if(!e.isAnyArray(E))throw new TypeError("scale must be an array");return J(this,E),this}case void 0:{if(E===void 0)E=ie(this);else if(typeof E!="number")throw new TypeError("scale must be a number");return K(this,E),this}default:throw new Error(`invalid option: ${O}`)}}toString(O){return i(this,O)}[Symbol.iterator](){return this.entries()}*entries(){for(let O=0;O<this.rows;O++)for(let A=0;A<this.columns;A++)yield[O,A,this.get(O,A)]}*values(){for(let O=0;O<this.rows;O++)for(let A=0;A<this.columns;A++)yield this.get(O,A)}}Z.prototype.klass="Matrix",typeof Symbol<"u"&&(Z.prototype[Symbol.for("nodejs.util.inspect.custom")]=a);function fe(H,O){return H-O}function he(H){return H.every(O=>typeof O=="number")}Z.random=Z.rand,Z.randomInt=Z.randInt,Z.diagonal=Z.diag,Z.prototype.diagonal=Z.prototype.diag,Z.identity=Z.eye,Z.prototype.negate=Z.prototype.neg,Z.prototype.tensorProduct=Z.prototype.kroneckerProduct;const gt=class gt extends Z{constructor(A,E){super();Py(this,nt);Cd(this,"data");if(gt.isMatrix(A))Ry(this,nt,sw).call(this,A.rows,A.columns),gt.copy(A,this);else if(Number.isInteger(A)&&A>=0)Ry(this,nt,sw).call(this,A,E);else if(e.isAnyArray(A)){const M=A;if(A=M.length,E=A?M[0].length:0,typeof E!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let z=0;z<A;z++){if(M[z].length!==E)throw new RangeError("Inconsistent array dimensions");if(!he(M[z]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(M[z]))}this.rows=A,this.columns=E}else throw new TypeError("First argument must be a positive number or an array")}set(A,E,M){return this.data[A][E]=M,this}get(A,E){return this.data[A][E]}removeRow(A){return h(this,A),this.data.splice(A,1),this.rows-=1,this}addRow(A,E){return E===void 0&&(E=A,A=this.rows),h(this,A,!0),E=Float64Array.from(v(this,E)),this.data.splice(A,0,E),this.rows+=1,this}removeColumn(A){d(this,A);for(let E=0;E<this.rows;E++){const M=new Float64Array(this.columns-1);for(let z=0;z<A;z++)M[z]=this.data[E][z];for(let z=A+1;z<this.columns;z++)M[z-1]=this.data[E][z];this.data[E]=M}return this.columns-=1,this}addColumn(A,E){typeof E>"u"&&(E=A,A=this.columns),d(this,A,!0),E=p(this,E);for(let M=0;M<this.rows;M++){const z=new Float64Array(this.columns+1);let ee=0;for(;ee<A;ee++)z[ee]=this.data[M][ee];for(z[ee++]=E[M];ee<this.columns+1;ee++)z[ee]=this.data[M][ee-1];this.data[M]=z}return this.columns+=1,this}};nt=new WeakSet,sw=function(A,E){if(this.data=[],Number.isInteger(E)&&E>=0)for(let M=0;M<A;M++)this.data.push(new Float64Array(E));else throw new TypeError("nColumns must be a positive integer");this.rows=A,this.columns=E};let oe=gt;c(Z,oe);const xt=class xt extends Z{constructor(A){super();Py(this,Je);if(oe.isMatrix(A)){if(!A.isSymmetric())throw new TypeError("not symmetric data");Md(this,Je,oe.copy(A,new oe(A.rows,A.rows)))}else if(Number.isInteger(A)&&A>=0)Md(this,Je,new oe(A,A));else if(Md(this,Je,new oe(A)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return Ja(this,Je).size}get rows(){return Ja(this,Je).rows}get columns(){return Ja(this,Je).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(A){return oe.isMatrix(A)&&A.klassType==="SymmetricMatrix"}static zeros(A){return new this(A)}static ones(A){return new this(A).fill(1)}clone(){const A=new xt(this.diagonalSize);for(const[E,M,z]of this.upperRightEntries())A.set(E,M,z);return A}toMatrix(){return new oe(this)}get(A,E){return Ja(this,Je).get(A,E)}set(A,E,M){return Ja(this,Je).set(A,E,M),Ja(this,Je).set(E,A,M),this}removeCross(A){return Ja(this,Je).removeRow(A),Ja(this,Je).removeColumn(A),this}addCross(A,E){E===void 0&&(E=A,A=this.diagonalSize);const M=E.slice();return M.splice(A,1),Ja(this,Je).addRow(A,M),Ja(this,Je).addColumn(A,E),this}applyMask(A){if(A.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const E=[];for(const[M,z]of A.entries())z||E.push(M);E.reverse();for(const M of E)this.removeCross(M);return this}toCompact(){const{diagonalSize:A}=this,E=new Array(A*(A+1)/2);for(let M=0,z=0,ee=0;ee<E.length;ee++)E[ee]=this.get(z,M),++M>=A&&(M=++z);return E}static fromCompact(A){const E=A.length,M=(Math.sqrt(8*E+1)-1)/2;if(!Number.isInteger(M))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(A)}`);const z=new xt(M);for(let ee=0,te=0,ue=0;ue<E;ue++)z.set(ee,te,A[ue]),++ee>=M&&(ee=++te);return z}*upperRightEntries(){for(let A=0,E=0;A<this.diagonalSize;void 0){const M=this.get(A,E);yield[A,E,M],++E>=this.diagonalSize&&(E=++A)}}*upperRightValues(){for(let A=0,E=0;A<this.diagonalSize;void 0)yield this.get(A,E),++E>=this.diagonalSize&&(E=++A)}};Je=new WeakMap;let be=xt;be.prototype.klassType="SymmetricMatrix";class Ae extends be{static isDistanceMatrix(O){return be.isSymmetricMatrix(O)&&O.klassSubType==="DistanceMatrix"}constructor(O){if(super(O),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(O,A,E){return O===A&&(E=0),super.set(O,A,E)}addCross(O,A){return A===void 0&&(A=O,O=this.diagonalSize),A=A.slice(),A[O]=0,super.addCross(O,A)}toSymmetricMatrix(){return new be(this)}clone(){const O=new Ae(this.diagonalSize);for(const[A,E,M]of this.upperRightEntries())A!==E&&O.set(A,E,M);return O}toCompact(){const{diagonalSize:O}=this,A=(O-1)*O/2,E=new Array(A);for(let M=1,z=0,ee=0;ee<E.length;ee++)E[ee]=this.get(z,M),++M>=O&&(M=++z+1);return E}static fromCompact(O){const A=O.length;if(A===0)return new this(0);const E=(Math.sqrt(8*A+1)+1)/2;if(!Number.isInteger(E))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(O)}`);const M=new this(E);for(let z=1,ee=0,te=0;te<A;te++)M.set(z,ee,O[te]),++z>=E&&(z=++ee+1);return M}}Ae.prototype.klassSubType="DistanceMatrix";class Le extends Z{constructor(O,A,E){super(),this.matrix=O,this.rows=A,this.columns=E}}class ce extends Le{constructor(O,A){d(O,A),super(O,O.rows,1),this.column=A}set(O,A,E){return this.matrix.set(O,this.column,E),this}get(O){return this.matrix.get(O,this.column)}}class ae extends Le{constructor(O,A){b(O,A),super(O,O.rows,A.length),this.columnIndices=A}set(O,A,E){return this.matrix.set(O,this.columnIndices[A],E),this}get(O,A){return this.matrix.get(O,this.columnIndices[A])}}class le extends Le{constructor(O){super(O,O.rows,O.columns)}set(O,A,E){return this.matrix.set(O,this.columns-A-1,E),this}get(O,A){return this.matrix.get(O,this.columns-A-1)}}class re extends Le{constructor(O){super(O,O.rows,O.columns)}set(O,A,E){return this.matrix.set(this.rows-O-1,A,E),this}get(O,A){return this.matrix.get(this.rows-O-1,A)}}class ge extends Le{constructor(O,A){h(O,A),super(O,1,O.columns),this.row=A}set(O,A,E){return this.matrix.set(this.row,A,E),this}get(O,A){return this.matrix.get(this.row,A)}}class Se extends Le{constructor(O,A){m(O,A),super(O,A.length,O.columns),this.rowIndices=A}set(O,A,E){return this.matrix.set(this.rowIndices[O],A,E),this}get(O,A){return this.matrix.get(this.rowIndices[O],A)}}class ze extends Le{constructor(O,A,E){m(O,A),b(O,E),super(O,A.length,E.length),this.rowIndices=A,this.columnIndices=E}set(O,A,E){return this.matrix.set(this.rowIndices[O],this.columnIndices[A],E),this}get(O,A){return this.matrix.get(this.rowIndices[O],this.columnIndices[A])}}class Qe extends Le{constructor(O,A,E,M,z){x(O,A,E,M,z),super(O,E-A+1,z-M+1),this.startRow=A,this.startColumn=M}set(O,A,E){return this.matrix.set(this.startRow+O,this.startColumn+A,E),this}get(O,A){return this.matrix.get(this.startRow+O,this.startColumn+A)}}class Oe extends Le{constructor(O){super(O,O.columns,O.rows)}set(O,A,E){return this.matrix.set(A,O,E),this}get(O,A){return this.matrix.get(A,O)}}class je extends Z{constructor(O,A={}){const{rows:E=1}=A;if(O.length%E!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=E,this.columns=O.length/E,this.data=O}set(O,A,E){let M=this._calculateIndex(O,A);return this.data[M]=E,this}get(O,A){let E=this._calculateIndex(O,A);return this.data[E]}_calculateIndex(O,A){return O*this.columns+A}}class Ue extends Z{constructor(O){super(),this.data=O,this.rows=O.length,this.columns=O[0].length}set(O,A,E){return this.data[O][A]=E,this}get(O,A){return this.data[O][A]}}function qe(H,O){if(e.isAnyArray(H))return H[0]&&e.isAnyArray(H[0])?new Ue(H):new je(H,O);throw new Error("the argument is not an array")}class Ke{constructor(O){O=Ue.checkMatrix(O);let A=O.clone(),E=A.rows,M=A.columns,z=new Float64Array(E),ee=1,te,ue,se,Ee,ve,Ne,We,_e,Fe;for(te=0;te<E;te++)z[te]=te;for(_e=new Float64Array(E),ue=0;ue<M;ue++){for(te=0;te<E;te++)_e[te]=A.get(te,ue);for(te=0;te<E;te++){for(Fe=Math.min(te,ue),ve=0,se=0;se<Fe;se++)ve+=A.get(te,se)*_e[se];_e[te]-=ve,A.set(te,ue,_e[te])}for(Ee=ue,te=ue+1;te<E;te++)Math.abs(_e[te])>Math.abs(_e[Ee])&&(Ee=te);if(Ee!==ue){for(se=0;se<M;se++)Ne=A.get(Ee,se),A.set(Ee,se,A.get(ue,se)),A.set(ue,se,Ne);We=z[Ee],z[Ee]=z[ue],z[ue]=We,ee=-ee}if(ue<E&&A.get(ue,ue)!==0)for(te=ue+1;te<E;te++)A.set(te,ue,A.get(te,ue)/A.get(ue,ue))}this.LU=A,this.pivotVector=z,this.pivotSign=ee}isSingular(){let O=this.LU,A=O.columns;for(let E=0;E<A;E++)if(O.get(E,E)===0)return!0;return!1}solve(O){O=oe.checkMatrix(O);let A=this.LU;if(A.rows!==O.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let M=O.columns,z=O.subMatrixRow(this.pivotVector,0,M-1),ee=A.columns,te,ue,se;for(se=0;se<ee;se++)for(te=se+1;te<ee;te++)for(ue=0;ue<M;ue++)z.set(te,ue,z.get(te,ue)-z.get(se,ue)*A.get(te,se));for(se=ee-1;se>=0;se--){for(ue=0;ue<M;ue++)z.set(se,ue,z.get(se,ue)/A.get(se,se));for(te=0;te<se;te++)for(ue=0;ue<M;ue++)z.set(te,ue,z.get(te,ue)-z.get(se,ue)*A.get(te,se))}return z}get determinant(){let O=this.LU;if(!O.isSquare())throw new Error("Matrix must be square");let A=this.pivotSign,E=O.columns;for(let M=0;M<E;M++)A*=O.get(M,M);return A}get lowerTriangularMatrix(){let O=this.LU,A=O.rows,E=O.columns,M=new oe(A,E);for(let z=0;z<A;z++)for(let ee=0;ee<E;ee++)z>ee?M.set(z,ee,O.get(z,ee)):z===ee?M.set(z,ee,1):M.set(z,ee,0);return M}get upperTriangularMatrix(){let O=this.LU,A=O.rows,E=O.columns,M=new oe(A,E);for(let z=0;z<A;z++)for(let ee=0;ee<E;ee++)z<=ee?M.set(z,ee,O.get(z,ee)):M.set(z,ee,0);return M}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function Xe(H,O){let A=0;return Math.abs(H)>Math.abs(O)?(A=O/H,Math.abs(H)*Math.sqrt(1+A*A)):O!==0?(A=H/O,Math.abs(O)*Math.sqrt(1+A*A)):0}class ot{constructor(O){O=Ue.checkMatrix(O);let A=O.clone(),E=O.rows,M=O.columns,z=new Float64Array(M),ee,te,ue,se;for(ue=0;ue<M;ue++){let Ee=0;for(ee=ue;ee<E;ee++)Ee=Xe(Ee,A.get(ee,ue));if(Ee!==0){for(A.get(ue,ue)<0&&(Ee=-Ee),ee=ue;ee<E;ee++)A.set(ee,ue,A.get(ee,ue)/Ee);for(A.set(ue,ue,A.get(ue,ue)+1),te=ue+1;te<M;te++){for(se=0,ee=ue;ee<E;ee++)se+=A.get(ee,ue)*A.get(ee,te);for(se=-se/A.get(ue,ue),ee=ue;ee<E;ee++)A.set(ee,te,A.get(ee,te)+se*A.get(ee,ue))}}z[ue]=-Ee}this.QR=A,this.Rdiag=z}solve(O){O=oe.checkMatrix(O);let A=this.QR,E=A.rows;if(O.rows!==E)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let M=O.columns,z=O.clone(),ee=A.columns,te,ue,se,Ee;for(se=0;se<ee;se++)for(ue=0;ue<M;ue++){for(Ee=0,te=se;te<E;te++)Ee+=A.get(te,se)*z.get(te,ue);for(Ee=-Ee/A.get(se,se),te=se;te<E;te++)z.set(te,ue,z.get(te,ue)+Ee*A.get(te,se))}for(se=ee-1;se>=0;se--){for(ue=0;ue<M;ue++)z.set(se,ue,z.get(se,ue)/this.Rdiag[se]);for(te=0;te<se;te++)for(ue=0;ue<M;ue++)z.set(te,ue,z.get(te,ue)-z.get(se,ue)*A.get(te,se))}return z.subMatrix(0,ee-1,0,M-1)}isFullRank(){let O=this.QR.columns;for(let A=0;A<O;A++)if(this.Rdiag[A]===0)return!1;return!0}get upperTriangularMatrix(){let O=this.QR,A=O.columns,E=new oe(A,A),M,z;for(M=0;M<A;M++)for(z=0;z<A;z++)M<z?E.set(M,z,O.get(M,z)):M===z?E.set(M,z,this.Rdiag[M]):E.set(M,z,0);return E}get orthogonalMatrix(){let O=this.QR,A=O.rows,E=O.columns,M=new oe(A,E),z,ee,te,ue;for(te=E-1;te>=0;te--){for(z=0;z<A;z++)M.set(z,te,0);for(M.set(te,te,1),ee=te;ee<E;ee++)if(O.get(te,te)!==0){for(ue=0,z=te;z<A;z++)ue+=O.get(z,te)*M.get(z,ee);for(ue=-ue/O.get(te,te),z=te;z<A;z++)M.set(z,ee,M.get(z,ee)+ue*O.get(z,te))}}return M}}class Ye{constructor(O,A={}){if(O=Ue.checkMatrix(O),O.isEmpty())throw new Error("Matrix must be non-empty");let E=O.rows,M=O.columns;const{computeLeftSingularVectors:z=!0,computeRightSingularVectors:ee=!0,autoTranspose:te=!1}=A;let ue=!!z,se=!!ee,Ee=!1,ve;if(E<M)if(!te)ve=O.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{ve=O.transpose(),E=ve.rows,M=ve.columns,Ee=!0;let we=ue;ue=se,se=we}else ve=O.clone();let Ne=Math.min(E,M),We=Math.min(E+1,M),_e=new Float64Array(We),Fe=new oe(E,Ne),st=new oe(M,M),pe=new Float64Array(M),it=new Float64Array(E),ut=new Float64Array(We);for(let we=0;we<We;we++)ut[we]=we;let Dt=Math.min(E-1,M),kt=Math.max(0,Math.min(M-2,E)),Kt=Math.max(Dt,kt);for(let we=0;we<Kt;we++){if(we<Dt){_e[we]=0;for(let Ze=we;Ze<E;Ze++)_e[we]=Xe(_e[we],ve.get(Ze,we));if(_e[we]!==0){ve.get(we,we)<0&&(_e[we]=-_e[we]);for(let Ze=we;Ze<E;Ze++)ve.set(Ze,we,ve.get(Ze,we)/_e[we]);ve.set(we,we,ve.get(we,we)+1)}_e[we]=-_e[we]}for(let Ze=we+1;Ze<M;Ze++){if(we<Dt&&_e[we]!==0){let ft=0;for(let et=we;et<E;et++)ft+=ve.get(et,we)*ve.get(et,Ze);ft=-ft/ve.get(we,we);for(let et=we;et<E;et++)ve.set(et,Ze,ve.get(et,Ze)+ft*ve.get(et,we))}pe[Ze]=ve.get(we,Ze)}if(ue&&we<Dt)for(let Ze=we;Ze<E;Ze++)Fe.set(Ze,we,ve.get(Ze,we));if(we<kt){pe[we]=0;for(let Ze=we+1;Ze<M;Ze++)pe[we]=Xe(pe[we],pe[Ze]);if(pe[we]!==0){pe[we+1]<0&&(pe[we]=0-pe[we]);for(let Ze=we+1;Ze<M;Ze++)pe[Ze]/=pe[we];pe[we+1]+=1}if(pe[we]=-pe[we],we+1<E&&pe[we]!==0){for(let Ze=we+1;Ze<E;Ze++)it[Ze]=0;for(let Ze=we+1;Ze<E;Ze++)for(let ft=we+1;ft<M;ft++)it[Ze]+=pe[ft]*ve.get(Ze,ft);for(let Ze=we+1;Ze<M;Ze++){let ft=-pe[Ze]/pe[we+1];for(let et=we+1;et<E;et++)ve.set(et,Ze,ve.get(et,Ze)+ft*it[et])}}if(se)for(let Ze=we+1;Ze<M;Ze++)st.set(Ze,we,pe[Ze])}}let St=Math.min(M,E+1);if(Dt<M&&(_e[Dt]=ve.get(Dt,Dt)),E<St&&(_e[St-1]=0),kt+1<St&&(pe[kt]=ve.get(kt,St-1)),pe[St-1]=0,ue){for(let we=Dt;we<Ne;we++){for(let Ze=0;Ze<E;Ze++)Fe.set(Ze,we,0);Fe.set(we,we,1)}for(let we=Dt-1;we>=0;we--)if(_e[we]!==0){for(let Ze=we+1;Ze<Ne;Ze++){let ft=0;for(let et=we;et<E;et++)ft+=Fe.get(et,we)*Fe.get(et,Ze);ft=-ft/Fe.get(we,we);for(let et=we;et<E;et++)Fe.set(et,Ze,Fe.get(et,Ze)+ft*Fe.get(et,we))}for(let Ze=we;Ze<E;Ze++)Fe.set(Ze,we,-Fe.get(Ze,we));Fe.set(we,we,1+Fe.get(we,we));for(let Ze=0;Ze<we-1;Ze++)Fe.set(Ze,we,0)}else{for(let Ze=0;Ze<E;Ze++)Fe.set(Ze,we,0);Fe.set(we,we,1)}}if(se)for(let we=M-1;we>=0;we--){if(we<kt&&pe[we]!==0)for(let Ze=we+1;Ze<M;Ze++){let ft=0;for(let et=we+1;et<M;et++)ft+=st.get(et,we)*st.get(et,Ze);ft=-ft/st.get(we+1,we);for(let et=we+1;et<M;et++)st.set(et,Ze,st.get(et,Ze)+ft*st.get(et,we))}for(let Ze=0;Ze<M;Ze++)st.set(Ze,we,0);st.set(we,we,1)}let At=St-1,Lt=Number.EPSILON;for(;St>0;){let we,Ze;for(we=St-2;we>=-1&&we!==-1;we--){const ft=Number.MIN_VALUE+Lt*Math.abs(_e[we]+Math.abs(_e[we+1]));if(Math.abs(pe[we])<=ft||Number.isNaN(pe[we])){pe[we]=0;break}}if(we===St-2)Ze=4;else{let ft;for(ft=St-1;ft>=we&&ft!==we;ft--){let et=(ft!==St?Math.abs(pe[ft]):0)+(ft!==we+1?Math.abs(pe[ft-1]):0);if(Math.abs(_e[ft])<=Lt*et){_e[ft]=0;break}}ft===we?Ze=3:ft===St-1?Ze=1:(Ze=2,we=ft)}switch(we++,Ze){case 1:{let ft=pe[St-2];pe[St-2]=0;for(let et=St-2;et>=we;et--){let nr=Xe(_e[et],ft),Yt=_e[et]/nr,ar=ft/nr;if(_e[et]=nr,et!==we&&(ft=-ar*pe[et-1],pe[et-1]=Yt*pe[et-1]),se)for(let hr=0;hr<M;hr++)nr=Yt*st.get(hr,et)+ar*st.get(hr,St-1),st.set(hr,St-1,-ar*st.get(hr,et)+Yt*st.get(hr,St-1)),st.set(hr,et,nr)}break}case 2:{let ft=pe[we-1];pe[we-1]=0;for(let et=we;et<St;et++){let nr=Xe(_e[et],ft),Yt=_e[et]/nr,ar=ft/nr;if(_e[et]=nr,ft=-ar*pe[et],pe[et]=Yt*pe[et],ue)for(let hr=0;hr<E;hr++)nr=Yt*Fe.get(hr,et)+ar*Fe.get(hr,we-1),Fe.set(hr,we-1,-ar*Fe.get(hr,et)+Yt*Fe.get(hr,we-1)),Fe.set(hr,et,nr)}break}case 3:{const ft=Math.max(Math.abs(_e[St-1]),Math.abs(_e[St-2]),Math.abs(pe[St-2]),Math.abs(_e[we]),Math.abs(pe[we])),et=_e[St-1]/ft,nr=_e[St-2]/ft,Yt=pe[St-2]/ft,ar=_e[we]/ft,hr=pe[we]/ft,Xt=((nr+et)*(nr-et)+Yt*Yt)/2,Vr=et*Yt*(et*Yt);let Qt=0;(Xt!==0||Vr!==0)&&(Xt<0?Qt=0-Math.sqrt(Xt*Xt+Vr):Qt=Math.sqrt(Xt*Xt+Vr),Qt=Vr/(Xt+Qt));let lr=(ar+et)*(ar-et)+Qt,_r=ar*hr;for(let zt=we;zt<St-1;zt++){let jr=Xe(lr,_r);jr===0&&(jr=Number.MIN_VALUE);let cn=lr/jr,fn=_r/jr;if(zt!==we&&(pe[zt-1]=jr),lr=cn*_e[zt]+fn*pe[zt],pe[zt]=cn*pe[zt]-fn*_e[zt],_r=fn*_e[zt+1],_e[zt+1]=cn*_e[zt+1],se)for(let Fr=0;Fr<M;Fr++)jr=cn*st.get(Fr,zt)+fn*st.get(Fr,zt+1),st.set(Fr,zt+1,-fn*st.get(Fr,zt)+cn*st.get(Fr,zt+1)),st.set(Fr,zt,jr);if(jr=Xe(lr,_r),jr===0&&(jr=Number.MIN_VALUE),cn=lr/jr,fn=_r/jr,_e[zt]=jr,lr=cn*pe[zt]+fn*_e[zt+1],_e[zt+1]=-fn*pe[zt]+cn*_e[zt+1],_r=fn*pe[zt+1],pe[zt+1]=cn*pe[zt+1],ue&&zt<E-1)for(let Fr=0;Fr<E;Fr++)jr=cn*Fe.get(Fr,zt)+fn*Fe.get(Fr,zt+1),Fe.set(Fr,zt+1,-fn*Fe.get(Fr,zt)+cn*Fe.get(Fr,zt+1)),Fe.set(Fr,zt,jr)}pe[St-2]=lr;break}case 4:{if(_e[we]<=0&&(_e[we]=_e[we]<0?-_e[we]:0,se))for(let ft=0;ft<=At;ft++)st.set(ft,we,-st.get(ft,we));for(;we<At&&!(_e[we]>=_e[we+1]);){let ft=_e[we];if(_e[we]=_e[we+1],_e[we+1]=ft,se&&we<M-1)for(let et=0;et<M;et++)ft=st.get(et,we+1),st.set(et,we+1,st.get(et,we)),st.set(et,we,ft);if(ue&&we<E-1)for(let et=0;et<E;et++)ft=Fe.get(et,we+1),Fe.set(et,we+1,Fe.get(et,we)),Fe.set(et,we,ft);we++}St--;break}}}if(Ee){let we=st;st=Fe,Fe=we}this.m=E,this.n=M,this.s=_e,this.U=Fe,this.V=st}solve(O){let A=O,E=this.threshold,M=this.s.length,z=oe.zeros(M,M);for(let Ne=0;Ne<M;Ne++)Math.abs(this.s[Ne])<=E?z.set(Ne,Ne,0):z.set(Ne,Ne,1/this.s[Ne]);let ee=this.U,te=this.rightSingularVectors,ue=te.mmul(z),se=te.rows,Ee=ee.rows,ve=oe.zeros(se,Ee);for(let Ne=0;Ne<se;Ne++)for(let We=0;We<Ee;We++){let _e=0;for(let Fe=0;Fe<M;Fe++)_e+=ue.get(Ne,Fe)*ee.get(We,Fe);ve.set(Ne,We,_e)}return ve.mmul(A)}solveForDiagonal(O){return this.solve(oe.diag(O))}inverse(){let O=this.V,A=this.threshold,E=O.rows,M=O.columns,z=new oe(E,this.s.length);for(let Ee=0;Ee<E;Ee++)for(let ve=0;ve<M;ve++)Math.abs(this.s[ve])>A&&z.set(Ee,ve,O.get(Ee,ve)/this.s[ve]);let ee=this.U,te=ee.rows,ue=ee.columns,se=new oe(E,te);for(let Ee=0;Ee<E;Ee++)for(let ve=0;ve<te;ve++){let Ne=0;for(let We=0;We<ue;We++)Ne+=z.get(Ee,We)*ee.get(ve,We);se.set(Ee,ve,Ne)}return se}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let O=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,A=0,E=this.s;for(let M=0,z=E.length;M<z;M++)E[M]>O&&A++;return A}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return oe.diag(this.s)}}function ct(H,O=!1){return H=Ue.checkMatrix(H),O?new Ye(H).inverse():ht(H,oe.eye(H.rows))}function ht(H,O,A=!1){return H=Ue.checkMatrix(H),O=Ue.checkMatrix(O),A?new Ye(H).solve(O):H.isSquare()?new Ke(H).solve(O):new ot(H).solve(O)}function dt(H){if(H=oe.checkMatrix(H),H.isSquare()){if(H.columns===0)return 1;let O,A,E,M;if(H.columns===2)return O=H.get(0,0),A=H.get(0,1),E=H.get(1,0),M=H.get(1,1),O*M-A*E;if(H.columns===3){let z,ee,te;return z=new ze(H,[1,2],[1,2]),ee=new ze(H,[1,2],[0,2]),te=new ze(H,[1,2],[0,1]),O=H.get(0,0),A=H.get(0,1),E=H.get(0,2),O*dt(z)-A*dt(ee)+E*dt(te)}else return new Ke(H).determinant}else throw Error("determinant can only be calculated for a square matrix")}function yt(H,O){let A=[];for(let E=0;E<H;E++)E!==O&&A.push(E);return A}function bt(H,O,A,E=1e-9,M=1e-9){if(H>M)return new Array(O.rows+1).fill(0);{let z=O.addRow(A,[0]);for(let ee=0;ee<z.rows;ee++)Math.abs(z.get(ee,0))<E&&z.set(ee,0,0);return z.to1DArray()}}function mt(H,O={}){const{thresholdValue:A=1e-9,thresholdError:E=1e-9}=O;H=oe.checkMatrix(H);let M=H.rows,z=new oe(M,M);for(let ee=0;ee<M;ee++){let te=oe.columnVector(H.getRow(ee)),ue=H.subMatrixRow(yt(M,ee)).transpose(),Ee=new Ye(ue).solve(te),ve=oe.sub(te,ue.mmul(Ee)).abs().max();z.setRow(ee,bt(ve,Ee,ee,A,E))}return z}function vt(H,O=Number.EPSILON){if(H=oe.checkMatrix(H),H.isEmpty())return H.transpose();let A=new Ye(H,{autoTranspose:!0}),E=A.leftSingularVectors,M=A.rightSingularVectors,z=A.diagonal;for(let ee=0;ee<z.length;ee++)Math.abs(z[ee])>O?z[ee]=1/z[ee]:z[ee]=0;return M.mmul(oe.diag(z).mmul(E.transpose()))}function de(H,O=H,A={}){H=new oe(H);let E=!1;if(typeof O=="object"&&!oe.isMatrix(O)&&!e.isAnyArray(O)?(A=O,O=H,E=!0):O=new oe(O),H.rows!==O.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:M=!0}=A;M&&(H=H.center("column"),E||(O=O.center("column")));const z=H.transpose().mmul(O);for(let ee=0;ee<z.rows;ee++)for(let te=0;te<z.columns;te++)z.set(ee,te,z.get(ee,te)*(1/(H.rows-1)));return z}function Q(H,O=H,A={}){H=new oe(H);let E=!1;if(typeof O=="object"&&!oe.isMatrix(O)&&!e.isAnyArray(O)?(A=O,O=H,E=!0):O=new oe(O),H.rows!==O.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:M=!0,scale:z=!0}=A;M&&(H.center("column"),E||O.center("column")),z&&(H.scale("column"),E||O.scale("column"));const ee=H.standardDeviation("column",{unbiased:!0}),te=E?ee:O.standardDeviation("column",{unbiased:!0}),ue=H.transpose().mmul(O);for(let se=0;se<ue.rows;se++)for(let Ee=0;Ee<ue.columns;Ee++)ue.set(se,Ee,ue.get(se,Ee)*(1/(ee[se]*te[Ee]))*(1/(H.rows-1)));return ue}class ye{constructor(O,A={}){const{assumeSymmetric:E=!1}=A;if(O=Ue.checkMatrix(O),!O.isSquare())throw new Error("Matrix is not a square matrix");if(O.isEmpty())throw new Error("Matrix must be non-empty");let M=O.columns,z=new oe(M,M),ee=new Float64Array(M),te=new Float64Array(M),ue=O,se,Ee,ve=!1;if(E?ve=!0:ve=O.isSymmetric(),ve){for(se=0;se<M;se++)for(Ee=0;Ee<M;Ee++)z.set(se,Ee,ue.get(se,Ee));Te(M,te,ee,z),Me(M,te,ee,z)}else{let Ne=new oe(M,M),We=new Float64Array(M);for(Ee=0;Ee<M;Ee++)for(se=0;se<M;se++)Ne.set(se,Ee,ue.get(se,Ee));Pe(M,Ne,We,z),lt(M,te,ee,z,Ne)}this.n=M,this.e=te,this.d=ee,this.V=z}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let O=this.n,A=this.e,E=this.d,M=new oe(O,O),z,ee;for(z=0;z<O;z++){for(ee=0;ee<O;ee++)M.set(z,ee,0);M.set(z,z,E[z]),A[z]>0?M.set(z,z+1,A[z]):A[z]<0&&M.set(z,z-1,A[z])}return M}}function Te(H,O,A,E){let M,z,ee,te,ue,se,Ee,ve;for(ue=0;ue<H;ue++)A[ue]=E.get(H-1,ue);for(te=H-1;te>0;te--){for(ve=0,ee=0,se=0;se<te;se++)ve=ve+Math.abs(A[se]);if(ve===0)for(O[te]=A[te-1],ue=0;ue<te;ue++)A[ue]=E.get(te-1,ue),E.set(te,ue,0),E.set(ue,te,0);else{for(se=0;se<te;se++)A[se]/=ve,ee+=A[se]*A[se];for(M=A[te-1],z=Math.sqrt(ee),M>0&&(z=-z),O[te]=ve*z,ee=ee-M*z,A[te-1]=M-z,ue=0;ue<te;ue++)O[ue]=0;for(ue=0;ue<te;ue++){for(M=A[ue],E.set(ue,te,M),z=O[ue]+E.get(ue,ue)*M,se=ue+1;se<=te-1;se++)z+=E.get(se,ue)*A[se],O[se]+=E.get(se,ue)*M;O[ue]=z}for(M=0,ue=0;ue<te;ue++)O[ue]/=ee,M+=O[ue]*A[ue];for(Ee=M/(ee+ee),ue=0;ue<te;ue++)O[ue]-=Ee*A[ue];for(ue=0;ue<te;ue++){for(M=A[ue],z=O[ue],se=ue;se<=te-1;se++)E.set(se,ue,E.get(se,ue)-(M*O[se]+z*A[se]));A[ue]=E.get(te-1,ue),E.set(te,ue,0)}}A[te]=ee}for(te=0;te<H-1;te++){if(E.set(H-1,te,E.get(te,te)),E.set(te,te,1),ee=A[te+1],ee!==0){for(se=0;se<=te;se++)A[se]=E.get(se,te+1)/ee;for(ue=0;ue<=te;ue++){for(z=0,se=0;se<=te;se++)z+=E.get(se,te+1)*E.get(se,ue);for(se=0;se<=te;se++)E.set(se,ue,E.get(se,ue)-z*A[se])}}for(se=0;se<=te;se++)E.set(se,te+1,0)}for(ue=0;ue<H;ue++)A[ue]=E.get(H-1,ue),E.set(H-1,ue,0);E.set(H-1,H-1,1),O[0]=0}function Me(H,O,A,E){let M,z,ee,te,ue,se,Ee,ve,Ne,We,_e,Fe,st,pe,it,ut;for(ee=1;ee<H;ee++)O[ee-1]=O[ee];O[H-1]=0;let Dt=0,kt=0,Kt=Number.EPSILON;for(se=0;se<H;se++){for(kt=Math.max(kt,Math.abs(A[se])+Math.abs(O[se])),Ee=se;Ee<H&&!(Math.abs(O[Ee])<=Kt*kt);)Ee++;if(Ee>se)do{for(M=A[se],ve=(A[se+1]-M)/(2*O[se]),Ne=Xe(ve,1),ve<0&&(Ne=-Ne),A[se]=O[se]/(ve+Ne),A[se+1]=O[se]*(ve+Ne),We=A[se+1],z=M-A[se],ee=se+2;ee<H;ee++)A[ee]-=z;for(Dt=Dt+z,ve=A[Ee],_e=1,Fe=_e,st=_e,pe=O[se+1],it=0,ut=0,ee=Ee-1;ee>=se;ee--)for(st=Fe,Fe=_e,ut=it,M=_e*O[ee],z=_e*ve,Ne=Xe(ve,O[ee]),O[ee+1]=it*Ne,it=O[ee]/Ne,_e=ve/Ne,ve=_e*A[ee]-it*M,A[ee+1]=z+it*(_e*M+it*A[ee]),ue=0;ue<H;ue++)z=E.get(ue,ee+1),E.set(ue,ee+1,it*E.get(ue,ee)+_e*z),E.set(ue,ee,_e*E.get(ue,ee)-it*z);ve=-it*ut*st*pe*O[se]/We,O[se]=it*ve,A[se]=_e*ve}while(Math.abs(O[se])>Kt*kt);A[se]=A[se]+Dt,O[se]=0}for(ee=0;ee<H-1;ee++){for(ue=ee,ve=A[ee],te=ee+1;te<H;te++)A[te]<ve&&(ue=te,ve=A[te]);if(ue!==ee)for(A[ue]=A[ee],A[ee]=ve,te=0;te<H;te++)ve=E.get(te,ee),E.set(te,ee,E.get(te,ue)),E.set(te,ue,ve)}}function Pe(H,O,A,E){let M=0,z=H-1,ee,te,ue,se,Ee,ve,Ne;for(ve=M+1;ve<=z-1;ve++){for(Ne=0,se=ve;se<=z;se++)Ne=Ne+Math.abs(O.get(se,ve-1));if(Ne!==0){for(ue=0,se=z;se>=ve;se--)A[se]=O.get(se,ve-1)/Ne,ue+=A[se]*A[se];for(te=Math.sqrt(ue),A[ve]>0&&(te=-te),ue=ue-A[ve]*te,A[ve]=A[ve]-te,Ee=ve;Ee<H;Ee++){for(ee=0,se=z;se>=ve;se--)ee+=A[se]*O.get(se,Ee);for(ee=ee/ue,se=ve;se<=z;se++)O.set(se,Ee,O.get(se,Ee)-ee*A[se])}for(se=0;se<=z;se++){for(ee=0,Ee=z;Ee>=ve;Ee--)ee+=A[Ee]*O.get(se,Ee);for(ee=ee/ue,Ee=ve;Ee<=z;Ee++)O.set(se,Ee,O.get(se,Ee)-ee*A[Ee])}A[ve]=Ne*A[ve],O.set(ve,ve-1,Ne*te)}}for(se=0;se<H;se++)for(Ee=0;Ee<H;Ee++)E.set(se,Ee,se===Ee?1:0);for(ve=z-1;ve>=M+1;ve--)if(O.get(ve,ve-1)!==0){for(se=ve+1;se<=z;se++)A[se]=O.get(se,ve-1);for(Ee=ve;Ee<=z;Ee++){for(te=0,se=ve;se<=z;se++)te+=A[se]*E.get(se,Ee);for(te=te/A[ve]/O.get(ve,ve-1),se=ve;se<=z;se++)E.set(se,Ee,E.get(se,Ee)+te*A[se])}}}function lt(H,O,A,E,M){let z=H-1,ee=0,te=H-1,ue=Number.EPSILON,se=0,Ee=0,ve=0,Ne=0,We=0,_e=0,Fe=0,st=0,pe,it,ut,Dt,kt,Kt,St,At,Lt,we,Ze,ft,et,nr,Yt;for(pe=0;pe<H;pe++)for((pe<ee||pe>te)&&(A[pe]=M.get(pe,pe),O[pe]=0),it=Math.max(pe-1,0);it<H;it++)Ee=Ee+Math.abs(M.get(pe,it));for(;z>=ee;){for(Dt=z;Dt>ee&&(_e=Math.abs(M.get(Dt-1,Dt-1))+Math.abs(M.get(Dt,Dt)),_e===0&&(_e=Ee),!(Math.abs(M.get(Dt,Dt-1))<ue*_e));)Dt--;if(Dt===z)M.set(z,z,M.get(z,z)+se),A[z]=M.get(z,z),O[z]=0,z--,st=0;else if(Dt===z-1){if(St=M.get(z,z-1)*M.get(z-1,z),ve=(M.get(z-1,z-1)-M.get(z,z))/2,Ne=ve*ve+St,Fe=Math.sqrt(Math.abs(Ne)),M.set(z,z,M.get(z,z)+se),M.set(z-1,z-1,M.get(z-1,z-1)+se),At=M.get(z,z),Ne>=0){for(Fe=ve>=0?ve+Fe:ve-Fe,A[z-1]=At+Fe,A[z]=A[z-1],Fe!==0&&(A[z]=At-St/Fe),O[z-1]=0,O[z]=0,At=M.get(z,z-1),_e=Math.abs(At)+Math.abs(Fe),ve=At/_e,Ne=Fe/_e,We=Math.sqrt(ve*ve+Ne*Ne),ve=ve/We,Ne=Ne/We,it=z-1;it<H;it++)Fe=M.get(z-1,it),M.set(z-1,it,Ne*Fe+ve*M.get(z,it)),M.set(z,it,Ne*M.get(z,it)-ve*Fe);for(pe=0;pe<=z;pe++)Fe=M.get(pe,z-1),M.set(pe,z-1,Ne*Fe+ve*M.get(pe,z)),M.set(pe,z,Ne*M.get(pe,z)-ve*Fe);for(pe=ee;pe<=te;pe++)Fe=E.get(pe,z-1),E.set(pe,z-1,Ne*Fe+ve*E.get(pe,z)),E.set(pe,z,Ne*E.get(pe,z)-ve*Fe)}else A[z-1]=At+ve,A[z]=At+ve,O[z-1]=Fe,O[z]=-Fe;z=z-2,st=0}else{if(At=M.get(z,z),Lt=0,St=0,Dt<z&&(Lt=M.get(z-1,z-1),St=M.get(z,z-1)*M.get(z-1,z)),st===10){for(se+=At,pe=ee;pe<=z;pe++)M.set(pe,pe,M.get(pe,pe)-At);_e=Math.abs(M.get(z,z-1))+Math.abs(M.get(z-1,z-2)),At=Lt=.75*_e,St=-.4375*_e*_e}if(st===30&&(_e=(Lt-At)/2,_e=_e*_e+St,_e>0)){for(_e=Math.sqrt(_e),Lt<At&&(_e=-_e),_e=At-St/((Lt-At)/2+_e),pe=ee;pe<=z;pe++)M.set(pe,pe,M.get(pe,pe)-_e);se+=_e,At=Lt=St=.964}for(st=st+1,kt=z-2;kt>=Dt&&(Fe=M.get(kt,kt),We=At-Fe,_e=Lt-Fe,ve=(We*_e-St)/M.get(kt+1,kt)+M.get(kt,kt+1),Ne=M.get(kt+1,kt+1)-Fe-We-_e,We=M.get(kt+2,kt+1),_e=Math.abs(ve)+Math.abs(Ne)+Math.abs(We),ve=ve/_e,Ne=Ne/_e,We=We/_e,!(kt===Dt||Math.abs(M.get(kt,kt-1))*(Math.abs(Ne)+Math.abs(We))<ue*(Math.abs(ve)*(Math.abs(M.get(kt-1,kt-1))+Math.abs(Fe)+Math.abs(M.get(kt+1,kt+1))))));)kt--;for(pe=kt+2;pe<=z;pe++)M.set(pe,pe-2,0),pe>kt+2&&M.set(pe,pe-3,0);for(ut=kt;ut<=z-1&&(nr=ut!==z-1,ut!==kt&&(ve=M.get(ut,ut-1),Ne=M.get(ut+1,ut-1),We=nr?M.get(ut+2,ut-1):0,At=Math.abs(ve)+Math.abs(Ne)+Math.abs(We),At!==0&&(ve=ve/At,Ne=Ne/At,We=We/At)),At!==0);ut++)if(_e=Math.sqrt(ve*ve+Ne*Ne+We*We),ve<0&&(_e=-_e),_e!==0){for(ut!==kt?M.set(ut,ut-1,-_e*At):Dt!==kt&&M.set(ut,ut-1,-M.get(ut,ut-1)),ve=ve+_e,At=ve/_e,Lt=Ne/_e,Fe=We/_e,Ne=Ne/ve,We=We/ve,it=ut;it<H;it++)ve=M.get(ut,it)+Ne*M.get(ut+1,it),nr&&(ve=ve+We*M.get(ut+2,it),M.set(ut+2,it,M.get(ut+2,it)-ve*Fe)),M.set(ut,it,M.get(ut,it)-ve*At),M.set(ut+1,it,M.get(ut+1,it)-ve*Lt);for(pe=0;pe<=Math.min(z,ut+3);pe++)ve=At*M.get(pe,ut)+Lt*M.get(pe,ut+1),nr&&(ve=ve+Fe*M.get(pe,ut+2),M.set(pe,ut+2,M.get(pe,ut+2)-ve*We)),M.set(pe,ut,M.get(pe,ut)-ve),M.set(pe,ut+1,M.get(pe,ut+1)-ve*Ne);for(pe=ee;pe<=te;pe++)ve=At*E.get(pe,ut)+Lt*E.get(pe,ut+1),nr&&(ve=ve+Fe*E.get(pe,ut+2),E.set(pe,ut+2,E.get(pe,ut+2)-ve*We)),E.set(pe,ut,E.get(pe,ut)-ve),E.set(pe,ut+1,E.get(pe,ut+1)-ve*Ne)}}}if(Ee!==0){for(z=H-1;z>=0;z--)if(ve=A[z],Ne=O[z],Ne===0)for(Dt=z,M.set(z,z,1),pe=z-1;pe>=0;pe--){for(St=M.get(pe,pe)-ve,We=0,it=Dt;it<=z;it++)We=We+M.get(pe,it)*M.get(it,z);if(O[pe]<0)Fe=St,_e=We;else if(Dt=pe,O[pe]===0?M.set(pe,z,St!==0?-We/St:-We/(ue*Ee)):(At=M.get(pe,pe+1),Lt=M.get(pe+1,pe),Ne=(A[pe]-ve)*(A[pe]-ve)+O[pe]*O[pe],Kt=(At*_e-Fe*We)/Ne,M.set(pe,z,Kt),M.set(pe+1,z,Math.abs(At)>Math.abs(Fe)?(-We-St*Kt)/At:(-_e-Lt*Kt)/Fe)),Kt=Math.abs(M.get(pe,z)),ue*Kt*Kt>1)for(it=pe;it<=z;it++)M.set(it,z,M.get(it,z)/Kt)}else if(Ne<0)for(Dt=z-1,Math.abs(M.get(z,z-1))>Math.abs(M.get(z-1,z))?(M.set(z-1,z-1,Ne/M.get(z,z-1)),M.set(z-1,z,-(M.get(z,z)-ve)/M.get(z,z-1))):(Yt=Ie(0,-M.get(z-1,z),M.get(z-1,z-1)-ve,Ne),M.set(z-1,z-1,Yt[0]),M.set(z-1,z,Yt[1])),M.set(z,z-1,0),M.set(z,z,1),pe=z-2;pe>=0;pe--){for(we=0,Ze=0,it=Dt;it<=z;it++)we=we+M.get(pe,it)*M.get(it,z-1),Ze=Ze+M.get(pe,it)*M.get(it,z);if(St=M.get(pe,pe)-ve,O[pe]<0)Fe=St,We=we,_e=Ze;else if(Dt=pe,O[pe]===0?(Yt=Ie(-we,-Ze,St,Ne),M.set(pe,z-1,Yt[0]),M.set(pe,z,Yt[1])):(At=M.get(pe,pe+1),Lt=M.get(pe+1,pe),ft=(A[pe]-ve)*(A[pe]-ve)+O[pe]*O[pe]-Ne*Ne,et=(A[pe]-ve)*2*Ne,ft===0&&et===0&&(ft=ue*Ee*(Math.abs(St)+Math.abs(Ne)+Math.abs(At)+Math.abs(Lt)+Math.abs(Fe))),Yt=Ie(At*We-Fe*we+Ne*Ze,At*_e-Fe*Ze-Ne*we,ft,et),M.set(pe,z-1,Yt[0]),M.set(pe,z,Yt[1]),Math.abs(At)>Math.abs(Fe)+Math.abs(Ne)?(M.set(pe+1,z-1,(-we-St*M.get(pe,z-1)+Ne*M.get(pe,z))/At),M.set(pe+1,z,(-Ze-St*M.get(pe,z)-Ne*M.get(pe,z-1))/At)):(Yt=Ie(-We-Lt*M.get(pe,z-1),-_e-Lt*M.get(pe,z),Fe,Ne),M.set(pe+1,z-1,Yt[0]),M.set(pe+1,z,Yt[1]))),Kt=Math.max(Math.abs(M.get(pe,z-1)),Math.abs(M.get(pe,z))),ue*Kt*Kt>1)for(it=pe;it<=z;it++)M.set(it,z-1,M.get(it,z-1)/Kt),M.set(it,z,M.get(it,z)/Kt)}for(pe=0;pe<H;pe++)if(pe<ee||pe>te)for(it=pe;it<H;it++)E.set(pe,it,M.get(pe,it));for(it=H-1;it>=ee;it--)for(pe=ee;pe<=te;pe++){for(Fe=0,ut=ee;ut<=Math.min(it,te);ut++)Fe=Fe+E.get(pe,ut)*M.get(ut,it);E.set(pe,it,Fe)}}}function Ie(H,O,A,E){let M,z;return Math.abs(A)>Math.abs(E)?(M=E/A,z=A+M*E,[(H+M*O)/z,(O-M*H)/z]):(M=A/E,z=E+M*A,[(M*H+O)/z,(M*O-H)/z])}class tt{constructor(O){if(O=Ue.checkMatrix(O),!O.isSymmetric())throw new Error("Matrix is not symmetric");let A=O,E=A.rows,M=new oe(E,E),z=!0,ee,te,ue;for(te=0;te<E;te++){let se=0;for(ue=0;ue<te;ue++){let Ee=0;for(ee=0;ee<ue;ee++)Ee+=M.get(ue,ee)*M.get(te,ee);Ee=(A.get(te,ue)-Ee)/M.get(ue,ue),M.set(te,ue,Ee),se=se+Ee*Ee}for(se=A.get(te,te)-se,z&&(z=se>0),M.set(te,te,Math.sqrt(Math.max(se,0))),ue=te+1;ue<E;ue++)M.set(te,ue,0)}this.L=M,this.positiveDefinite=z}isPositiveDefinite(){return this.positiveDefinite}solve(O){O=Ue.checkMatrix(O);let A=this.L,E=A.rows;if(O.rows!==E)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let M=O.columns,z=O.clone(),ee,te,ue;for(ue=0;ue<E;ue++)for(te=0;te<M;te++){for(ee=0;ee<ue;ee++)z.set(ue,te,z.get(ue,te)-z.get(ee,te)*A.get(ue,ee));z.set(ue,te,z.get(ue,te)/A.get(ue,ue))}for(ue=E-1;ue>=0;ue--)for(te=0;te<M;te++){for(ee=ue+1;ee<E;ee++)z.set(ue,te,z.get(ue,te)-z.get(ee,te)*A.get(ee,ue));z.set(ue,te,z.get(ue,te)/A.get(ue,ue))}return z}get lowerTriangularMatrix(){return this.L}}class rt{constructor(O,A={}){O=Ue.checkMatrix(O);let{Y:E}=A;const{scaleScores:M=!1,maxIterations:z=1e3,terminationCriteria:ee=1e-10}=A;let te;if(E){if(e.isAnyArray(E)&&typeof E[0]=="number"?E=oe.columnVector(E):E=Ue.checkMatrix(E),E.rows!==O.rows)throw new Error("Y should have the same number of rows as X");te=E.getColumnVector(0)}else te=O.getColumnVector(0);let ue=1,se,Ee,ve,Ne;for(let We=0;We<z&&ue>ee;We++)ve=O.transpose().mmul(te).div(te.transpose().mmul(te).get(0,0)),ve=ve.div(ve.norm()),se=O.mmul(ve).div(ve.transpose().mmul(ve).get(0,0)),We>0&&(ue=se.clone().sub(Ne).pow(2).sum()),Ne=se.clone(),E?(Ee=E.transpose().mmul(se).div(se.transpose().mmul(se).get(0,0)),Ee=Ee.div(Ee.norm()),te=E.mmul(Ee).div(Ee.transpose().mmul(Ee).get(0,0))):te=se;if(E){let We=O.transpose().mmul(se).div(se.transpose().mmul(se).get(0,0));We=We.div(We.norm());let _e=O.clone().sub(se.clone().mmul(We.transpose())),Fe=te.transpose().mmul(se).div(se.transpose().mmul(se).get(0,0)),st=E.clone().sub(se.clone().mulS(Fe.get(0,0)).mmul(Ee.transpose()));this.t=se,this.p=We.transpose(),this.w=ve.transpose(),this.q=Ee,this.u=te,this.s=se.transpose().mmul(se),this.xResidual=_e,this.yResidual=st,this.betas=Fe}else this.w=ve.transpose(),this.s=se.transpose().mmul(se).sqrt(),M?this.t=se.clone().div(this.s.get(0,0)):this.t=se,this.xResidual=O.sub(se.mmul(ve.transpose()))}}return Ft.AbstractMatrix=Z,Ft.CHO=tt,Ft.CholeskyDecomposition=tt,Ft.DistanceMatrix=Ae,Ft.EVD=ye,Ft.EigenvalueDecomposition=ye,Ft.LU=Ke,Ft.LuDecomposition=Ke,Ft.Matrix=oe,Ft.MatrixColumnSelectionView=ae,Ft.MatrixColumnView=ce,Ft.MatrixFlipColumnView=le,Ft.MatrixFlipRowView=re,Ft.MatrixRowSelectionView=Se,Ft.MatrixRowView=ge,Ft.MatrixSelectionView=ze,Ft.MatrixSubView=Qe,Ft.MatrixTransposeView=Oe,Ft.NIPALS=rt,Ft.Nipals=rt,Ft.QR=ot,Ft.QrDecomposition=ot,Ft.SVD=Ye,Ft.SingularValueDecomposition=Ye,Ft.SymmetricMatrix=be,Ft.WrapperMatrix1D=je,Ft.WrapperMatrix2D=Ue,Ft.correlation=Q,Ft.covariance=de,Ft.default=oe,Ft.determinant=dt,Ft.inverse=ct,Ft.linearDependencies=mt,Ft.pseudoInverse=vt,Ft.solve=ht,Ft.wrap=qe,Ft}var Cp=Pae();const YN=Ha(Cp),HN=Cp.EigenvalueDecomposition,XN=Cp.Matrix;YN.Matrix?YN.Matrix:Cp.Matrix;function Y1(e,t=100,r=1e-12){const n=e.length,a=Array.from({length:n},(c,h)=>Array.from({length:n},(d,v)=>h===v?1:0)),i=e.map(c=>c.slice()),o=()=>{let c=0,h=0,d=1;for(let v=0;v<n;v++)for(let p=v+1;p<n;p++){const m=Math.abs(i[v][p]);m>c&&(c=m,h=v,d=p)}return{max:c,p:h,q:d}};for(let c=0;c<t;c++){const{max:h,p:d,q:v}=o();if(h<r)break;const p=i[d][d],m=i[v][v],b=i[d][v],x=.5*Math.atan2(2*b,m-p),w=Math.cos(x),T=Math.sin(x);for(let R=0;R<n;R++)if(R!==d&&R!==v){const L=i[R][d],_=i[R][v];i[R][d]=w*L-T*_,i[d][R]=i[R][d],i[R][v]=T*L+w*_,i[v][R]=i[R][v]}const S=w*w*p-2*T*w*b+T*T*m,D=T*T*p+2*T*w*b+w*w*m;i[d][d]=S,i[v][v]=D,i[d][v]=0,i[v][d]=0;for(let R=0;R<n;R++){const L=a[R][d],_=a[R][v];a[R][d]=w*L-T*_,a[R][v]=T*L+w*_}}return{eigenvalues:i.map((c,h)=>c[h]),eigenvectors:a}}function Rae(e){const t=-39.6968302866538,r=220.946098424521,n=-275.928510446969,a=138.357751867269,i=-30.6647980661472,o=2.50662827745924,l=-54.4760987982241,u=161.585836858041,c=-155.698979859887,h=66.8013118877197,d=-13.2806815528857;let v,p;return v=e-.5,p=v*v,(((((t*p+r)*p+n)*p+a)*p+i)*p+o)*v/(((((l*p+u)*p+c)*p+h)*p+d)*p+1)}function q3(e,t=1){if(t===1){const n=Rae(e);return n*n}return q3(e,1)*(t/1)}async function Lae(e,t,r,n,a,i=!0,o=!1,l=!1,u=!1){if(!e)throw new Error("No model provided");if(!t||t.length===0)throw new Error("No parameters specified");const c=performance.now(),h=performance.now(),d=await Un.prepareModel(e,{signal:n}),v=performance.now(),p=await Un.simulateCached(d,void 0,r,{signal:n}),m=p.data.length,b=p.data.at(-1)??{},x=Object.keys(b).filter(Oe=>Oe!=="time"),w=x.length,T=t.length;if(w===0)throw new Error("No observables found in simulation results to compute sensitivities.");const S=i?Math.max(1,m):1,D=w*S,R=Array.from({length:D},()=>new Array(T).fill(0));let L=0;const _=1+T*2;let N=0;const P=async Oe=>{const je=performance.now(),Ue=await Oe(),qe=performance.now();return N+=qe-je,Ue};a==null||a(0,_);for(let Oe=0;Oe<T;Oe++){if(n!=null&&n.aborted)throw new DOMException("Aborted","AbortError");const je=t[Oe],Ue=e.parameters[je];if(o&&Ue>0){const dt=Math.max(1e-8,1e-4),yt=Ue*(1+dt),bt=Ue*Math.max(0,1-dt),mt=await P(()=>Un.simulateCached(d,{[je]:yt},r,{signal:n}));L+=1,a==null||a(L,_);const vt=await P(()=>Un.simulateCached(d,{[je]:bt},r,{signal:n}));L+=1,a==null||a(L,_);const de=mt.data,Q=vt.data,ye=2*dt;for(let Te=0;Te<S;Te++){const Me=i?Te:de.length-1,Pe=de[Me]??{},lt=Q[Me]??{};for(let Ie=0;Ie<w;Ie++){const tt=x[Ie],rt=typeof Pe[tt]=="number"?Pe[tt]:Number(Pe[tt]??0),nt=typeof lt[tt]=="number"?lt[tt]:Number(lt[tt]??0),at=(rt-nt)/ye,gt=Te*w+Ie;R[gt][Oe]=Number.isFinite(at)?at:0}}continue}const qe=Math.max(1e-8,Math.abs(Ue)*1e-4,1e-8),Ke=Ue+qe,Xe=Math.max(0,Ue-qe),ot=await P(()=>Un.simulateCached(d,{[je]:Ke},r,{signal:n}));L+=1,a==null||a(L,_);const Ye=await P(()=>Un.simulateCached(d,{[je]:Xe},r,{signal:n}));L+=1,a==null||a(L,_);const ct=ot.data,ht=Ye.data;for(let dt=0;dt<S;dt++){const yt=i?dt:ct.length-1,bt=ct[yt]??{},mt=ht[yt]??{};for(let vt=0;vt<w;vt++){const de=x[vt],Q=typeof bt[de]=="number"?bt[de]:Number(bt[de]??0),ye=typeof mt[de]=="number"?mt[de]:Number(mt[de]??0),Te=(Q-ye)/(Ke-Xe||qe),Me=dt*w+vt;R[Me][Oe]=Number.isFinite(Te)?Te:0}}}const U=Array.from({length:T},()=>new Array(T).fill(0));for(let Oe=0;Oe<T;Oe++)for(let je=Oe;je<T;je++){let Ue=0;for(let qe=0;qe<D;qe++)Ue+=R[qe][Oe]*R[qe][je];U[Oe][je]=Ue,U[je][Oe]=Ue}let j=[],F=[];try{try{const Oe=new XN(U),je=new HN(Oe),Ue=je.realEigenvalues?je.realEigenvalues.slice():[],qe=je.eigenvectorMatrix;if(Ue&&qe){const Ke=Ue.map((Xe,ot)=>({val:Xe,vec:qe.getColumn(ot)}));Ke.sort((Xe,ot)=>ot.val-Xe.val),j=Ke.map(Xe=>Xe.val),F=Ke.map(Xe=>Array.from(Xe.vec))}else throw new Error("EVD failed")}catch{const{eigenvalues:je,eigenvectors:Ue}=Y1(U,Math.max(100,T*20)),qe=je.map((Ke,Xe)=>({val:Ke,vec:Ue.map(ot=>ot[Xe])}));qe.sort((Ke,Xe)=>Xe.val-Ke.val),j=qe.map(Ke=>Ke.val),F=qe.map(Ke=>Ke.vec)}}catch{const{eigenvalues:je,eigenvectors:Ue}=Y1(U,Math.max(100,T*20)),qe=je.map((Ke,Xe)=>({val:Ke,vec:Ue.map(ot=>ot[Xe])}));qe.sort((Ke,Xe)=>Xe.val-Ke.val),j=qe.map(Ke=>Ke.val),F=qe.map(Ke=>Ke.vec)}const I=j[0]??0,G=j[j.length-1]??0,Y=I>0&&G>0?I/G:1/0,q=Math.max(Math.abs(I)*1e-12,1e-16),V=I/Math.max(G,q),W=T,J=Array.from({length:W},()=>new Array(W).fill(0)),ie=Math.max(1e-12,I*1e-12);for(let Oe=0;Oe<W;Oe++)for(let je=0;je<W;je++){let Ue=0;for(let qe=0;qe<W;qe++){const Ke=j[qe];Ke>ie&&(Ue+=F[qe][Oe]*F[qe][je]/Ke)}J[Oe][je]=Ue}const K=Array.from({length:W},()=>new Array(W).fill(0));for(let Oe=0;Oe<W;Oe++)for(let je=0;je<W;je++){const Ue=J[Oe][Oe],qe=J[je][je];Ue>0&&qe>0?K[Oe][je]=J[Oe][je]/Math.sqrt(Ue*qe):K[Oe][je]=0}const Z=U.map(Oe=>Oe.slice()),fe=R.map(Oe=>Oe.slice()),he=t.map((Oe,je)=>({name:Oe,timeProfile:R.map(Ue=>Ue[je])})),oe=[],be=[],Ae=I*1e-6;for(let Oe=0;Oe<W;Oe++)F.reduce((Ue,qe,Ke)=>{const Xe=j[Ke];return Xe>ie?Ue+qe[Oe]*qe[Oe]*Xe:Ue},0)>Ae?oe.push(t[Oe]):be.push(t[Oe]);let Le=new Array(W).fill(0),ce=[];try{let Oe=[],je=[];try{const Xe=new XN(K),ot=new HN(Xe);Oe=ot.realEigenvalues?ot.realEigenvalues.slice():[];const Ye=ot.eigenvectorMatrix;if(Oe&&Ye){const ct=Oe.map((ht,dt)=>({val:ht,vec:Ye.getColumn(dt)}));ct.sort((ht,dt)=>dt.val-ht.val),Oe=ct.map(ht=>ht.val),je=ct.map(ht=>Array.from(ht.vec))}else throw new Error("corr EVD failed")}catch{const{eigenvalues:ot,eigenvectors:Ye}=Y1(K,Math.max(100,W*20)),ct=ot.map((ht,dt)=>({val:ht,vec:Ye.map(yt=>yt[dt])}));ct.sort((ht,dt)=>dt.val-ht.val),Oe=ct.map(ht=>ht.val),je=ct.map(ht=>ht.vec)}const Ue=Oe[0]??0,qe=Math.max(1e-12,Math.abs(Ue)*1e-12),Ke=Array.from({length:W},()=>new Array(W).fill(0));for(let Xe=0;Xe<W;Xe++)for(let ot=0;ot<W;ot++){let Ye=0;for(let ct=0;ct<W;ct++){const ht=Oe[ct];ht>qe&&(Ye+=je[ct][Xe]*je[ct][ot]/ht)}Ke[Xe][ot]=Ye}Le=new Array(W).fill(0).map((Xe,ot)=>Number.isFinite(Ke[ot][ot])?Ke[ot][ot]:1/0),ce=Le.map((Xe,ot)=>Xe>10?t[ot]:null).filter(Xe=>Xe)}catch{}const ae=[],le=Math.max(1e-12,Math.abs(I)*1e-4);for(let Oe=j.length-1;Oe>=0;Oe--){const je=j[Oe];if(je>le)break;const Ue=F[Oe]??[],qe=Ue.map(Ye=>Math.abs(Ye)),Xe=Math.max(...qe,0)*.1,ot=[];for(let Ye=0;Ye<Ue.length;Ye++)Math.abs(Ue[Ye])>=Xe&&Number.isFinite(Ue[Ye])&&!Number.isNaN(Ue[Ye])&&ot.push({name:t[Ye],loading:Ue[Ye]});ot.sort((Ye,ct)=>Math.abs(ct.loading)-Math.abs(Ye.loading)),ae.push({eigenvalue:je,components:ot})}const re={},ge={};if(l){const Oe=p.data,je=[];for(let ct=0;ct<(i?Oe.length:1);ct++){const ht=i?ct:Oe.length-1,dt=Oe[ht]??{};for(const yt of x)je.push(Number(dt[yt]??0))}const Ue=[];for(const ct of ae)for(const ht of ct.components){const dt=t.indexOf(ht.name);dt>=0&&!Ue.includes(dt)&&Ue.push(dt)}const Ke=Ue.slice(0,8),Xe=(ct,ht)=>{let dt=0;for(let yt=0;yt<Math.min(ct.length,ht.length);yt++){const bt=ct[yt]-ht[yt];dt+=bt*bt}return dt},ot=async(ct,ht,dt)=>{const yt=dt==null?void 0:dt.maxIter,bt=dt==null?void 0:dt.maxEvals,mt=ht.length,vt=dt==null?void 0:dt.initialStep,de=[ht.slice()];for(let nt=0;nt<mt;nt++){const at=ht.slice();at[nt]=at[nt]+(Math.abs(at[nt])>0?Math.abs(at[nt])*vt:vt),de.push(at)}const Q=[],ye=async nt=>await ct(nt);for(let nt=0;nt<de.length;nt++)Q[nt]=await ye(de[nt]);let Te=de.length;const Me=1,Pe=2,lt=.5,Ie=.5,tt=(nt,at)=>{const gt=new Array(mt).fill(0);for(let Je=0;Je<nt.length;Je++)if(Je!==at)for(let xt=0;xt<mt;xt++)gt[xt]+=nt[Je][xt];for(let Je=0;Je<mt;Je++)gt[Je]/=nt.length-1;return gt};for(let nt=0;nt<yt;nt++){const at=Q.map((E,M)=>M).sort((E,M)=>Q[E]-Q[M]);de[at[0]];const gt=de[at[de.length-1]],Je=tt(de,at[de.length-1]),xt=Je.map((E,M)=>E+Me*(E-gt[M])),H=await ye(xt);if(Te++,H<Q[at[0]]){const E=Je.map((z,ee)=>z+Pe*(z-gt[ee])),M=await ye(E);Te++,M<H?(de[at[de.length-1]]=E,Q[at[de.length-1]]=M):(de[at[de.length-1]]=xt,Q[at[de.length-1]]=H)}else if(H<Q[at[de.length-2]])de[at[de.length-1]]=xt,Q[at[de.length-1]]=H;else{const E=Je.map((z,ee)=>z+lt*(gt[ee]-z)),M=await ye(E);if(Te++,M<Q[at[de.length-1]])de[at[de.length-1]]=E,Q[at[de.length-1]]=M;else for(let z=1;z<de.length;z++)de[z]=de[0].map((ee,te)=>ee+Ie*(de[z][te]-ee)),Q[z]=await ye(de[z]),Te++}if(Te>=bt)break;const O=Q.reduce((E,M)=>E+M,0)/Q.length;if(Math.sqrt(Q.reduce((E,M)=>E+(M-O)*(M-O),0)/Q.length)<1e-9)break}const rt=Q.map((nt,at)=>({v:nt,i:at})).sort((nt,at)=>nt.v-at.v)[0].i;return{x:de[rt],fx:Q[rt]}},Ye=async(ct,ht,dt,yt,bt)=>{const mt=t.map((Te,Me)=>Me).filter(Te=>Te!==ht),vt=mt.map(Te=>yt[t[Te]]),Q=await ot(async Te=>{const Me={...yt};Me[t[ht]]=dt;for(let Ie=0;Ie<mt.length;Ie++)Me[t[mt[Ie]]]=Te[Ie];const Pe=await P(()=>Un.simulateCached(ct,Me,r,{signal:n})),lt=[];for(let Ie=0;Ie<(i?Pe.data.length:1);Ie++){const tt=i?Ie:Pe.data.length-1,rt=Pe.data[tt]??{};for(const nt of x)lt.push(Number(rt[nt]??0))}return Xe(lt,je)},vt,{maxIter:bt==null?void 0:bt.maxIter,maxEvals:bt==null?void 0:bt.maxEvals,initialStep:bt==null?void 0:bt.initialStep}),ye={...yt};ye[t[ht]]=dt;for(let Te=0;Te<mt.length;Te++)ye[t[mt[Te]]]=Q.x[Te];return{params:ye,ssr:Q.fx}};for(const ct of Ke){const ht=t[ct],dt=e.parameters[ht],yt=[];if(dt>0){const tt=[.2,.5,.8,.9,1,1.1,1.5,2,5];for(const rt of tt)yt.push(dt*rt)}else{const tt=[-.01,-.001,-1e-4,0,1e-4,.001,.01];for(const rt of tt)yt.push(dt+rt)}const bt=[];for(const tt of yt){if(n!=null&&n.aborted)throw new DOMException("Aborted","AbortError");if(u){const rt={};for(const at of t)rt[at]=e.parameters[at];const nt=await Ye(d,ct,tt,rt,{maxIter:30,maxEvals:120,initialStep:.25});bt.push(nt.ssr)}else{const rt=await P(()=>Un.simulateCached(d,{[ht]:tt},r,{signal:n})),nt=[];for(let at=0;at<(i?rt.data.length:1);at++){const gt=i?at:rt.data.length-1,Je=rt.data[gt]??{};for(const xt of x)nt.push(Number(Je[xt]??0))}bt.push(Xe(nt,je))}}const mt=Math.min(...bt),de=(Math.max(...bt)-mt)/(Math.abs(mt)+1e-12)<.01;re[ht]={grid:yt,ssr:bt,min:mt,flat:de};const Q=.05;let ye=0,Te=Math.abs(yt[0]-dt);for(let tt=1;tt<yt.length;tt++){const rt=Math.abs(yt[tt]-dt);rt<Te&&(Te=rt,ye=tt)}const Pe=(Number.isFinite(bt[ye])?bt[ye]:mt)+q3(1-Q,1),lt=[];for(let tt=0;tt<bt.length;tt++)bt[tt]<=Pe&&lt.push(tt);let Ie;if(lt.length>0){const tt=lt.map(rt=>yt[rt]);Ie={lower:Math.min(...tt),upper:Math.max(...tt)}}ge[ht]={grid:yt,ssr:bt,min:mt,flat:de,alpha:Q,ci:Ie}}}const Se=[];for(let Oe=0;Oe<W;Oe++)for(let je=Oe+1;je<W;je++){const Ue=K[Oe][je]??0;Se.push({i:Oe,j:je,names:[t[Oe],t[je]],corr:Ue})}Se.sort((Oe,je)=>Math.abs(je.corr)-Math.abs(Oe.corr));const ze=Se.slice(0,Math.min(20,Se.length)),Qe=performance.now();return{eigenvalues:j,eigenvectors:F,paramNames:t.slice(),conditionNumber:Y,regularizedConditionNumber:V,maxEigenvalue:I,minEigenvalue:G,covarianceMatrix:J,correlations:K,nullspaceCombinations:ae.length>0?ae:void 0,topCorrelatedPairs:ze,profileApprox:Object.keys(re).length>0?re:void 0,profileApproxExtended:Object.keys(ge).length>0?ge:void 0,fimMatrix:Z,jacobian:fe,sensitivityProfiles:he,identifiableParams:oe.length>0?oe:void 0,unidentifiableParams:be.length>0?be:void 0,vif:Le.length>0?Le:void 0,highVIFParams:ce.length>0?ce:void 0,benchmark:{prepareModelMs:v-h,totalSimMs:N,simCount:_,totalMs:Qe-c,perSimMs:N/Math.max(1,_),modelId:d}}}function KN(e){return{format:"FIM-v1",conditionNumber:e.conditionNumber,regularizedConditionNumber:e.regularizedConditionNumber,eigenvalues:e.eigenvalues,eigenvectors:e.eigenvectors,covariance:e.covarianceMatrix,correlations:e.correlations,fimMatrix:e.fimMatrix,jacobian:e.jacobian}}const jae=({model:e})=>{var q,V,W,J,ie,K,Z,fe,he,oe,be,Ae,Le,ce;const t=X.useMemo(()=>e?Object.keys(e.parameters):[],[e]),[r,n]=X.useState(()=>[]),[a,i]=X.useState(!1),[o,l]=X.useState({current:0,total:0}),[u,c]=X.useState(null),[h,d]=X.useState(null),[v,p]=X.useState(null),[m,b]=X.useState(!0),[x,w]=X.useState(null),[T,S]=X.useState(!1),[D,R]=X.useState(!1),[L,_]=X.useState(!1),N=aa.useRef(null);aa.useEffect(()=>()=>{const ae=N.current;typeof ae=="number"&&(Un.releaseModel(ae).catch(le=>{console.warn("Failed to release cached model on FIMTab unmount",ae,le)}),N.current=null)},[]),aa.useEffect(()=>{e?t.length>0&&r.length===0&&n(t.length<=20?t.slice():t.slice(0,20)):(n([]),c(null),d(null))},[e]);const P=ae=>{const le=ae.target.selectedOptions,re=Array.from(le??[]).map(ge=>ge.value);n(re)},U=X.useCallback(async()=>{if(!e){d("No model loaded");return}if(!r||r.length===0){d("Select at least one parameter");return}if(r.length>80){d("Please select fewer parameters (<=80) to keep computation reasonable.");return}d(null),c(null),i(!0),l({current:0,total:0});const ae=new AbortController;p(ae);try{const le={method:"ode",t_end:100,n_steps:100},re=(Se,ze)=>l({current:Se,total:ze}),ge=await Lae(e,r,le,ae.signal,re,!0,m);ge!=null&&ge.benchmark&&ge.benchmark.modelId&&(N.current=ge.benchmark.modelId),c(ge)}catch(le){le instanceof DOMException&&le.name==="AbortError"?d("Computation cancelled"):d(le instanceof Error?le.message:String(le))}finally{i(!1),p(null)}},[e,r,m]),j=X.useCallback(()=>{v&&v.abort()},[v]),F=()=>{if(!(u!=null&&u.nullspaceCombinations))return;const ae=[["Combination","Eigenvalue","Parameter","Loading"].join(","),...u.nullspaceCombinations.flatMap((Se,ze)=>Se.components.map(Qe=>[ze+1,Se.eigenvalue,Qe.name,Qe.loading].join(",")))].join(`
`),le=new Blob([ae],{type:"text/csv"}),re=URL.createObjectURL(le),ge=document.createElement("a");ge.href=re,ge.download="nullspace_combinations.csv",ge.click(),URL.revokeObjectURL(re)},I=()=>{if(!(u!=null&&u.vif))return;const ae=[["Parameter","VIF"].join(","),...u.paramNames.map((Se,ze)=>{var Qe;return[Se,((Qe=u.vif)==null?void 0:Qe[ze])||"N/A"].join(",")})].join(`
`),le=new Blob([ae],{type:"text/csv"}),re=URL.createObjectURL(le),ge=document.createElement("a");ge.href=re,ge.download="vif_table.csv",ge.click(),URL.revokeObjectURL(re)},G=()=>{if(!(u!=null&&u.correlations))return;const ae=[["",...u.paramNames].join(","),...u.correlations.map((Se,ze)=>[u.paramNames[ze],...Se].join(","))].join(`
`),le=new Blob([ae],{type:"text/csv"}),re=URL.createObjectURL(le),ge=document.createElement("a");ge.href=re,ge.download="correlations.csv",ge.click(),URL.revokeObjectURL(re)},Y=()=>{if(!(u!=null&&u.fimMatrix))return;const ae=[["",...u.paramNames].join(","),...u.fimMatrix.map((Se,ze)=>[u.paramNames[ze],...Se].join(","))].join(`
`),le=new Blob([ae],{type:"text/csv"}),re=URL.createObjectURL(le),ge=document.createElement("a");ge.href=re,ge.download="fim_matrix.csv",ge.click(),URL.revokeObjectURL(re)};return B.jsxs("div",{className:"space-y-6",children:[B.jsx(Tn,{children:B.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[B.jsxs("div",{children:[B.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Parameters (multi-select)"}),B.jsx(gu,{multiple:!0,size:Math.min(12,Math.max(4,t.length)),value:r,onChange:P,className:"h-40",children:t.map(ae=>B.jsx("option",{value:ae,children:ae},ae))}),B.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:["Selected: ",r.length]})]}),B.jsxs("div",{className:"flex flex-col gap-3",children:[B.jsx("div",{className:"text-sm text-slate-600",children:"Compute the Fisher Information Matrix (FIM) using central finite differences across all time points. This performs 2×P simulations where P is the number of selected parameters."}),B.jsxs("label",{className:"mt-2 flex items-center gap-2 text-sm",children:[B.jsx("input",{type:"checkbox",checked:m,onChange:ae=>b(ae.target.checked)}),B.jsx("span",{className:"text-sm text-slate-600",children:"Use log-parameter sensitivities (d/d ln p)"})]}),B.jsxs("div",{className:"flex gap-2",children:[B.jsx(Nr,{onClick:U,disabled:a||!e||r.length===0,children:"Run Identifiability Analysis"}),a&&B.jsx(Nr,{variant:"danger",onClick:j,children:"Cancel"})]}),a&&B.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 rounded-lg mb-4",children:[B.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),B.jsxs("div",{className:"flex-1",children:[B.jsxs("p",{className:"text-sm font-medium text-blue-800",children:["Computing FIM... ",o.current," / ",o.total," simulations"]}),B.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2 mt-2",children:B.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${o.total>0?o.current/o.total*100:0}%`}})})]})]}),h&&B.jsx("div",{className:"text-sm text-red-600",children:h})]})]})}),u&&B.jsxs(Tn,{className:"space-y-4",children:[B.jsxs("div",{className:"flex items-start justify-between",children:[B.jsxs("div",{children:[B.jsx("h3",{className:"text-lg font-semibold",children:"Identifiability Analysis Results"}),B.jsxs("div",{className:"text-sm",children:[B.jsx("span",{title:"Ratio of largest to smallest eigenvalue. Higher values indicate numerical instability and ill-conditioning.",children:"Condition number:"})," ",Number.isFinite(u.conditionNumber)?u.conditionNumber.toExponential(3):"∞"]})]}),B.jsx("div",{className:"flex items-center gap-2",children:B.jsx(Nr,{onClick:()=>{try{const ae=KN(u),le=new Blob([JSON.stringify(ae,null,2)],{type:"application/json"}),re=URL.createObjectURL(le),ge=document.createElement("a");ge.href=re,ge.download="fim_analysis.json",document.body.appendChild(ge),ge.click(),ge.remove(),URL.revokeObjectURL(re)}catch(ae){console.warn("Failed to export FIM",ae)}},children:"Export JSON"})})]}),u.benchmark&&B.jsxs("div",{className:"text-xs text-slate-500",children:["Benchmark: prepareModel ",Math.round(u.benchmark.prepareModelMs)," ms · sims ",Math.round(u.benchmark.totalSimMs)," ms for ",u.benchmark.simCount," runs · total ",Math.round(u.benchmark.totalMs)," ms"]}),B.jsxs("div",{className:"text-xs text-slate-500 text-right",children:["Analysis completed: ",new Date().toLocaleString(),B.jsx("br",{}),"Computation time: ",(q=u.benchmark)!=null&&q.totalMs?Math.round(u.benchmark.totalMs):"N/A"," ms"]}),B.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4 mb-6",children:[B.jsx("h3",{className:"font-semibold text-yellow-800",children:"Model Identifiability Summary"}),B.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2 text-sm",children:[B.jsxs("div",{children:[B.jsx("span",{className:"font-medium",children:"Condition Number:"})," ",B.jsx("span",{className:u.conditionNumber>1e3?"text-red-600":"text-green-600",children:u.conditionNumber.toExponential(2)}),u.conditionNumber>1e3&&" (⚠️ Ill-conditioned)"]}),B.jsxs("div",{children:[B.jsx("span",{className:"font-medium",children:"Identifiable Params:"})," ",B.jsx("span",{className:"text-green-600",children:((V=u.identifiableParams)==null?void 0:V.length)||0})," / ",u.paramNames.length]}),B.jsxs("div",{children:[B.jsx("span",{className:"font-medium",children:"High VIF Count:"})," ",B.jsx("span",{className:"text-red-600",children:((W=u.highVIFParams)==null?void 0:W.length)||0}),u.highVIFParams&&u.highVIFParams.length>0&&" (⚠️ Collinear)"]}),B.jsxs("div",{children:[B.jsx("span",{className:"font-medium",children:"Max Correlation:"})," ",B.jsx("span",{className:"text-red-600",children:u.topCorrelatedPairs&&u.topCorrelatedPairs.length>0?Math.max(...u.topCorrelatedPairs.map(ae=>Math.abs(ae.corr))).toFixed(3):"N/A"})]})]})]}),B.jsx("div",{className:"overflow-x-auto",children:B.jsxs("table",{className:"min-w-full text-sm",children:[B.jsx("thead",{children:B.jsxs("tr",{children:[B.jsx("th",{className:"px-2 py-1 text-left",children:"#"}),B.jsx("th",{className:"px-2 py-1 text-left",children:"Eigenvalue"}),B.jsx("th",{className:"px-2 py-1 text-left",children:"Top contributors"})]})}),B.jsx("tbody",{children:u.eigenvalues.map((ae,le)=>{const re=u.eigenvectors[le]??[],ge=u.paramNames.map((Qe,Oe)=>({name:Qe,v:Math.abs(re[Oe]??0),signed:re[Oe]??0}));ge.sort((Qe,Oe)=>Oe.v-Qe.v);const Se=ge.slice(0,6),ze=x===le;return B.jsxs(aa.Fragment,{children:[B.jsxs("tr",{className:"border-t cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800",onClick:()=>w(ze?null:le),children:[B.jsx("td",{className:"px-2 py-1 align-top",children:le+1}),B.jsx("td",{className:"px-2 py-1 align-top",children:ae.toExponential(3)}),B.jsx("td",{className:"px-2 py-1",children:B.jsx("div",{className:"flex flex-wrap gap-2",children:Se.map(Qe=>B.jsxs("div",{className:"flex items-center gap-3",children:[B.jsx("div",{className:"w-40 truncate text-xs text-slate-600",children:Qe.name}),B.jsx("div",{className:"text-xs",children:Qe.signed.toFixed(4)})]},Qe.name))})})]}),ze&&B.jsx("tr",{className:"bg-slate-50 dark:bg-slate-900",children:B.jsxs("td",{colSpan:3,className:"px-4 py-3",children:[B.jsxs("div",{className:"mb-2 text-sm font-medium",children:["Eigenvector ",le+1," — full parameter loadings"]}),B.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Parameters are sorted by absolute loading. Parameters highlighted are those with |loading| ≥ 20% of the top contributor for this eigenvector."}),B.jsx("div",{className:"overflow-x-auto",children:B.jsxs("table",{className:"min-w-full text-sm",children:[B.jsx("thead",{children:B.jsxs("tr",{children:[B.jsx("th",{className:"px-2 py-1 text-left",children:"Parameter"}),B.jsx("th",{className:"px-2 py-1 text-left",children:"Loading"}),B.jsx("th",{className:"px-2 py-1 text-left",children:"Magnitude"})]})}),B.jsx("tbody",{children:ge.map(Qe=>{var Ke;const Oe=((Ke=ge[0])==null?void 0:Ke.v)??1,je=Oe*.2,Ue=Qe.v>=je,qe=Oe>0?Math.round(Qe.v/Oe*100):0;return B.jsxs("tr",{className:Ue?"bg-yellow-50 dark:bg-yellow-900/20":"",children:[B.jsx("td",{className:"px-2 py-1 align-top w-64 truncate",children:Qe.name}),B.jsx("td",{className:"px-2 py-1 align-top",children:B.jsx("code",{className:"text-xs",children:Qe.signed.toFixed(6)})}),B.jsxs("td",{className:"px-2 py-1 align-top",children:[B.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-800 h-3 rounded overflow-hidden",children:B.jsx("div",{style:{width:`${qe}%`},className:"h-3 bg-sky-500"})}),B.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[Qe.v.toExponential(3)," (",qe,"%) ",Ue?"· group":""]})]})]},Qe.name)})})]})})]})})]},le)})})]})}),B.jsxs("div",{className:"mt-2 flex gap-3 items-center",children:[B.jsxs("div",{children:[B.jsx("div",{className:"text-xs text-slate-500",children:"Identifiable"}),B.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[(J=u.identifiableParams)==null?void 0:J.slice(0,50).map(ae=>B.jsx("div",{className:"px-2 py-1 rounded bg-green-100 text-green-800 text-xs font-medium",children:ae},ae)),u.identifiableParams&&u.identifiableParams.length>50&&B.jsxs("div",{className:"text-xs text-slate-500",children:["+",u.identifiableParams.length-50," more"]})]})]}),B.jsxs("div",{children:[B.jsx("div",{className:"text-xs text-slate-500",children:"Unidentifiable"}),B.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[(ie=u.unidentifiableParams)==null?void 0:ie.slice(0,50).map(ae=>B.jsx("div",{className:"px-2 py-1 rounded bg-red-100 text-red-800 text-xs font-medium",children:ae},ae)),u.unidentifiableParams&&u.unidentifiableParams.length>50&&B.jsxs("div",{className:"text-xs text-slate-500",children:["+",u.unidentifiableParams.length-50," more"]})]})]})]})]}),(u==null?void 0:u.vif)&&B.jsxs(Tn,{className:"space-y-3",children:[u.highVIFParams&&u.highVIFParams.length>0&&B.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:[B.jsx("p",{className:"text-red-700 font-semibold",children:"⚠️ Severe Multicollinearity Detected"}),B.jsx("p",{className:"text-red-600 text-sm mb-3",children:"VIF values above 100 indicate parameters are nearly perfectly correlated. This means individual parameter values cannot be uniquely determined, though model predictions remain reliable."}),B.jsxs("div",{className:"bg-white border border-red-200 rounded p-3",children:[B.jsx("p",{className:"text-sm text-red-700 font-semibold mb-2",children:"General Recommendations:"}),B.jsxs("ul",{className:"text-sm text-red-600 space-y-1.5 list-disc list-inside",children:[B.jsxs("li",{children:["Use ",B.jsx("strong",{children:"parameter ratios"})," instead of individual values where mechanistically appropriate"]}),B.jsxs("li",{children:["Apply ",B.jsx("strong",{children:"Bayesian priors"})," from literature if available"]}),B.jsxs("li",{children:["Design ",B.jsx("strong",{children:"new experiments"})," that independently perturb each pathway"]}),B.jsxs("li",{children:["Consider ",B.jsx("strong",{children:"sensitivity analysis"})," to identify which combinations matter most for your predictions"]})]})]})]}),B.jsxs("div",{className:"flex items-center justify-between",children:[B.jsxs("h3",{className:"text-lg font-semibold",children:["📊 ",B.jsx("span",{title:"Variance Inflation Factor - measures multicollinearity. Values > 10 indicate severe correlation between parameters.",children:"Variance Inflation Factors (VIF)"})]}),B.jsx("button",{onClick:I,className:"text-sm text-teal-600 hover:text-teal-700 underline",children:"Export CSV ↓"})]}),B.jsx("div",{className:"text-sm text-slate-600",children:"VIF > 10 suggests strong multicollinearity."}),B.jsx("div",{className:"overflow-x-auto",children:B.jsxs("table",{className:"min-w-full text-sm",children:[B.jsx("thead",{children:B.jsxs("tr",{children:[B.jsx("th",{className:"px-2 py-1 text-left",children:"Parameter"}),B.jsx("th",{className:"px-2 py-1 text-left",children:"VIF"})]})}),B.jsx("tbody",{children:u.paramNames.map((ae,le)=>{var Se;const re=((Se=u.vif)==null?void 0:Se[le])??0,ge=Number.isFinite(re)&&re>10;return B.jsxs("tr",{className:`border-t ${ge?"bg-amber-50 dark:bg-amber-900/20":""}`,children:[B.jsx("td",{className:"px-2 py-1 font-mono text-xs",children:ae}),B.jsx("td",{className:"px-2 py-1",children:B.jsxs("div",{className:"flex items-center justify-end gap-2",children:[B.jsx("span",{children:Number.isFinite(re)?re.toFixed(3):"∞"}),Number.isFinite(re)&&re>1e3&&B.jsx("span",{className:"text-red-500 text-xs",children:"🔴 Extreme"}),Number.isFinite(re)&&re>10&&re<=1e3&&B.jsx("span",{className:"text-orange-500 text-xs",children:"🟠 High"}),Number.isFinite(re)&&re>5&&re<=10&&B.jsx("span",{className:"text-yellow-500 text-xs",children:"🟡 Moderate"})]})})]},ae)})})]})})]}),u&&B.jsxs(Tn,{className:"space-y-4",children:[B.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-blue-50 border border-teal-200 rounded-lg p-6 mb-6 shadow-sm",children:[B.jsx("h3",{className:"text-xl font-bold text-teal-800 mb-4",children:"Identifiability Summary"}),B.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[B.jsxs("div",{className:"bg-white rounded p-3 shadow-sm",children:[B.jsx("div",{className:"text-2xl font-bold text-red-600",children:((K=u.unidentifiableParams)==null?void 0:K.length)||0}),B.jsx("div",{className:"text-xs text-gray-600 uppercase",children:"Unidentifiable"})]}),B.jsxs("div",{className:"bg-white rounded p-3 shadow-sm",children:[B.jsx("div",{className:"text-2xl font-bold text-green-600",children:((Z=u.identifiableParams)==null?void 0:Z.length)||0}),B.jsx("div",{className:"text-xs text-gray-600 uppercase",children:"Identifiable"})]}),B.jsxs("div",{className:"bg-white rounded p-3 shadow-sm",children:[B.jsx("div",{className:"text-2xl font-bold text-orange-600",children:u.conditionNumber.toExponential(0)}),B.jsx("div",{className:"text-xs text-gray-600 uppercase",children:"Condition Number"}),B.jsx("div",{className:"text-xs mt-1",children:u.conditionNumber<100?B.jsx("span",{className:"text-green-600 font-medium",children:"Well-conditioned"}):u.conditionNumber<1e4?B.jsx("span",{className:"text-yellow-600 font-medium",children:"Moderately ill-conditioned"}):B.jsx("span",{className:"text-red-600 font-medium",children:"Severely ill-conditioned"})})]}),B.jsxs("div",{className:"bg-white rounded p-3 shadow-sm",children:[B.jsx("div",{className:"text-2xl font-bold text-purple-600",children:((fe=u.nullspaceCombinations)==null?void 0:fe.length)||0}),B.jsx("div",{className:"text-xs text-gray-600 uppercase",children:"Problem Combos"})]})]}),B.jsx("div",{className:"mt-4 p-3 bg-white rounded border border-teal-200",children:B.jsxs("p",{className:"text-sm text-gray-700",children:[B.jsx("strong",{children:"Overall Assessment:"})," ",B.jsx("span",{className:"text-red-600 font-semibold",children:((he=u.unidentifiableParams)==null?void 0:he.length)===u.paramNames.length?"Severe identifiability issues detected.":((oe=u.identifiableParams)==null?void 0:oe.length)===u.paramNames.length?"All parameters are identifiable.":"Mixed identifiability - some parameters can be estimated."})," ","Model predictions are reliable, but individual parameter values"," ",((be=u.identifiableParams)==null?void 0:be.length)===u.paramNames.length?"can be uniquely determined":"cannot be uniquely determined"," from current data."]})}),B.jsxs("div",{className:"mt-4",children:[B.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:B.jsx("div",{className:"h-full bg-gradient-to-r from-red-500 via-yellow-500 to-green-500 transition-all duration-500",style:{width:`${(((Ae=u.identifiableParams)==null?void 0:Ae.length)||0)/u.paramNames.length*100}%`}})}),B.jsxs("p",{className:"text-xs text-gray-600 mt-1 text-center",children:["Overall Identifiability: ",((((Le=u.identifiableParams)==null?void 0:Le.length)||0)/u.paramNames.length*100).toFixed(0),"%"]})]}),u.eigenvalues&&u.eigenvalues.length>0&&B.jsxs("div",{className:"mt-4",children:[B.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Eigenvalue Spectrum"}),B.jsx("div",{style:{width:"100%",height:120},children:B.jsx(zv,{children:B.jsxs(cg,{data:u.eigenvalues.map((ae,le)=>({index:le+1,eigenvalue:ae})),margin:{top:5,right:5,left:5,bottom:5},children:[B.jsx(Tf,{strokeDasharray:"3 3",stroke:"rgba(128,128,128,0.15)"}),B.jsx(Cf,{dataKey:"index",tick:{fontSize:10},label:{value:"Index",position:"insideBottom",offset:-5,style:{textAnchor:"middle",fontSize:10}}}),B.jsx(Mf,{tick:{fontSize:10},tickFormatter:ae=>Number(ae).toExponential(1),label:{value:"Eigenvalue",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fontSize:10}}}),B.jsx(rg,{formatter:ae=>[Number(ae).toExponential(3),"Eigenvalue"],labelFormatter:ae=>`Index ${ae}`}),B.jsx(Af,{type:"monotone",dataKey:"eigenvalue",stroke:"#7c3aed",strokeWidth:2,dot:{r:3}})]})})}),B.jsx("p",{className:"text-xs text-gray-600 mt-1 text-center",children:"Small eigenvalues indicate directions of non-identifiability"})]}),B.jsxs("div",{className:"flex gap-2 mt-4",children:[B.jsx("button",{className:"px-4 py-2 bg-teal-600 text-white rounded hover:bg-teal-700 text-sm",onClick:()=>{var le;const ae=["# Unidentifiable parameters detected:",...((le=u.unidentifiableParams)==null?void 0:le.map(re=>`# ${re}`))||[],"","# Suggested approaches:","# 1. Fix one parameter per null-space combination using literature","# 2. Reparameterize using ratios where appropriate","# 3. Use Bayesian inference with informative priors"].join(`
`);navigator.clipboard.writeText(ae),alert("General guidance copied to clipboard!")},children:"📋 Copy Analysis Summary"}),B.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",onClick:()=>{const ae=KN(u),le=new Blob([JSON.stringify(ae,null,2)],{type:"application/json"}),re=URL.createObjectURL(le),ge=document.createElement("a");ge.href=re,ge.download="fim_analysis.json",document.body.appendChild(ge),ge.click(),URL.revokeObjectURL(re)},children:"💾 Export Full Analysis"})]})]}),u.unidentifiableParams&&u.unidentifiableParams.length>0&&B.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:[B.jsx("h3",{className:"font-semibold text-blue-800 mb-3",children:"🎯 Recommended Next Steps"}),B.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-blue-700",children:[B.jsxs("li",{children:["Review ",B.jsx("strong",{children:"Top Correlated Pairs"})," to understand which parameters co-vary"]}),B.jsxs("li",{children:["Check ",B.jsx("strong",{children:"Non-identifiable Combinations"})," to see which groups are problematic"]}),B.jsx("li",{children:"Consider fixing one parameter per combination using literature data"}),B.jsx("li",{children:"Export results and consult with domain experts about which parameters can be fixed"}),B.jsx("li",{children:"Re-run identifiability analysis after making changes to verify improvement"})]})]}),B.jsx("h3",{className:"text-lg font-semibold",children:"🎯 Parameter Identifiability Analysis"}),B.jsx("div",{className:"text-sm text-slate-600",children:"Analysis of parameter uncertainty and correlations. Non-identifiable parameters appear in combinations that cannot be resolved from the available data."}),B.jsx("div",{className:"overflow-x-auto",children:B.jsxs("table",{className:"min-w-full text-sm",children:[B.jsx("thead",{children:B.jsxs("tr",{children:[B.jsx("th",{className:"px-2 py-1 text-left",children:"Parameter"}),B.jsx("th",{className:"px-2 py-1 text-left",children:"Value"}),B.jsx("th",{className:"px-2 py-1 text-left",children:"FIM Contribution"}),B.jsx("th",{className:"px-2 py-1 text-left",children:"Identifiable"}),B.jsx("th",{className:"px-2 py-1 text-left",children:"Top Correlations"})]})}),B.jsx("tbody",{children:u.paramNames.map((ae,le)=>{var qe,Ke,Xe,ot;const re=(e==null?void 0:e.parameters[ae])??0,ge=u.correlations[le]??[],Se=((qe=u.identifiableParams)==null?void 0:qe.includes(ae))??!1,Qe=u.paramNames.map((Ye,ct)=>({name:Ye,corr:Math.abs(ge[ct]??0)})).filter(Ye=>Ye.name!==ae).sort((Ye,ct)=>ct.corr-Ye.corr).slice(0,3),Oe=((Xe=(Ke=u.fimMatrix)==null?void 0:Ke[le])==null?void 0:Xe[le])??0,je=((ot=u.fimMatrix)==null?void 0:ot.reduce((Ye,ct,ht)=>Ye+(ct[ht]??0),0))??1,Ue=je>0?Oe/je*100:0;return B.jsxs("tr",{className:"border-t",children:[B.jsx("td",{className:"px-2 py-1 align-top font-mono text-xs",children:ae}),B.jsx("td",{className:"px-2 py-1 align-top",children:re.toExponential(3)}),B.jsxs("td",{className:"px-2 py-1 align-top",children:[Ue.toFixed(1),"%"]}),B.jsx("td",{className:"px-2 py-1 align-top font-medium",children:Se?B.jsx("span",{className:"text-green-600",children:"✓ Yes"}):B.jsx("span",{className:"text-red-600",children:"✗ No"})}),B.jsx("td",{className:"px-2 py-1",children:B.jsx("div",{className:"flex flex-wrap gap-1",children:Qe.map(Ye=>B.jsxs("div",{className:"text-xs",children:[Ye.name,": ",(Ye.corr*100).toFixed(0),"%"]},Ye.name))})})]},ae)})})]})})]}),(u==null?void 0:u.nullspaceCombinations)&&u.nullspaceCombinations.length>0&&B.jsxs(Tn,{className:"space-y-3",children:[B.jsxs("div",{className:"flex items-center justify-between",children:[B.jsx("h3",{className:"text-lg font-semibold",children:"Non-identifiable parameter combinations"}),B.jsx("button",{onClick:F,className:"text-sm text-teal-600 hover:text-teal-700 underline",children:"Export CSV ↓"})]}),B.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:B.jsxs("div",{className:"flex items-start gap-3",children:[B.jsx("div",{className:"text-blue-600 text-2xl",children:"ℹ️"}),B.jsxs("div",{children:[B.jsxs("h4",{className:"font-semibold text-blue-800 mb-2",children:[((ce=u.nullspaceCombinations)==null?void 0:ce.length)||0," unidentifiable combination(s) detected"]}),B.jsx("p",{className:"text-sm text-blue-700",children:"These parameter combinations cannot be uniquely determined from the available data. Changes along these directions do not affect model predictions."}),B.jsxs("p",{className:"text-sm text-blue-700 mt-2",children:[B.jsx("strong",{children:"What to do:"})," Fix one parameter per combination using literature values, or design experiments that independently perturb each parameter."]}),B.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["Threshold: eigenvalues below 0.01% of maximum (",u.eigenvalues&&u.eigenvalues.length>0?(Math.max(...u.eigenvalues)*1e-4).toExponential(1):"1e-12",")"]})]})]})}),B.jsx("div",{className:"space-y-6",children:u.nullspaceCombinations.map((ae,le)=>B.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[B.jsxs("h4",{className:"font-medium text-gray-800 mb-3",children:["Combination ",le+1," — eigenvalue: ",ae.eigenvalue.toExponential(2)]}),B.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[B.jsxs("div",{children:[B.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Parameter loadings"}),B.jsx("div",{className:"space-y-1",children:ae.components.map((re,ge)=>B.jsxs("div",{className:"flex justify-between items-center text-sm",children:[B.jsx("span",{className:"font-mono",children:re.name}),B.jsx("span",{className:"font-mono text-gray-700",children:re.loading.toFixed(6)})]},ge))})]}),B.jsxs("div",{children:[B.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Loading magnitudes"}),B.jsx("div",{className:"space-y-2",children:ae.components.map((re,ge)=>{const Se=Math.max(...ae.components.map(Qe=>Math.abs(Qe.loading))),ze=Math.abs(re.loading)/Se*100;return B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("span",{className:"text-xs font-mono w-20 text-right truncate",children:re.name}),B.jsxs("div",{className:"flex-1 bg-gray-200 rounded h-5 relative",children:[B.jsx("div",{className:`h-full rounded ${re.loading>0?"bg-teal-500":"bg-orange-500"}`,style:{width:`${ze}%`}}),B.jsx("span",{className:"absolute right-2 top-0.5 text-xs font-mono text-gray-700",children:Math.abs(re.loading).toFixed(3)})]})]},ge)})})]})]}),B.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 border-l-4 border-yellow-400 text-sm",children:[B.jsxs("p",{className:"text-yellow-800 mb-2",children:[B.jsx("strong",{children:"What this means:"})," These ",ae.components.length," parameters appear in a linear combination that the data cannot resolve."]}),B.jsx("p",{className:"text-yellow-700",children:B.jsx("strong",{children:"Options:"})}),B.jsxs("ul",{className:"text-xs text-yellow-700 mt-1 space-y-0.5 list-disc list-inside ml-2",children:[B.jsx("li",{children:"Fix one parameter using external data (literature, independent experiments)"}),B.jsx("li",{children:"Reformulate as a ratio if mechanistically justified"}),B.jsx("li",{children:"Accept uncertainty and report parameter ranges instead of point estimates"})]})]})]},le))})]}),(u==null?void 0:u.topCorrelatedPairs)&&u.topCorrelatedPairs.length>0&&B.jsxs(Tn,{className:"space-y-3",children:[B.jsxs("div",{className:"flex items-center justify-between",children:[B.jsxs("h3",{className:"text-lg font-semibold",children:["🔗 ",B.jsx("span",{title:"Parameters with high absolute correlation values (>0.8) may be difficult to estimate independently.",children:"Top correlated parameter pairs"})]}),B.jsx("button",{onClick:G,className:"text-sm text-teal-600 hover:text-teal-700 underline",children:"Export CSV ↓"})]}),B.jsx("div",{className:"text-sm text-slate-600",children:"Strong correlations (by absolute Pearson correlation from covariance) suggest parameters that co-vary and may be difficult to estimate independently."}),B.jsx("div",{className:"overflow-x-auto",children:B.jsxs("table",{className:"min-w-full text-sm",children:[B.jsx("thead",{children:B.jsxs("tr",{children:[B.jsx("th",{className:"px-2 py-1 text-left",children:"#"}),B.jsx("th",{className:"px-2 py-1 text-left",children:"Parameter A"}),B.jsx("th",{className:"px-2 py-1 text-left",children:"Parameter B"}),B.jsx("th",{className:"px-2 py-1 text-left",children:"Correlation"})]})}),B.jsx("tbody",{children:u.topCorrelatedPairs.map((ae,le)=>B.jsxs("tr",{className:`border-t ${Math.abs(ae.corr)>.95?"bg-red-50":""}`,children:[B.jsx("td",{className:"px-2 py-1 align-top",children:le+1}),B.jsx("td",{className:"px-2 py-1 align-top font-mono text-xs",children:ae.names[0]}),B.jsx("td",{className:"px-2 py-1 align-top font-mono text-xs",children:ae.names[1]}),B.jsx("td",{className:"px-2 py-1 align-top font-medium",children:B.jsxs("span",{className:Math.abs(ae.corr)>.95?"text-red-600 font-bold":"",children:[ae.corr.toFixed(3),Math.abs(ae.corr)>.95&&" ⚠️"]})})]},`${ae.names[0]}-${ae.names[1]}`))})]})})]}),(u==null?void 0:u.profileApproxExtended)&&Object.keys(u.profileApproxExtended).length>0&&B.jsxs(Tn,{className:"space-y-3",children:[B.jsx("h3",{className:"text-lg font-semibold",children:"Profile plots (approx)"}),B.jsx("div",{className:"text-sm text-slate-600",children:"SSR vs parameter grid for profiled parameters. Shaded region shows approximate confidence interval (χ², df=1)."}),B.jsx("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:Object.entries(u.profileApproxExtended).slice(0,6).map(([ae,le])=>{var Qe,Oe;const re=le,ge=re.grid.map((je,Ue)=>({x:je,y:re.ssr[Ue]})),Se=(Qe=re.ci)==null?void 0:Qe.lower,ze=(Oe=re.ci)==null?void 0:Oe.upper;return B.jsxs("div",{className:"p-2",children:[B.jsx("div",{className:"text-sm font-medium mb-1",children:ae}),B.jsx("div",{style:{width:"100%",height:220},children:B.jsx(zv,{children:B.jsxs(cg,{data:ge,margin:{top:8,right:8,left:8,bottom:20},children:[B.jsx(Tf,{strokeDasharray:"3 3",stroke:"rgba(128,128,128,0.15)"}),B.jsx(Cf,{dataKey:"x",tickFormatter:je=>Number(je).toFixed(3)}),B.jsx(Mf,{}),B.jsx(rg,{formatter:je=>typeof je=="number"?je.toFixed(6):je}),Se!==void 0&&ze!==void 0&&B.jsx(op,{x1:Se,x2:ze,strokeOpacity:.1,fill:"#a7f3d0",fillOpacity:.35}),B.jsx(Af,{type:"monotone",dataKey:"y",stroke:"#4E79A7",strokeWidth:2,dot:!1})]})})})]},ae)})})]}),(u==null?void 0:u.fimMatrix)&&B.jsx(Tn,{className:"space-y-3",children:B.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[B.jsxs("button",{onClick:()=>S(!T),className:"w-full flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100",children:[B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("h3",{className:"font-semibold",children:"Fisher Information Matrix (heatmap)"}),B.jsx("button",{onClick:ae=>{ae.stopPropagation(),Y()},className:"text-sm text-teal-600 hover:text-teal-700 underline",children:"Export CSV ↓"})]}),B.jsx("span",{className:"text-xl",children:T?"▼":"▶"})]}),T&&B.jsxs("div",{className:"p-4",children:[B.jsx("div",{className:"text-sm text-slate-600",children:"Raw Fisher Information Matrix (rows/cols = parameters). Colors indicate magnitude."}),B.jsx("div",{className:"overflow-auto mt-2",children:B.jsx("div",{className:"inline-block align-top",children:B.jsxs("table",{className:"border-collapse",style:{borderSpacing:0},children:[B.jsx("thead",{children:B.jsxs("tr",{children:[B.jsx("th",{className:"px-2 py-1"}),u.paramNames.map(ae=>B.jsx("th",{className:"px-2 py-1 text-xs font-mono",children:ae},ae))]})}),B.jsx("tbody",{children:u.fimMatrix.map((ae,le)=>{const re=Math.max(...ae.map(ge=>Math.abs(ge)));return B.jsxs("tr",{className:"align-top",children:[B.jsx("td",{className:"px-2 py-1 text-xs font-mono",children:u.paramNames[le]}),ae.map((ge,Se)=>{const ze=Math.abs(ge),Qe=re>0?Math.min(1,ze/re):0,je=`rgb(${Math.round(240-Qe*140)},240,240)`;return B.jsx("td",{className:"px-1 py-1 text-xs",style:{background:je},children:B.jsx("div",{className:"px-2",children:ge.toExponential(2)})},Se)})]},le)})})]})})})]})]})}),(u==null?void 0:u.correlations)&&B.jsx(Tn,{className:"space-y-3",children:B.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[B.jsxs("button",{onClick:()=>R(!D),className:"w-full flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100",children:[B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("h3",{className:"font-semibold",children:"Parameter correlations (heatmap)"}),B.jsx("button",{onClick:ae=>{ae.stopPropagation(),G()},className:"text-sm text-teal-600 hover:text-teal-700 underline",children:"Export CSV ↓"})]}),B.jsx("span",{className:"text-xl",children:D?"▼":"▶"})]}),D&&B.jsxs("div",{className:"p-4",children:[B.jsx("div",{className:"text-sm text-slate-600",children:"Pearson correlations between parameter estimates. Red indicates strong correlations (potential identifiability issues)."}),B.jsx("div",{className:"overflow-auto mt-2",children:B.jsx("div",{className:"inline-block align-top",children:B.jsxs("table",{className:"border-collapse",style:{borderSpacing:0},children:[B.jsx("thead",{children:B.jsxs("tr",{children:[B.jsx("th",{className:"px-2 py-1"}),u.paramNames.map(ae=>B.jsx("th",{className:"px-2 py-1 text-xs font-mono",children:ae},ae))]})}),B.jsx("tbody",{children:u.correlations.map((ae,le)=>B.jsxs("tr",{className:"align-top",children:[B.jsx("td",{className:"px-2 py-1 text-xs font-mono",children:u.paramNames[le]}),ae.map((re,ge)=>{const Se=Math.abs(re);let ze="rgb(245, 245, 245)";return Se>.95?ze="rgb(192, 21, 47)":Se>.8?ze="rgb(255, 84, 89)":Se>.5?ze="rgb(230, 129, 97)":Se>.2&&(ze="rgb(50, 184, 198)"),B.jsx("td",{className:"px-1 py-1 text-xs",style:{background:ze},children:B.jsx("div",{className:"px-2",children:re.toFixed(3)})},ge)})]},le))})]})})})]})]})}),(u==null?void 0:u.jacobian)&&B.jsx(Tn,{className:"space-y-3",children:B.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[B.jsxs("button",{onClick:()=>_(!L),className:"w-full flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100",children:[B.jsx("h3",{className:"font-semibold",children:"Jacobian (sensitivity) heatmap"}),B.jsx("span",{className:"text-xl",children:L?"▼":"▶"})]}),L&&B.jsxs("div",{className:"p-4",children:[B.jsx("div",{className:"text-sm text-slate-600",children:"Rows: observables×time, Columns: parameters. Showing first 20 rows for readability."}),B.jsx("div",{className:"overflow-auto mt-2",children:B.jsxs("table",{className:"border-collapse",style:{borderSpacing:0},children:[B.jsx("thead",{children:B.jsxs("tr",{children:[B.jsx("th",{className:"px-2 py-1",children:"#"}),u.paramNames.map(ae=>B.jsx("th",{className:"px-2 py-1 text-xs font-mono",children:ae},ae))]})}),B.jsx("tbody",{children:u.jacobian.slice(0,20).map((ae,le)=>B.jsxs("tr",{className:"align-top border-t",children:[B.jsx("td",{className:"px-2 py-1 text-xs",children:le+1}),ae.map((re,ge)=>{const Se=Math.abs(re),ze=Math.min(1,Se/1),Qe=Math.round(240-Math.min(220,ze*220)),Oe=`rgb(255,${Qe},${Qe})`;return B.jsx("td",{className:"px-1 py-1 text-xs",style:{background:Oe},children:B.jsx("div",{className:"px-2",children:re.toExponential(2)})},ge)})]},le))})]})})]})]})}),B.jsxs("details",{className:"border border-gray-200 rounded-lg p-4 mt-6",children:[B.jsx("summary",{className:"font-semibold cursor-pointer",children:"📖 How to interpret these results"}),B.jsxs("div",{className:"mt-3 space-y-3 text-sm text-gray-700",children:[B.jsxs("div",{children:[B.jsx("strong",{className:"text-teal-700",children:"Condition Number:"}),B.jsxs("ul",{className:"ml-4 mt-1 list-disc",children:[B.jsx("li",{children:"< 100: Well-conditioned (good)"}),B.jsx("li",{children:"100 - 10,000: Moderately ill-conditioned"}),B.jsx("li",{children:"> 10,000: Severely ill-conditioned (problematic)"})]})]}),B.jsxs("div",{children:[B.jsx("strong",{className:"text-teal-700",children:"VIF (Variance Inflation Factor):"}),B.jsxs("ul",{className:"ml-4 mt-1 list-disc",children:[B.jsx("li",{children:"< 5: No multicollinearity"}),B.jsx("li",{children:"5 - 10: Moderate multicollinearity"}),B.jsx("li",{children:"> 10: High multicollinearity (fix required)"})]})]}),B.jsxs("div",{children:[B.jsx("strong",{className:"text-teal-700",children:"Parameter Correlations:"}),B.jsxs("ul",{className:"ml-4 mt-1 list-disc",children:[B.jsx("li",{children:"Close to ±1: Parameters are highly correlated"}),B.jsx("li",{children:"Close to 0: Parameters are independent"})]})]}),B.jsxs("div",{children:[B.jsx("strong",{className:"text-teal-700",children:"Identifiability:"}),B.jsxs("ul",{className:"ml-4 mt-1 list-disc",children:[B.jsx("li",{children:"Identifiable parameters can be uniquely estimated from data"}),B.jsx("li",{children:"Unidentifiable parameters appear in combinations that don't affect predictions"}),B.jsx("li",{children:"Fix one parameter per unidentifiable combination using external data"})]})]})]}),B.jsx("p",{className:"text-xs text-gray-500 mt-4",children:B.jsx("a",{href:"https://en.wikipedia.org/wiki/Identifiability_analysis",target:"_blank",className:"text-teal-600 hover:underline",children:"Learn more about identifiability analysis →"})})]}),B.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-6 right-6 bg-teal-600 hover:bg-teal-700 text-white p-3 rounded-full shadow-lg transition-all duration-200 z-10",title:"Scroll to top",children:"↑"})]})},WN=e=>{var a;const t=e.split("("),r=t[0],n=((a=t[1])==null?void 0:a.replace(")","").split(",").map(i=>i.trim()).filter(Boolean))||[];return B.jsxs("div",{className:"flex items-center gap-1 p-2 border border-slate-300 dark:border-slate-600 rounded-md bg-slate-100 dark:bg-slate-800",children:[B.jsx("span",{className:"font-bold text-primary-600 dark:text-primary-400",children:r}),n.length>0&&B.jsx("div",{className:"flex gap-1",children:n.map(i=>{const o=i.includes("!"),l=i.includes("~")?i.split("~")[1]:null,u=i.split("~")[0].split("!")[0];return B.jsxs("div",{className:`px-2 py-0.5 text-xs rounded-full ${o?"bg-red-200 dark:bg-red-800":"bg-green-200 dark:bg-green-800"}`,children:[u,l&&`~${l}`]},u)})})]})},Bae=({rule:e})=>B.jsx("div",{className:"p-4 border border-stone-200 dark:border-slate-700 rounded-lg",children:B.jsxs("div",{className:"flex items-center justify-center gap-4 flex-wrap",children:[B.jsx("div",{className:"flex items-center gap-2",children:e.reactants.map((t,r)=>B.jsxs(aa.Fragment,{children:[WN(t),r<e.reactants.length-1&&B.jsx("span",{className:"text-2xl font-light text-slate-400",children:"+"})]},r))}),B.jsxs("div",{className:"flex flex-col items-center",children:[B.jsx("span",{className:"text-sm font-mono text-slate-500",children:e.rate}),B.jsx("svg",{className:"w-12 h-6",viewBox:"0 0 24 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:B.jsx("path",{d:"M1 6H22M22 6L17 1M22 6L17 11",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.isBidirectional&&e.reverseRate&&B.jsxs(B.Fragment,{children:[B.jsx("svg",{className:"w-12 h-6 rotate-180",viewBox:"0 0 24 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:B.jsx("path",{d:"M1 6H22M22 6L17 1M22 6L17 11",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),B.jsx("span",{className:"text-sm font-mono text-slate-500",children:e.reverseRate})]})]}),B.jsx("div",{className:"flex items-center gap-2",children:e.products.map((t,r)=>B.jsxs(aa.Fragment,{children:[WN(t),r<e.products.length-1&&B.jsx("span",{className:"text-2xl font-light text-slate-400",children:"+"})]},r))})]})}),Iae=({model:e})=>e?e.reactionRules.length===0?B.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:"This model has no reaction rules defined."}):B.jsx("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto pr-2",children:e.reactionRules.map((t,r)=>B.jsx(Bae,{rule:t},r))}):B.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:"Parse a model to visualize reaction rules."}),zae=({model:e,results:t,onSimulate:r,isSimulating:n,onCancelSimulation:a})=>{const[i,o]=X.useState(new Set);return aa.useEffect(()=>{o(e?new Set(e.observables.map(l=>l.name)):new Set)},[e]),B.jsx("div",{className:"h-full",children:B.jsxs(p4,{children:[B.jsxs(m4,{children:[B.jsx(Ps,{children:"Time Course"}),B.jsx(Ps,{children:"Network Graph"}),B.jsx(Ps,{children:"Rule Cartoons"}),B.jsx(Ps,{children:"Structure"}),B.jsx(Ps,{children:"Steady State"}),B.jsx(Ps,{children:"Parameter Scan"}),B.jsx(Ps,{children:"Identifiability"})]}),B.jsxs(y4,{children:[B.jsx(Rs,{children:B.jsx(yZ,{results:t,model:e,visibleSpecies:i,onVisibleSpeciesChange:o})}),B.jsx(Rs,{children:B.jsx(pae,{model:e,results:t})}),B.jsx(Rs,{children:B.jsx(Iae,{model:e})}),B.jsx(Rs,{children:B.jsx(yae,{model:e})}),B.jsx(Rs,{children:B.jsx(bae,{model:e,onSimulate:r,onCancelSimulation:a,isSimulating:n})}),B.jsx(Rs,{children:B.jsx(Tae,{model:e})}),B.jsx(Rs,{children:B.jsx(jae,{model:e})})]})]})})},Fae=e=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:B.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),Uae=e=>B.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[B.jsx("circle",{cx:"12",cy:"12",r:"5"}),B.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),B.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),B.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),B.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),B.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),B.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),B.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),B.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),Gae=({onAboutClick:e})=>{const[t,r]=iP();return B.jsx("header",{className:"bg-white dark:bg-slate-800 border-b border-stone-200 dark:border-slate-700 shadow-sm sticky top-0 z-40",children:B.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:B.jsxs("div",{className:"flex justify-between items-center py-3",children:[B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",className:"text-primary",children:[B.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"currentColor",strokeWidth:"10"}),B.jsx("path",{d:"M25 50 A 25 25 0 0 1 75 50",fill:"none",stroke:"currentColor",strokeWidth:"8"}),B.jsx("path",{d:"M50 25 A 25 25 0 0 1 50 75",fill:"none",stroke:"currentColor",strokeWidth:"8"})]}),B.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"BioNetGen Playground"})]}),B.jsxs("div",{className:"flex items-center gap-4",children:[B.jsx(Nr,{onClick:e,variant:"ghost",children:"About"}),B.jsx("button",{onClick:r,className:"p-2 rounded-full text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700","aria-label":"Toggle theme",children:t==="light"?B.jsx(Fae,{className:"w-6 h-6"}):B.jsx(Uae,{className:"w-6 h-6"})})]})]})})})},qae=e=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),ZN=e=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),Vae={success:B.jsx(qae,{className:"w-6 h-6 text-green-500"}),error:B.jsx(ZN,{className:"w-6 h-6 text-red-500"}),warning:B.jsx(ZN,{className:"w-6 h-6 text-yellow-500"}),info:B.jsx(G3,{className:"w-6 h-6 text-blue-500"})},$ae={success:"bg-green-100 dark:bg-green-900/50 border-green-400 dark:border-green-600 text-green-800 dark:text-green-200",error:"bg-red-100 dark:bg-red-900/50 border-red-400 dark:border-red-600 text-red-800 dark:text-red-200",warning:"bg-yellow-100 dark:bg-yellow-900/50 border-yellow-400 dark:border-yellow-600 text-yellow-800 dark:text-yellow-200",info:"bg-blue-100 dark:bg-blue-900/50 border-blue-400 dark:border-blue-600 text-blue-800 dark:text-blue-200"},Yae=({status:e,onClose:t})=>(X.useEffect(()=>{const r=setTimeout(()=>{t()},5e3);return()=>clearTimeout(r)},[t,e]),B.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border shadow-lg ${$ae[e.type]} animate-fade-in-up`,children:[Vae[e.type],B.jsx("p",{className:"text-sm font-medium",children:e.message}),B.jsx("button",{onClick:t,className:"ml-auto -mx-1.5 -my-1.5 p-1.5 rounded-lg focus:ring-2 inline-flex h-8 w-8 hover:bg-black/10 dark:hover:bg-white/10","aria-label":"Dismiss",children:B.jsx(eP,{className:"w-5 h-5"})})]})),Hae=({isOpen:e,onClose:t})=>B.jsx(tP,{isOpen:e,onClose:t,title:"About BioNetGen Playground",children:B.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[B.jsx("p",{children:"This is an interactive web-based playground for the BioNetGen Language (BNGL), a language for specifying rule-based models of biochemical systems."}),B.jsx("p",{children:"You can write, edit, and simulate BNGL models directly in your browser. The application provides visualizations of simulation results and the underlying reaction network."}),B.jsx("h4",{children:"Features:"}),B.jsxs("ul",{children:[B.jsx("li",{children:"BNGL code editor with example gallery."}),B.jsx("li",{children:"ODE-based simulation performed in a web worker."}),B.jsx("li",{children:"Interactive time-course plots of species concentrations."}),B.jsx("li",{children:"Network graph visualization of species and reactions."}),B.jsx("li",{children:"Steady-state finder that automatically stops when concentrations converge."})]}),B.jsx("p",{children:"This project is for educational and demonstration purposes. The BNGL parser and simulator are simplified and may not support all features of the official BioNetGen software."})]})});function Xae(){const[e,t]=X.useState(nP),[r,n]=X.useState(null),[a,i]=X.useState(null),[o,l]=X.useState(null),[u,c]=X.useState(!1),[h,d]=X.useState(!1),v=X.useRef(null),p=X.useRef(null),m=X.useCallback(async()=>{i(null),v.current&&v.current.abort("Parse request replaced.");const S=new AbortController;v.current=S;try{const D=await Un.parse(e,{signal:S.signal,description:"Parse BNGL model"});n(D),l({type:"success",message:"Model parsed successfully!"})}catch(D){if(D instanceof DOMException&&D.name==="AbortError")return;n(null);const R=D instanceof Error?D.message:"An unknown error occurred.";l({type:"error",message:`Parsing failed: ${R}`})}finally{v.current===S&&(v.current=null)}},[e]),b=X.useCallback(async S=>{if(!r){l({type:"warning",message:"Please parse a model before simulating."});return}p.current&&p.current.abort("Simulation replaced.");const D=new AbortController;p.current=D,c(!0);try{const R=await Un.simulate(r,S,{signal:D.signal,description:`Simulation (${S.method})`});i(R),l({type:"success",message:`Simulation (${S.method}) completed.`})}catch(R){if(R instanceof DOMException&&R.name==="AbortError"){R.message.includes("cancelled by user")&&(l({type:"info",message:"Simulation cancelled."}),i(null));return}i(null);const L=R instanceof Error?R.message:"An unknown error occurred.";l({type:"error",message:`Simulation failed: ${L}`})}finally{p.current===D&&(p.current=null),c(!1)}},[r]),x=X.useCallback(()=>{p.current&&(p.current.abort("Simulation cancelled by user."),p.current=null)},[]),w=S=>{t(S),n(null),i(null)},T=()=>{l(null)};return B.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 font-sans",children:[B.jsx(Gae,{onAboutClick:()=>d(!0)}),B.jsxs("main",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[B.jsx("div",{className:"fixed top-20 right-8 z-50 w-full max-w-sm",children:o&&B.jsx(Yae,{status:o,onClose:T})}),B.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-full",children:[B.jsx("div",{className:"lg:h-[calc(100vh-120px)]",children:B.jsx(g4,{code:e,onCodeChange:w,onParse:m,onSimulate:b,onCancelSimulation:x,isSimulating:u,modelExists:!!r})}),B.jsx("div",{className:"lg:h-[calc(100vh-120px)] overflow-y-auto",children:B.jsx(zae,{model:r,results:a,onSimulate:b,isSimulating:u,onCancelSimulation:x})})]})]}),B.jsx(Hae,{isOpen:h,onClose:()=>d(!1)})]})}const V3=document.getElementById("root");if(!V3)throw new Error("Could not find root element to mount to");const Kae=s4.createRoot(V3);Kae.render(B.jsx(Xae,{}));
